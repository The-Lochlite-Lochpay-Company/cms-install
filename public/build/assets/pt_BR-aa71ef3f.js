import{V as oG}from"./app-7485cb55.js";var Wq={exports:{}};(function(Oa){(function(){var nr=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var n=typeof e;return n==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":n==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":n},oa=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},Bs=function(e,n){var o=Array.prototype.slice.call(e);return o.sort(n)},Ms=function(e,n){return Mo(function(o,r){return e.eq(n(o),n(r))})},Mo=function(e){return{eq:e}},ks=Mo(function(e,n){return e===n}),on=ks,Un=function(e){return Mo(function(n,o){if(n.length!==o.length)return!1;for(var r=n.length,c=0;c<r;c++)if(!e.eq(n[c],o[c]))return!1;return!0})},Xn=function(e,n){return Ms(Un(e),function(o){return Bs(o,n)})},uo=function(e){return Mo(function(n,o){var r=Object.keys(n),c=Object.keys(o);if(!Xn(on).eq(r,c))return!1;for(var u=r.length,m=0;m<u;m++){var y=r[m];if(!e.eq(n[y],o[y]))return!1}return!0})},rs=Mo(function(e,n){if(e===n)return!0;var o=nr(e),r=nr(n);return o!==r?!1:oa(o)?e===n:o==="array"?Un(rs).eq(e,n):o==="object"?uo(rs).eq(e,n):!1});const as=Object.getPrototypeOf,ts=(e,n,o)=>{var r;return o(e,n.prototype)?!0:((r=e.constructor)===null||r===void 0?void 0:r.name)===n.name},lr=e=>{const n=typeof e;return e===null?"null":n==="object"&&Array.isArray(e)?"array":n==="object"&&ts(e,String,(o,r)=>r.isPrototypeOf(o))?"string":n},fo=e=>n=>lr(n)===e,xt=e=>n=>typeof n===e,No=e=>n=>e===n,en=(e,n)=>wt(e)&&ts(e,n,(o,r)=>as(o)===r),ae=fo("string"),wt=fo("object"),ur=e=>en(e,Object),bt=fo("array"),Z=No(null),zt=xt("boolean"),go=No(void 0),gn=e=>e==null,Ne=e=>!gn(e),ue=xt("function"),Wo=xt("number"),Ae=(e,n)=>{if(bt(e)){for(let o=0,r=e.length;o<r;++o)if(!n(e[o]))return!1;return!0}return!1},ze=()=>{},C=(e,n)=>(...o)=>e(n.apply(null,o)),Ge=(e,n)=>o=>e(n(o)),Me=e=>()=>e,Yt=e=>e,Ot=(e,n)=>e===n;function he(e,...n){return(...o)=>{const r=n.concat(o);return e.apply(null,r)}}const ot=e=>n=>!e(n),Xt=e=>()=>{throw new Error(e)},vt=e=>e(),Dn=e=>{e()},we=Me(!1),Qe=Me(!0);class ${constructor(n,o){this.tag=n,this.value=o}static some(n){return new $(!0,n)}static none(){return $.singletonNone}fold(n,o){return this.tag?o(this.value):n()}isSome(){return this.tag}isNone(){return!this.tag}map(n){return this.tag?$.some(n(this.value)):$.none()}bind(n){return this.tag?n(this.value):$.none()}exists(n){return this.tag&&n(this.value)}forall(n){return!this.tag||n(this.value)}filter(n){return!this.tag||n(this.value)?this:$.none()}getOr(n){return this.tag?this.value:n}or(n){return this.tag?this:n}getOrThunk(n){return this.tag?this.value:n()}orThunk(n){return this.tag?this:n()}getOrDie(n){if(this.tag)return this.value;throw new Error(n??"Called getOrDie on None")}static from(n){return Ne(n)?$.some(n):$.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(n){this.tag&&n(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}$.singletonNone=new $(!1);const Go=Array.prototype.slice,xn=Array.prototype.indexOf,Jn=Array.prototype.push,Co=(e,n)=>xn.call(e,n),sa=(e,n)=>{const o=Co(e,n);return o===-1?$.none():$.some(o)},jt=(e,n)=>Co(e,n)>-1,jn=(e,n)=>{for(let o=0,r=e.length;o<r;o++){const c=e[o];if(n(c,o))return!0}return!1},Qt=(e,n)=>{const o=e.length,r=new Array(o);for(let c=0;c<o;c++){const u=e[c];r[c]=n(u,c)}return r},te=(e,n)=>{for(let o=0,r=e.length;o<r;o++){const c=e[o];n(c,o)}},Te=(e,n)=>{for(let o=e.length-1;o>=0;o--){const r=e[o];n(r,o)}},xe=(e,n)=>{const o=[],r=[];for(let c=0,u=e.length;c<u;c++){const m=e[c];(n(m,c)?o:r).push(m)}return{pass:o,fail:r}},be=(e,n)=>{const o=[];for(let r=0,c=e.length;r<c;r++){const u=e[r];n(u,r)&&o.push(u)}return o},st=(e,n,o)=>(Te(e,(r,c)=>{o=n(o,r,c)}),o),lt=(e,n,o)=>(te(e,(r,c)=>{o=n(o,r,c)}),o),Rn=(e,n,o)=>{for(let r=0,c=e.length;r<c;r++){const u=e[r];if(n(u,r))return $.some(u);if(o(u,r))break}return $.none()},Lt=(e,n)=>Rn(e,n,we),po=(e,n)=>{for(let o=0,r=e.length;o<r;o++){const c=e[o];if(n(c,o))return $.some(o)}return $.none()},hs=e=>{const n=[];for(let o=0,r=e.length;o<r;++o){if(!bt(e[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+e);Jn.apply(n,e[o])}return n},co=(e,n)=>hs(Qt(e,n)),zo=(e,n)=>{for(let o=0,r=e.length;o<r;++o){const c=e[o];if(n(c,o)!==!0)return!1}return!0},ho=e=>{const n=Go.call(e,0);return n.reverse(),n},cs=(e,n)=>be(e,o=>!jt(n,o)),eo=(e,n)=>{const o={};for(let r=0,c=e.length;r<c;r++){const u=e[r];o[String(u)]=n(u,r)}return o},Wn=(e,n)=>{const o=Go.call(e,0);return o.sort(n),o},Ko=(e,n)=>n>=0&&n<e.length?$.some(e[n]):$.none(),wn=e=>Ko(e,0),xo=e=>Ko(e,e.length-1),is=ue(Array.from)?Array.from:e=>Go.call(e),Vo=(e,n)=>{for(let o=0;o<e.length;o++){const r=n(e[o],o);if(r.isSome())return r}return $.none()},zr=(e,n)=>{const o=[],r=ue(n)?c=>jn(o,u=>n(u,c)):c=>jt(o,c);for(let c=0,u=e.length;c<u;c++){const m=e[c];r(m)||o.push(m)}return o},oo=Object.keys,Da=Object.hasOwnProperty,mt=(e,n)=>{const o=oo(e);for(let r=0,c=o.length;r<c;r++){const u=o[r],m=e[u];n(m,u)}},to=(e,n)=>dr(e,(o,r)=>({k:r,v:n(o,r)})),dr=(e,n)=>{const o={};return mt(e,(r,c)=>{const u=n(r,c);o[u.k]=u.v}),o},mr=e=>(n,o)=>{e[o]=n},Gr=(e,n,o,r)=>{mt(e,(c,u)=>{(n(c,u)?o:r)(c,u)})},Kr=(e,n)=>{const o={},r={};return Gr(e,n,mr(o),mr(r)),{t:o,f:r}},Io=(e,n)=>{const o={};return Gr(e,n,mr(o),ze),o},ha=(e,n)=>{const o=[];return mt(e,(r,c)=>{o.push(n(r,c))}),o},Dc=e=>ha(e,Yt),Uo=(e,n)=>fn(e,n)?$.from(e[n]):$.none(),fn=(e,n)=>Da.call(e,n),Ks=(e,n)=>fn(e,n)&&e[n]!==void 0&&e[n]!==null,nc=(e,n,o=rs)=>uo(o).eq(e,n),al=e=>{const n={};return te(e,o=>{n[o]={}}),oo(n)},cl=e=>e.length!==void 0,ys=Array.isArray,kr=e=>{if(ys(e))return e;{const n=[];for(let o=0,r=e.length;o<r;o++)n[o]=e[o];return n}},js=(e,n,o)=>{if(!e)return!1;if(o=o||e,cl(e)){for(let r=0,c=e.length;r<c;r++)if(n.call(o,e[r],r,e)===!1)return!1}else for(const r in e)if(fn(e,r)&&n.call(o,e[r],r,e)===!1)return!1;return!0},Ra=(e,n)=>{const o=[];return js(e,(r,c)=>{o.push(n(r,c,e))}),o},yi=(e,n)=>{const o=[];return js(e,(r,c)=>{(!n||n(r,c,e))&&o.push(r)}),o},Or=(e,n)=>{if(e){for(let o=0,r=e.length;o<r;o++)if(e[o]===n)return o}return-1},ce=(e,n,o,r)=>{let c=go(o)?e[0]:o;for(let u=0;u<e.length;u++)c=n.call(r,c,e[u],u);return c},ne=(e,n,o)=>{for(let r=0,c=e.length;r<c;r++)if(n.call(o,e[r],r,e))return r;return-1},Pe=e=>e[e.length-1],Ve=e=>{let n=!1,o;return(...r)=>(n||(n=!0,o=e.apply(null,r)),o)},sn=(e,n,o,r)=>{const c=e.isiOS()&&/ipad/i.test(o)===!0,u=e.isiOS()&&!c,m=e.isiOS()||e.isAndroid(),y=m||r("(pointer:coarse)"),v=c||!u&&m&&r("(min-device-width:768px)"),T=u||m&&!v,R=n.isSafari()&&e.isiOS()&&/safari/i.test(o)===!1,M=!T&&!v&&!R;return{isiPad:Me(c),isiPhone:Me(u),isTablet:Me(v),isPhone:Me(T),isTouch:Me(y),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:Me(R),isDesktop:Me(M)}},Tn=(e,n)=>{for(let o=0;o<e.length;o++){const r=e[o];if(r.test(n))return r}},Bn=(e,n)=>{const o=Tn(e,n);if(!o)return{major:0,minor:0};const r=c=>Number(n.replace(o,"$"+c));return $n(r(1),r(2))},or=(e,n)=>{const o=String(n).toLowerCase();return e.length===0?ge():Bn(e,o)},ge=()=>$n(0,0),$n=(e,n)=>({major:e,minor:n}),Ys={nu:$n,detect:or,unknown:ge},gr=(e,n)=>Vo(n.brands,o=>{const r=o.brand.toLowerCase();return Lt(e,c=>{var u;return r===((u=c.brand)===null||u===void 0?void 0:u.toLowerCase())}).map(c=>({current:c.name,version:Ys.nu(parseInt(o.version,10),0)}))}),Ma=(e,n)=>{const o=String(n).toLowerCase();return Lt(e,r=>r.search(o))},Zo=(e,n)=>Ma(e,n).map(o=>{const r=Ys.detect(o.versionRegexes,n);return{current:o.name,version:r}}),Ii=(e,n)=>Ma(e,n).map(o=>{const r=Ys.detect(o.versionRegexes,n);return{current:o.name,version:r}}),Yr=(e,n)=>e.substring(n),Na=(e,n,o)=>n===""||e.length>=n.length&&e.substr(o,o+n.length)===n,Ns=(e,n)=>ns(e,n)?Yr(e,n.length):e,Yo=(e,n,o=0,r)=>{const c=e.indexOf(n,o);return c!==-1?go(r)?!0:c+n.length<=r:!1},ns=(e,n)=>Na(e,n,0),ra=(e,n)=>Na(e,n,e.length-n.length),aa=e=>n=>n.replace(e,""),Dr=aa(/^\s+|\s+$/g),Xc=aa(/^\s+/g),Rc=aa(/\s+$/g),So=e=>e.length>0,ca=e=>!So(e),Ur=(e,n)=>n<=0?"":new Array(n+1).join(e),Jc=(e,n=10)=>{const o=parseInt(e,n);return isNaN(o)?$.none():$.some(o)},oc=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Rr=e=>n=>Yo(n,e),$s=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>Yo(e,"edge/")&&Yo(e,"chrome")&&Yo(e,"safari")&&Yo(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,oc],search:e=>Yo(e,"chrome")&&!Yo(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>Yo(e,"msie")||Yo(e,"trident")},{name:"Opera",versionRegexes:[oc,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Rr("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Rr("firefox")},{name:"Safari",versionRegexes:[oc,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(Yo(e,"safari")||Yo(e,"mobile/"))&&Yo(e,"applewebkit")}],gf=[{name:"Windows",search:Rr("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>Yo(e,"iphone")||Yo(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Rr("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Rr("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Rr("linux"),versionRegexes:[]},{name:"Solaris",search:Rr("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Rr("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Rr("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Wc={browsers:Me($s),oses:Me(gf)},jo="Edge",Pa="Chromium",ya="IE",wr="Opera",Pl="Firefox",Ba="Safari",Ha=()=>Qc({current:void 0,version:Ys.unknown()}),Qc=e=>{const n=e.current,o=e.version,r=c=>()=>n===c;return{current:n,version:o,isEdge:r(jo),isChromium:r(Pa),isIE:r(ya),isOpera:r(wr),isFirefox:r(Pl),isSafari:r(Ba)}},Mc={unknown:Ha,nu:Qc,edge:Me(jo),chromium:Me(Pa),ie:Me(ya),opera:Me(wr),firefox:Me(Pl),safari:Me(Ba)},au="Windows",il="iOS",Fi="Android",sc="Linux",Mr="macOS",cu="Solaris",iu="FreeBSD",lu="ChromeOS",uu=()=>_r({current:void 0,version:Ys.unknown()}),_r=e=>{const n=e.current,o=e.version,r=c=>()=>n===c;return{current:n,version:o,isWindows:r(au),isiOS:r(il),isAndroid:r(Fi),isMacOS:r(Mr),isLinux:r(sc),isSolaris:r(cu),isFreeBSD:r(iu),isChromeOS:r(lu)}},yc={unknown:uu,nu:_r,windows:Me(au),ios:Me(il),android:Me(Fi),linux:Me(sc),macos:Me(Mr),solaris:Me(cu),freebsd:Me(iu),chromeos:Me(lu)},se={detect:(e,n,o)=>{const r=Wc.browsers(),c=Wc.oses(),u=n.bind(v=>gr(r,v)).orThunk(()=>Zo(r,e)).fold(Mc.unknown,Mc.nu),m=Ii(c,e).fold(yc.unknown,yc.nu),y=sn(m,u,e,o);return{browser:u,os:m,deviceType:y}}},Ce=e=>window.matchMedia(e).matches;let Ye=Ve(()=>se.detect(window.navigator.userAgent,$.from(window.navigator.userAgentData),Ce));const ft=()=>Ye(),Ht=window.navigator.userAgent,so=ft(),fs=so.browser,bo=so.os,Pt=so.deviceType,sr=Ht.indexOf("Windows Phone")!==-1,rn={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:fs.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!fs.isIE(),windowsPhone:sr,browser:{current:fs.current,version:fs.version,isChromium:fs.isChromium,isEdge:fs.isEdge,isFirefox:fs.isFirefox,isIE:fs.isIE,isOpera:fs.isOpera,isSafari:fs.isSafari},os:{current:bo.current,version:bo.version,isAndroid:bo.isAndroid,isChromeOS:bo.isChromeOS,isFreeBSD:bo.isFreeBSD,isiOS:bo.isiOS,isLinux:bo.isLinux,isMacOS:bo.isMacOS,isSolaris:bo.isSolaris,isWindows:bo.isWindows},deviceType:{isDesktop:Pt.isDesktop,isiPad:Pt.isiPad,isiPhone:Pt.isiPhone,isPhone:Pt.isPhone,isTablet:Pt.isTablet,isTouch:Pt.isTouch,isWebView:Pt.isWebView}},Nr=/^\s*|\s*$/g,bi=e=>gn(e)?"":(""+e).replace(Nr,""),P=(e,n)=>n?n==="array"&&ys(e)?!0:typeof e===n:e!==void 0,K=(e,n,o={})=>{const r=ae(e)?e.split(n||","):e||[];let c=r.length;for(;c--;)o[r[c]]={};return o},le=fn,Oe=(e,...n)=>{for(let o=0;o<n.length;o++){const r=n[o];for(const c in r)if(fn(r,c)){const u=r[c];u!==void 0&&(e[c]=u)}}return e},Je=function(e,n,o,r){r=r||this,e&&(o&&(e=e[o]),js(e,(c,u)=>n.call(r,c,u,o)===!1?!1:(Je(c,n,o,r),!0)))},ut={trim:bi,isArray:ys,is:P,toArray:kr,makeMap:K,each:js,map:Ra,grep:yi,inArray:Or,hasOwn:le,extend:Oe,walk:Je,resolve:(e,n=window)=>{const o=e.split(".");for(let r=0,c=o.length;r<c&&(n=n[o[r]],!!n);r++);return n},explode:(e,n)=>bt(e)?e:e===""?[]:Ra(e.split(n||","),bi),_addCacheSuffix:e=>{const n=rn.cacheSuffix;return n&&(e+=(e.indexOf("?")===-1?"?":"&")+n),e}},As=(e,n,o=Ot)=>e.exists(r=>o(r,n)),ba=(e,n,o=Ot)=>Zn(e,n,o).getOr(e.isNone()&&n.isNone()),rc=e=>{const n=[],o=r=>{n.push(r)};for(let r=0;r<e.length;r++)e[r].each(o);return n},Zn=(e,n,o)=>e.isSome()&&n.isSome()?$.some(o(e.getOrDie(),n.getOrDie())):$.none(),ac=(e,n,o,r)=>e.isSome()&&n.isSome()&&o.isSome()?$.some(r(e.getOrDie(),n.getOrDie(),o.getOrDie())):$.none(),fr=(e,n)=>e?$.some(n):$.none(),Yu=typeof window<"u"?window:Function("return this;")(),Cs=(e,n)=>{let o=n??Yu;for(let r=0;r<e.length&&o!==void 0&&o!==null;++r)o=o[e[r]];return o},ll=(e,n)=>{const o=e.split(".");return Cs(o,n)},am=(e,n)=>ll(e,n),Kh=(e,n)=>{const o=am(e,n);if(o==null)throw new Error(e+" not available on this browser");return o},Xs=Object.getPrototypeOf,cm=e=>Kh("HTMLElement",e),Cr=e=>{const n=ll("ownerDocument.defaultView",e);return wt(e)&&(cm(n).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(Xs(e).constructor.name))},va=8,Li=9,vi=11,Md=1,Va=3,vo=e=>e.dom.nodeName.toLowerCase(),ul=e=>e.dom.nodeType,ki=e=>n=>ul(n)===e,Yh=e=>ul(e)===va||vo(e)==="#comment",Xr=e=>Ua(e)&&Cr(e.dom),Ua=ki(Md),Jr=ki(Va),pg=ki(Li),pf=ki(vi),cc=e=>n=>Ua(n)&&vo(n)===e,hg=(e,n,o)=>{if(ae(o)||zt(o)||Wo(o))e.setAttribute(n,o+"");else throw console.error("Invalid call to Attribute.set. Key ",n,":: Value ",o,":: Element ",e),new Error("Attribute value was not simple")},Ws=(e,n,o)=>{hg(e.dom,n,o)},Hi=(e,n)=>{const o=e.dom;mt(n,(r,c)=>{hg(o,c,r)})},ic=(e,n)=>{const o=e.dom.getAttribute(n);return o===null?void 0:o},Sr=(e,n)=>$.from(ic(e,n)),bc=(e,n)=>{const o=e.dom;return o&&o.hasAttribute?o.hasAttribute(n):!1},xr=(e,n)=>{e.dom.removeAttribute(n)},yg=e=>{const n=e.dom.attributes;return n==null||n.length===0},du=e=>lt(e.dom.attributes,(n,o)=>(n[o.name]=o.value,n),{}),fu=(e,n)=>{const o=ic(e,n);return o===void 0||o===""?[]:o.split(" ")},hf=(e,n,o)=>{const c=fu(e,n).concat([o]);return Ws(e,n,c.join(" ")),!0},mu=(e,n,o)=>{const r=be(fu(e,n),c=>c!==o);return r.length>0?Ws(e,n,r.join(" ")):xr(e,n),!1},wi=e=>e.dom.classList!==void 0,yf=e=>fu(e,"class"),Tr=(e,n)=>hf(e,"class",n),bf=(e,n)=>mu(e,"class",n),bg=(e,n)=>jt(yf(e),n)?bf(e,n):Tr(e,n),dl=(e,n)=>{wi(e)?e.dom.classList.add(n):Tr(e,n)},vg=e=>{(wi(e)?e.dom.classList:yf(e)).length===0&&xr(e,"class")},gu=(e,n)=>{wi(e)?e.dom.classList.remove(n):bf(e,n),vg(e)},kg=(e,n)=>{const o=wi(e)?e.dom.classList.toggle(n):bg(e,n);return vg(e),o},Bl=(e,n)=>wi(e)&&e.dom.classList.contains(n),wg=(e,n)=>{const r=(n||document).createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1){const c="HTML does not have a single root node";throw console.error(c,e),new Error(c)}return pu(r.childNodes[0])},vf=(e,n)=>{const r=(n||document).createElement(e);return pu(r)},im=(e,n)=>{const r=(n||document).createTextNode(e);return pu(r)},pu=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},ie={fromHtml:wg,fromTag:vf,fromText:im,fromDom:pu,fromPoint:(e,n,o)=>$.from(e.dom.elementFromPoint(n,o)).map(pu)},$l=(e,n)=>{const o=[],r=u=>(o.push(u),n(u));let c=n(e);do c=c.bind(r);while(c.isSome());return o},fl=(e,n)=>{const o=e.dom;if(o.nodeType!==Md)return!1;{const r=o;if(r.matches!==void 0)return r.matches(n);if(r.msMatchesSelector!==void 0)return r.msMatchesSelector(n);if(r.webkitMatchesSelector!==void 0)return r.webkitMatchesSelector(n);if(r.mozMatchesSelector!==void 0)return r.mozMatchesSelector(n);throw new Error("Browser lacks native selectors")}},_g=e=>e.nodeType!==Md&&e.nodeType!==Li&&e.nodeType!==vi||e.childElementCount===0,Xh=(e,n)=>{const o=n===void 0?document:n.dom;return _g(o)?[]:Qt(o.querySelectorAll(e),ie.fromDom)},hu=(e,n)=>{const o=n===void 0?document:n.dom;return _g(o)?$.none():$.from(o.querySelector(e)).map(ie.fromDom)},Qn=(e,n)=>e.dom===n.dom,Pr=(e,n)=>{const o=e.dom,r=n.dom;return o===r?!1:o.contains(r)},_i=e=>ie.fromDom(e.dom.ownerDocument),yu=e=>pg(e)?e:_i(e),kf=e=>ie.fromDom(yu(e).dom.documentElement),Nd=e=>ie.fromDom(yu(e).dom.defaultView),ja=e=>$.from(e.dom.parentNode).map(ie.fromDom),wf=e=>$.from(e.dom.parentElement).map(ie.fromDom),Il=(e,n)=>{const o=ue(n)?n:we;let r=e.dom;const c=[];for(;r.parentNode!==null&&r.parentNode!==void 0;){const u=r.parentNode,m=ie.fromDom(u);if(c.push(m),o(m)===!0)break;r=u}return c},_f=e=>{const n=o=>be(o,r=>!Qn(e,r));return ja(e).map(ia).map(n).getOr([])},Fl=e=>$.from(e.dom.previousSibling).map(ie.fromDom),vc=e=>$.from(e.dom.nextSibling).map(ie.fromDom),Cg=e=>ho($l(e,Fl)),Pd=e=>$l(e,vc),ia=e=>Qt(e.dom.childNodes,ie.fromDom),Nc=(e,n)=>{const o=e.dom.childNodes;return $.from(o[n]).map(ie.fromDom)},lc=e=>Nc(e,0),Xu=e=>Nc(e,e.dom.childNodes.length-1),Bd=e=>e.dom.childNodes.length,Sg=e=>{const n=e.dom.head;if(n==null)throw new Error("Head is not available yet");return ie.fromDom(n)},$d=e=>pf(e)&&Ne(e.dom.host),Vi=e=>ie.fromDom(e.dom.getRootNode()),Cf=e=>$d(e)?e:Sg(yu(e)),Ap=e=>$d(e)?e:ie.fromDom(yu(e).dom.body),xg=e=>{const n=Vi(e);return $d(n)?$.some(n):$.none()},Ob=e=>ie.fromDom(e.dom.host),um=e=>{if(Ne(e.target)){const n=ie.fromDom(e.target);if(Ua(n)&&Id(n)&&e.composed&&e.composedPath){const o=e.composedPath();if(o)return wn(o)}}return $.from(e.target)},Id=e=>Ne(e.dom.shadowRoot),Ju=e=>{const n=Jr(e)?e.dom.parentNode:e.dom;if(n==null||n.ownerDocument===null)return!1;const o=n.ownerDocument;return xg(ie.fromDom(n)).fold(()=>o.body.contains(n),Ge(Ju,Ob))};var Fd=(e,n,o,r,c)=>e(o,r)?$.some(o):ue(c)&&c(o)?$.none():n(o,r,c);const Zs=(e,n,o)=>{let r=e.dom;const c=ue(o)?o:we;for(;r.parentNode;){r=r.parentNode;const u=ie.fromDom(r);if(n(u))return $.some(u);if(c(u))break}return $.none()},Js=(e,n,o)=>Fd((c,u)=>u(c),Zs,e,n,o),ei=(e,n)=>{const o=e.dom;return o.parentNode?Qu(ie.fromDom(o.parentNode),r=>!Qn(e,r)&&n(r)):$.none()},Qu=(e,n)=>{const o=c=>n(ie.fromDom(c));return Lt(e.dom.childNodes,o).map(ie.fromDom)},Tg=(e,n)=>{const o=r=>{for(let c=0;c<r.childNodes.length;c++){const u=ie.fromDom(r.childNodes[c]);if(n(u))return $.some(u);const m=o(r.childNodes[c]);if(m.isSome())return m}return $.none()};return o(e.dom)},jr=(e,n,o)=>Zs(e,r=>fl(r,n),o),tn=(e,n)=>hu(n,e),Ll=(e,n,o)=>Fd((c,u)=>fl(c,u),jr,e,n,o),dm=e=>Ll(e,"[contenteditable]"),ka=(e,n=!1)=>Ju(e)?e.dom.isContentEditable:dm(e).fold(Me(n),o=>os(o)==="true"),os=e=>e.dom.contentEditable,bu=e=>e.style!==void 0&&ue(e.style.getPropertyValue),Eg=(e,n,o)=>{if(!ae(o))throw console.error("Invalid call to CSS.set. Property ",n,":: Value ",o,":: Element ",e),new Error("CSS value must be a string: "+o);bu(e)&&e.style.setProperty(n,o)},Ld=(e,n)=>{bu(e)&&e.style.removeProperty(n)},zp=(e,n,o)=>{const r=e.dom;Eg(r,n,o)},Vn=(e,n)=>{const o=e.dom;mt(n,(r,c)=>{Eg(o,c,r)})},Wr=(e,n)=>{const o=e.dom,c=window.getComputedStyle(o).getPropertyValue(n);return c===""&&!Ju(e)?ed(o,n):c},ed=(e,n)=>bu(e)?e.style.getPropertyValue(n):"",$a=(e,n)=>{const o=e.dom,r=ed(o,n);return $.from(r).filter(c=>c.length>0)},kc=e=>{const n={},o=e.dom;if(bu(o))for(let r=0;r<o.style.length;r++){const c=o.style.item(r);n[c]=o.style[c]}return n},ti=(e,n)=>{const o=e.dom;Ld(o,n),As(Sr(e,"style").map(Dr),"")&&xr(e,"style")},la=e=>e.dom.offsetWidth,uc=(e,n)=>{ja(e).each(r=>{r.dom.insertBefore(n.dom,e.dom)})},Zc=(e,n)=>{vc(e).fold(()=>{ja(e).each(c=>{rr(c,n)})},r=>{uc(r,n)})},fm=(e,n)=>{lc(e).fold(()=>{rr(e,n)},r=>{e.dom.insertBefore(n.dom,r.dom)})},rr=(e,n)=>{e.dom.appendChild(n.dom)},td=(e,n)=>{uc(e,n),rr(n,e)},pr=(e,n)=>{te(n,(o,r)=>{const c=r===0?e:n[r-1];Zc(c,o)})},vu=(e,n)=>{te(n,o=>{rr(e,o)})},nd=e=>{e.dom.textContent="",te(ia(e),n=>{bs(n)})},bs=e=>{const n=e.dom;n.parentNode!==null&&n.parentNode.removeChild(n)},Ci=e=>{const n=ia(e);n.length>0&&pr(e,n),bs(e)},Op=(e,n)=>{const r=(n||document).createElement("div");return r.innerHTML=e,ia(ie.fromDom(r))},Hl=e=>Qt(e,ie.fromDom),zs=e=>e.dom.innerHTML,ku=(e,n)=>{const r=_i(e).dom,c=ie.fromDom(r.createDocumentFragment()),u=Op(n,r);vu(c,u),nd(e),rr(e,c)},Pc=e=>{const n=ie.fromTag("div"),o=ie.fromDom(e.dom.cloneNode(!0));return rr(n,o),zs(n)},ro=(e,n,o,r,c,u,m)=>({target:e,x:n,y:o,stop:r,prevent:c,kill:u,raw:m}),od=e=>{const n=ie.fromDom(um(e).getOr(e.target)),o=()=>e.stopPropagation(),r=()=>e.preventDefault(),c=C(r,o);return ro(n,e.clientX,e.clientY,o,r,c,e)},Sf=(e,n)=>o=>{e(o)&&n(od(o))},mm=(e,n,o,r,c)=>{const u=Sf(o,r);return e.dom.addEventListener(n,u,c),{unbind:he(D,e,n,u,c)}},S=(e,n,o,r)=>mm(e,n,o,r,!1),D=(e,n,o,r)=>{e.dom.removeEventListener(n,o,r)},L=(e,n)=>({left:e,top:n,translate:(r,c)=>L(e+r,n+c)}),oe=L,me=e=>{const n=e.getBoundingClientRect();return oe(n.left,n.top)},nt=(e,n)=>e!==void 0?e:n!==void 0?n:0,bn=e=>{const n=e.dom.ownerDocument,o=n.body,r=n.defaultView,c=n.documentElement;if(o===e.dom)return oe(o.offsetLeft,o.offsetTop);const u=nt(r==null?void 0:r.pageYOffset,c.scrollTop),m=nt(r==null?void 0:r.pageXOffset,c.scrollLeft),y=nt(c.clientTop,o.clientTop),v=nt(c.clientLeft,o.clientLeft);return qn(e).translate(m-v,u-y)},qn=e=>{const n=e.dom,r=n.ownerDocument.body;return r===n?oe(r.offsetLeft,r.offsetTop):Ju(e)?me(n):oe(0,0)},_n=e=>{const n=e!==void 0?e.dom:document,o=n.body.scrollLeft||n.documentElement.scrollLeft,r=n.body.scrollTop||n.documentElement.scrollTop;return oe(o,r)},vn=(e,n,o)=>{const c=(o!==void 0?o.dom:document).defaultView;c&&c.scrollTo(e,n)},Os=(e,n)=>{ft().browser.isSafari()&&ue(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(n)},Er=e=>{const n=e===void 0?window:e;return ft().browser.isFirefox()?$.none():$.from(n.visualViewport)},ni=(e,n,o,r)=>({x:e,y:n,width:o,height:r,right:e+o,bottom:n+r}),Vl=e=>{const n=e===void 0?window:e,o=n.document,r=_n(ie.fromDom(o));return Er(n).fold(()=>{const c=n.document.documentElement,u=c.clientWidth,m=c.clientHeight;return ni(r.left,r.top,u,m)},c=>ni(Math.max(c.pageLeft,r.left),Math.max(c.pageTop,r.top),c.width,c.height))},xf=(e,n)=>be(ia(e),n),Ag=(e,n)=>{let o=[];return te(ia(e),r=>{n(r)&&(o=o.concat([r])),o=o.concat(Ag(r,n))}),o},dc=(e,n)=>Xh(n,e),zg=(e,n,o)=>Zs(e,n,o).isSome(),Db=(e,n)=>ei(e,n).isSome(),Dp=(e,n)=>Tg(e,n).isSome();class Wa{constructor(n,o){this.node=n,this.rootNode=o,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(n){return this.node=this.findSibling(this.node,"firstChild","nextSibling",n),this.node}prev(n){return this.node=this.findSibling(this.node,"lastChild","previousSibling",n),this.node}prev2(n){return this.node=this.findPreviousNode(this.node,n),this.node}findSibling(n,o,r,c){if(n){if(!c&&n[o])return n[o];if(n!==this.rootNode){let u=n[r];if(u)return u;for(let m=n.parentNode;m&&m!==this.rootNode;m=m.parentNode)if(u=m[r],u)return u}}}findPreviousNode(n,o){if(n){const r=n.previousSibling;if(this.rootNode&&r===this.rootNode)return;if(r){if(!o){for(let u=r.lastChild;u;u=u.lastChild)if(!u.lastChild)return u}return r}const c=n.parentNode;if(c&&c!==this.rootNode)return c}}}const Rp="\uFEFF",Qr=" ",Rb=e=>e===Rp,Bc=e=>e.replace(/\uFEFF/g,""),kn=/^[ \t\r\n]*$/,Si=e=>kn.test(e),gm=e=>{for(const n of e)if(!Rb(n))return!1;return!0},Og=e=>" \f	\v".indexOf(e)!==-1,Mp=e=>e===`
`||e==="\r",Jh=(e,n)=>n<e.length&&n>=0?Mp(e[n]):!1,ml=(e,n=4,o=!0,r=!0)=>{const c=Ur(" ",n),u=e.replace(/\t/g,c);return lt(u,(y,v)=>Og(v)||v===Qr?y.pcIsSpace||y.str===""&&o||y.str.length===u.length-1&&r||Jh(u,y.str.length+1)?{pcIsSpace:!1,str:y.str+Qr}:{pcIsSpace:!0,str:y.str+" "}:{pcIsSpace:Mp(v),str:y.str+v},{pcIsSpace:!1,str:""}).str},wu=e=>n=>!!n&&n.nodeType===e,Hd=e=>!!e&&!Object.getPrototypeOf(e),Nt=wu(1),Ui=e=>Nt(e)&&Xr(ie.fromDom(e)),Np=e=>Nt(e)&&e.namespaceURI==="http://www.w3.org/2000/svg",Tf=e=>{const n=e.toLowerCase();return o=>Ne(o)&&o.nodeName.toLowerCase()===n},gl=e=>{const n=e.map(o=>o.toLowerCase());return o=>{if(o&&o.nodeName){const r=o.nodeName.toLowerCase();return jt(n,r)}return!1}},Dg=(e,n)=>{const o=n.toLowerCase().split(" ");return r=>{if(Nt(r)){const c=r.ownerDocument.defaultView;if(c)for(let u=0;u<o.length;u++){const m=c.getComputedStyle(r,null);if((m?m.getPropertyValue(e):null)===o[u])return!0}}return!1}},Vd=e=>n=>Nt(n)&&n.hasAttribute(e),Ef=e=>Nt(e)&&e.hasAttribute("data-mce-bogus"),Rg=e=>Nt(e)&&e.getAttribute("data-mce-bogus")==="all",Ul=e=>Nt(e)&&e.tagName==="TABLE",Mb=e=>n=>!!(Ui(n)&&(n.contentEditable===e||n.getAttribute("data-mce-contenteditable")===e)),ar=gl(["textarea","input"]),ct=wu(3),wc=wu(4),jl=wu(7),wa=wu(8),pm=wu(9),ua=wu(11),Fo=Tf("br"),Pp=Tf("img"),Ke=Mb("true"),Lo=Mb("false"),Mg=gl(["td","th"]),ea=gl(["td","th","caption"]),_c=gl(["video","audio","object","embed"]),Nb=Tf("li"),xi=Tf("details"),f0=Tf("summary"),sd={skipBogus:!0,includeZwsp:!1,checkRootAsContent:!1},Pb=(e,n,o)=>{const r=ie.fromDom(n),c=ie.fromDom(e),u=o.getWhitespaceElements();return zg(c,y=>fn(u,vo(y)),he(Qn,r))},Ti=e=>Nt(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),Bo=(e,n)=>Nt(e)&&fn(n.getNonEmptyElements(),e.nodeName),_u=Vd("data-mce-bookmark"),Af=e=>wf(ie.fromDom(e)).exists(n=>!ka(n)),da=(e,n,o)=>Si(e.data)&&!Pb(e,n,o),Bp=(e,n,o,r)=>ct(e)&&!da(e,n,o)&&(!r.includeZwsp||!gm(e.data)),Cu=(e,n,o,r)=>ue(r.isContent)&&r.isContent(n)||Bo(n,e)||_u(n)||Ti(n)||Bp(n,o,e,r)||Lo(n)||Ke(n)&&Af(n),Su=(e,n,o)=>{const r={...sd,...o};if(r.checkRootAsContent&&Cu(e,n,n,r))return!1;let c=n.firstChild,u=0;if(!c)return!0;const m=new Wa(c,n);do{if(r.skipBogus&&Nt(c)){const y=c.getAttribute("data-mce-bogus");if(y){c=m.next(y==="all");continue}}if(wa(c)){c=m.next(!0);continue}if(Fo(c)){u++,c=m.next();continue}if(Cu(e,c,n,r))return!1;c=m.next()}while(c);return u<=1},Ps=(e,n,o)=>Su(e,n.dom,{checkRootAsContent:!0,...o}),hm=(e,n,o)=>Cu(e,n,n,{includeZwsp:sd.includeZwsp,...o}),Ee=e=>{let n=e;return{get:()=>n,set:c=>{n=c}}},Ei=e=>{const n=Ee($.none()),o=()=>n.get().each(e);return{clear:()=>{o(),n.set($.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:y=>{o(),n.set($.some(y))}}},ym=e=>{const n=Ee($.none()),o=()=>n.get().each(y=>clearInterval(y));return{clear:()=>{o(),n.set($.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:y=>{o(),n.set($.some(setInterval(y,e)))}}},Cc=()=>{const e=Ei(ze);return{...e,on:o=>e.get().each(o)}},Ai=e=>{const n=e.toLowerCase();return n==="svg"?"svg":n==="math"?"math":"html"},Br=e=>Ai(e)!=="html",hr=e=>Br(e.nodeName),m0=e=>Ai(e.nodeName),w=["svg","math"],A=()=>{const e=Cc(),n=()=>e.get().map(m0).getOr("html");return{track:c=>(hr(c)?e.set(c):e.get().exists(u=>!u.contains(c))&&e.clear(),n()),current:n,reset:()=>{e.clear()}}},F="data-mce-block",G=e=>be(oo(e),n=>!/[A-Z]/.test(n)),pe=e=>Qt(G(e),n=>{const o=CSS.escape(n);return`${o}:`+Qt(w,r=>`not(${r} ${o})`).join(":")}).join(","),Ze=(e,n)=>Ne(n.querySelector(e))?(n.setAttribute(F,"true"),n.getAttribute("data-mce-selected")==="inline-boundary"&&n.removeAttribute("data-mce-selected"),!0):(n.removeAttribute(F),!1),yt=(e,n)=>{const o=pe(e.getTransparentElements()),r=pe(e.getBlockElements());return be(n.querySelectorAll(o),c=>Ze(r,c))},Wt=(e,n,o)=>{var r;const c=o?"lastChild":"firstChild";for(let u=n[c];u;u=u[c])if(Su(e,u,{checkRootAsContent:!0})){(r=u.parentNode)===null||r===void 0||r.removeChild(u);return}},In=(e,n,o)=>{const r=document.createRange(),c=n.parentNode;if(c){r.setStartBefore(n),r.setEndBefore(o);const u=r.extractContents();Wt(e,u,!0),r.setStartAfter(o),r.setEndAfter(n);const m=r.extractContents();Wt(e,m,!1),Su(e,u,{checkRootAsContent:!0})||c.insertBefore(u,n),Su(e,o,{checkRootAsContent:!0})||c.insertBefore(o,n),Su(e,m,{checkRootAsContent:!0})||c.insertBefore(m,n),c.removeChild(n)}},Yn=(e,n,o)=>{const r=e.getBlockElements(),c=ie.fromDom(n),u=y=>vo(y)in r,m=y=>Qn(y,c);te(Hl(o),y=>{Zs(y,u,m).each(v=>{const T=xf(y,R=>u(R)&&!e.isValidChild(vo(v),vo(R)));if(T.length>0){const R=wf(v);te(T,M=>{Zs(M,u,m).each(B=>{In(e,B.dom,M.dom)})}),R.each(M=>yt(e,M.dom))}})})},Xo=(e,n,o)=>{te([...o,...xu(e,n)?[n]:[]],r=>te(dc(ie.fromDom(r),r.nodeName.toLowerCase()),c=>{Ng(e,c.dom)&&Ci(c)}))},Jo=(e,n)=>{const o=yt(e,n);Yn(e,n,o),Xo(e,n,o)},Qs=(e,n)=>{if(pl(e,n)){const o=pe(e.getBlockElements());Ze(o,n)}},zi=(e,n,o)=>{const r=u=>Qn(u,ie.fromDom(n)),c=Il(ie.fromDom(o),r);Ko(c,c.length-2).filter(Ua).fold(()=>Jo(e,n),u=>Jo(e,u.dom))},Za=e=>e.hasAttribute(F),Wl=(e,n)=>fn(e.getTransparentElements(),n),pl=(e,n)=>Nt(n)&&Wl(e,n.nodeName),xu=(e,n)=>pl(e,n)&&Za(n),Ng=(e,n)=>pl(e,n)&&!Za(n),ji=(e,n)=>n.type===1&&Wl(e,n.name)&&ae(n.attr(F)),bm=ft().browser,$p=e=>Lt(e,Ua),Ip=e=>bm.isFirefox()&&vo(e)==="table"?$p(ia(e)).filter(n=>vo(n)==="caption").bind(n=>$p(Pd(n)).map(o=>{const r=o.dom.offsetTop,c=n.dom.offsetTop,u=n.dom.offsetHeight;return r<=c?-u:0})).getOr(0):0,zf=(e,n)=>e.children&&jt(e.children,n),_a=(e,n,o)=>{let r=0,c=0;const u=e.ownerDocument;if(o=o||e,n){if(o===e&&n.getBoundingClientRect&&Wr(ie.fromDom(e),"position")==="static"){const y=n.getBoundingClientRect();return r=y.left+(u.documentElement.scrollLeft||e.scrollLeft)-u.documentElement.clientLeft,c=y.top+(u.documentElement.scrollTop||e.scrollTop)-u.documentElement.clientTop,{x:r,y:c}}let m=n;for(;m&&m!==o&&m.nodeType&&!zf(m,o);){const y=m;r+=y.offsetLeft||0,c+=y.offsetTop||0,m=y.offsetParent}for(m=n.parentNode;m&&m!==o&&m.nodeType&&!zf(m,o);)r-=m.scrollLeft||0,c-=m.scrollTop||0,m=m.parentNode;c+=Ip(ie.fromDom(n))}return{x:r,y:c}},Zl=(e,n={})=>{let o=0;const r={},c=ie.fromDom(e),u=yu(c),m=de=>{n.referrerPolicy=de},y=de=>{n.contentCssCors=de},v=de=>{rr(Cf(c),de)},T=de=>{const _e=Cf(c);tn(_e,"#"+de).each(bs)},R=de=>Uo(r,de).getOrThunk(()=>({id:"mce-u"+o++,passed:[],failed:[],count:0})),M=de=>new Promise((_e,ke)=>{let Re;const tt=ut._addCacheSuffix(de),kt=R(tt);r[tt]=kt,kt.count++;const $t=(Zt,un)=>{te(Zt,Dn),kt.status=un,kt.passed=[],kt.failed=[],Re&&(Re.onload=null,Re.onerror=null,Re=null)},je=()=>$t(kt.passed,2),$e=()=>$t(kt.failed,3);if(_e&&kt.passed.push(_e),ke&&kt.failed.push(ke),kt.status===1)return;if(kt.status===2){je();return}if(kt.status===3){$e();return}kt.status=1;const et=ie.fromTag("link",u.dom);Hi(et,{rel:"stylesheet",type:"text/css",id:kt.id}),n.contentCssCors&&Ws(et,"crossOrigin","anonymous"),n.referrerPolicy&&Ws(et,"referrerpolicy",n.referrerPolicy),Re=et.dom,Re.onload=je,Re.onerror=$e,v(et),Ws(et,"href",tt)}),B=(de,_e)=>{const ke=R(de);r[de]=ke,ke.count++;const Re=ie.fromTag("style",u.dom);Hi(Re,{rel:"stylesheet",type:"text/css",id:ke.id}),Re.dom.innerHTML=_e,v(Re)},W=de=>Promise.allSettled(Qt(de,ke=>M(ke).then(Me(ke)))).then(ke=>{const Re=xe(ke,tt=>tt.status==="fulfilled");return Re.fail.length>0?Promise.reject(Qt(Re.fail,tt=>tt.reason)):Qt(Re.pass,tt=>tt.value)}),X=de=>{const _e=ut._addCacheSuffix(de);Uo(r,_e).each(ke=>{--ke.count===0&&(delete r[_e],T(ke.id))})};return{load:M,loadRawCss:B,loadAll:W,unload:X,unloadRawCss:de=>{Uo(r,de).each(_e=>{--_e.count===0&&(delete r[de],T(_e.id))})},unloadAll:de=>{te(de,_e=>{X(_e)})},_setReferrerPolicy:m,_setContentCssCors:y}},Ds=(()=>{const e=new WeakMap;return{forElement:(o,r)=>{const u=Vi(o).dom;return $.from(e.get(u)).getOrThunk(()=>{const m=Zl(u,r);return e.set(u,m),m})}}})(),$c=e=>e.nodeName.toLowerCase()==="span",Ar=(e,n)=>Ne(e)&&(hm(n,e)||n.isInline(e.nodeName.toLowerCase())),Fp=(e,n,o)=>{const r=new Wa(e,n).prev(!1),c=new Wa(e,n).next(!1),u=go(r)||Ar(r,o),m=go(c)||Ar(c,o);return u&&m},Of=e=>$c(e)&&e.getAttribute("data-mce-type")==="bookmark",Df=(e,n,o)=>ct(e)&&e.data.length>0&&Fp(e,n,o),Wi=e=>Nt(e)?e.childNodes.length>0:!1,rd=e=>ua(e)||pm(e),Ud=(e,n,o,r)=>{var c;const u=r||n;if(Nt(n)&&Of(n))return n;const m=n.childNodes;for(let y=m.length-1;y>=0;y--)Ud(e,m[y],o,u);if(Nt(n)){const y=n.childNodes;y.length===1&&Of(y[0])&&((c=n.parentNode)===null||c===void 0||c.insertBefore(y[0],n))}return!rd(n)&&!hm(o,n)&&!Wi(n)&&!Df(n,u,o)&&e.remove(n),n},Tu=ut.makeMap,Qh=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,jd=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Lp=/[<>&\"\']/g,Pg=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,tC={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},ad={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},nC={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},g0=e=>{const n=ie.fromTag("div").dom;return n.innerHTML=e,n.textContent||n.innerText||e},$r=(e,n)=>{const o={};if(e){const r=e.split(",");n=n||10;for(let c=0;c<r.length;c+=2){const u=String.fromCharCode(parseInt(r[c],n));if(!ad[u]){const m="&"+r[c+1]+";";o[u]=m,o[m]=u}}return o}else return},Bb=$r("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),cd=(e,n)=>e.replace(n?Qh:jd,o=>ad[o]||o),vm=e=>(""+e).replace(Lp,n=>ad[n]||n),Rf=(e,n)=>e.replace(n?Qh:jd,o=>o.length>1?"&#"+((o.charCodeAt(0)-55296)*1024+(o.charCodeAt(1)-56320)+65536)+";":ad[o]||"&#"+o.charCodeAt(0)+";"),ql=(e,n,o)=>{const r=o||Bb;return e.replace(n?Qh:jd,c=>ad[c]||r[c]||c)},id={encodeRaw:cd,encodeAllRaw:vm,encodeNumeric:Rf,encodeNamed:ql,getEncodeFunc:(e,n)=>{const o=$r(n)||Bb,r=(m,y)=>m.replace(y?Qh:jd,v=>ad[v]!==void 0?ad[v]:o[v]!==void 0?o[v]:v.length>1?"&#"+((v.charCodeAt(0)-55296)*1024+(v.charCodeAt(1)-56320)+65536)+";":"&#"+v.charCodeAt(0)+";"),c=(m,y)=>ql(m,y,o),u=Tu(e.replace(/\+/g,","));return u.named&&u.numeric?r:u.named?n?c:ql:u.numeric?Rf:cd},decode:e=>e.replace(Pg,(n,o)=>o?(o.charAt(0).toLowerCase()==="x"?o=parseInt(o.substr(1),16):o=parseInt(o,10),o>65535?(o-=65536,String.fromCharCode(55296+(o>>10),56320+(o&1023))):tC[o]||String.fromCharCode(o)):nC[n]||Bb[n]||g0(n))},Ic=(e,n)=>(e=ut.trim(e),e?e.split(n||" "):[]),ty=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),p0=e=>wt(e)&&e.source&&Object.prototype.toString.call(e)==="[object RegExp]",ny=e=>{const n=o=>bt(o)?Qt(o,n):p0(o)?new RegExp(o.source,o.flags):wt(o)?to(o,n):o;return n(e)},oy=e=>{const n=/^(~)?(.+)$/;return co(Ic(e,","),o=>{const r=n.exec(o);if(r){const u=r[1]==="~"?"span":"div",m=r[2];return[{cloneName:u,name:m}]}else return[]})},h0=e=>Object.freeze(["id","accesskey","class","dir","lang","style","tabindex","title","role",...e!=="html4"?["contenteditable","contextmenu","draggable","dropzone","hidden","spellcheck","translate","itemprop","itemscope","itemtype"]:[],...e!=="html5-strict"?["xml:lang"]:[]]),Bg=e=>{let n,o;n="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",o="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(n+=" article aside details dialog figure main header footer hgroup section nav "+"a ins del canvas map",o+=" audio canvas command data datalist mark meter output picture progress time wbr video ruby bdi keygen svg"),e!=="html5-strict"&&(o=[o,"acronym applet basefont big font strike tt"].join(" "),n=[n,"center dir isindex noframes"].join(" "));const r=[n,o].join(" ");return{blockContent:n,phrasingContent:o,flowContent:r}},ld=e=>{const{blockContent:n,phrasingContent:o,flowContent:r}=Bg(e),c=u=>Object.freeze(u.split(" "));return Object.freeze({blockContent:c(n),phrasingContent:c(o),flowContent:c(r)})},oi={html4:Ve(()=>ld("html4")),html5:Ve(()=>ld("html5")),"html5-strict":Ve(()=>ld("html5-strict"))},Kl=(e,n)=>{const{blockContent:o,phrasingContent:r,flowContent:c}=oi[e]();return n==="blocks"?$.some(o):n==="phrasing"?$.some(r):n==="flow"?$.some(c):$.none()},km=e=>{const n=h0(e),{phrasingContent:o,flowContent:r}=Bg(e),c={},u=(v,T,R)=>{c[v]={attributes:eo(T,Me({})),attributesOrder:T,children:eo(R,Me({}))}},m=(v,T="",R="")=>{const M=Ic(R),B=Ic(v);let W=B.length;const X=[...n,...Ic(T)];for(;W--;)u(B[W],X.slice(),M)},y=(v,T)=>{const R=Ic(v),M=Ic(T);let B=R.length;for(;B--;){const W=c[R[B]];for(let X=0,q=M.length;X<q;X++)W.attributes[M[X]]={},W.attributesOrder.push(M[X])}};return e!=="html5-strict"&&(te(Ic("acronym applet basefont big font strike tt"),R=>{m(R,"",o)}),te(Ic("center dir isindex noframes"),R=>{m(R,"",r)})),m("html","manifest","head body"),m("head","","base command link meta noscript script style title"),m("title hr noscript br"),m("base","href target"),m("link","href rel media hreflang type sizes hreflang"),m("meta","name http-equiv content charset"),m("style","media type scoped"),m("script","src async defer type charset"),m("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",r),m("dd div","",r),m("address dt caption","",e==="html4"?o:r),m("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",o),m("blockquote","cite",r),m("ol","reversed start type","li"),m("ul","","li"),m("li","value",r),m("dl","","dt dd"),m("a","href target rel media hreflang type",e==="html4"?o:r),m("q","cite",o),m("ins del","cite datetime",r),m("img","src sizes srcset alt usemap ismap width height"),m("iframe","src name width height",r),m("embed","src type width height"),m("object","data type typemustmatch name usemap form width height",[r,"param"].join(" ")),m("param","name value"),m("map","name",[r,"area"].join(" ")),m("area","alt coords shape href target rel media hreflang type"),m("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),m("colgroup","span","col"),m("col","span"),m("tbody thead tfoot","","tr"),m("tr","","td th"),m("td","colspan rowspan headers",r),m("th","colspan rowspan headers scope abbr",r),m("form","accept-charset action autocomplete enctype method name novalidate target",r),m("fieldset","disabled form name",[r,"legend"].join(" ")),m("label","form for",o),m("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),m("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?r:o),m("select","disabled form multiple name required size","option optgroup"),m("optgroup","disabled label","option"),m("option","disabled label selected value"),m("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),m("menu","type label",[r,"li"].join(" ")),m("noscript","",r),e!=="html4"&&(m("wbr"),m("ruby","",[o,"rt rp"].join(" ")),m("figcaption","",r),m("mark rt rp bdi","",o),m("summary","",[o,"h1 h2 h3 h4 h5 h6"].join(" ")),m("canvas","width height",r),m("data","value",o),m("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[r,"track source"].join(" ")),m("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[r,"track source"].join(" ")),m("picture","","img source"),m("source","src srcset type media sizes"),m("track","kind src srclang label default"),m("datalist","",[o,"option"].join(" ")),m("article section nav aside main header footer","",r),m("hgroup","","h1 h2 h3 h4 h5 h6"),m("figure","",[r,"figcaption"].join(" ")),m("time","datetime",o),m("dialog","open",r),m("command","type label icon disabled checked radiogroup command"),m("output","for form name",o),m("progress","value max",o),m("meter","value min max low high optimum",o),m("details","open",[r,"summary"].join(" ")),m("keygen","autofocus challenge disabled form keytype name"),u("svg","id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform".split(" "),[])),e!=="html5-strict"&&(y("script","language xml:space"),y("style","xml:space"),y("object","declare classid code codebase codetype archive standby align border hspace vspace"),y("embed","align name hspace vspace"),y("param","valuetype type"),y("a","charset name rev shape coords"),y("br","clear"),y("applet","codebase archive code object alt name width height align hspace vspace"),y("img","name longdesc align border hspace vspace"),y("iframe","longdesc frameborder marginwidth marginheight scrolling align"),y("font basefont","size color face"),y("input","usemap align"),y("select"),y("textarea"),y("h1 h2 h3 h4 h5 h6 div p legend caption","align"),y("ul","type compact"),y("li","type"),y("ol dl menu dir","compact"),y("pre","width xml:space"),y("hr","align noshade size width"),y("isindex","prompt"),y("table","summary width frame rules cellspacing cellpadding align bgcolor"),y("col","width align char charoff valign"),y("colgroup","width align char charoff valign"),y("thead","align char charoff valign"),y("tr","align char charoff valign bgcolor"),y("th","axis align char charoff valign nowrap bgcolor width height"),y("form","accept"),y("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),y("tfoot","align char charoff valign"),y("tbody","align char charoff valign"),y("area","nohref"),y("body","background bgcolor text link vlink alink")),e!=="html4"&&(y("input button select textarea","autofocus"),y("input textarea","placeholder"),y("a","download"),y("link script img","crossorigin"),y("img","loading"),y("iframe","sandbox seamless allow allowfullscreen loading referrerpolicy")),e!=="html4"&&te([c.video,c.audio],v=>{delete v.children.audio,delete v.children.video}),te(Ic("a form meter progress dfn"),v=>{c[v]&&delete c[v].children[v]}),delete c.caption.children.table,delete c.script,c},y0=e=>e==="-"?"remove":"add",$g=e=>{const n=/^(@?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)$/;return $.from(n.exec(e)).map(o=>({preset:o[1]==="@",name:o[2]}))},b0=e=>{const n=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return co(Ic(e,","),o=>{const r=n.exec(o);if(r){const c=r[1],u=c?y0(c):"replace",m=r[2],y=co(Ic(r[3],"|"),v=>$g(v).toArray());return[{operation:u,name:m,validChildren:y}]}else return[]})},oC=(e,n)=>{const o=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,r=/[*?+]/,{attributes:c,attributesOrder:u}=n;return te(Ic(e,"|"),m=>{const y=o.exec(m);if(y){const v={},T=y[1],R=y[2].replace(/[\\:]:/g,":"),M=y[3],B=y[4];if(T==="!"&&(n.attributesRequired=n.attributesRequired||[],n.attributesRequired.push(R),v.required=!0),T==="-"){delete c[R],u.splice(ut.inArray(u,R),1);return}if(M&&(M==="="?(n.attributesDefault=n.attributesDefault||[],n.attributesDefault.push({name:R,value:B}),v.defaultValue=B):M==="~"?(n.attributesForced=n.attributesForced||[],n.attributesForced.push({name:R,value:B}),v.forcedValue=B):M==="<"&&(v.validValues=ut.makeMap(B,"?"))),r.test(R)){const W=v;n.attributePatterns=n.attributePatterns||[],W.pattern=ty(R),n.attributePatterns.push(W)}else c[R]||u.push(R),c[R]=v}})},sC=(e,n)=>{mt(e.attributes,(o,r)=>{n.attributes[r]=o}),n.attributesOrder.push(...e.attributesOrder)},rC=(e,n)=>{const o=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return co(Ic(n,","),r=>{const c=o.exec(r);if(c){const u=c[1],m=c[2],y=c[3],v=c[4],T=c[5],R={attributes:{},attributesOrder:[]};if(e.each(M=>sC(M,R)),u==="#"?R.paddEmpty=!0:u==="-"&&(R.removeEmpty=!0),v==="!"&&(R.removeEmptyAttrs=!0),T&&oC(T,R),y&&(R.outputName=m),m==="@")if(e.isNone())e=$.some(R);else return[];return[y?{name:m,element:R,aliasName:y}:{name:m,element:R}]}else return[]})},wm={},Ig=ut.makeMap,no=ut.each,hn=ut.extend,_m=ut.explode,sy=(e,n={})=>{const o=Ig(e," ",Ig(e.toUpperCase()," "));return hn(o,n)},$b=e=>sy("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),v0=(e,n)=>{if(e){const o={};return ae(e)&&(e={"*":e}),no(e,(r,c)=>{o[c]=o[c.toUpperCase()]=n==="map"?Ig(r,/[, ]/):_m(r,/[, ]/)}),o}else return},Wd=(e={})=>{var n;const o={},r={};let c=[];const u={},m={},y=(dn,Oo,ir)=>{const Vr=e[dn];if(Vr)return Ig(Vr,/[, ]/,Ig(Vr.toUpperCase(),/[, ]/));{let ma=wm[dn];return ma||(ma=sy(Oo,ir),wm[dn]=ma),ma}},v=(n=e.schema)!==null&&n!==void 0?n:"html5",T=km(v);e.verify_html===!1&&(e.valid_elements="*[*]");const R=v0(e.valid_styles),M=v0(e.invalid_styles,"map"),B=v0(e.valid_classes,"map"),W=y("whitespace_elements","pre script noscript style textarea video audio iframe object code"),X=y("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),q=y("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),ee=y("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),de="td th iframe video audio object script code",_e=y("non_empty_elements",de+" pre svg textarea summary",q),ke=y("move_caret_before_on_enter_elements",de+" table",q),Re="h1 h2 h3 h4 h5 h6",tt=y("text_block_elements",Re+" p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),kt=y("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing",tt),$t=y("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),je=y("transparent_elements","a ins del canvas map"),$e=y("wrap_block_elements","pre "+Re);no("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),dn=>{m[dn]=new RegExp("</"+dn+"[^>]*>","gi")});const et=dn=>{const Oo=$.from(o["@"]),ir=/[*?+]/;te(rC(Oo,dn??""),({name:Vr,element:ma,aliasName:hc})=>{if(hc&&(o[hc]=ma),ir.test(Vr)){const ga=ma;ga.pattern=ty(Vr),c.push(ga)}else o[Vr]=ma})},Zt=dn=>{c=[],te(oo(o),Oo=>{delete o[Oo]}),et(dn)},un=(dn,Oo)=>{var ir,Vr;delete wm.text_block_elements,delete wm.block_elements;const ma=Oo.extends?!Ol(Oo.extends):!1,hc=Oo.extends;if(r[dn]=hc?r[hc]:{},u[dn]=hc??dn,_e[dn.toUpperCase()]={},_e[dn]={},ma||(kt[dn.toUpperCase()]={},kt[dn]={}),hc&&!o[dn]&&o[hc]){const ga=ny(o[hc]);delete ga.removeEmptyAttrs,delete ga.removeEmpty,o[dn]=ga}else o[dn]={attributesOrder:[],attributes:{}};if(bt(Oo.attributes)){const ga=pi=>{pa.attributesOrder.push(pi),pa.attributes[pi]={}},pa=(ir=o[dn])!==null&&ir!==void 0?ir:{};delete pa.attributesDefault,delete pa.attributesForced,delete pa.attributePatterns,delete pa.attributesRequired,pa.attributesOrder=[],pa.attributes={},te(Oo.attributes,pi=>{const Ad=h0(v);$g(pi).each(({preset:zd,name:Od})=>{zd?Od==="global"&&te(Ad,ga):ga(Od)})}),o[dn]=pa}if(zt(Oo.padEmpty)){const ga=(Vr=o[dn])!==null&&Vr!==void 0?Vr:{};ga.paddEmpty=Oo.padEmpty,o[dn]=ga}if(bt(Oo.children)){const ga={},pa=Ad=>{ga[Ad]={}},pi=Ad=>{Kl(v,Ad).each(zd=>{te(zd,pa)})};te(Oo.children,Ad=>{$g(Ad).each(({preset:zd,name:Od})=>{zd?pi(Od):pa(Od)})}),r[dn]=ga}hc&&mt(r,(ga,pa)=>{ga[hc]&&(r[pa]=ga=hn({},r[pa]),ga[dn]=ga[hc])})},mo=dn=>{te(oy(dn??""),({name:Oo,cloneName:ir})=>{un(Oo,{extends:ir})})},ko=dn=>{wt(dn)?mt(dn,(Oo,ir)=>un(ir,Oo)):ae(dn)&&mo(dn)},ss=dn=>{te(b0(dn??""),({operation:Oo,name:ir,validChildren:Vr})=>{const ma=Oo==="replace"?{"#comment":{}}:r[ir],hc=pa=>{Oo==="remove"?delete ma[pa]:ma[pa]={}},ga=pa=>{Kl(v,pa).each(pi=>{te(pi,hc)})};te(Vr,({preset:pa,name:pi})=>{pa?ga(pi):hc(pi)}),r[ir]=ma})},vs=dn=>{const Oo=o[dn];if(Oo)return Oo;let ir=c.length;for(;ir--;){const Vr=c[ir];if(Vr.pattern.test(dn))return Vr}},Hr=()=>{e.valid_elements?(Zt(e.valid_elements),no(T,(dn,Oo)=>{r[Oo]=dn.children})):(no(T,(dn,Oo)=>{o[Oo]={attributes:dn.attributes,attributesOrder:dn.attributesOrder},r[Oo]=dn.children}),no(Ic("strong/b em/i"),dn=>{const Oo=Ic(dn,"/");o[Oo[1]].outputName=Oo[0]}),no($t,(dn,Oo)=>{o[Oo]&&(e.padd_empty_block_inline_children&&(o[Oo].paddInEmptyBlock=!0),o[Oo].removeEmpty=!0)}),no(Ic("ol ul blockquote a table tbody"),dn=>{o[dn]&&(o[dn].removeEmpty=!0)}),no(Ic("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),dn=>{o[dn]&&(o[dn].paddEmpty=!0)}),no(Ic("span"),dn=>{o[dn].removeEmptyAttrs=!0})),delete o.svg,ko(e.custom_elements),ss(e.valid_children),et(e.extended_valid_elements),ss("+ol[ul|ol],+ul[ul|ol]"),no({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(dn,Oo)=>{o[Oo]&&(o[Oo].parentsRequired=Ic(dn))}),e.invalid_elements&&no(_m(e.invalid_elements),dn=>{o[dn]&&delete o[dn]}),vs("span")||et("span[!data-mce-type|*]")},Aa=Me(R),Ts=Me(M),St=Me(B),cn=Me(ee),Ho=Me(kt),Mt=Me(tt),yn=Me($t),io=Me(Object.seal(q)),Bt=Me(X),lo=Me(_e),wo=Me(ke),tc=Me(W),ds=Me(je),La=Me($e),Ed=Me(Object.seal(m)),sm=(dn,Oo)=>{const ir=r[dn.toLowerCase()];return!!(ir&&ir[Oo.toLowerCase()])},Bi=(dn,Oo)=>{const ir=vs(dn);if(ir)if(Oo){if(ir.attributes[Oo])return!0;const Vr=ir.attributePatterns;if(Vr){let ma=Vr.length;for(;ma--;)if(Vr[ma].pattern.test(Oo))return!0}}else return!0;return!1},Ol=dn=>fn(Ho(),dn),Zu=dn=>!ns(dn,"#")&&Bi(dn)&&!Ol(dn),Dl=dn=>fn(La(),dn)||Zu(dn),qu=Me(u);return Hr(),{type:v,children:r,elements:o,getValidStyles:Aa,getValidClasses:St,getBlockElements:Ho,getInvalidStyles:Ts,getVoidElements:io,getTextBlockElements:Mt,getTextInlineElements:yn,getBoolAttrs:cn,getElementRule:vs,getSelfClosingElements:Bt,getNonEmptyElements:lo,getMoveCaretBeforeOnEnterElements:wo,getWhitespaceElements:tc,getTransparentElements:ds,getSpecialElements:Ed,isValidChild:sm,isValid:Bi,isBlock:Ol,isInline:Zu,isWrapper:Dl,getCustomElements:qu,addValidElements:et,setValidElements:Zt,addCustomElements:ko,addValidChildren:ss}},Is=e=>({value:aC(e)}),aC=e=>Ns(e,"#").toUpperCase(),k0=e=>{const n=e.toString(16);return(n.length===1?"0"+n:n).toUpperCase()},w0=e=>{const n=k0(e.red)+k0(e.green)+k0(e.blue);return Is(n)},Xe=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,Fg=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,xT=(e,n,o,r)=>({red:e,green:n,blue:o,alpha:r}),Cm=(e,n,o,r)=>{const c=parseInt(e,10),u=parseInt(n,10),m=parseInt(o,10),y=parseFloat(r);return xT(c,u,m,y)},TT=e=>Xe.test(e)?"rgb":Fg.test(e)?"rgba":"other",Lg=e=>{const n=Xe.exec(e);if(n!==null)return $.some(Cm(n[1],n[2],n[3],"1"));const o=Fg.exec(e);return o!==null?$.some(Cm(o[1],o[2],o[3],o[4])):$.none()},_0=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,ud=e=>Lg(e).map(w0).map(n=>"#"+n.value).getOr(e),C0=(e={},n)=>{const o=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,r=/\s*([^:]+):\s*([^;]+);?/g,c=/\s+$/,u={};let m,y;const v=Rp;n&&(m=n.getValidStyles(),y=n.getInvalidStyles());const T=(`\\" \\' \\; \\: ; : `+v).split(" ");for(let M=0;M<T.length;M++)u[T[M]]=v+M,u[v+M]=T[M];const R={parse:M=>{const B={};let W=!1;const X=e.url_converter,q=e.url_converter_scope||R,ee=(je,$e,et)=>{const Zt=B[je+"-top"+$e];if(!Zt)return;const un=B[je+"-right"+$e];if(!un)return;const mo=B[je+"-bottom"+$e];if(!mo)return;const ko=B[je+"-left"+$e];if(!ko)return;const ss=[Zt,un,mo,ko];let vs=ss.length-1;for(;vs--&&ss[vs]===ss[vs+1];);vs>-1&&et||(B[je+$e]=vs===-1?ss[0]:ss.join(" "),delete B[je+"-top"+$e],delete B[je+"-right"+$e],delete B[je+"-bottom"+$e],delete B[je+"-left"+$e])},de=je=>{const $e=B[je];if(!$e)return;const et=$e.indexOf(",")>-1?[$e]:$e.split(" ");let Zt=et.length;for(;Zt--;)if(et[Zt]!==et[0])return!1;return B[je]=et[0],!0},_e=(je,$e,et,Zt)=>{de($e)&&de(et)&&de(Zt)&&(B[je]=B[$e]+" "+B[et]+" "+B[Zt],delete B[$e],delete B[et],delete B[Zt])},ke=je=>(W=!0,u[je]),Re=(je,$e)=>(W&&(je=je.replace(/\uFEFF[0-9]/g,et=>u[et])),$e||(je=je.replace(/\\([\'\";:])/g,"$1")),je),tt=je=>String.fromCharCode(parseInt(je.slice(1),16)),kt=je=>je.replace(/\\[0-9a-f]+/gi,tt),$t=(je,$e,et,Zt,un,mo)=>{if(un=un||mo,un)return un=Re(un),"'"+un.replace(/\'/g,"\\'")+"'";if($e=Re($e||et||Zt||""),!e.allow_script_urls){const ko=$e.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(ko)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(ko))return""}return X&&($e=X.call(q,$e,"style")),"url('"+$e.replace(/\'/g,"\\'")+"')"};if(M){M=M.replace(/[\u0000-\u001F]/g,""),M=M.replace(/\\[\"\';:\uFEFF]/g,ke).replace(/\"[^\"]+\"|\'[^\']+\'/g,$e=>$e.replace(/[;:]/g,ke));let je;for(;je=r.exec(M);){r.lastIndex=je.index+je[0].length;let $e=je[1].replace(c,"").toLowerCase(),et=je[2].replace(c,"");if($e&&et){if($e=kt($e),et=kt(et),$e.indexOf(v)!==-1||$e.indexOf('"')!==-1||!e.allow_script_urls&&($e==="behavior"||/expression\s*\(|\/\*|\*\//.test(et)))continue;$e==="font-weight"&&et==="700"?et="bold":($e==="color"||$e==="background-color")&&(et=et.toLowerCase()),TT(et)==="rgb"&&Lg(et).each(Zt=>{et=ud(_0(Zt)).toLowerCase()}),et=et.replace(o,$t),B[$e]=W?Re(et,!0):et}}ee("border","",!0),ee("border","-width"),ee("border","-color"),ee("border","-style"),ee("padding",""),ee("margin",""),_e("border","border-width","border-style","border-color"),B.border==="medium none"&&delete B.border,B["border-image"]==="none"&&delete B["border-image"]}return B},serialize:(M,B)=>{let W="";const X=(ee,de)=>{const _e=de[ee];if(_e)for(let ke=0,Re=_e.length;ke<Re;ke++){const tt=_e[ke],kt=M[tt];kt&&(W+=(W.length>0?" ":"")+tt+": "+kt+";")}},q=(ee,de)=>{if(!y||!de)return!0;let _e=y["*"];return _e&&_e[ee]?!1:(_e=y[de],!(_e&&_e[ee]))};return B&&m?(X("*",m),X(B,m)):mt(M,(ee,de)=>{ee&&q(de,B)&&(W+=(W.length>0?" ":"")+de+": "+ee+";")}),W}};return R},Hp={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},qs=e=>e instanceof Event||ue(e.initEvent),Zd=e=>e.isDefaultPrevented===Qe||e.isDefaultPrevented===we,S0=e=>gn(e.preventDefault)||qs(e),Eu=(e,n)=>{const o=n??{};for(const r in e)fn(Hp,r)||(o[r]=e[r]);return Ne(e.composedPath)&&(o.composedPath=()=>e.composedPath()),Ne(e.getModifierState)&&(o.getModifierState=r=>e.getModifierState(r)),Ne(e.getTargetRanges)&&(o.getTargetRanges=()=>e.getTargetRanges()),o},x0=(e,n,o,r)=>{var c;const u=Eu(n,r);return u.type=e,gn(u.target)&&(u.target=(c=u.srcElement)!==null&&c!==void 0?c:o),S0(n)&&(u.preventDefault=()=>{u.defaultPrevented=!0,u.isDefaultPrevented=Qe,ue(n.preventDefault)&&n.preventDefault()},u.stopPropagation=()=>{u.cancelBubble=!0,u.isPropagationStopped=Qe,ue(n.stopPropagation)&&n.stopPropagation()},u.stopImmediatePropagation=()=>{u.isImmediatePropagationStopped=Qe,u.stopPropagation()},Zd(u)||(u.isDefaultPrevented=u.defaultPrevented===!0?Qe:we,u.isPropagationStopped=u.cancelBubble===!0?Qe:we,u.isImmediatePropagationStopped=we)),u},ry="mce-data-",Vp=/^(?:mouse|contextmenu)|click/,ay=(e,n,o,r)=>{e.addEventListener(n,o,r||!1)},Zi=(e,n,o,r)=>{e.removeEventListener(n,o,r||!1)},cC=e=>Ne(e)&&Vp.test(e.type),cy=(e,n)=>{const o=x0(e.type,e,document,n);if(cC(e)&&go(e.pageX)&&!go(e.clientX)){const r=o.target.ownerDocument||document,c=r.documentElement,u=r.body,m=o;m.pageX=e.clientX+(c&&c.scrollLeft||u&&u.scrollLeft||0)-(c&&c.clientLeft||u&&u.clientLeft||0),m.pageY=e.clientY+(c&&c.scrollTop||u&&u.scrollTop||0)-(c&&c.clientTop||u&&u.clientTop||0)}return o},T0=(e,n,o)=>{const r=e.document,c={type:"ready"};if(o.domLoaded){n(c);return}const u=()=>r.readyState==="complete"||r.readyState==="interactive"&&r.body,m=()=>{Zi(e,"DOMContentLoaded",m),Zi(e,"load",m),o.domLoaded||(o.domLoaded=!0,n(c)),e=null};u()?m():ay(e,"DOMContentLoaded",m),o.domLoaded||ay(e,"load",m)};class Sm{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=ry+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(n,o,r,c){const u=this;let m;const y=window,v=B=>{u.executeHandlers(cy(B||y.event),T)};if(!n||ct(n)||wa(n))return r;let T;n[u.expando]?T=n[u.expando]:(T=u.count++,n[u.expando]=T,u.events[T]={}),c=c||n;const R=o.split(" ");let M=R.length;for(;M--;){let B=R[M],W=v,X=!1,q=!1;if(B==="DOMContentLoaded"&&(B="ready"),u.domLoaded&&B==="ready"&&n.readyState==="complete"){r.call(c,cy({type:B}));continue}!u.hasFocusIn&&(B==="focusin"||B==="focusout")&&(X=!0,q=B==="focusin"?"focus":"blur",W=ee=>{const de=cy(ee||y.event);de.type=de.type==="focus"?"focusin":"focusout",u.executeHandlers(de,T)}),m=u.events[T][B],m?B==="ready"&&u.domLoaded?r(cy({type:B})):m.push({func:r,scope:c}):(u.events[T][B]=m=[{func:r,scope:c}],m.fakeName=q,m.capture=X,m.nativeHandler=W,B==="ready"?T0(n,W,u):ay(n,q||B,W,X))}return n=m=null,r}unbind(n,o,r){if(!n||ct(n)||wa(n))return this;const c=n[this.expando];if(c){let u=this.events[c];if(o){const m=o.split(" ");let y=m.length;for(;y--;){const v=m[y],T=u[v];if(T){if(r){let R=T.length;for(;R--;)if(T[R].func===r){const M=T.nativeHandler,B=T.fakeName,W=T.capture,X=T.slice(0,R).concat(T.slice(R+1));X.nativeHandler=M,X.fakeName=B,X.capture=W,u[v]=X}}(!r||T.length===0)&&(delete u[v],Zi(n,T.fakeName||v,T.nativeHandler,T.capture))}}}else mt(u,(m,y)=>{Zi(n,m.fakeName||y,m.nativeHandler,m.capture)}),u={};for(const m in u)if(fn(u,m))return this;delete this.events[c];try{delete n[this.expando]}catch{n[this.expando]=null}}return this}fire(n,o,r){return this.dispatch(n,o,r)}dispatch(n,o,r){if(!n||ct(n)||wa(n))return this;const c=cy({type:o,target:n},r);do{const u=n[this.expando];u&&this.executeHandlers(c,u),n=n.parentNode||n.ownerDocument||n.defaultView||n.parentWindow}while(n&&!c.isPropagationStopped());return this}clean(n){if(!n||ct(n)||wa(n))return this;if(n[this.expando]&&this.unbind(n),n.getElementsByTagName||(n=n.document),n&&n.getElementsByTagName){this.unbind(n);const o=n.getElementsByTagName("*");let r=o.length;for(;r--;)n=o[r],n[this.expando]&&this.unbind(n)}return this}destroy(){this.events={}}cancel(n){return n&&(n.preventDefault(),n.stopImmediatePropagation()),!1}executeHandlers(n,o){const r=this.events[o],c=r&&r[n.type];if(c)for(let u=0,m=c.length;u<m;u++){const y=c[u];if(y&&y.func.call(y.scope,n)===!1&&n.preventDefault(),n.isImmediatePropagationStopped())return}}}Sm.Event=new Sm;const E0=ut.each,iC=ut.grep,A0="data-mce-style",lC=ut.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),qc=(e,n,o)=>{gn(o)||o===""?xr(e,n):Ws(e,n,o)},qi=e=>e.replace(/[A-Z]/g,n=>"-"+n.toLowerCase()),gt=(e,n)=>{let o=0;if(e)for(let r=e.nodeType,c=e.previousSibling;c;c=c.previousSibling){const u=c.nodeType;n&&ct(c)&&(u===r||!c.data.length)||(o++,r=u)}return o},Ib=(e,n)=>{const o=ic(n,"style"),r=e.serialize(e.parse(o),vo(n));qc(n,A0,r)},fc=(e,n)=>Wo(e)?fn(lC,n)?e+"":e+"px":e,Fb=(e,n,o)=>{const r=qi(n);gn(o)||o===""?ti(e,r):zp(e,r,fc(o,r))},uC=(e,n,o)=>{const r=n.keep_values,c={set:(m,y,v)=>{const T=ie.fromDom(m);ue(n.url_converter)&&Ne(y)&&(y=n.url_converter.call(n.url_converter_scope||o(),String(y),v,m));const R="data-mce-"+v;qc(T,R,y),qc(T,v,y)},get:(m,y)=>{const v=ie.fromDom(m);return ic(v,"data-mce-"+y)||ic(v,y)}},u={style:{set:(m,y)=>{const v=ie.fromDom(m);r&&qc(v,A0,y),xr(v,"style"),ae(y)&&Vn(v,e.parse(y))},get:m=>{const y=ie.fromDom(m),v=ic(y,A0)||ic(y,"style");return e.serialize(e.parse(v),vo(y))}}};return r&&(u.href=u.src=c),u},Gs=(e,n={})=>{const o={},r=window,c={};let u=0;const m=!0,y=!0,v=Ds.forElement(ie.fromDom(e),{contentCssCors:n.contentCssCors,referrerPolicy:n.referrerPolicy}),T=[],R=n.schema?n.schema:Wd({}),M=C0({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope},n.schema),B=n.ownEvents?new Sm:Sm.Event,W=R.getBlockElements(),X=Be=>ae(Be)?fn(W,Be):Nt(Be)&&(fn(W,Be.nodeName)||xu(R,Be)),q=Be=>Be&&e&&ae(Be)?e.getElementById(Be):Be,ee=Be=>{const Ie=q(Be);return Ne(Ie)?ie.fromDom(Ie):null},de=(Be,Ie,Ct="")=>{let pt;const En=ee(Be);if(Ne(En)&&Ua(En)){const To=J_[Ie];To&&To.get?pt=To.get(En.dom,Ie):pt=ic(En,Ie)}return Ne(pt)?pt:Ct},_e=Be=>{const Ie=q(Be);return gn(Ie)?[]:Ie.attributes},ke=(Be,Ie,Ct)=>{cn(Be,pt=>{if(Nt(pt)){const En=ie.fromDom(pt),To=Ct===""?null:Ct,vr=ic(En,Ie),Dd=J_[Ie];Dd&&Dd.set?Dd.set(En.dom,To,Ie):qc(En,Ie,To),vr!==To&&n.onSetAttrib&&n.onSetAttrib({attrElm:En.dom,attrName:Ie,attrValue:To})}})},Re=(Be,Ie)=>Be.cloneNode(Ie),tt=()=>n.root_element||e.body,kt=Be=>{const Ie=Vl(Be);return{x:Ie.x,y:Ie.y,w:Ie.width,h:Ie.height}},$t=(Be,Ie)=>_a(e.body,q(Be),Ie),je=(Be,Ie,Ct)=>{cn(Be,pt=>{const En=ie.fromDom(pt);Fb(En,Ie,Ct),n.update_styles&&Ib(M,En)})},$e=(Be,Ie)=>{cn(Be,Ct=>{const pt=ie.fromDom(Ct);mt(Ie,(En,To)=>{Fb(pt,To,En)}),n.update_styles&&Ib(M,pt)})},et=(Be,Ie,Ct)=>{const pt=q(Be);if(!(gn(pt)||!Ui(pt)&&!Np(pt)))return Ct?Wr(ie.fromDom(pt),qi(Ie)):(Ie=Ie.replace(/-(\D)/g,(En,To)=>To.toUpperCase()),Ie==="float"&&(Ie="cssFloat"),pt.style?pt.style[Ie]:void 0)},Zt=Be=>{const Ie=q(Be);if(!Ie)return{w:0,h:0};let Ct=et(Ie,"width"),pt=et(Ie,"height");return(!Ct||Ct.indexOf("px")===-1)&&(Ct="0"),(!pt||pt.indexOf("px")===-1)&&(pt="0"),{w:parseInt(Ct,10)||Ie.offsetWidth||Ie.clientWidth,h:parseInt(pt,10)||Ie.offsetHeight||Ie.clientHeight}},un=Be=>{const Ie=q(Be),Ct=$t(Ie),pt=Zt(Ie);return{x:Ct.x,y:Ct.y,w:pt.w,h:pt.h}},mo=(Be,Ie)=>{if(!Be)return!1;const Ct=bt(Be)?Be:[Be];return jn(Ct,pt=>fl(ie.fromDom(pt),Ie))},ko=(Be,Ie,Ct,pt)=>{const En=[];let To=q(Be);pt=pt===void 0;const vr=Ct||(tt().nodeName!=="BODY"?tt().parentNode:null);if(ae(Ie))if(Ie==="*")Ie=Nt;else{const Dd=Ie;Ie=u0=>mo(u0,Dd)}for(;To&&!(To===vr||gn(To.nodeType)||pm(To)||ua(To));){if(!Ie||Ie(To))if(pt)En.push(To);else return[To];To=To.parentNode}return pt?En:null},ss=(Be,Ie,Ct)=>{const pt=ko(Be,Ie,Ct,!1);return pt&&pt.length>0?pt[0]:null},vs=(Be,Ie,Ct)=>{let pt=Ie;if(Be){ae(Ie)&&(pt=En=>mo(En,Ie));for(let En=Be[Ct];En;En=En[Ct])if(ue(pt)&&pt(En))return En}return null},Hr=(Be,Ie)=>vs(Be,Ie,"nextSibling"),Aa=(Be,Ie)=>vs(Be,Ie,"previousSibling"),Ts=Be=>ue(Be.querySelectorAll),St=(Be,Ie)=>{var Ct,pt;const En=(pt=(Ct=q(Ie))!==null&&Ct!==void 0?Ct:n.root_element)!==null&&pt!==void 0?pt:e;return Ts(En)?is(En.querySelectorAll(Be)):[]},cn=function(Be,Ie,Ct){const pt=Ct??this;if(bt(Be)){const En=[];return E0(Be,(To,vr)=>{const Dd=q(To);Dd&&En.push(Ie.call(pt,Dd,vr))}),En}else{const En=q(Be);return En?Ie.call(pt,En):!1}},Ho=(Be,Ie)=>{cn(Be,Ct=>{mt(Ie,(pt,En)=>{ke(Ct,En,pt)})})},Mt=(Be,Ie)=>{cn(Be,Ct=>{const pt=ie.fromDom(Ct);ku(pt,Ie)})},yn=(Be,Ie,Ct,pt,En)=>cn(Be,To=>{const vr=ae(Ie)?e.createElement(Ie):Ie;return Ne(Ct)&&Ho(vr,Ct),pt&&(!ae(pt)&&pt.nodeType?vr.appendChild(pt):ae(pt)&&Mt(vr,pt)),En?vr:To.appendChild(vr)}),io=(Be,Ie,Ct)=>yn(e.createElement(Be),Be,Ie,Ct,!0),Bt=id.decode,lo=id.encodeAllRaw,wo=(Be,Ie,Ct="")=>{let pt="<"+Be;for(const En in Ie)Ks(Ie,En)&&(pt+=" "+En+'="'+lo(Ie[En])+'"');return ca(Ct)&&fn(R.getVoidElements(),Be)?pt+" />":pt+">"+Ct+"</"+Be+">"},tc=Be=>{const Ie=e.createElement("div"),Ct=e.createDocumentFragment();Ct.appendChild(Ie),Be&&(Ie.innerHTML=Be);let pt;for(;pt=Ie.firstChild;)Ct.appendChild(pt);return Ct.removeChild(Ie),Ct},ds=(Be,Ie)=>cn(Be,Ct=>{const pt=ie.fromDom(Ct);return Ie&&te(ia(pt),En=>{Jr(En)&&En.dom.length===0?bs(En):uc(pt,En)}),bs(pt),pt.dom}),La=Be=>cn(Be,Ie=>{const Ct=Ie.attributes;for(let pt=Ct.length-1;pt>=0;pt--)Ie.removeAttributeNode(Ct.item(pt))}),Ed=Be=>M.parse(Be),sm=(Be,Ie)=>M.serialize(Be,Ie),Bi=Be=>{if(ug!==Gs.DOM&&e===document){if(o[Be])return;o[Be]=!0}let Ie=e.getElementById("mceDefaultStyles");if(!Ie){Ie=e.createElement("style"),Ie.id="mceDefaultStyles",Ie.type="text/css";const Ct=e.head;Ct.firstChild?Ct.insertBefore(Ie,Ct.firstChild):Ct.appendChild(Ie)}Ie.styleSheet?Ie.styleSheet.cssText+=Be:Ie.appendChild(e.createTextNode(Be))},Ol=Be=>{Be||(Be=""),te(Be.split(","),Ie=>{c[Ie]=!0,v.load(Ie).catch(ze)})},Zu=(Be,Ie,Ct)=>{cn(Be,pt=>{if(Nt(pt)){const En=ie.fromDom(pt),To=Ie.split(" ");te(To,vr=>{Ne(Ct)?(Ct?dl:gu)(En,vr):kg(En,vr)})}})},Dl=(Be,Ie)=>{Zu(Be,Ie,!0)},qu=(Be,Ie)=>{Zu(Be,Ie,!1)},dn=(Be,Ie)=>{const Ct=ee(Be),pt=Ie.split(" ");return Ne(Ct)&&zo(pt,En=>Bl(Ct,En))},Oo=Be=>{cn(Be,Ie=>ti(ie.fromDom(Ie),"display"))},ir=Be=>{cn(Be,Ie=>zp(ie.fromDom(Ie),"display","none"))},Vr=Be=>{const Ie=ee(Be);return Ne(Ie)&&As($a(Ie,"display"),"none")},ma=Be=>(Be||"mce_")+u++,hc=Be=>{const Ie=ee(Be);return Ne(Ie)?Nt(Ie.dom)?Ie.dom.outerHTML:Pc(Ie):""},ga=(Be,Ie)=>{cn(Be,Ct=>{Nt(Ct)&&(Ct.outerHTML=Ie)})},pa=(Be,Ie)=>{const Ct=q(Ie);return cn(Be,pt=>{const En=Ct==null?void 0:Ct.parentNode,To=Ct==null?void 0:Ct.nextSibling;return En&&(To?En.insertBefore(pt,To):En.appendChild(pt)),pt})},pi=(Be,Ie,Ct)=>cn(Ie,pt=>{var En;const To=bt(Ie)?Be.cloneNode(!0):Be;return Ct&&E0(iC(pt.childNodes),vr=>{To.appendChild(vr)}),(En=pt.parentNode)===null||En===void 0||En.replaceChild(To,pt),pt}),Ad=(Be,Ie)=>{if(Be.nodeName!==Ie.toUpperCase()){const Ct=io(Ie);return E0(_e(Be),pt=>{ke(Ct,pt.nodeName,de(Be,pt.nodeName))}),pi(Ct,Be,!0),Ct}else return Be},zd=(Be,Ie)=>{let Ct=Be;for(;Ct;){let pt=Ie;for(;pt&&Ct!==pt;)pt=pt.parentNode;if(Ct===pt)break;Ct=Ct.parentNode}return!Ct&&Be.ownerDocument?Be.ownerDocument.documentElement:Ct},Od=(Be,Ie,Ct)=>ur(Ie)?Su(R,Be,{...Ct,isContent:En=>{const To=En.nodeName.toLowerCase();return!!Ie[To]}}):Su(R,Be,Ct),ru=()=>e.createRange(),ig=(Be,Ie,Ct)=>{let pt=ru(),En,To;if(Be&&Ie&&Be.parentNode&&Ie.parentNode){const vr=Be.parentNode;return pt.setStart(vr,gt(Be)),pt.setEnd(Ie.parentNode,gt(Ie)),En=pt.extractContents(),pt=ru(),pt.setStart(Ie.parentNode,gt(Ie)+1),pt.setEnd(vr,gt(Be)+1),To=pt.extractContents(),vr.insertBefore(Ud(ug,En,R),Be),Ct?vr.insertBefore(Ct,Be):vr.insertBefore(Ie,Be),vr.insertBefore(Ud(ug,To,R),Be),ds(Be),Ct||Ie}else return},Ep=(Be,Ie,Ct,pt)=>{if(bt(Be)){let En=Be.length;const To=[];for(;En--;)To[En]=Ep(Be[En],Ie,Ct,pt);return To}else return n.collect&&(Be===e||Be===r)&&T.push([Be,Ie,Ct,pt]),B.bind(Be,Ie,Ct,pt||ug)},xb=(Be,Ie,Ct)=>{if(bt(Be)){let pt=Be.length;const En=[];for(;pt--;)En[pt]=xb(Be[pt],Ie,Ct);return En}else{if(T.length>0&&(Be===e||Be===r)){let pt=T.length;for(;pt--;){const[En,To,vr]=T[pt];Be===En&&(!Ie||Ie===To)&&(!Ct||Ct===vr)&&B.unbind(En,To,vr)}}return B.unbind(Be,Ie,Ct)}},bT=(Be,Ie,Ct)=>B.dispatch(Be,Ie,Ct),lg=(Be,Ie,Ct)=>B.dispatch(Be,Ie,Ct),l0=Be=>{if(Be&&Ui(Be)){const Ie=Be.getAttribute("data-mce-contenteditable");return Ie&&Ie!=="inherit"?Ie:Be.contentEditable!=="inherit"?Be.contentEditable:null}else return null},ug={doc:e,settings:n,win:r,files:c,stdMode:m,boxModel:y,styleSheetLoader:v,boundEvents:T,styles:M,schema:R,events:B,isBlock:X,root:null,clone:Re,getRoot:tt,getViewPort:kt,getRect:un,getSize:Zt,getParent:ss,getParents:ko,get:q,getNext:Hr,getPrev:Aa,select:St,is:mo,add:yn,create:io,createHTML:wo,createFragment:tc,remove:ds,setStyle:je,getStyle:et,setStyles:$e,removeAllAttribs:La,setAttrib:ke,setAttribs:Ho,getAttrib:de,getPos:$t,parseStyle:Ed,serializeStyle:sm,addStyle:Bi,loadCSS:Ol,addClass:Dl,removeClass:qu,hasClass:dn,toggleClass:Zu,show:Oo,hide:ir,isHidden:Vr,uniqueId:ma,setHTML:Mt,getOuterHTML:hc,setOuterHTML:ga,decode:Bt,encode:lo,insertAfter:pa,replace:pi,rename:Ad,findCommonAncestor:zd,run:cn,getAttribs:_e,isEmpty:Od,createRng:ru,nodeIndex:gt,split:ig,bind:Ep,unbind:xb,fire:lg,dispatch:bT,getContentEditable:l0,getContentEditableParent:Be=>{const Ie=tt();let Ct=null;for(let pt=Be;pt&&pt!==Ie&&(Ct=l0(pt),Ct===null);pt=pt.parentNode);return Ct},isEditable:Be=>{if(Ne(Be)){const Ie=Nt(Be)?Be:Be.parentElement;return Ne(Ie)&&Ui(Ie)&&ka(ie.fromDom(Ie))}else return!1},destroy:()=>{if(T.length>0){let Be=T.length;for(;Be--;){const[Ie,Ct,pt]=T[Be];B.unbind(Ie,Ct,pt)}}mt(c,(Be,Ie)=>{v.unload(Ie),delete c[Ie]})},isChildOf:(Be,Ie)=>Be===Ie||Ie.contains(Be),dumpRng:Be=>"startContainer: "+Be.startContainer.nodeName+", startOffset: "+Be.startOffset+", endContainer: "+Be.endContainer.nodeName+", endOffset: "+Be.endOffset},J_=uC(M,n,Me(ug));return ug};Gs.DOM=Gs(document),Gs.nodeIndex=gt;const Mf=Gs.DOM,Lb=0,ET=1,Nf=2,Hb=3;class dd{constructor(n={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=n}_setReferrerPolicy(n){this.settings.referrerPolicy=n}loadScript(n){return new Promise((o,r)=>{const c=Mf;let u;const m=()=>{c.remove(T),u&&(u.onerror=u.onload=u=null)},y=()=>{m(),o()},v=()=>{m(),r("Failed to load script: "+n)},T=c.uniqueId();u=document.createElement("script"),u.id=T,u.type="text/javascript",u.src=ut._addCacheSuffix(n),this.settings.referrerPolicy&&c.setAttrib(u,"referrerpolicy",this.settings.referrerPolicy),u.onload=y,u.onerror=v,(document.getElementsByTagName("head")[0]||document.body).appendChild(u)})}isDone(n){return this.states[n]===Nf}markDone(n){this.states[n]=Nf}add(n){const o=this;return o.queue.push(n),o.states[n]===void 0&&(o.states[n]=Lb),new Promise((c,u)=>{o.scriptLoadedCallbacks[n]||(o.scriptLoadedCallbacks[n]=[]),o.scriptLoadedCallbacks[n].push({resolve:c,reject:u})})}load(n){return this.add(n)}remove(n){delete this.states[n],delete this.scriptLoadedCallbacks[n]}loadQueue(){const n=this.queue;return this.queue=[],this.loadScripts(n)}loadScripts(n){const o=this,r=(v,T)=>{Uo(o.scriptLoadedCallbacks,T).each(R=>{te(R,M=>M[v](T))}),delete o.scriptLoadedCallbacks[T]},c=v=>{const T=be(v,R=>R.status==="rejected");return T.length>0?Promise.reject(co(T,({reason:R})=>bt(R)?R:[R])):Promise.resolve()},u=v=>Promise.allSettled(Qt(v,T=>o.states[T]===Nf?(r("resolve",T),Promise.resolve()):o.states[T]===Hb?(r("reject",T),Promise.reject(T)):(o.states[T]=ET,o.loadScript(T).then(()=>{o.states[T]=Nf,r("resolve",T);const R=o.queue;return R.length>0?(o.queue=[],u(R).then(c)):Promise.resolve()},()=>(o.states[T]=Hb,r("reject",T),Promise.reject(T)))))),m=v=>(o.loading=!0,u(v).then(T=>{o.loading=!1;const R=o.queueLoadedCallbacks.shift();return $.from(R).each(Dn),c(T)})),y=al(n);return o.loading?new Promise((v,T)=>{o.queueLoadedCallbacks.push(()=>{m(y).then(v,T)})}):m(y)}}dd.ScriptLoader=new dd;const dC=(e,n)=>{const o=e.indexOf(n);return o!==-1&&e.indexOf(n,o+1)>o},z0=e=>wt(e)&&fn(e,"raw"),Fs=e=>bt(e)&&e.length>1,Up={},yr=Ee("en"),fC=()=>Uo(Up,yr.get()),qa={getData:()=>to(Up,e=>({...e})),setCode:e=>{e&&yr.set(e)},getCode:()=>yr.get(),add:(e,n)=>{let o=Up[e];o||(Up[e]=o={});const r=Qt(oo(n),c=>c.toLowerCase());mt(n,(c,u)=>{const m=u.toLowerCase();m!==u&&dC(r,m)?(fn(n,m)||(o[m]=c),o[u]=c):o[m]=c})},translate:e=>{const n=fC().getOr({}),o=m=>ue(m)?Object.prototype.toString.call(m):r(m)?"":""+m,r=m=>m===""||m===null||m===void 0,c=m=>{const y=o(m);return fn(n,y)?o(n[y]):Uo(n,y.toLowerCase()).map(o).getOr(y)},u=m=>m.replace(/{context:\w+}$/,"");if(r(e))return"";if(z0(e))return o(e.raw);if(Fs(e)){const m=e.slice(1),y=c(e[0]).replace(/\{([0-9]+)\}/g,(v,T)=>fn(m,T)?o(m[T]):v);return u(y)}return u(c(e))},isRtl:()=>fC().bind(e=>Uo(e,"_dir")).exists(e=>e==="rtl"),hasCode:e=>fn(Up,e)},si=()=>{const e=[],n={},o={},r=[],c=(q,ee)=>{const de=be(r,_e=>_e.name===q&&_e.state===ee);te(de,_e=>_e.resolve())},u=q=>fn(n,q),m=q=>fn(o,q),y=q=>{if(o[q])return o[q].instance},v=(q,ee)=>{const de=qa.getCode(),_e=","+(ee||"")+",";!de||ee&&_e.indexOf(","+de+",")===-1||dd.ScriptLoader.add(n[q]+"/langs/"+de+".js")},T=(q,ee)=>{si.languageLoad!==!1&&(u(q)?v(q,ee):X(q,"loaded").then(()=>v(q,ee)))},R=(q,ee)=>(e.push(ee),o[q]={instance:ee},c(q,"added"),ee),M=q=>{delete n[q],delete o[q]},B=(q,ee)=>ae(ee)?ae(q)?{prefix:"",resource:ee,suffix:""}:{prefix:q.prefix,resource:ee,suffix:q.suffix}:ee,W=(q,ee)=>{if(n[q])return Promise.resolve();let de=ae(ee)?ee:ee.prefix+ee.resource+ee.suffix;de.indexOf("/")!==0&&de.indexOf("://")===-1&&(de=si.baseURL+"/"+de),n[q]=de.substring(0,de.lastIndexOf("/"));const _e=()=>(c(q,"loaded"),Promise.resolve());return o[q]?_e():dd.ScriptLoader.add(de).then(_e)},X=(q,ee="added")=>ee==="added"&&m(q)||ee==="loaded"&&u(q)?Promise.resolve():new Promise(de=>{r.push({name:q,state:ee,resolve:de})});return{items:e,urls:n,lookup:o,get:y,requireLangPack:T,add:R,remove:M,createUrl:B,load:W,waitFor:X}};si.languageLoad=!0,si.baseURL="",si.PluginManager=si(),si.ThemeManager=si(),si.ModelManager=si();const iy=(e,n)=>{let o=null;return{cancel:()=>{Z(o)||(clearTimeout(o),o=null)},throttle:(...u)=>{Z(o)&&(o=setTimeout(()=>{o=null,e.apply(null,u)},n))}}},xm=(e,n)=>{let o=null;const r=()=>{Z(o)||(clearTimeout(o),o=null)};return{cancel:r,throttle:(...u)=>{r(),o=setTimeout(()=>{o=null,e.apply(null,u)},n)}}},O0=(e,n,o)=>jr(e,n,o).isSome(),Wp=Me("mce-annotation"),qd=Me("data-mce-annotation"),Zp=Me("data-mce-annotation-uid"),Hg=Me("data-mce-annotation-active"),Tm=Me("data-mce-annotation-classes"),Gd=Me("data-mce-annotation-attrs"),Vg=e=>n=>Qn(n,e),Ug=(e,n)=>{const o=e.selection.getRng(),r=ie.fromDom(o.startContainer),c=ie.fromDom(e.getBody()),u=n.fold(()=>"."+Wp(),v=>`[${qd()}="${v}"]`),m=Nc(r,o.startOffset).getOr(r);return Ll(m,u,Vg(c)).bind(v=>Sr(v,`${Zp()}`).bind(T=>Sr(v,`${qd()}`).map(R=>{const M=Vb(e,T);return{uid:T,name:R,elements:M}})))},RT=e=>Ua(e)&&Bl(e,Wp()),D0=(e,n)=>bc(e,"data-mce-bogus")||O0(e,'[data-mce-bogus="all"]',Vg(n)),Vb=(e,n)=>{const o=ie.fromDom(e.getBody()),r=dc(o,`[${Zp()}="${n}"]`);return be(r,c=>!D0(c,o))},mC=(e,n)=>{const o=ie.fromDom(e.getBody()),r=dc(o,`[${qd()}="${n}"]`),c={};return te(r,u=>{if(!D0(u,o)){const m=ic(u,Zp()),y=Uo(c,m).getOr([]);c[m]=y.concat([u])}}),c},R0=(e,n)=>{const o=Ee({}),r=()=>({listeners:[],previous:Cc()}),c=(M,B)=>{u(M,W=>(B(W),W))},u=(M,B)=>{const W=o.get(),X=Uo(W,M).getOrThunk(r),q=B(X);W[M]=q,o.set(W)},m=(M,B,W)=>{c(M,X=>{te(X.listeners,q=>q(!0,M,{uid:B,nodes:Qt(W,ee=>ee.dom)}))})},y=M=>{c(M,B=>{te(B.listeners,W=>W(!1,M))})},v=(M,B)=>{te(Vb(e,M),W=>{B?Ws(W,Hg(),"true"):xr(W,Hg())})},T=xm(()=>{const M=Wn(n.getNames());te(M,B=>{u(B,W=>{const X=W.previous.get();return Ug(e,$.some(B)).fold(()=>{X.each(q=>{y(B),W.previous.clear(),v(q,!1)})},({uid:q,name:ee,elements:de})=>{As(X,q)||(X.each(_e=>v(_e,!1)),m(ee,q,de),W.previous.set(q),v(q,!0))}),{previous:W.previous,listeners:W.listeners}})})},30);return e.on("remove",()=>{T.cancel()}),e.on("NodeChange",()=>{T.throttle()}),{addListener:(M,B)=>{u(M,W=>({previous:W.previous,listeners:W.listeners.concat([B])}))}}},Ub=(e,n)=>{const o=qd(),r=u=>$.from(u.attr(o)).bind(n.lookup),c=u=>{var m,y;u.attr(Zp(),null),u.attr(qd(),null),u.attr(Hg(),null);const v=$.from(u.attr(Gd())).map(B=>B.split(",")).getOr([]),T=$.from(u.attr(Tm())).map(B=>B.split(",")).getOr([]);te(v,B=>u.attr(B,null));const R=(y=(m=u.attr("class"))===null||m===void 0?void 0:m.split(" "))!==null&&y!==void 0?y:[],M=cs(R,[Wp()].concat(T));u.attr("class",M.length>0?M.join(" "):null),u.attr(Tm(),null),u.attr(Gd(),null)};e.serializer.addTempAttr(Hg()),e.serializer.addAttributeFilter(o,u=>{for(const m of u)r(m).each(y=>{y.persistent===!1&&(m.name==="span"?m.unwrap():c(m))})})},M0=()=>{const e={};return{register:(c,u)=>{e[c]={name:c,settings:u}},lookup:c=>Uo(e,c).map(u=>u.settings),getNames:()=>oo(e)}},N0=(e,n,o)=>Math.min(Math.max(e,n),o),P0=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let ly=0;const jb=e=>{const o=new Date().getTime(),r=Math.floor(P0()*1e9);return ly++,e+"_"+r+ly+String(o)},uD=(e,n)=>{te(n,o=>{dl(e,o)})},uy=(e,n)=>{te(n,o=>{gu(e,o)})},qp=(e,n)=>ie.fromDom(e.dom.cloneNode(n)),Em=e=>qp(e,!1),B0=e=>qp(e,!0),$0=(e,n)=>{const o=ie.fromTag(n),r=du(e);return Hi(o,r),o},gC=(e,n)=>{const o=$0(e,n);Zc(e,o);const r=ia(e);return vu(o,r),bs(e),o},I0=(e,n,o=we)=>{const r=new Wa(e,n),c=u=>{let m;do m=r[u]();while(m&&!ct(m)&&!o(m));return $.from(m).filter(ct)};return{current:()=>$.from(r.current()).filter(ct),next:()=>c("next"),prev:()=>c("prev"),prev2:()=>c("prev2")}},jg=(e,n)=>{const o=n||(m=>e.isBlock(m)||Fo(m)||Lo(m)),r=(m,y,v,T)=>{if(ct(m)){const R=T(m,y,m.data);if(R!==-1)return $.some({container:m,offset:R})}return v().bind(R=>r(R.container,R.offset,v,T))};return{backwards:(m,y,v,T)=>{const R=I0(m,T??e.getRoot(),o);return r(m,y,()=>R.prev().map(M=>({container:M,offset:M.length})),v).getOrNull()},forwards:(m,y,v,T)=>{const R=I0(m,T??e.getRoot(),o);return r(m,y,()=>R.next().map(M=>({container:M,offset:0})),v).getOrNull()}}},F0=((e,n)=>{const o=u=>{if(!e(u))throw new Error("Can only get "+n+" value of a "+n+" node");return r(u).getOr("")},r=u=>e(u)?$.from(u.dom.nodeValue):$.none();return{get:o,getOption:r,set:(u,m)=>{if(!e(u))throw new Error("Can only set raw "+n+" value of a "+n+" node");u.dom.nodeValue=m}}})(Jr,"text"),Am=e=>F0.get(e),Gp=e=>F0.getOption(e),L0=(e,n)=>F0.set(e,n),Wb=["td","th"],H0=["thead","tbody","tfoot"],pC=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],Fc=["li","dd","dt"],dD=["ul","ol","dl"],V0=["pre","script","textarea","style"],dy=e=>{let n;return o=>(n=n||eo(e,Qe),fn(n,vo(o)))},NT=e=>vo(e)==="table",Yi=e=>Ua(e)&&vo(e)==="br",Au=dy(pC),zm=dy(dD),Wg=dy(Fc),hC=dy(H0),fy=dy(Wb),Zb=dy(V0),yC=e=>{const n=[];let o=e.dom;for(;o;)n.push(ie.fromDom(o)),o=o.lastChild;return n},Om=e=>{const n=dc(e,"br"),o=be(yC(e).slice(-1),Yi);n.length===o.length&&te(o,bs)},Zg=()=>{const e=ie.fromTag("br");return Ws(e,"data-mce-bogus","1"),e},Yl=e=>{nd(e),rr(e,Zg())},qb=(e,n)=>{Xu(e).each(o=>{Fl(o).each(r=>{n.isBlock(vo(e))&&Yi(o)&&n.isBlock(vo(r))&&bs(o)})})},Ia=Rp,U0=Rb,ri=Bc,PT=e=>e.insertContent(Ia,{preserve_zwsp:!0}),bC=Nt,Pf=ct,Dm=e=>(Pf(e)&&(e=e.parentNode),bC(e)&&e.hasAttribute("data-mce-caret")),Bf=e=>Pf(e)&&U0(e.data),Xi=e=>Dm(e)||Bf(e),vC=e=>e.firstChild!==e.lastChild||!Fo(e.firstChild),my=(e,n)=>{var o;const c=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(Ia),u=e.parentNode;if(n){const m=e.previousSibling;if(Pf(m)){if(Xi(m))return m;if(Eo(m))return m.splitText(m.data.length-1)}u==null||u.insertBefore(c,e)}else{const m=e.nextSibling;if(Pf(m)){if(Xi(m))return m;if(Rm(m))return m.splitText(1),m}e.nextSibling?u==null||u.insertBefore(c,e.nextSibling):u==null||u.appendChild(c)}return c},j0=e=>{const n=e.container();return ct(n)?n.data.charAt(e.offset())===Ia||e.isAtStart()&&Bf(n.previousSibling):!1},Kp=e=>{const n=e.container();return ct(n)?n.data.charAt(e.offset()-1)===Ia||e.isAtEnd()&&Bf(n.nextSibling):!1},qg=(e,n,o)=>{var r;const u=((r=n.ownerDocument)!==null&&r!==void 0?r:document).createElement(e);u.setAttribute("data-mce-caret",o?"before":"after"),u.setAttribute("data-mce-bogus","all"),u.appendChild(Zg().dom);const m=n.parentNode;return o?m==null||m.insertBefore(u,n):n.nextSibling?m==null||m.insertBefore(u,n.nextSibling):m==null||m.appendChild(u),u},Rm=e=>Pf(e)&&e.data[0]===Ia,Eo=e=>Pf(e)&&e.data[e.data.length-1]===Ia,Oi=e=>{var n;const o=e.getElementsByTagName("br"),r=o[o.length-1];Ef(r)&&((n=r.parentNode)===null||n===void 0||n.removeChild(r))},Kd=e=>e&&e.hasAttribute("data-mce-caret")?(Oi(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,Gb=e=>Dm(e.startContainer),ws=Math.round,Mm=e=>e?{left:ws(e.left),top:ws(e.top),bottom:ws(e.bottom),right:ws(e.right),width:ws(e.width),height:ws(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},Kb=(e,n)=>(e=Mm(e),n||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),BT=(e,n)=>e.left===n.left&&e.top===n.top&&e.bottom===n.bottom&&e.right===n.right,$T=(e,n,o)=>e>=0&&e<=Math.min(n.height,o.height)/2,gy=(e,n)=>{const o=Math.min(n.height/2,e.height/2);return e.bottom-o<n.top?!0:e.top>n.bottom?!1:$T(n.top-e.bottom,e,n)},Ls=(e,n)=>e.top>n.bottom?!0:e.bottom<n.top?!1:$T(n.bottom-e.top,e,n),kC=(e,n,o)=>n>=e.left&&n<=e.right&&o>=e.top&&o<=e.bottom,IT=e=>lt(e,(n,o)=>n.fold(()=>$.some(o),r=>{const c=Math.min(o.left,r.left),u=Math.min(o.top,r.top),m=Math.max(o.right,r.right),y=Math.max(o.bottom,r.bottom);return $.some({top:u,right:m,bottom:y,left:c,width:m-c,height:y-u})}),$.none()),wC=(e,n,o)=>{const r=Math.max(Math.min(n,e.left+e.width),e.left),c=Math.max(Math.min(o,e.top+e.height),e.top);return Math.sqrt((n-r)*(n-r)+(o-c)*(o-c))},Gg=(e,n)=>Math.max(0,Math.min(e.bottom,n.bottom)-Math.max(e.top,n.top)),Ji=e=>{const n=e.startContainer,o=e.startOffset;return n===e.endContainer&&n.hasChildNodes()&&e.endOffset===o+1?n.childNodes[o]:null},Nm=(e,n)=>{if(Nt(e)&&e.hasChildNodes()){const o=e.childNodes,r=N0(n,0,o.length-1);return o[r]}else return e},W0=(e,n)=>{if(!(n<0&&Nt(e)&&e.hasChildNodes()))return Nm(e,n)},Vt=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),Z0=e=>ae(e)&&e.charCodeAt(0)>=768&&Vt.test(e),FT=(...e)=>n=>{for(let o=0;o<e.length;o++)if(e[o](n))return!0;return!1},_C=(...e)=>n=>{for(let o=0;o<e.length;o++)if(!e[o](n))return!1;return!0},q0=Ke,CC=Lo,SC=Fo,fd=ct,py=gl(["script","style","textarea"]),Kg=gl(["img","input","textarea","hr","iframe","video","audio","object","embed"]),Yb=gl(["table"]),LT=Xi,hl=e=>LT(e)?!1:fd(e)?!py(e.parentNode):Kg(e)||SC(e)||Yb(e)||G0(e),xC=e=>Nt(e)&&e.getAttribute("unselectable")==="true",G0=e=>!xC(e)&&CC(e),TC=(e,n)=>{for(let o=e.parentNode;o&&o!==n;o=o.parentNode){if(G0(o))return!1;if(q0(o))return!0}return!0},Xb=e=>G0(e)?!lt(is(e.getElementsByTagName("*")),(n,o)=>n||q0(o),!1):!1,HT=e=>Kg(e)||Xb(e),Jb=(e,n)=>hl(e)&&TC(e,n),K0=Nt,Y0=hl,EC=Dg("display","block table"),VT=Dg("float","left right"),Yd=_C(K0,Y0,ot(VT)),AC=ot(Dg("white-space","pre pre-line pre-wrap")),Yp=ct,Xp=Fo,zC=Gs.nodeIndex,Qb=W0,X0=e=>e?e.createRange():Gs.DOM.createRng(),e1=e=>ae(e)&&/[\r\n\t ]/.test(e),UT=e=>!!e.setStart&&!!e.setEnd,ai=e=>{const n=e.startContainer,o=e.startOffset;if(e1(e.toString())&&AC(n.parentNode)&&ct(n)){const r=n.data;if(e1(r[o-1])||e1(r[o+1]))return!0}return!1},jT=e=>{const n=e.ownerDocument,o=X0(n),r=n.createTextNode(Qr),c=e.parentNode;c.insertBefore(r,e),o.setStart(r,0),o.setEnd(r,1);const u=Mm(o.getBoundingClientRect());return c.removeChild(r),u},WT=e=>{const n=e.startContainer,o=e.endContainer,r=e.startOffset,c=e.endOffset;if(n===o&&ct(o)&&r===0&&c===1){const u=e.cloneRange();return u.setEndAfter(o),Bm(u)}else return null},Pm=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,Bm=e=>{var n;let o;const r=e.getClientRects();return r.length>0?o=Mm(r[0]):o=Mm(e.getBoundingClientRect()),!UT(e)&&Xp(e)&&Pm(o)?jT(e):Pm(o)&&UT(e)&&(n=WT(e))!==null&&n!==void 0?n:o},$f=(e,n)=>{const o=Kb(e,n);return o.width=1,o.right=o.left+1,o},J0=e=>{const n=[],o=m=>{m.height!==0&&(n.length>0&&BT(m,n[n.length-1])||n.push(m))},r=(m,y)=>{const v=X0(m.ownerDocument);if(y<m.data.length){if(Z0(m.data[y]))return;if(Z0(m.data[y-1])&&(v.setStart(m,y),v.setEnd(m,y+1),!ai(v))){o($f(Bm(v),!1));return}}y>0&&(v.setStart(m,y-1),v.setEnd(m,y),ai(v)||o($f(Bm(v),!1))),y<m.data.length&&(v.setStart(m,y),v.setEnd(m,y+1),ai(v)||o($f(Bm(v),!0)))},c=e.container(),u=e.offset();if(Yp(c))return r(c,u),n;if(K0(c))if(e.isAtEnd()){const m=Qb(c,u);Yp(m)&&r(m,m.data.length),Yd(m)&&!Xp(m)&&o($f(Bm(m),!1))}else{const m=Qb(c,u);if(Yp(m)&&r(m,0),Yd(m)&&e.isAtEnd())return o($f(Bm(m),!1)),n;const y=Qb(e.container(),e.offset()-1);Yd(y)&&!Xp(y)&&(EC(y)||EC(m)||!Yd(m))&&o($f(Bm(y),!1)),Yd(m)&&o($f(Bm(m),!0))}return n},Ue=(e,n,o)=>{const r=()=>(Yp(e),n===0),c=()=>Yp(e)?n>=e.data.length:n>=e.childNodes.length,u=()=>{const R=X0(e.ownerDocument);return R.setStart(e,n),R.setEnd(e,n),R},m=()=>(o||(o=J0(Ue(e,n))),o),y=()=>m().length>0,v=R=>R&&e===R.container()&&n===R.offset(),T=R=>Qb(e,R?n-1:n);return{container:Me(e),offset:Me(n),toRange:u,getClientRects:m,isVisible:y,isAtStart:r,isAtEnd:c,isEqual:v,getNode:T}};Ue.fromRangeStart=e=>Ue(e.startContainer,e.startOffset),Ue.fromRangeEnd=e=>Ue(e.endContainer,e.endOffset),Ue.after=e=>Ue(e.parentNode,zC(e)+1),Ue.before=e=>Ue(e.parentNode,zC(e)),Ue.isAbove=(e,n)=>Zn(wn(n.getClientRects()),xo(e.getClientRects()),gy).getOr(!1),Ue.isBelow=(e,n)=>Zn(xo(n.getClientRects()),wn(e.getClientRects()),Ls).getOr(!1),Ue.isAtStart=e=>e?e.isAtStart():!1,Ue.isAtEnd=e=>e?e.isAtEnd():!1,Ue.isTextPosition=e=>e?ct(e.container()):!1,Ue.isElementPosition=e=>!Ue.isTextPosition(e);const t1=(e,n)=>{ct(n)&&n.data.length===0&&e.remove(n)},If=(e,n,o)=>{n.insertNode(o),t1(e,o.previousSibling),t1(e,o.nextSibling)},$m=(e,n,o)=>{const r=$.from(o.firstChild),c=$.from(o.lastChild);n.insertNode(o),r.each(u=>t1(e,u.previousSibling)),c.each(u=>t1(e,u.nextSibling))},n1=(e,n,o)=>{ua(o)?$m(e,n,o):If(e,n,o)},Qi=ct,Q0=Ef,ek=Gs.nodeIndex,ci=e=>{const n=e.parentNode;return Q0(n)?ci(n):n},Jp=e=>e?ce(e.childNodes,(n,o)=>(Q0(o)&&o.nodeName!=="BR"?n=n.concat(Jp(o)):n.push(o),n),[]):[],OC=(e,n)=>{let o=e;for(;(o=o.previousSibling)&&Qi(o);)n+=o.data.length;return n},DC=e=>n=>e===n,ZT=e=>{let n,o;n=Jp(ci(e)),o=ne(n,DC(e),e),n=n.slice(0,o+1);const r=ce(n,(c,u,m)=>(Qi(u)&&Qi(n[m-1])&&c++,c),0);return n=yi(n,gl([e.nodeName])),o=ne(n,DC(e),e),o-r},RC=e=>(Qi(e)?"text()":e.nodeName.toLowerCase())+"["+ZT(e)+"]",qT=(e,n,o)=>{const r=[];for(let c=n.parentNode;c&&c!==e&&!(o&&o(c));c=c.parentNode)r.push(c);return r},MC=(e,n)=>{let o=[],r=n.container(),c=n.offset(),u;if(Qi(r))u=OC(r,c);else{const y=r.childNodes;c>=y.length?(u="after",c=y.length-1):u="before",r=y[c]}o.push(RC(r));let m=qT(e,r);return m=yi(m,ot(Ef)),o=o.concat(Ra(m,y=>RC(y))),o.reverse().join("/")+","+u},GT=(e,n,o)=>{let r=Jp(e);return r=yi(r,(c,u)=>!Qi(c)||!Qi(r[u-1])),r=yi(r,gl([n])),r[o]},KT=(e,n)=>{let o=e,r=0;for(;Qi(o);){const c=o.data.length;if(n>=r&&n<=r+c){e=o,n=n-r;break}if(!Qi(o.nextSibling)){e=o,n=c;break}r+=c,o=o.nextSibling}return Qi(e)&&n>e.data.length&&(n=e.data.length),Ue(e,n)},o1=(e,n)=>{if(!n)return null;const o=n.split(","),r=o[0].split("/"),c=o.length>1?o[1]:"before",u=ce(r,(m,y)=>{const v=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(y);return v?(v[1]==="text()"&&(v[1]="#text"),GT(m,v[1],parseInt(v[2],10))):null},e);if(!u)return null;if(!Qi(u)&&u.parentNode){let m;return c==="after"?m=ek(u)+1:m=ek(u),Ue(u.parentNode,m)}return KT(u,parseInt(c,10))},s1=Lo,YT=(e,n,o)=>{let r=e(n.data.slice(0,o)).length;for(let c=n.previousSibling;c&&ct(c);c=c.previousSibling)r+=e(c.data).length;return r},NC=(e,n,o,r,c)=>{const u=c?r.startContainer:r.endContainer;let m=c?r.startOffset:r.endOffset;const y=[],v=e.getRoot();if(ct(u))y.push(o?YT(n,u,m):m);else{let T=0;const R=u.childNodes;m>=R.length&&R.length&&(T=1,m=Math.max(0,R.length-1)),y.push(e.nodeIndex(R[m],o)+T)}for(let T=u;T&&T!==v;T=T.parentNode)y.push(e.nodeIndex(T,o));return y},XT=(e,n,o,r)=>{const c=n.dom,u=NC(c,e,o,r,!0),m=n.isForward(),y=Gb(r)?{isFakeCaret:!0}:{};if(n.isCollapsed())return{start:u,forward:m,...y};{const v=NC(c,e,o,r,!1);return{start:u,end:v,forward:m,...y}}},tk=(e,n,o)=>{let r=0;return ut.each(e.select(n),c=>{if(c.getAttribute("data-mce-bogus")!=="all"){if(c===o)return!1;r++;return}}),r},br=(e,n)=>{let o=n?e.startContainer:e.endContainer,r=n?e.startOffset:e.endOffset;if(Nt(o)&&o.nodeName==="TR"){const c=o.childNodes;o=c[Math.min(n?r:r-1,c.length-1)],o&&(r=n?0:o.childNodes.length,n?e.setStart(o,r):e.setEnd(o,r))}},nk=e=>(br(e,!0),br(e,!1),e),PC=(e,n)=>{if(Nt(e)&&(e=Nm(e,n),s1(e)))return e;if(Xi(e)){ct(e)&&Dm(e)&&(e=e.parentNode);let o=e.previousSibling;if(s1(o)||(o=e.nextSibling,s1(o)))return o}},r1=e=>PC(e.startContainer,e.startOffset)||PC(e.endContainer,e.endOffset),a1=(e,n,o)=>{const r=o.getNode(),c=o.getRng();if(r.nodeName==="IMG"||s1(r)){const m=r.nodeName;return{name:m,index:tk(o.dom,m,r)}}const u=r1(c);if(u){const m=u.tagName;return{name:m,index:tk(o.dom,m,u)}}return XT(e,o,n,c)},Lc=e=>{const n=e.getRng();return{start:MC(e.dom.getRoot(),Ue.fromRangeStart(n)),end:MC(e.dom.getRoot(),Ue.fromRangeEnd(n)),forward:e.isForward()}},yl=e=>({rng:e.getRng(),forward:e.isForward()}),ok=(e,n,o)=>{const r={"data-mce-type":"bookmark",id:n,style:"overflow:hidden;line-height:0px"};return o?e.create("span",r,"&#xFEFF;"):e.create("span",r)},sk=(e,n)=>{const o=e.dom;let r=e.getRng();const c=o.uniqueId(),u=e.isCollapsed(),m=e.getNode(),y=m.nodeName,v=e.isForward();if(y==="IMG")return{name:y,index:tk(o,y,m)};const T=nk(r.cloneRange());if(!u){T.collapse(!1);const M=ok(o,c+"_end",n);n1(o,T,M)}r=nk(r),r.collapse(!0);const R=ok(o,c+"_start",n);return n1(o,r,R),e.moveToBookmark({id:c,keep:!0,forward:v}),{id:c,forward:v}},BC=(e,n,o=!1)=>n===2?a1(ri,o,e):n===3?Lc(e):n?yl(e):sk(e,!1),rk=he(a1,Yt,!0),hy=e=>{const n=u=>u(e),o=Me(e),r=()=>c,c={tag:!0,inner:e,fold:(u,m)=>m(e),isValue:Qe,isError:we,map:u=>ii.value(u(e)),mapError:r,bind:n,exists:n,forall:n,getOr:o,or:r,getOrThunk:o,orThunk:r,getOrDie:o,each:u=>{u(e)},toOptional:()=>$.some(e)};return c},c1=e=>{const n=()=>o,o={tag:!1,inner:e,fold:(r,c)=>r(e),isValue:we,isError:Qe,map:n,mapError:r=>ii.error(r(e)),bind:n,exists:we,forall:Qe,getOr:Yt,or:Yt,getOrThunk:vt,orThunk:vt,getOrDie:Xt(String(e)),each:ze,toOptional:$.none};return o},ii={value:hy,error:c1,fromOption:(e,n)=>e.fold(()=>c1(n),hy)},md={generate:e=>{if(!bt(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const n=[],o={};return te(e,(r,c)=>{const u=oo(r);if(u.length!==1)throw new Error("one and only one name per case");const m=u[0],y=r[m];if(o[m]!==void 0)throw new Error("duplicate key detected:"+m);if(m==="cata")throw new Error("cannot have a case named cata (sorry)");if(!bt(y))throw new Error("case arguments must be an array");n.push(m),o[m]=(...v)=>{const T=v.length;if(T!==y.length)throw new Error("Wrong number of arguments to case "+m+". Expected "+y.length+" ("+y+"), got "+T);return{fold:(...M)=>{if(M.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+M.length);return M[c].apply(null,v)},match:M=>{const B=oo(M);if(n.length!==B.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+`
Actual: `+B.join(","));if(!zo(n,X=>jt(B,X)))throw new Error("Not all branches were specified when using match. Specified: "+B.join(", ")+`
Required: `+n.join(", "));return M[m].apply(null,v)},log:M=>{console.log(M,{constructors:n,constructor:m,params:v})}}}}),o}};md.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const ak=e=>{const n=[],o=[];return te(e,r=>{r.fold(c=>{n.push(c)},c=>{o.push(c)})}),{errors:n,values:o}},er=e=>e.type==="inline-command"||e.type==="inline-format",zu=e=>e.type==="block-command"||e.type==="block-format",Fm=(e,n)=>(e.type==="block-command"||e.type==="block-format")&&e.trigger===n,JT=e=>{var n;const o=c=>ii.error({message:c,pattern:e}),r=(c,u,m)=>{if(e.format!==void 0){let y;if(bt(e.format)){if(!zo(e.format,ae))return o(c+" pattern has non-string items in the `format` array");y=e.format}else if(ae(e.format))y=[e.format];else return o(c+" pattern has non-string `format` parameter");return ii.value(u(y))}else return e.cmd!==void 0?ae(e.cmd)?ii.value(m(e.cmd,e.value)):o(c+" pattern has non-string `cmd` parameter"):o(c+" pattern is missing both `format` and `cmd` parameters")};if(!wt(e))return o("Raw pattern is not an object");if(!ae(e.start))return o("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!ae(e.end))return o("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return o("Inline pattern has empty `start` and `end` parameters");let c=e.start,u=e.end;return u.length===0&&(u=c,c=""),r("Inline",m=>({type:"inline-format",start:c,end:u,format:m}),(m,y)=>({type:"inline-command",start:c,end:u,cmd:m,value:y}))}else{if(e.replacement!==void 0)return ae(e.replacement)?e.start.length===0?o("Replacement pattern has empty `start` parameter"):ii.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):o("Replacement pattern has non-string `replacement` parameter");{const c=(n=e.trigger)!==null&&n!==void 0?n:"space";return e.start.length===0?o("Block pattern has empty `start` parameter"):r("Block",u=>({type:"block-format",start:e.start,format:u[0],trigger:c}),(u,m)=>({type:"block-command",start:e.start,cmd:u,value:m,trigger:c}))}}},ck=e=>be(e,zu),IC=e=>be(e,er),Yg=(e,n)=>({inlinePatterns:IC(e),blockPatterns:ck(e),dynamicPatternsLookup:n}),Ga=(e,n)=>({...e,blockPatterns:be(e.blockPatterns,o=>Fm(o,n))}),Ff=e=>{const n=ak(Qt(e,JT));return te(n.errors,o=>console.error(o.message,o.pattern)),n.values},QT=e=>n=>{const o=e(n);return Ff(o)},ik=ft().deviceType,eE=ik.isTouch(),i1=Gs.DOM,lk=e=>{const n=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return lt(n,(o,r)=>{const c=r.split("="),u=c[0],m=c.length>1?c[1]:u;return o[Dr(u)]=Dr(m),o},{})},l1=e=>en(e,RegExp),Ut=e=>n=>n.options.get(e),yy=e=>ae(e)||wt(e),uk=(e,n="")=>o=>{const r=ae(o);if(r)if(o.indexOf("=")!==-1){const c=lk(o);return{value:Uo(c,e.id).getOr(n),valid:r}}else return{value:o,valid:r};else return{valid:!1,message:"Must be a string."}},FC=e=>{const n=e.options.register;n("id",{processor:"string",default:e.id}),n("selector",{processor:"string"}),n("target",{processor:"object"}),n("suffix",{processor:"string"}),n("cache_suffix",{processor:"string"}),n("base_url",{processor:"string"}),n("referrer_policy",{processor:"string",default:""}),n("language_load",{processor:"boolean",default:!0}),n("inline",{processor:"boolean",default:!1}),n("iframe_attrs",{processor:"object",default:{}}),n("doctype",{processor:"string",default:"<!DOCTYPE html>"}),n("document_base_url",{processor:"string",default:e.documentBaseUrl}),n("body_id",{processor:uk(e,"tinymce"),default:"tinymce"}),n("body_class",{processor:uk(e),default:""}),n("content_security_policy",{processor:"string",default:""}),n("br_in_pre",{processor:"boolean",default:!0}),n("forced_root_block",{processor:o=>{const r=ae(o)&&So(o);return r?{value:o,valid:r}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),n("forced_root_block_attrs",{processor:"object",default:{}}),n("newline_behavior",{processor:o=>{const r=jt(["block","linebreak","invert","default"],o);return r?{value:o,valid:r}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),n("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),n("no_newline_selector",{processor:"string",default:""}),n("keep_styles",{processor:"boolean",default:!0}),n("end_container_on_empty_block",{processor:o=>zt(o)?{valid:!0,value:o}:ae(o)?{valid:!0,value:o}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),n("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),n("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),n("font_size_classes",{processor:"string",default:""}),n("automatic_uploads",{processor:"boolean",default:!0}),n("images_reuse_filename",{processor:"boolean",default:!1}),n("images_replace_blob_uris",{processor:"boolean",default:!0}),n("icons",{processor:"string",default:""}),n("icons_url",{processor:"string",default:""}),n("images_upload_url",{processor:"string",default:""}),n("images_upload_base_path",{processor:"string",default:""}),n("images_upload_credentials",{processor:"boolean",default:!1}),n("images_upload_handler",{processor:"function"}),n("language",{processor:"string",default:"en"}),n("language_url",{processor:"string",default:""}),n("entity_encoding",{processor:"string",default:"named"}),n("indent",{processor:"boolean",default:!0}),n("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),n("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),n("indent_use_margin",{processor:"boolean",default:!1}),n("indentation",{processor:"string",default:"40px"}),n("content_css",{processor:o=>{const r=o===!1||ae(o)||Ae(o,ae);return r?ae(o)?{value:Qt(o.split(","),Dr),valid:r}:bt(o)?{value:o,valid:r}:o===!1?{value:[],valid:r}:{value:o,valid:r}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:wy(e)?[]:["default"]}),n("content_style",{processor:"string"}),n("content_css_cors",{processor:"boolean",default:!1}),n("font_css",{processor:o=>{const r=ae(o)||Ae(o,ae);return r?{value:bt(o)?o:Qt(o.split(","),Dr),valid:r}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),n("inline_boundaries",{processor:"boolean",default:!0}),n("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),n("object_resizing",{processor:o=>{const r=zt(o)||ae(o);return r?o===!1||ik.isiPhone()||ik.isiPad()?{value:"",valid:r}:{value:o===!0?"table,img,figure.image,div,video,iframe":o,valid:r}:{valid:!1,message:"Must be boolean or a string"}},default:!eE}),n("resize_img_proportional",{processor:"boolean",default:!0}),n("event_root",{processor:"string"}),n("service_message",{processor:"string"}),n("theme",{processor:o=>o===!1||ae(o)||ue(o),default:"silver"}),n("theme_url",{processor:"string"}),n("formats",{processor:"object"}),n("format_empty_lines",{processor:"boolean",default:!1}),n("format_noneditable_selector",{processor:"string",default:""}),n("preview_styles",{processor:o=>{const r=o===!1||ae(o);return r?{value:o===!1?"":o,valid:r}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),n("custom_ui_selector",{processor:"string",default:""}),n("hidden_input",{processor:"boolean",default:!0}),n("submit_patch",{processor:"boolean",default:!0}),n("encoding",{processor:"string"}),n("add_form_submit_trigger",{processor:"boolean",default:!0}),n("add_unload_trigger",{processor:"boolean",default:!0}),n("custom_undo_redo_levels",{processor:"number",default:0}),n("disable_nodechange",{processor:"boolean",default:!1}),n("readonly",{processor:"boolean",default:!1}),n("editable_root",{processor:"boolean",default:!0}),n("plugins",{processor:"string[]",default:[]}),n("external_plugins",{processor:"object"}),n("forced_plugins",{processor:"string[]"}),n("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),n("model_url",{processor:"string"}),n("block_unsupported_drop",{processor:"boolean",default:!0}),n("visual",{processor:"boolean",default:!0}),n("visual_table_class",{processor:"string",default:"mce-item-table"}),n("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),n("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),n("setup",{processor:"function"}),n("init_instance_callback",{processor:"function"}),n("url_converter",{processor:"function",default:e.convertURL}),n("url_converter_scope",{processor:"object",default:e}),n("urlconverter_callback",{processor:"function"}),n("allow_conditional_comments",{processor:"boolean",default:!1}),n("allow_html_data_urls",{processor:"boolean",default:!1}),n("allow_svg_data_urls",{processor:"boolean"}),n("allow_html_in_named_anchor",{processor:"boolean",default:!1}),n("allow_script_urls",{processor:"boolean",default:!1}),n("allow_unsafe_link_target",{processor:"boolean",default:!1}),n("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),n("fix_list_elements",{processor:"boolean",default:!1}),n("preserve_cdata",{processor:"boolean",default:!1}),n("remove_trailing_brs",{processor:"boolean",default:!0}),n("pad_empty_with_br",{processor:"boolean",default:!1}),n("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),n("element_format",{processor:"string",default:"html"}),n("entities",{processor:"string"}),n("schema",{processor:"string",default:"html5"}),n("convert_urls",{processor:"boolean",default:!0}),n("relative_urls",{processor:"boolean",default:!0}),n("remove_script_host",{processor:"boolean",default:!0}),n("custom_elements",{processor:yy}),n("extended_valid_elements",{processor:"string"}),n("invalid_elements",{processor:"string"}),n("invalid_styles",{processor:yy}),n("valid_children",{processor:"string"}),n("valid_classes",{processor:yy}),n("valid_elements",{processor:"string"}),n("valid_styles",{processor:yy}),n("verify_html",{processor:"boolean",default:!0}),n("auto_focus",{processor:o=>ae(o)||o===!0}),n("browser_spellcheck",{processor:"boolean",default:!1}),n("protect",{processor:"array"}),n("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),n("deprecation_warnings",{processor:"boolean",default:!0}),n("a11y_advanced_options",{processor:"boolean",default:!1}),n("api_key",{processor:"string"}),n("license_key",{processor:"string"}),n("paste_block_drop",{processor:"boolean",default:!1}),n("paste_data_images",{processor:"boolean",default:!0}),n("paste_preprocess",{processor:"function"}),n("paste_postprocess",{processor:"function"}),n("paste_webkit_styles",{processor:"string",default:"none"}),n("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),n("paste_merge_formats",{processor:"boolean",default:!0}),n("smart_paste",{processor:"boolean",default:!0}),n("paste_as_text",{processor:"boolean",default:!1}),n("paste_tab_spaces",{processor:"number",default:4}),n("text_patterns",{processor:o=>Ae(o,wt)||o===!1?{value:Ff(o===!1?[]:o),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1",trigger:"space"},{start:"##",format:"h2",trigger:"space"},{start:"###",format:"h3",trigger:"space"},{start:"####",format:"h4",trigger:"space"},{start:"#####",format:"h5",trigger:"space"},{start:"######",format:"h6",trigger:"space"},{start:"1.",cmd:"InsertOrderedList",trigger:"space"},{start:"*",cmd:"InsertUnorderedList",trigger:"space"},{start:"-",cmd:"InsertUnorderedList",trigger:"space"},{start:">",cmd:"mceBlockQuote",trigger:"space"},{start:"---",cmd:"InsertHorizontalRule",trigger:"space"}]}),n("text_patterns_lookup",{processor:o=>ue(o)?{value:QT(o),valid:!0}:{valid:!1,message:"Must be a single function"},default:o=>[]}),n("noneditable_class",{processor:"string",default:"mceNonEditable"}),n("editable_class",{processor:"string",default:"mceEditable"}),n("noneditable_regexp",{processor:o=>Ae(o,l1)?{value:o,valid:!0}:l1(o)?{value:[o],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),n("table_tab_navigation",{processor:"boolean",default:!0}),n("highlight_on_focus",{processor:"boolean",default:!0}),n("xss_sanitization",{processor:"boolean",default:!0}),n("details_initial_state",{processor:o=>{const r=jt(["inherited","collapsed","expanded"],o);return r?{value:o,valid:r}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),n("details_serialized_state",{processor:o=>{const r=jt(["inherited","collapsed","expanded"],o);return r?{value:o,valid:r}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),n("init_content_sync",{processor:"boolean",default:!1}),n("newdocument_content",{processor:"string",default:""}),n("sandbox_iframes",{processor:"boolean",default:!0}),n("sandbox_iframes_exclusions",{processor:"string[]",default:["youtube.com","youtu.be","vimeo.com","player.vimeo.com","dailymotion.com","embed.music.apple.com","open.spotify.com","giphy.com","dai.ly","codepen.io"]}),n("convert_unsafe_embeds",{processor:"boolean",default:!0}),e.on("ScriptsLoaded",()=>{n("directionality",{processor:"string",default:qa.isRtl()?"rtl":void 0}),n("placeholder",{processor:"string",default:i1.getAttrib(e.getElement(),"placeholder")})})},LC=Ut("iframe_attrs"),tE=Ut("doctype"),mc=Ut("document_base_url"),nE=Ut("body_id"),Lm=Ut("body_class"),dk=Ut("content_security_policy"),HC=Ut("br_in_pre"),Sc=Ut("forced_root_block"),Hm=Ut("forced_root_block_attrs"),Lf=Ut("newline_behavior"),VC=Ut("br_newline_selector"),oE=Ut("no_newline_selector"),sE=Ut("keep_styles"),Ca=Ut("end_container_on_empty_block"),Ir=Ut("automatic_uploads"),ms=Ut("images_reuse_filename"),xc=Ut("images_replace_blob_uris"),Sa=Ut("icons"),xa=Ut("icons_url"),u1=Ut("images_upload_url"),d1=Ut("images_upload_base_path"),UC=Ut("images_upload_credentials"),jC=Ut("images_upload_handler"),WC=Ut("content_css_cors"),f1=Ut("referrer_policy"),Vm=Ut("language"),m1=Ut("language_url"),rE=Ut("indent_use_margin"),Qp=Ut("indentation"),aE=Ut("content_css"),cE=Ut("content_style"),Di=Ut("font_css"),fD=Ut("directionality"),ZC=Ut("inline_boundaries_selector"),bl=Ut("object_resizing"),g1=Ut("resize_img_proportional"),by=Ut("placeholder"),gd=Ut("event_root"),li=Ut("service_message"),Um=Ut("theme"),fk=Ut("theme_url"),p1=Ut("model"),qC=Ut("model_url"),Hf=Ut("inline_boundaries"),GC=Ut("formats"),mk=Ut("preview_styles"),KC=Ut("format_empty_lines"),vy=Ut("format_noneditable_selector"),ky=Ut("custom_ui_selector"),wy=Ut("inline"),iE=Ut("hidden_input"),h1=Ut("submit_patch"),lE=Ut("add_form_submit_trigger"),YC=Ut("add_unload_trigger"),uE=Ut("custom_undo_redo_levels"),y1=Ut("disable_nodechange"),XC=Ut("readonly"),dE=Ut("editable_root"),gk=Ut("content_css_cors"),b1=Ut("plugins"),fE=Ut("external_plugins"),JC=Ut("block_unsupported_drop"),ui=Ut("visual"),pk=Ut("visual_table_class"),hk=Ut("visual_anchor_class"),yk=Ut("iframe_aria_text"),v1=Ut("setup"),mE=Ut("init_instance_callback"),k1=Ut("urlconverter_callback"),QC=Ut("auto_focus"),bk=Ut("browser_spellcheck"),vk=Ut("protect"),eS=Ut("paste_block_drop"),eh=Ut("paste_data_images"),tS=Ut("paste_preprocess"),nS=Ut("paste_postprocess"),oS=Ut("newdocument_content"),gE=Ut("paste_webkit_styles"),sS=Ut("paste_remove_styles_if_webkit"),rS=Ut("paste_merge_formats"),pE=Ut("smart_paste"),w1=Ut("paste_as_text"),aS=Ut("paste_tab_spaces"),th=Ut("allow_html_data_urls"),cS=Ut("text_patterns"),kk=Ut("text_patterns_lookup"),iS=Ut("noneditable_class"),hE=Ut("editable_class"),Ou=Ut("noneditable_regexp"),_1=Ut("preserve_cdata"),C1=Ut("highlight_on_focus"),Tc=Ut("xss_sanitization"),mD=Ut("init_content_sync"),vl=e=>e.options.isSet("text_patterns_lookup"),wk=e=>ut.explode(e.options.get("font_size_style_values")),yE=e=>ut.explode(e.options.get("font_size_classes")),jm=e=>e.options.get("encoding")==="xml",_y=e=>ut.explode(e.options.get("images_file_types")),bE=Ut("table_tab_navigation"),lS=Ut("details_initial_state"),_k=Ut("details_serialized_state"),uS=Ut("sandbox_iframes"),S1=e=>e.options.get("sandbox_iframes_exclusions"),Cy=Ut("convert_unsafe_embeds"),dS=Ut("license_key"),fS=Ut("api_key"),vE=Nt,x1=ct,T1=e=>{const n=e.parentNode;n&&n.removeChild(e)},kE=e=>{const n=ri(e);return{count:e.length-n.length,text:n}},nh=e=>{let n;for(;(n=e.data.lastIndexOf(Ia))!==-1;)e.deleteData(n,1)},mS=(e,n)=>(Xg(e),n),E1=(e,n)=>{const o=kE(e.data.substr(0,n.offset())),r=kE(e.data.substr(n.offset()));return(o.text+r.text).length>0?(nh(e),Ue(e,n.offset()-o.count)):n},Ck=(e,n)=>{const o=n.container(),r=sa(is(o.childNodes),e).map(c=>c<n.offset()?Ue(o,n.offset()-1):n).getOr(n);return Xg(e),r},A1=(e,n)=>x1(e)&&n.container()===e?E1(e,n):mS(e,n),wE=(e,n)=>n.container()===e.parentNode?Ck(e,n):mS(e,n),gS=(e,n)=>Ue.isTextPosition(n)?A1(e,n):wE(e,n),Xg=e=>{vE(e)&&Xi(e)&&(vC(e)?e.removeAttribute("data-mce-caret"):T1(e)),x1(e)&&(nh(e),e.data.length===0&&T1(e))},pS=Lo,Sy=_c,Wm=Mg,xy="*[contentEditable=false],video,audio,embed,object",hS=(e,n,o)=>{const r=Kb(n.getBoundingClientRect(),o);let c,u;if(e.tagName==="BODY"){const y=e.ownerDocument.documentElement;c=e.scrollLeft||y.scrollLeft,u=e.scrollTop||y.scrollTop}else{const y=e.getBoundingClientRect();c=e.scrollLeft-y.left,u=e.scrollTop-y.top}r.left+=c,r.right+=c,r.top+=u,r.bottom+=u,r.width=1;let m=n.offsetWidth-n.clientWidth;return m>0&&(o&&(m*=-1),r.left+=m,r.right+=m),r},yS=e=>{var n,o;const r=dc(ie.fromDom(e),xy);for(let c=0;c<r.length;c++){const u=r[c].dom;let m=u.previousSibling;if(Eo(m)){const y=m.data;y.length===1?(n=m.parentNode)===null||n===void 0||n.removeChild(m):m.deleteData(y.length-1,1)}m=u.nextSibling,Rm(m)&&(m.data.length===1?(o=m.parentNode)===null||o===void 0||o.removeChild(m):m.deleteData(0,1))}},gD=(e,n,o,r)=>{const c=Cc();let u,m;const y=Sc(e),v=e.dom,T=(q,ee)=>{let de;if(R(),Wm(ee))return null;if(o(ee)){const _e=qg(y,ee,q),ke=hS(n,ee,q);v.setStyle(_e,"top",ke.top),v.setStyle(_e,"caret-color","transparent"),m=_e;const Re=v.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});v.setStyles(Re,{...ke}),v.add(n,Re),c.set({caret:Re,element:ee,before:q}),q&&v.addClass(Re,"mce-visual-caret-before"),M(),de=ee.ownerDocument.createRange(),de.setStart(_e,0),de.setEnd(_e,0)}else return m=my(ee,q),de=ee.ownerDocument.createRange(),oh(m.nextSibling)?(de.setStart(m,0),de.setEnd(m,0)):(de.setStart(m,1),de.setEnd(m,1)),de;return de},R=()=>{yS(n),m&&(Xg(m),m=null),c.on(q=>{v.remove(q.caret),c.clear()}),u&&(clearInterval(u),u=void 0)},M=()=>{u=setInterval(()=>{c.on(q=>{r()?v.toggleClass(q.caret,"mce-visual-caret-hidden"):v.addClass(q.caret,"mce-visual-caret-hidden")})},500)};return{show:T,hide:R,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{c.on(q=>{const ee=hS(n,q.element,q.before);v.setStyles(q.caret,{...ee})})},destroy:()=>clearInterval(u)}},_E=()=>rn.browser.isFirefox(),oh=e=>pS(e)||Sy(e),Xd=e=>(oh(e)||Ul(e)&&_E())&&wf(ie.fromDom(e)).exists(ka),CE=Ke,Sk=Lo,bS=_c,vS=Dg("display","block table table-cell table-caption list-item"),kS=Xi,xk=Dm,wS=Nt,Zm=ct,_S=hl,Jg=e=>e>0,qm=e=>e<0,Ty=(e,n)=>{let o;for(;o=e(n);)if(!xk(o))return o;return null},sh=(e,n,o,r,c)=>{const u=new Wa(e,r),m=Sk(e)||xk(e);let y;if(qm(n)){if(m&&(y=Ty(u.prev.bind(u),!0),o(y)))return y;for(;y=Ty(u.prev.bind(u),c);)if(o(y))return y}if(Jg(n)){if(m&&(y=Ty(u.next.bind(u),!0),o(y)))return y;for(;y=Ty(u.next.bind(u),c);)if(o(y))return y}return null},z1=(e,n)=>{const o=c=>CE(c.dom),r=c=>c.dom===n;return Zs(ie.fromDom(e),o,r).map(c=>c.dom).getOr(n)},Gm=(e,n)=>{for(;e&&e!==n;){if(vS(e))return e;e=e.parentNode}return null},kl=(e,n,o)=>Gm(e.container(),o)===Gm(n.container(),o),Tk=(e,n)=>{if(!n)return $.none();const o=n.container(),r=n.offset();return wS(o)?$.from(o.childNodes[r+e]):$.none()},SE=(e,n)=>{var o;const c=((o=n.ownerDocument)!==null&&o!==void 0?o:document).createRange();return e?(c.setStartBefore(n),c.setEndBefore(n)):(c.setStartAfter(n),c.setEndAfter(n)),c},rh=(e,n,o)=>Gm(n,e)===Gm(o,e),CS=(e,n,o)=>{const r=e?"previousSibling":"nextSibling";let c=o;for(;c&&c!==n;){let u=c[r];if(u&&kS(u)&&(u=u[r]),Sk(u)||bS(u)){if(rh(n,u,c))return u;break}if(_S(u))break;c=c.parentNode}return null},ah=he(SE,!0),ch=he(SE,!1),gc=(e,n,o)=>{let r;const c=he(CS,!0,n),u=he(CS,!1,n),m=o.startContainer,y=o.startOffset;if(Dm(m)){const v=Zm(m)?m.parentNode:m,T=v.getAttribute("data-mce-caret");if(T==="before"&&(r=v.nextSibling,Xd(r)))return ah(r);if(T==="after"&&(r=v.previousSibling,Xd(r)))return ch(r)}if(!o.collapsed)return o;if(ct(m)){if(kS(m)){if(e===1){if(r=u(m),r)return ah(r);if(r=c(m),r)return ch(r)}if(e===-1){if(r=c(m),r)return ch(r);if(r=u(m),r)return ah(r)}return o}if(Eo(m)&&y>=m.data.length-1)return e===1&&(r=u(m),r)?ah(r):o;if(Rm(m)&&y<=1)return e===-1&&(r=c(m),r)?ch(r):o;if(y===m.data.length)return r=u(m),r?ah(r):o;if(y===0)return r=c(m),r?ch(r):o}return o},O1=(e,n)=>Tk(e?0:-1,n).filter(Sk),Ey=(e,n,o)=>{const r=gc(e,n,o);return e===-1?Ue.fromRangeStart(r):Ue.fromRangeEnd(r)},D1=e=>$.from(e.getNode()).map(ie.fromDom),SS=e=>$.from(e.getNode(!0)).map(ie.fromDom),Ek=(e,n)=>{let o=n;for(;o=e(o);)if(o.isVisible())return o;return o},R1=(e,n)=>{const o=kl(e,n);return!o&&Fo(e.getNode())?!0:o};var fa;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})(fa||(fa={}));const M1=Lo,Jd=ct,xS=Nt,Ak=Fo,Vf=hl,Ay=HT,ih=Jb,N1=(e,n)=>{const o=[];let r=e;for(;r&&r!==n;)o.push(r),r=r.parentNode;return o},P1=(e,n)=>e.hasChildNodes()&&n<e.childNodes.length?e.childNodes[n]:null,Km=(e,n)=>{if(Jg(e)){if(Vf(n.previousSibling)&&!Jd(n.previousSibling))return Ue.before(n);if(Jd(n))return Ue(n,0)}if(qm(e)){if(Vf(n.nextSibling)&&!Jd(n.nextSibling))return Ue.after(n);if(Jd(n))return Ue(n,n.data.length)}return qm(e)?Ak(n)?Ue.before(n):Ue.after(n):Ue.before(n)},xE=(e,n)=>{const o=n.nextSibling;return o&&Vf(o)?Jd(o)?Ue(o,0):Ue.before(o):el(fa.Forwards,Ue.after(n),e)},el=(e,n,o)=>{let r,c,u,m;if(!xS(o)||!n)return null;if(n.isEqual(Ue.after(o))&&o.lastChild){if(m=Ue.after(o.lastChild),qm(e)&&Vf(o.lastChild)&&xS(o.lastChild))return Ak(o.lastChild)?Ue.before(o.lastChild):m}else m=n;const y=m.container();let v=m.offset();if(Jd(y)){if(qm(e)&&v>0)return Ue(y,--v);if(Jg(e)&&v<y.length)return Ue(y,++v);r=y}else{if(qm(e)&&v>0&&(c=P1(y,v-1),Vf(c)))return!Ay(c)&&(u=sh(c,e,ih,c),u)?Jd(u)?Ue(u,u.data.length):Ue.after(u):Jd(c)?Ue(c,c.data.length):Ue.before(c);if(Jg(e)&&v<y.childNodes.length&&(c=P1(y,v),Vf(c)))return Ak(c)?xE(o,c):!Ay(c)&&(u=sh(c,e,ih,c),u)?Jd(u)?Ue(u,0):Ue.before(u):Jd(c)?Ue(c,0):Ue.after(c);r=c||m.getNode()}if(r&&(Jg(e)&&m.isAtEnd()||qm(e)&&m.isAtStart())&&(r=sh(r,e,Qe,o,!0),ih(r,o)))return Km(e,r);c=r&&sh(r,e,ih,o);const T=Pe(be(N1(y,o),M1));return T&&(!c||!T.contains(c))?(Jg(e)?m=Ue.after(T):m=Ue.before(T),m):c?Km(e,c):null},pd=e=>({next:n=>el(fa.Forwards,n,e),prev:n=>el(fa.Backwards,n,e)}),zk=(e,n,o)=>{const r=e?Ue.before(o):Ue.after(o);return Ri(e,n,r)},TS=e=>Fo(e)?Ue.before(e):Ue.after(e),ES=e=>Ue.isTextPosition(e)?e.offset()===0:hl(e.getNode()),Ok=e=>{if(Ue.isTextPosition(e)){const n=e.container();return e.offset()===n.data.length}else return hl(e.getNode(!0))},Dk=(e,n)=>!Ue.isTextPosition(e)&&!Ue.isTextPosition(n)&&e.getNode()===n.getNode(!0),AS=e=>!Ue.isTextPosition(e)&&Fo(e.getNode()),zS=(e,n,o)=>e?!Dk(n,o)&&!AS(n)&&Ok(n)&&ES(o):!Dk(o,n)&&ES(n)&&Ok(o),Ri=(e,n,o)=>{const r=pd(n);return $.from(e?r.next(o):r.prev(o))},Qg=(e,n,o)=>Ri(e,n,o).bind(r=>kl(o,r,n)&&zS(e,o,r)?Ri(e,n,r):$.some(r)),Rk=(e,n,o,r)=>Qg(e,n,o).bind(c=>r(c)?Rk(e,n,c,r):$.some(c)),Ym=(e,n)=>{const o=e?n.firstChild:n.lastChild;return ct(o)?$.some(Ue(o,e?0:o.data.length)):o?hl(o)?$.some(e?Ue.before(o):TS(o)):zk(e,n,o):$.none()},Mi=he(Ri,!0),tl=he(Ri,!1),Ec=he(Ym,!0),Xl=he(Ym,!1),B1="_mce_caret",Jl=e=>Nt(e)&&e.id===B1,ep=(e,n)=>{let o=n;for(;o&&o!==e;){if(Jl(o))return o;o=o.parentNode}return null},TE=e=>ae(e.start),Mk=e=>fn(e,"rng"),EE=e=>fn(e,"id"),AE=e=>fn(e,"name"),OS=e=>ut.isArray(e.start),$1=e=>!AE(e)&&zt(e.forward)?e.forward:!0,I1=(e,n)=>(Nt(n)&&e.isBlock(n)&&!n.innerHTML&&(n.innerHTML='<br data-mce-bogus="1" />'),n),Hc=(e,n)=>{const o=$.from(o1(e.getRoot(),n.start)),r=$.from(o1(e.getRoot(),n.end));return Zn(o,r,(c,u)=>{const m=e.createRng();return m.setStart(c.container(),c.offset()),m.setEnd(u.container(),u.offset()),{range:m,forward:$1(n)}})},lh=(e,n)=>{var o;const c=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(Ia);e.appendChild(c),n.setStart(c,0),n.setEnd(c,0)},uh=e=>!e.hasChildNodes(),zy=(e,n)=>Xl(e).fold(we,o=>(n.setStart(o.container(),o.offset()),n.setEnd(o.container(),o.offset()),!0)),Nk=(e,n,o)=>uh(n)&&ep(e,n)?(lh(n,o),!0):!1,Oy=(e,n,o,r)=>{const c=o[n?"start":"end"],u=e.getRoot();if(c){let m=u,y=c[0];for(let v=c.length-1;m&&v>=1;v--){const T=m.childNodes;if(Nk(u,m,r))return!0;if(c[v]>T.length-1)return Nk(u,m,r)?!0:zy(m,r);m=T[c[v]]}ct(m)&&(y=Math.min(c[0],m.data.length)),Nt(m)&&(y=Math.min(c[0],m.childNodes.length)),n?r.setStart(m,y):r.setEnd(m,y)}return!0},Dy=e=>ct(e)&&e.data.length>0,tp=(e,n,o)=>{const r=e.get(o.id+"_"+n),c=r==null?void 0:r.parentNode,u=o.keep;if(r&&c){let m,y;if(n==="start"?u?r.hasChildNodes()?(m=r.firstChild,y=1):Dy(r.nextSibling)?(m=r.nextSibling,y=0):Dy(r.previousSibling)?(m=r.previousSibling,y=r.previousSibling.data.length):(m=c,y=e.nodeIndex(r)+1):(m=c,y=e.nodeIndex(r)):u?r.hasChildNodes()?(m=r.firstChild,y=1):Dy(r.previousSibling)?(m=r.previousSibling,y=r.previousSibling.data.length):(m=c,y=e.nodeIndex(r)):(m=c,y=e.nodeIndex(r)),!u){const v=r.previousSibling,T=r.nextSibling;ut.each(ut.grep(r.childNodes),M=>{ct(M)&&(M.data=M.data.replace(/\uFEFF/g,""))});let R;for(;R=e.get(o.id+"_"+n);)e.remove(R,!0);if(ct(T)&&ct(v)&&!rn.browser.isOpera()){const M=v.data.length;v.appendData(T.data),e.remove(T),m=v,y=M}}return $.some(Ue(m,y))}else return $.none()},Pk=(e,n)=>{const o=e.createRng();return Oy(e,!0,n,o)&&Oy(e,!1,n,o)?$.some({range:o,forward:$1(n)}):$.none()},F1=(e,n)=>{const o=tp(e,"start",n),r=tp(e,"end",n);return Zn(o,r.or(o),(c,u)=>{const m=e.createRng();return m.setStart(I1(e,c.container()),c.offset()),m.setEnd(I1(e,u.container()),u.offset()),{range:m,forward:$1(n)}})},Du=(e,n)=>$.from(e.select(n.name)[n.index]).map(o=>{const r=e.createRng();return r.selectNode(o),{range:r,forward:!0}}),DS=(e,n)=>{const o=e.dom;if(n){if(OS(n))return Pk(o,n);if(TE(n))return Hc(o,n);if(EE(n))return F1(o,n);if(AE(n))return Du(o,n);if(Mk(n))return $.some({range:n.rng,forward:$1(n)})}return $.none()},RS=(e,n,o)=>BC(e,n,o),Uf=(e,n)=>{DS(e,n).each(({range:o,forward:r})=>{e.setRng(o,r)})},wl=e=>Nt(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark",np=(e=>n=>e===n)(Qr),Xm=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,Bk=e=>!Xm(e)&&!np(e)&&!Rb(e),L1=e=>{const n=[];if(e)for(let o=0;o<e.rangeCount;o++)n.push(e.getRangeAt(o));return n},MS=e=>co(e,n=>{const o=Ji(n);return o?[ie.fromDom(o)]:[]}),zE=e=>L1(e).length>1,OE=e=>be(MS(e),fy),op=e=>dc(e,"td[data-mce-selected],th[data-mce-selected]"),$k=(e,n)=>{const o=op(n);return o.length>0?o:OE(e)},dh=e=>$k(L1(e.selection.getSel()),ie.fromDom(e.getBody())),My=(e,n)=>jr(e,"table",n),DE=e=>{const n=e.startContainer,o=e.startOffset;return ct(n)?o===0?$.some(ie.fromDom(n)):$.none():$.from(n.childNodes[o]).map(ie.fromDom)},H1=e=>{const n=e.endContainer,o=e.endOffset;return ct(n)?o===n.data.length?$.some(ie.fromDom(n)):$.none():$.from(n.childNodes[o-1]).map(ie.fromDom)},Ik=e=>lc(e).fold(Me([e]),n=>[e].concat(Ik(n))),Fk=e=>Xu(e).fold(Me([e]),n=>vo(n)==="br"?Fl(n).map(o=>[e].concat(Fk(o))).getOr([]):[e].concat(Fk(n))),V1=(e,n)=>Zn(DE(n),H1(n),(o,r)=>{const c=Lt(Ik(e),he(Qn,o)),u=Lt(Fk(e),he(Qn,r));return c.isSome()&&u.isSome()}).getOr(!1),Lk=(e,n,o,r)=>{const c=o,u=new Wa(o,c),m=Io(e.schema.getMoveCaretBeforeOnEnterElements(),(v,T)=>!jt(["td","th","table"],T.toLowerCase()));let y=o;do{if(ct(y)&&ut.trim(y.data).length!==0){r?n.setStart(y,0):n.setEnd(y,y.data.length);return}if(m[y.nodeName]){r?n.setStartBefore(y):y.nodeName==="BR"?n.setEndBefore(y):n.setEndAfter(y);return}}while(y=r?u.next():u.prev());c.nodeName==="BODY"&&(r?n.setStart(c,0):n.setEnd(c,c.childNodes.length))},fh=e=>{const n=e.selection.getSel();return Ne(n)&&n.rangeCount>0},U1=(e,n)=>{const o=dh(e);o.length>0?te(o,r=>{const c=r.dom,u=e.dom.createRng();u.setStartBefore(c),u.setEndAfter(c),n(u,!0)}):n(e.selection.getRng(),!1)},j1=(e,n,o)=>{const r=sk(e,n);o(r),e.moveToBookmark(r)},W1=e=>Wo(e==null?void 0:e.nodeType),Z1=e=>Nt(e)&&!wl(e)&&!Jl(e)&&!Ef(e),Do=(e,n)=>{if(Z1(n)&&!/^(TD|TH)$/.test(n.nodeName)){const o=e.getAttrib(n,"data-mce-selected"),r=parseInt(o,10);return!isNaN(r)&&r>0}else return!1},Qd=(e,n,o)=>{const{selection:r,dom:c}=e,u=r.getNode(),m=Lo(u);j1(r,!0,()=>{n()}),m&&Lo(u)&&c.isChildOf(u,e.getBody())?e.selection.select(u):o(r.getStart())&&sp(c,r)},sp=(e,n)=>{var o,r;const c=n.getRng(),{startContainer:u,startOffset:m}=c,y=n.getNode();if(!Do(e,y)&&Nt(u)){const v=u.childNodes,T=e.getRoot();let R;if(m<v.length){const M=v[m];R=new Wa(M,(o=e.getParent(M,e.isBlock))!==null&&o!==void 0?o:T)}else{const M=v[v.length-1];R=new Wa(M,(r=e.getParent(M,e.isBlock))!==null&&r!==void 0?r:T),R.next(!0)}for(let M=R.current();M;M=R.next()){if(e.getContentEditable(M)==="false")return;if(ct(M)&&!K1(M)){c.setStart(M,0),n.setRng(c);return}}}},q1=(e,n,o)=>{if(e){const r=n?"nextSibling":"previousSibling";for(e=o?e:e[r];e;e=e[r])if(Nt(e)||!K1(e))return e}},G1=(e,n)=>!!e.getTextBlockElements()[n.nodeName.toLowerCase()]||xu(e,n),Jm=(e,n,o)=>e.schema.isValidChild(n,o),K1=(e,n=!1)=>{if(Ne(e)&&ct(e)){const o=n?e.data.replace(/ /g," "):e.data;return Si(o)}else return!1},Hk=e=>Ne(e)&&ct(e)&&e.length===0,Vk=(e,n)=>{const o="[data-mce-cef-wrappable]",r=vy(e),c=ca(r)?o:`${o},${r}`;return fl(ie.fromDom(n),c)},Uk=(e,n)=>{const o=e.dom;return Z1(n)&&o.getContentEditable(n)==="false"&&Vk(e,n)&&o.select('[contenteditable="true"]',n).length===0},jf=(e,n)=>ue(e)?e(n):(Ne(n)&&(e=e.replace(/%(\w+)/g,(o,r)=>n[r]||o)),e),rp=(e,n)=>(e=e||"",n=n||"",e=""+(e.nodeName||e),n=""+(n.nodeName||n),e.toLowerCase()===n.toLowerCase()),NS=(e,n)=>{if(gn(e))return null;{let o=String(e);return(n==="color"||n==="backgroundColor")&&(o=ud(o)),n==="fontWeight"&&e===700&&(o="bold"),n==="fontFamily"&&(o=o.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),o}},Ny=(e,n,o)=>{const r=e.getStyle(n,o);return NS(r,o)},jk=(e,n)=>{let o;return e.getParent(n,r=>Nt(r)?(o=e.getStyle(r,"text-decoration"),!!o&&o!=="none"):!1),o},Y1=(e,n,o)=>e.getParents(n,o,e.getRoot()),X1=(e,n,o)=>{const r=e.formatter.get(n);return Ne(r)&&jn(r,o)},Wk=(e,n)=>X1(e,n,r=>{const c=u=>ue(u)||u.length>1&&u.charAt(0)==="%";return jn(["styles","attributes"],u=>Uo(r,u).exists(m=>{const y=bt(m)?m:Dc(m);return jn(y,c)}))}),PS=(e,n,o)=>{const r=["inline","block","selector","attributes","styles","classes"],c=u=>Io(u,(m,y)=>jn(r,v=>v===y));return X1(e,n,u=>{const m=c(u);return X1(e,o,y=>{const v=c(y);return nc(m,v)})})},Wf=e=>Ks(e,"block"),J1=e=>Wf(e)&&e.wrapper===!0,BS=e=>Wf(e)&&e.wrapper!==!0,Ql=e=>Ks(e,"selector"),Ka=e=>Ks(e,"inline"),Zf=e=>Ql(e)&&Ka(e)&&As(Uo(e,"mixed"),!0),Zk=e=>Ql(e)&&e.expand!==!1&&!Ka(e),RE=e=>{const n=[];let o=e;for(;o;){if(ct(o)&&o.data!==Ia||o.childNodes.length>1)return[];Nt(o)&&n.push(o),o=o.firstChild}return n},Q1=e=>RE(e).length>0,qk=e=>Jl(e.dom)&&Q1(e.dom),mh=wl,$S=Y1,ME=K1,pD=G1,NE=e=>Fo(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,IS=(e,n)=>{let o=n;for(;o;){if(Nt(o)&&e.getContentEditable(o))return e.getContentEditable(o)==="false"?o:n;o=o.parentNode}return n},FS=(e,n,o,r)=>{const c=n.data;if(e){for(let u=o;u>0;u--)if(r(c.charAt(u-1)))return u}else for(let u=o;u<c.length;u++)if(r(c.charAt(u)))return u;return-1},It=(e,n,o)=>FS(e,n,o,r=>np(r)||Xm(r)),Ya=(e,n,o)=>FS(e,n,o,Bk),Py=(e,n,o,r,c,u)=>{let m;const y=e.getParent(o,e.isBlock)||n,v=(R,M,B)=>{const W=jg(e),X=c?W.backwards:W.forwards;return $.from(X(R,M,(q,ee)=>mh(q.parentNode)?-1:(m=q,B(c,q,ee)),y))};return v(o,r,It).bind(R=>u?v(R.container,R.offset+(c?-1:0),Ya):$.some(R)).orThunk(()=>m?$.some({container:m,offset:c?0:m.length}):$.none())},Xa=(e,n,o,r,c)=>{const u=r[c];ct(r)&&ca(r.data)&&u&&(r=u);const m=$S(e,r);for(let y=0;y<m.length;y++)for(let v=0;v<n.length;v++){const T=n[v];if(!(Ne(T.collapsed)&&T.collapsed!==o.collapsed)&&Ql(T)&&e.is(m[y],T.selector))return m[y]}return r},eu=(e,n,o,r)=>{var c;let u=o;const m=e.getRoot(),y=n[0];if(Wf(y)&&(u=y.wrapper?null:e.getParent(o,y.block,m)),!u){const v=(c=e.getParent(o,"LI,TD,TH,SUMMARY"))!==null&&c!==void 0?c:m;u=e.getParent(ct(o)?o.parentNode:o,T=>T!==m&&pD(e.schema,T),v)}if(u&&Wf(y)&&y.wrapper&&(u=$S(e,u,"ul,ol").reverse()[0]||u),!u)for(u=o;u&&u[r]&&!e.isBlock(u[r])&&(u=u[r],!rp(u,"br")););return u||o},Gk=(e,n,o,r)=>{const c=o.parentNode;return Ne(o[r])?!1:c===n||gn(c)||e.isBlock(c)?!0:Gk(e,n,c,r)},ap=(e,n,o,r,c)=>{let u=o;const m=c?"previousSibling":"nextSibling",y=e.getRoot();if(ct(o)&&!ME(o)&&(c?r>0:r<o.data.length))return o;for(;u;){if(!n[0].block_expand&&e.isBlock(u))return u;for(let v=u[m];v;v=v[m]){const T=ct(v)&&!Gk(e,y,v,m);if(!mh(v)&&!NE(v)&&!ME(v,T))return u}if(u===y||u.parentNode===y){o=u;break}u=u.parentNode}return o},By=e=>mh(e.parentNode)||mh(e),cp=(e,n,o,r=!1)=>{let{startContainer:c,startOffset:u,endContainer:m,endOffset:y}=n;const v=o[0];return Nt(c)&&c.hasChildNodes()&&(c=Nm(c,u),ct(c)&&(u=0)),Nt(m)&&m.hasChildNodes()&&(m=Nm(m,n.collapsed?y:y-1),ct(m)&&(y=m.data.length)),c=IS(e,c),m=IS(e,m),By(c)&&(c=mh(c)?c:c.parentNode,n.collapsed?c=c.previousSibling||c:c=c.nextSibling||c,ct(c)&&(u=n.collapsed?c.length:0)),By(m)&&(m=mh(m)?m:m.parentNode,n.collapsed?m=m.nextSibling||m:m=m.previousSibling||m,ct(m)&&(y=n.collapsed?0:m.length)),n.collapsed&&(Py(e,e.getRoot(),c,u,!0,r).each(({container:M,offset:B})=>{c=M,u=B}),Py(e,e.getRoot(),m,y,!1,r).each(({container:M,offset:B})=>{m=M,y=B})),(Ka(v)||v.block_expand)&&((!Ka(v)||!ct(c)||u===0)&&(c=ap(e,o,c,u,!0)),(!Ka(v)||!ct(m)||y===m.data.length)&&(m=ap(e,o,m,y,!1))),Zk(v)&&(c=Xa(e,o,n,c,"previousSibling"),m=Xa(e,o,n,m,"nextSibling")),(Wf(v)||Ql(v))&&(c=eu(e,o,c,"previousSibling"),m=eu(e,o,m,"nextSibling"),Wf(v)&&(e.isBlock(c)||(c=ap(e,o,c,u,!0),ct(c)&&(u=0)),e.isBlock(m)||(m=ap(e,o,m,y,!1),ct(m)&&(y=m.data.length)))),Nt(c)&&c.parentNode&&(u=e.nodeIndex(c),c=c.parentNode),Nt(m)&&m.parentNode&&(y=e.nodeIndex(m)+1,m=m.parentNode),{startContainer:c,startOffset:u,endContainer:m,endOffset:y}},$y=(e,n,o)=>{var r;const c=n.startOffset,u=Nm(n.startContainer,c),m=n.endOffset,y=Nm(n.endContainer,m-1),v=ee=>{const de=ee[0];ct(de)&&de===u&&c>=de.data.length&&ee.splice(0,1);const _e=ee[ee.length-1];return m===0&&ee.length>0&&_e===y&&ct(_e)&&ee.splice(ee.length-1,1),ee},T=(ee,de,_e)=>{const ke=[];for(;ee&&ee!==_e;ee=ee[de])ke.push(ee);return ke},R=(ee,de)=>e.getParent(ee,_e=>_e.parentNode===de,de),M=(ee,de,_e)=>{const ke=_e?"nextSibling":"previousSibling";for(let Re=ee,tt=Re.parentNode;Re&&Re!==de;Re=tt){tt=Re.parentNode;const kt=T(Re===ee?Re:Re[ke],ke);kt.length&&(_e||kt.reverse(),o(v(kt)))}};if(u===y)return o(v([u]));const B=(r=e.findCommonAncestor(u,y))!==null&&r!==void 0?r:e.getRoot();if(e.isChildOf(u,y))return M(u,B,!0);if(e.isChildOf(y,u))return M(y,B);const W=R(u,B)||u,X=R(y,B)||y;M(u,W,!0);const q=T(W===u?W:W.nextSibling,"nextSibling",X===y?X.nextSibling:X);q.length&&o(v(q)),M(y,X)},LS=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],PE=e=>Jr(e)&&Am(e)===Ia,BE=(e,n,o,r)=>ja(n).fold(()=>"skipping",c=>r==="br"||PE(n)?"valid":RT(n)?"existing":Jl(n.dom)?"caret":jn(LS,u=>fl(n,u))?"valid-block":!Jm(e,o,r)||!Jm(e,vo(c),o)?"invalid-child":"valid"),gh=(e,n)=>{const o=cp(e.dom,n,[{inline:"span"}]);n.setStart(o.startContainer,o.startOffset),n.setEnd(o.endContainer,o.endOffset),e.selection.setRng(n)},ip=(e,n,o,r,c,u)=>{const{uid:m=n,...y}=o;dl(e,Wp()),Ws(e,`${Zp()}`,m),Ws(e,`${qd()}`,r);const{attributes:v={},classes:T=[]}=c(m,y);if(Hi(e,v),uD(e,T),u){T.length>0&&Ws(e,`${Tm()}`,T.join(","));const R=oo(v);R.length>0&&Ws(e,`${Gd()}`,R.join(","))}},Kk=e=>{gu(e,Wp()),xr(e,`${Zp()}`),xr(e,`${qd()}`),xr(e,`${Hg()}`);const n=Sr(e,`${Gd()}`).map(r=>r.split(",")).getOr([]),o=Sr(e,`${Tm()}`).map(r=>r.split(",")).getOr([]);te(n,r=>xr(e,r)),uy(e,o),xr(e,`${Tm()}`),xr(e,`${Gd()}`)},Yk=(e,n,o,r,c)=>{const u=ie.fromTag("span",e);return ip(u,n,o,r,c,!1),u},nl=(e,n,o,r,c,u)=>{const m=[],y=Yk(e.getDoc(),o,u,r,c),v=Cc(),T=()=>{v.clear()},R=()=>v.get().getOrThunk(()=>{const X=Em(y);return m.push(X),v.set(X),X}),M=X=>{te(X,B)},B=X=>{switch(BE(e,X,"span",vo(X))){case"invalid-child":{T();const ee=ia(X);M(ee),T();break}case"valid-block":{T(),ip(X,o,u,r,c,!0);break}case"valid":{const ee=R();td(X,ee);break}}},W=X=>{const q=Qt(X,ie.fromDom);M(q)};return $y(e.dom,n,X=>{T(),W(X)}),m},ef=(e,n,o,r)=>{e.undoManager.transact(()=>{const c=e.selection,u=c.getRng(),m=dh(e).length>0,y=jb("mce-annotation");if(u.collapsed&&!m&&gh(e,u),c.getRng().collapsed&&!m){const v=Yk(e.getDoc(),y,r,n,o.decorate);ku(v,Qr),c.getRng().insertNode(v.dom),c.select(v.dom)}else j1(c,!1,()=>{U1(e,v=>{nl(e,v,y,n,o.decorate,r)})})})},ev=e=>{const n=M0();Ub(e,n);const o=R0(e,n),r=cc("span"),c=u=>{te(u,m=>{r(m)?Ci(m):Kk(m)})};return{register:(u,m)=>{n.register(u,m)},annotate:(u,m)=>{n.lookup(u).each(y=>{ef(e,u,y,m)})},annotationChanged:(u,m)=>{o.addListener(u,m)},remove:u=>{Ug(e,$.some(u)).each(({elements:m})=>{const y=e.selection.getBookmark();c(m),e.selection.moveToBookmark(y)})},removeAll:u=>{const m=e.selection.getBookmark();mt(mC(e,u),(y,v)=>{c(y)}),e.selection.moveToBookmark(m)},getAll:u=>{const m=mC(e,u);return to(m,y=>Qt(y,v=>v.dom))}}},Ru=e=>({getBookmark:he(RS,e),moveToBookmark:he(Uf,e)});Ru.isBookmarkNode=wl;const tv=(e,n,o)=>o.collapsed?!1:jn(o.getClientRects(),r=>kC(r,e,n)),$E=(e,n)=>e.dispatch("PreProcess",n),nv=(e,n)=>e.dispatch("PostProcess",n),ov=e=>{e.dispatch("remove")},IE=e=>{e.dispatch("detach")},FE=(e,n)=>{e.dispatch("SwitchMode",{mode:n})},LE=(e,n,o,r,c)=>{e.dispatch("ObjectResizeStart",{target:n,width:o,height:r,origin:c})},HE=(e,n,o,r,c)=>{e.dispatch("ObjectResized",{target:n,width:o,height:r,origin:c})},sv=e=>{e.dispatch("PreInit")},HS=e=>{e.dispatch("PostRender")},VE=e=>{e.dispatch("Init")},rv=(e,n)=>{e.dispatch("PlaceholderToggle",{state:n})},Ac=(e,n,o)=>{e.dispatch(n,o)},tu=(e,n,o,r)=>{e.dispatch("FormatApply",{format:n,node:o,vars:r})},_l=(e,n,o,r)=>{e.dispatch("FormatRemove",{format:n,node:o,vars:r})},av=(e,n)=>e.dispatch("BeforeSetContent",n),Iy=(e,n)=>e.dispatch("SetContent",n),hD=(e,n)=>e.dispatch("BeforeGetContent",n),Fy=(e,n)=>e.dispatch("GetContent",n),UE=(e,n)=>{e.dispatch("AutocompleterStart",n)},VS=(e,n)=>{e.dispatch("AutocompleterUpdate",n)},US=(e,n)=>{e.dispatch("AutocompleterUpdateActiveRange",n)},jS=e=>{e.dispatch("AutocompleterEnd")},jE=(e,n,o)=>e.dispatch("PastePreProcess",{content:n,internal:o}),WS=(e,n,o)=>e.dispatch("PastePostProcess",{node:n,internal:o}),cv=(e,n)=>e.dispatch("PastePlainTextToggle",{state:n}),ZS=(e,n)=>e.dispatch("EditableRootStateChange",{state:n}),it={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||it.metaKeyPressed(e),metaKeyPressed:e=>rn.os.isMacOS()||rn.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},Cl="data-mce-selected",qS="table,img,figure.image,hr,video,span.mce-preview-object,details",Xk=Math.abs,Ly=Math.round,lp={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},Jk=e=>e.type==="longpress"||e.type.indexOf("touch")===0,Hy=(e,n)=>{const o=n.dom,r=n.getDoc(),c=document,u=n.getBody();let m,y,v,T,R,M,B,W,X,q,ee,de,_e,ke,Re,tt,kt;const $t=Bt=>Ne(Bt)&&(Pp(Bt)||o.is(Bt,"figure.image")),je=Bt=>_c(Bt)||o.hasClass(Bt,"mce-preview-object"),$e=(Bt,lo)=>{if(Jk(Bt)){const wo=Bt.touches[0];return $t(Bt.target)&&!tv(wo.clientX,wo.clientY,lo)}else return $t(Bt.target)&&!tv(Bt.clientX,Bt.clientY,lo)},et=Bt=>{const lo=Bt.target;$e(Bt,n.selection.getRng())&&!Bt.isDefaultPrevented()&&n.selection.select(lo)},Zt=Bt=>o.hasClass(Bt,"mce-preview-object")&&Ne(Bt.firstElementChild)?[Bt,Bt.firstElementChild]:o.is(Bt,"figure.image")?[Bt.querySelector("img")]:[Bt],un=Bt=>{const lo=bl(n);return!lo||Bt.getAttribute("data-mce-resize")==="false"||Bt===n.getBody()?!1:o.hasClass(Bt,"mce-preview-object")&&Ne(Bt.firstElementChild)?fl(ie.fromDom(Bt.firstElementChild),lo):fl(ie.fromDom(Bt),lo)},mo=(Bt,lo)=>{if(je(lo))return Bt.create("img",{src:rn.transparentSrc});if(Ul(lo)){const tc=ns(T.name,"n")?wn:xo,ds=lo.cloneNode(!0);return tc(Bt.select("tr",ds)).each(La=>{const Ed=Bt.select("td,th",La);Bt.setStyle(La,"height",null),te(Ed,sm=>Bt.setStyle(sm,"height",null))}),ds}else return lo.cloneNode(!0)},ko=(Bt,lo,wo)=>{if(Ne(wo)){const tc=Zt(Bt);te(tc,ds=>{ds.style[lo]||!n.schema.isValid(ds.nodeName.toLowerCase(),lo)?o.setStyle(ds,lo,wo):o.setAttrib(ds,lo,""+wo)})}},ss=(Bt,lo,wo)=>{ko(Bt,"width",lo),ko(Bt,"height",wo)},vs=Bt=>{let lo,wo,tc,ds,La;lo=Bt.screenX-M,wo=Bt.screenY-B,ke=lo*T[2]+q,Re=wo*T[3]+ee,ke=ke<5?5:ke,Re=Re<5?5:Re,($t(m)||je(m))&&g1(n)!==!1?tc=!it.modifierPressed(Bt):tc=it.modifierPressed(Bt),tc&&(Xk(lo)>Xk(wo)?(Re=Ly(ke*de),ke=Ly(Re/de)):(ke=Ly(Re/de),Re=Ly(ke*de))),ss(y,ke,Re),ds=T.startPos.x+lo,La=T.startPos.y+wo,ds=ds>0?ds:0,La=La>0?La:0,o.setStyles(v,{left:ds,top:La,display:"block"}),v.innerHTML=ke+" &times; "+Re,T[2]<0&&y.clientWidth<=ke&&o.setStyle(y,"left",W+(q-ke)),T[3]<0&&y.clientHeight<=Re&&o.setStyle(y,"top",X+(ee-Re)),lo=u.scrollWidth-tt,wo=u.scrollHeight-kt,lo+wo!==0&&o.setStyles(v,{left:ds-lo,top:La-wo}),_e||(LE(n,m,q,ee,"corner-"+T.name),_e=!0)},Hr=()=>{const Bt=_e;_e=!1,Bt&&(ko(m,"width",ke),ko(m,"height",Re)),o.unbind(r,"mousemove",vs),o.unbind(r,"mouseup",Hr),c!==r&&(o.unbind(c,"mousemove",vs),o.unbind(c,"mouseup",Hr)),o.remove(y),o.remove(v),o.remove(R),Aa(m),Bt&&(HE(n,m,ke,Re,"corner-"+T.name),o.setAttrib(m,"style",o.getAttrib(m,"style"))),n.nodeChanged()},Aa=Bt=>{Mt();const lo=o.getPos(Bt,u),wo=lo.x,tc=lo.y,ds=Bt.getBoundingClientRect(),La=ds.width||ds.right-ds.left,Ed=ds.height||ds.bottom-ds.top;m!==Bt&&(St(),m=Bt,ke=Re=0);const sm=n.dispatch("ObjectSelected",{target:Bt});un(Bt)&&!sm.isDefaultPrevented()?mt(lp,(Bi,Ol)=>{const Zu=qu=>{const dn=Zt(m)[0];M=qu.screenX,B=qu.screenY,q=dn.clientWidth,ee=dn.clientHeight,de=ee/q,T=Bi,T.name=Ol,T.startPos={x:La*Bi[0]+wo,y:Ed*Bi[1]+tc},tt=u.scrollWidth,kt=u.scrollHeight,R=o.add(u,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),o.setStyles(R,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),y=mo(o,m),o.addClass(y,"mce-clonedresizable"),o.setAttrib(y,"data-mce-bogus","all"),y.contentEditable="false",o.setStyles(y,{left:wo,top:tc,margin:0}),ss(y,La,Ed),y.removeAttribute(Cl),u.appendChild(y),o.bind(r,"mousemove",vs),o.bind(r,"mouseup",Hr),c!==r&&(o.bind(c,"mousemove",vs),o.bind(c,"mouseup",Hr)),v=o.add(u,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},q+" &times; "+ee)};let Dl=o.get("mceResizeHandle"+Ol);Dl&&o.remove(Dl),Dl=o.add(u,"div",{id:"mceResizeHandle"+Ol,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+Ol+"-resize; margin:0; padding:0"}),o.bind(Dl,"mousedown",qu=>{qu.stopImmediatePropagation(),qu.preventDefault(),Zu(qu)}),Bi.elm=Dl,o.setStyles(Dl,{left:La*Bi[0]+wo-Dl.offsetWidth/2,top:Ed*Bi[1]+tc-Dl.offsetHeight/2})}):St(!1)},Ts=iy(Aa,0),St=(Bt=!0)=>{Ts.cancel(),Mt(),m&&Bt&&m.removeAttribute(Cl),mt(lp,(lo,wo)=>{const tc=o.get("mceResizeHandle"+wo);tc&&(o.unbind(tc),o.remove(tc))})},cn=(Bt,lo)=>o.isChildOf(Bt,lo),Ho=Bt=>{if(_e||n.removed||n.composing)return;const lo=Bt.type==="mousedown"?Bt.target:e.getNode(),wo=Ll(ie.fromDom(lo),qS).map(ds=>ds.dom).filter(ds=>o.isEditable(ds.parentElement)||ds.nodeName==="IMG"&&o.isEditable(ds)).getOrUndefined(),tc=Ne(wo)?o.getAttrib(wo,Cl,"1"):"1";if(te(o.select(`img[${Cl}],hr[${Cl}]`),ds=>{ds.removeAttribute(Cl)}),Ne(wo)&&cn(wo,u)&&n.hasFocus()){yn();const ds=e.getStart(!0);if(cn(ds,wo)&&cn(e.getEnd(!0),wo)){o.setAttrib(wo,Cl,tc),Ts.throttle(wo);return}}St()},Mt=()=>{mt(lp,Bt=>{Bt.elm&&(o.unbind(Bt.elm),delete Bt.elm)})},yn=()=>{try{n.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return n.on("init",()=>{yn(),n.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",Ho),n.on("keyup compositionend",Bt=>{m&&m.nodeName==="TABLE"&&Ho(Bt)}),n.on("hide blur",St),n.on("contextmenu longpress",et,!0)}),n.on("remove",Mt),{isResizable:un,showResizeRect:Aa,hideResizeRect:St,updateResizeRect:Ho,destroy:()=>{Ts.cancel(),m=y=R=null}}},GS=(e,n)=>{n.fold(o=>{e.setStartBefore(o.dom)},(o,r)=>{e.setStart(o.dom,r)},o=>{e.setStartAfter(o.dom)})},WE=(e,n)=>{n.fold(o=>{e.setEndBefore(o.dom)},(o,r)=>{e.setEnd(o.dom,r)},o=>{e.setEndAfter(o.dom)})},Qk=(e,n,o)=>{const r=e.document.createRange();return GS(r,n),WE(r,o),r},Vy=(e,n,o,r,c)=>{const u=e.document.createRange();return u.setStart(n.dom,o),u.setEnd(r.dom,c),u},Qm=md.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),KS=(e,n,o)=>n(ie.fromDom(o.startContainer),o.startOffset,ie.fromDom(o.endContainer),o.endOffset),YS=(e,n)=>n.match({domRange:o=>({ltr:Me(o),rtl:$.none}),relative:(o,r)=>({ltr:Ve(()=>Qk(e,o,r)),rtl:Ve(()=>$.some(Qk(e,r,o)))}),exact:(o,r,c,u)=>({ltr:Ve(()=>Vy(e,o,r,c,u)),rtl:Ve(()=>$.some(Vy(e,c,u,o,r)))})}),ZE=(e,n)=>{const o=n.ltr();return o.collapsed?n.rtl().filter(c=>c.collapsed===!1).map(c=>Qm.rtl(ie.fromDom(c.endContainer),c.endOffset,ie.fromDom(c.startContainer),c.startOffset)).getOrThunk(()=>KS(e,Qm.ltr,o)):KS(e,Qm.ltr,o)},ew=(e,n)=>{const o=YS(e,n);return ZE(e,o)};Qm.ltr,Qm.rtl;const ol={create:(e,n,o,r)=>({start:e,soffset:n,finish:o,foffset:r})},Gc=(e,n,o)=>{var r;return $.from((r=e.caretPositionFromPoint)===null||r===void 0?void 0:r.call(e,n,o)).bind(c=>{if(c.offsetNode===null)return $.none();const u=e.createRange();return u.setStart(c.offsetNode,c.offset),u.collapse(),$.some(u)})},ph=(e,n,o)=>{var r;return $.from((r=e.caretRangeFromPoint)===null||r===void 0?void 0:r.call(e,n,o))},yD=(e,n,o)=>e.caretPositionFromPoint?Gc(e,n,o):e.caretRangeFromPoint?ph(e,n,o):$.none(),GE=(e,n,o)=>{const r=e.document;return yD(r,n,o).map(c=>ol.create(ie.fromDom(c.startContainer),c.startOffset,ie.fromDom(c.endContainer),c.endOffset))},tw=md.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Ro=(e,n,o,r)=>e.fold(n,o,r),KE=e=>e.fold(Yt,Yt,Yt),YE=tw.before,XS=tw.on,bD=tw.after,tf={before:YE,on:XS,after:bD,cata:Ro,getStart:KE},iv=md.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),XE=e=>iv.exact(e.start,e.soffset,e.finish,e.foffset),JE=e=>e.match({domRange:n=>ie.fromDom(n.startContainer),relative:(n,o)=>tf.getStart(n),exact:(n,o,r,c)=>n}),JS=iv.domRange,Uy=iv.relative,nw=iv.exact,QS=e=>{const n=JE(e);return Nd(n)},vD=ol.create,hh={domRange:JS,relative:Uy,exact:nw,exactFromRange:XE,getWin:QS,range:vD},ow=(e,n)=>{const o=vo(e);return o==="input"?tf.after(e):jt(["br","img"],o)?n===0?tf.before(e):tf.after(e):tf.on(e,n)},kD=(e,n)=>{const o=e.fold(tf.before,ow,tf.after),r=n.fold(tf.before,ow,tf.after);return hh.relative(o,r)},e2=(e,n,o,r)=>{const c=ow(e,n),u=ow(o,r);return hh.relative(c,u)},QE=e=>e.match({domRange:n=>{const o=ie.fromDom(n.startContainer),r=ie.fromDom(n.endContainer);return e2(o,n.startOffset,r,n.endOffset)},relative:kD,exact:e2}),l=(e,n)=>{const r=(n||document).createDocumentFragment();return te(e,c=>{r.appendChild(c.dom)}),ie.fromDom(r)},f=e=>{const n=hh.getWin(e).dom,o=(c,u,m,y)=>Vy(n,c,u,m,y),r=QE(e);return ew(n,r).match({ltr:o,rtl:o})},h=(e,n,o)=>GE(e,n,o),b=(e,n,o)=>{const r=Nd(ie.fromDom(o));return h(r.dom,e,n).map(c=>{const u=o.createRange();return u.setStart(c.start.dom,c.soffset),u.setEnd(c.finish.dom,c.foffset),u}).getOrUndefined()},x=(e,n)=>Ne(e)&&Ne(n)&&e.startContainer===n.startContainer&&e.startOffset===n.startOffset&&e.endContainer===n.endContainer&&e.endOffset===n.endOffset,O=(e,n,o)=>{let r=e;for(;r&&r!==n;){if(o(r))return r;r=r.parentNode}return null},I=(e,n,o)=>O(e,n,o)!==null,j=(e,n,o)=>I(e,n,r=>r.nodeName===o),J=(e,n)=>Xi(e)&&!I(e,n,Jl),fe=(e,n,o)=>{const r=n.parentNode;if(r){const c=new Wa(n,e.getParent(r,e.isBlock)||e.getRoot());let u;for(;u=c[o?"prev":"next"]();)if(Fo(u))return!0}return!1},De=(e,n)=>{var o;return((o=e.previousSibling)===null||o===void 0?void 0:o.nodeName)===n},dt=(e,n)=>{let o=n;for(;o&&o!==e;){if(Lo(o))return!0;o=o.parentNode}return!1},Rt=(e,n,o,r,c)=>{const u=e.getRoot(),m=e.schema.getNonEmptyElements(),y=c.parentNode;let v,T;if(!y)return $.none();const R=e.getParent(y,e.isBlock)||u;if(r&&Fo(c)&&n&&e.isEmpty(R))return $.some(Ue(y,e.nodeIndex(c)));const M=new Wa(c,R);for(;T=M[r?"prev":"next"]();){if(e.getContentEditableParent(T)==="false"||J(T,u))return $.none();if(ct(T)&&T.data.length>0)return j(T,u,"A")?$.none():$.some(Ue(T,r?T.data.length:0));if(e.isBlock(T)||m[T.nodeName.toLowerCase()])return $.none();v=T}return wa(v)?$.none():o&&v?$.some(Ue(v,0)):$.none()},Et=(e,n,o,r)=>{const c=e.getRoot();let u,m=!1,y=o?r.startContainer:r.endContainer,v=o?r.startOffset:r.endOffset;const T=Nt(y)&&v===y.childNodes.length,R=e.schema.getNonEmptyElements();let M=o;if(Xi(y))return $.none();if(Nt(y)&&v>y.childNodes.length-1&&(M=!1),pm(y)&&(y=c,v=0),y===c){if(M&&(u=y.childNodes[v>0?v-1:0],u&&(Xi(u)||R[u.nodeName]||Ul(u))))return $.none();if(y.hasChildNodes()){if(v=Math.min(!M&&v>0?v-1:v,y.childNodes.length-1),y=y.childNodes[v],v=ct(y)&&T?y.data.length:0,!n&&y===c.lastChild&&Ul(y)||dt(c,y)||Xi(y)||xi(y))return $.none();if(y.hasChildNodes()&&!Ul(y)){u=y;const B=new Wa(y,c);do{if(Lo(u)||Xi(u)){m=!1;break}if(ct(u)&&u.data.length>0){v=M?0:u.data.length,y=u,m=!0;break}if(R[u.nodeName.toLowerCase()]&&!ea(u)){v=e.nodeIndex(u),y=u.parentNode,M||v++,m=!0;break}}while(u=M?B.next():B.prev())}}}return n&&(ct(y)&&v===0&&Rt(e,T,n,!0,y).each(B=>{y=B.container(),v=B.offset(),m=!0}),Nt(y)&&(u=y.childNodes[v],u||(u=y.childNodes[v-1]),u&&Fo(u)&&!De(u,"A")&&!fe(e,u,!1)&&!fe(e,u,!0)&&Rt(e,T,n,!0,u).each(B=>{y=B.container(),v=B.offset(),m=!0}))),M&&!n&&ct(y)&&v===y.data.length&&Rt(e,T,n,!1,y).each(B=>{y=B.container(),v=B.offset(),m=!0}),m&&y?$.some(Ue(y,v)):$.none()},_t=(e,n)=>{const o=n.collapsed,r=n.cloneRange(),c=Ue.fromRangeStart(n);return Et(e,o,!0,r).each(u=>{(!o||!Ue.isAbove(c,u))&&r.setStart(u.container(),u.offset())}),o||Et(e,o,!1,r).each(u=>{r.setEnd(u.container(),u.offset())}),o&&r.collapse(!0),x(n,r)?$.none():$.some(r)},Gt=(e,n)=>e.splitText(n),rt=e=>{let n=e.startContainer,o=e.startOffset,r=e.endContainer,c=e.endOffset;if(n===r&&ct(n)){if(o>0&&o<n.data.length)if(r=Gt(n,o),n=r.previousSibling,c>o){c=c-o;const u=Gt(r,c).previousSibling;n=r=u,c=u.data.length,o=0}else c=0}else if(ct(n)&&o>0&&o<n.data.length&&(n=Gt(n,o),o=0),ct(r)&&c>0&&c<r.data.length){const u=Gt(r,c).previousSibling;r=u,c=u.data.length}return{startContainer:n,startOffset:o,endContainer:r,endOffset:c}},ht=e=>({walk:(u,m)=>$y(e,u,m),split:rt,expand:(u,m={type:"word"})=>{if(m.type==="word"){const y=cp(e,u,[{inline:"span"}]),v=e.createRng();return v.setStart(y.startContainer,y.startOffset),v.setEnd(y.endContainer,y.endOffset),v}return u},normalize:u=>_t(e,u).fold(we,m=>(u.setStart(m.startContainer,m.startOffset),u.setEnd(m.endContainer,m.endOffset),!0))});ht.compareRanges=x,ht.getCaretRangeFromPoint=b,ht.getSelectedNode=Ji,ht.getNode=Nm;const An=((e,n)=>{const o=(y,v)=>{if(!Wo(v)&&!v.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+v);const T=y.dom;bu(T)&&(T.style[e]=v+"px")},r=y=>{const v=n(y);if(v<=0||v===null){const T=Wr(y,e);return parseFloat(T)||0}return v},c=r,u=(y,v)=>lt(v,(T,R)=>{const M=Wr(y,R),B=M===void 0?0:parseInt(M,10);return isNaN(B)?T:T+B},0);return{set:o,get:r,getOuter:c,aggregate:u,max:(y,v,T)=>{const R=u(y,T);return v>R?v-R:0}}})("height",e=>{const n=e.dom;return Ju(e)?n.getBoundingClientRect().height:n.offsetHeight}),an=e=>An.get(e),cr=()=>ie.fromDom(document),gs=(e,n)=>e.view(n).fold(Me([]),r=>{const c=e.owner(r),u=gs(e,c);return[r].concat(u)}),Fr=(e,n)=>{const o=n.owner(e);return gs(n,o)};var up=Object.freeze({__proto__:null,view:e=>{var n;return(e.dom===document?$.none():$.from((n=e.dom.defaultView)===null||n===void 0?void 0:n.frameElement)).map(ie.fromDom)},owner:e=>yu(e)});const dp=e=>{const n=cr(),o=_n(n),r=Fr(e,up),c=qn(e),u=st(r,(m,y)=>{const v=qn(y);return{left:m.left+v.left,top:m.top+v.top}},{left:0,top:0});return oe(u.left+c.left+o.left,u.top+c.top+o.top)},us=e=>vo(e)==="textarea",Ja=(e,n)=>e.dispatch("ScrollIntoView",n).isDefaultPrevented(),di=(e,n)=>{e.dispatch("AfterScrollIntoView",n)},Mu=(e,n)=>{const o=ia(e);if(o.length===0||us(e))return{element:e,offset:n};if(n<o.length&&!us(o[n]))return{element:o[n],offset:0};{const r=o[o.length-1];return us(r)?{element:e,offset:n}:vo(r)==="img"?{element:r,offset:1}:Jr(r)?{element:r,offset:Am(r).length}:{element:r,offset:ia(r).length}}},xl=(e,n)=>{const o=bn(e),r=an(e);return{element:e,bottom:o.top+r,height:r,pos:o,cleanup:n}},yh=(e,n)=>{const o=Mu(e,n),r=ie.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+Ia+"</span>");return uc(o.element,r),xl(r,()=>bs(r))},Gn=e=>xl(ie.fromDom(e),ze),Tl=(e,n,o,r)=>{$o(e,(c,u)=>nf(e,n,o,r),o)},Nu=(e,n,o,r,c)=>{const u={elm:r.element.dom,alignToTop:c};if(Ja(e,u))return;const m=_n(n).top;o(e,n,m,r,c),di(e,u)},nf=(e,n,o,r)=>{const c=ie.fromDom(e.getBody()),u=ie.fromDom(e.getDoc());la(c);const m=yh(ie.fromDom(o.startContainer),o.startOffset);Nu(e,u,n,m,r),m.cleanup()},Ta=(e,n,o,r)=>{const c=ie.fromDom(e.getDoc());Nu(e,c,o,Gn(n),r)},$o=(e,n,o)=>{const r=o.startContainer,c=o.startOffset,u=o.endContainer,m=o.endOffset;n(ie.fromDom(r),ie.fromDom(u));const y=e.dom.createRng();y.setStart(r,c),y.setEnd(u,m),e.selection.setRng(o)},sw=(e,n,o,r,c)=>{const u=n.pos;if(r)vn(u.left,u.top,c);else{const m=u.top-o+n.height;vn(-e.getBody().getBoundingClientRect().left,m,c)}},rw=(e,n,o,r,c,u)=>{const m=r+o,y=c.pos.top,v=c.bottom,T=v-y>=r;y<o?sw(e,c,r,u!==!1,n):y>m?sw(e,c,r,T?u!==!1:u===!0,n):v>m&&!T&&sw(e,c,r,u===!0,n)},lv=(e,n,o,r,c)=>{const u=Nd(n).dom.innerHeight;rw(e,n,o,u,r,c)},t2=(e,n,o,r,c)=>{const u=Nd(n).dom.innerHeight;rw(e,n,o,u,r,c);const m=dp(r.element),y=Vl(window);m.top<y.y?Os(r.element,c!==!1):m.top>y.bottom&&Os(r.element,c===!0)},qf=(e,n,o)=>Tl(e,lv,n,o),fp=(e,n,o)=>Ta(e,n,lv,o),bh=(e,n,o)=>Tl(e,t2,n,o),J5=(e,n,o)=>Ta(e,n,t2,o),Q5=(e,n,o)=>{(e.inline?fp:J5)(e,n,o)},aw=(e,n,o)=>{(e.inline?qf:bh)(e,n,o)},uv=(e,n=!1)=>e.dom.focus({preventScroll:n}),jy=e=>{const n=Vi(e).dom;return e.dom===n.activeElement},eA=(e=cr())=>$.from(e.dom.activeElement).map(ie.fromDom),wD=e=>eA(Vi(e)).filter(n=>e.dom.contains(n.dom)),_D=(e,n)=>{const o=Jr(n)?Am(n).length:ia(n).length+1;return e>o?o:e<0?0:e},eF=e=>hh.range(e.start,_D(e.soffset,e.start),e.finish,_D(e.foffset,e.finish)),CD=(e,n)=>!Hd(n.dom)&&(Pr(e,n)||Qn(e,n)),tA=e=>n=>CD(e,n.start)&&CD(e,n.finish),CZ=e=>e.inline||rn.browser.isFirefox(),tF=e=>hh.range(ie.fromDom(e.startContainer),e.startOffset,ie.fromDom(e.endContainer),e.endOffset),SD=e=>{const n=e.getSelection();return(!n||n.rangeCount===0?$.none():$.from(n.getRangeAt(0))).map(tF)},nA=e=>{const n=Nd(e);return SD(n.dom).filter(tA(e))},oA=(e,n)=>$.from(n).filter(tA(e)).map(eF),sA=e=>{const n=document.createRange();try{return n.setStart(e.start.dom,e.soffset),n.setEnd(e.finish.dom,e.foffset),$.some(n)}catch{return $.none()}},cw=e=>{const n=CZ(e)?nA(ie.fromDom(e.getBody())):$.none();e.bookmark=n.isSome()?n:e.bookmark},n2=e=>(e.bookmark?e.bookmark:$.none()).bind(o=>oA(ie.fromDom(e.getBody()),o)).bind(sA),xD=e=>{n2(e).each(n=>e.selection.setRng(n))},TD={isEditorUIElement:e=>{const n=e.className.toString();return n.indexOf("tox-")!==-1||n.indexOf("mce-")!==-1}},ED=(e,n)=>(Wo(n)||(n=0),setTimeout(e,n)),nF=(e,n)=>(Wo(n)||(n=0),setInterval(e,n)),Pu={setEditorTimeout:(e,n,o)=>ED(()=>{e.removed||n()},o),setEditorInterval:(e,n,o)=>{const r=nF(()=>{e.removed?clearInterval(r):n()},o);return r}},AD=e=>e.type==="nodechange"&&e.selectionChange,zD=(e,n)=>{const o=()=>{n.throttle()};Gs.DOM.bind(document,"mouseup",o),e.on("remove",()=>{Gs.DOM.unbind(document,"mouseup",o)})},OD=(e,n)=>{e.on("mouseup touchend",o=>{n.throttle()})},DD=(e,n)=>{OD(e,n),e.on("keyup NodeChange AfterSetSelectionRange",o=>{AD(o)||cw(e)})},oF=e=>{const n=iy(()=>{cw(e)},0);e.on("init",()=>{e.inline&&zD(e,n),DD(e,n)}),e.on("remove",()=>{n.cancel()})};let dv;const aA=Gs.DOM,sF=e=>Nt(e)&&TD.isEditorUIElement(e),cA=e=>{const n=e.classList;return n!==void 0?n.contains("tox-edit-area")||n.contains("tox-edit-area__iframe")||n.contains("mce-content-body"):!1},o2=(e,n)=>{const o=ky(e);return aA.getParent(n,c=>sF(c)||(o?e.dom.is(c,o):!1))!==null},iA=e=>{try{const n=Vi(ie.fromDom(e.getElement()));return eA(n).fold(()=>document.body,o=>o.dom)}catch{return document.body}},rF=(e,n)=>{const o=n.editor;oF(o);const r=(c,u)=>{if(C1(c)&&c.inline!==!0){const m=ie.fromDom(c.getContainer());u(m,"tox-edit-focus")}};o.on("focusin",()=>{const c=e.focusedEditor;cA(iA(o))&&r(o,dl),c!==o&&(c&&c.dispatch("blur",{focusedEditor:o}),e.setActive(o),e.focusedEditor=o,o.dispatch("focus",{blurredEditor:c}),o.focus(!0))}),o.on("focusout",()=>{Pu.setEditorTimeout(o,()=>{const c=e.focusedEditor;(!cA(iA(o))||c!==o)&&r(o,gu),!o2(o,iA(o))&&c===o&&(o.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),dv||(dv=c=>{const u=e.activeEditor;u&&um(c).each(m=>{const y=m;y.ownerDocument===document&&y!==document.body&&!o2(u,y)&&e.focusedEditor===u&&(u.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})},aA.bind(document,"focusin",dv))},s2=(e,n)=>{e.focusedEditor===n.editor&&(e.focusedEditor=null),!e.activeEditor&&dv&&(aA.unbind(document,"focusin",dv),dv=null)},RD=e=>{e.on("AddEditor",he(rF,e)),e.on("RemoveEditor",he(s2,e))},aF=(e,n)=>e.dom.getParent(n,o=>e.dom.getContentEditable(o)==="true"),MD=(e,n)=>e.dom.getParent(n,o=>e.dom.getContentEditable(o)==="false")!==null,ND=e=>e.collapsed?$.from(Nm(e.startContainer,e.startOffset)).map(ie.fromDom):$.none(),cF=(e,n)=>ND(n).bind(o=>hC(o)?$.some(o):Pr(e,o)?$.none():$.some(e)),PD=(e,n)=>{cF(ie.fromDom(e.getBody()),n).bind(o=>Ec(o.dom)).fold(()=>{e.selection.normalize()},o=>e.selection.setRng(o.toRange()))},r2=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},iF=e=>jy(e)||wD(e).isSome(),lF=e=>Ne(e.iframeElement)&&jy(ie.fromDom(e.iframeElement)),BD=e=>{const n=e.getBody();return n&&iF(ie.fromDom(n))},$D=e=>{const n=Vi(ie.fromDom(e.getElement()));return eA(n).filter(o=>!cA(o.dom)&&o2(e,o.dom)).isSome()},mp=e=>e.inline?BD(e):lF(e),ID=e=>mp(e)||$D(e),uF=e=>{const n=e.selection,o=e.getBody();let r=n.getRng();e.quirks.refreshContentEditable();const c=m=>{n2(m).each(y=>{m.selection.setRng(y),r=y})};!mp(e)&&e.hasEditableRoot()&&c(e);const u=aF(e,n.getNode());if(u&&e.dom.isChildOf(u,o)){MD(e,u)||r2(o),r2(u),e.hasEditableRoot()||c(e),PD(e,r),iw(e);return}e.inline||(rn.browser.isOpera()||r2(o),e.getWin().focus()),(rn.browser.isFirefox()||e.inline)&&(r2(o),PD(e,r)),iw(e)},iw=e=>e.editorManager.setActive(e),dF=(e,n)=>{e.removed||(n?iw(e):uF(e))},lA=(e,n)=>n.collapsed?e.isEditable(n.startContainer):e.isEditable(n.startContainer)&&e.isEditable(n.endContainer),uA=(e,n,o,r,c)=>{const u=o?n.startContainer:n.endContainer,m=o?n.startOffset:n.endOffset;return $.from(u).map(ie.fromDom).map(y=>!r||!n.collapsed?Nc(y,c(y,m)).getOr(y):y).bind(y=>Ua(y)?$.some(y):ja(y).filter(Ua)).map(y=>y.dom).getOr(e)},dA=(e,n,o=!1)=>uA(e,n,!0,o,(r,c)=>Math.min(Bd(r),c)),FD=(e,n,o=!1)=>uA(e,n,!1,o,(r,c)=>c>0?c-1:c),LD=(e,n)=>{const o=e;for(;e&&ct(e)&&e.length===0;)e=n?e.nextSibling:e.previousSibling;return e||o},fF=(e,n)=>{if(!n)return e;let o=n.startContainer,r=n.endContainer;const c=n.startOffset,u=n.endOffset;let m=n.commonAncestorContainer;n.collapsed||(o===r&&u-c<2&&o.hasChildNodes()&&(m=o.childNodes[c]),ct(o)&&ct(r)&&(o.length===c?o=LD(o.nextSibling,!0):o=o.parentNode,u===0?r=LD(r.previousSibling,!1):r=r.parentNode,o&&o===r&&(m=o)));const y=ct(m)?m.parentNode:m;return Ui(y)?y:e},mF=(e,n,o,r)=>{const c=[],u=e.getRoot(),m=e.getParent(o||dA(u,n,n.collapsed),e.isBlock),y=e.getParent(r||FD(u,n,n.collapsed),e.isBlock);if(m&&m!==u&&c.push(m),m&&y&&m!==y){let v;const T=new Wa(m,u);for(;(v=T.next())&&v!==y;)e.isBlock(v)&&c.push(v)}return y&&m!==y&&y!==u&&c.push(y),c},a2=(e,n,o)=>$.from(n).bind(r=>$.from(r.parentNode).map(c=>{const u=e.nodeIndex(r),m=e.createRng();return m.setStart(c,u),m.setEnd(c,u+1),o&&(Lk(e,m,r,!0),Lk(e,m,r,!1)),m})),c2=(e,n)=>Qt(n,o=>{const r=e.dispatch("GetSelectionRange",{range:o});return r.range!==o?r.range:o}),HD={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},lw=(e,n,o)=>{const r=o?"lastChild":"firstChild",c=o?"prev":"next";if(e[r])return e[r];if(e!==n){let u=e[c];if(u)return u;for(let m=e.parent;m&&m!==n;m=m.parent)if(u=m[c],u)return u}},VD=e=>{var n;const o=(n=e.value)!==null&&n!==void 0?n:"";if(!Si(o))return!1;const r=e.parent;return!(r&&(r.name!=="span"||r.attr("style"))&&/^[ ]+$/.test(o))},UD=e=>{const n=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||n};class sl{static create(n,o){const r=new sl(n,HD[n]||1);return o&&mt(o,(c,u)=>{r.attr(u,c)}),r}constructor(n,o){this.name=n,this.type=o,o===1&&(this.attributes=[],this.attributes.map={})}replace(n){const o=this;return n.parent&&n.remove(),o.insert(n,o),o.remove(),o}attr(n,o){const r=this;if(!ae(n))return Ne(n)&&mt(n,(u,m)=>{r.attr(m,u)}),r;const c=r.attributes;if(c){if(o!==void 0){if(o===null){if(n in c.map){delete c.map[n];let u=c.length;for(;u--;)if(c[u].name===n)return c.splice(u,1),r}return r}if(n in c.map){let u=c.length;for(;u--;)if(c[u].name===n){c[u].value=o;break}}else c.push({name:n,value:o});return c.map[n]=o,r}return c.map[n]}}clone(){const n=this,o=new sl(n.name,n.type),r=n.attributes;if(r){const c=[];c.map={};for(let u=0,m=r.length;u<m;u++){const y=r[u];y.name!=="id"&&(c[c.length]={name:y.name,value:y.value},c.map[y.name]=y.value)}o.attributes=c}return o.value=n.value,o}wrap(n){const o=this;return o.parent&&(o.parent.insert(n,o),n.append(o)),o}unwrap(){const n=this;for(let o=n.firstChild;o;){const r=o.next;n.insert(o,n,!0),o=r}n.remove()}remove(){const n=this,o=n.parent,r=n.next,c=n.prev;return o&&(o.firstChild===n?(o.firstChild=r,r&&(r.prev=null)):c&&(c.next=r),o.lastChild===n?(o.lastChild=c,c&&(c.next=null)):r&&(r.prev=c),n.parent=n.next=n.prev=null),n}append(n){const o=this;n.parent&&n.remove();const r=o.lastChild;return r?(r.next=n,n.prev=r,o.lastChild=n):o.lastChild=o.firstChild=n,n.parent=o,n}insert(n,o,r){n.parent&&n.remove();const c=o.parent||this;return r?(o===c.firstChild?c.firstChild=n:o.prev&&(o.prev.next=n),n.prev=o.prev,n.next=o,o.prev=n):(o===c.lastChild?c.lastChild=n:o.next&&(o.next.prev=n),n.next=o.next,n.prev=o,o.next=n),n.parent=c,n}getAll(n){const o=this,r=[];for(let c=o.firstChild;c;c=lw(c,o))c.name===n&&r.push(c);return r}children(){const n=this,o=[];for(let r=n.firstChild;r;r=r.next)o.push(r);return o}empty(){const n=this;if(n.firstChild){const o=[];for(let c=n.firstChild;c;c=lw(c,n))o.push(c);let r=o.length;for(;r--;){const c=o[r];c.parent=c.firstChild=c.lastChild=c.next=c.prev=null}}return n.firstChild=n.lastChild=null,n}isEmpty(n,o={},r){var c;const u=this;let m=u.firstChild;if(UD(u))return!1;if(m)do{if(m.type===1){if(m.attr("data-mce-bogus"))continue;if(n[m.name]||UD(m))return!1}if(m.type===8||m.type===3&&!VD(m)||m.type===3&&m.parent&&o[m.parent.name]&&Si((c=m.value)!==null&&c!==void 0?c:"")||r&&r(m))return!1}while(m=lw(m,u));return!0}walk(n){return lw(this,null,n)}}const gF=ut.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),jD=e=>ae(e.nodeValue)&&e.nodeValue.includes(Ia),WD=e=>`${e.length===0?"":`${Qt(e,n=>`[${n}]`).join(",")},`}[data-mce-bogus="all"]`,pF=(e,n)=>n.querySelectorAll(WD(e)),ZD=e=>document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,n=>jD(n)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),qD=e=>document.createTreeWalker(e,NodeFilter.SHOW_TEXT,n=>{if(jD(n)){const o=n.parentNode;return o&&fn(gF,o.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}else return NodeFilter.FILTER_SKIP}),hF=e=>ZD(e).nextNode()!==null,yF=e=>qD(e).nextNode()!==null,bF=(e,n)=>n.querySelector(WD(e))!==null,vF=(e,n)=>{te(pF(e,n),o=>{const r=ie.fromDom(o);ic(r,"data-mce-bogus")==="all"?bs(r):te(e,c=>{bc(r,c)&&xr(r,c)})})},uw=e=>{let n=e.nextNode();for(;n!==null;)n.nodeValue=null,n=e.nextNode()},GD=C(uw,ZD),KD=C(uw,qD),YD=(e,n)=>{const o=[{condition:he(bF,n),action:he(vF,n)},{condition:hF,action:GD},{condition:yF,action:KD}];let r=e,c=!1;return te(o,({condition:u,action:m})=>{u(r)&&(c||(r=e.cloneNode(!0),c=!0),m(r))}),r},XD=e=>{const n=dc(e,"[data-mce-bogus]");te(n,o=>{ic(o,"data-mce-bogus")==="all"?bs(o):Yi(o)?(uc(o,ie.fromText(Rp)),bs(o)):Ci(o)})},JD=e=>{const n=dc(e,"input");te(n,o=>{xr(o,"name")})},kF=(e,n)=>{const o=Sc(e),r=new RegExp(`^(<${o}[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/${o}>[\r
]*|<br \\/>[\r
]*)$`);return n.replace(r,"")},wF=(e,n)=>{const o=e.getDoc(),r=Vi(ie.fromDom(e.getBody())),c=ie.fromTag("div",o);Ws(c,"data-mce-bogus","all"),Vn(c,{position:"fixed",left:"-9999999px",top:"0"}),ku(c,n.innerHTML),XD(c),JD(c);const u=Ap(r);rr(u,c);const m=ri(c.dom.innerText);return bs(c),m},_F=(e,n,o)=>{let r;return n.format==="raw"?r=ut.trim(ri(YD(o,e.serializer.getTempAttrs()).innerHTML)):n.format==="text"?r=wF(e,o):n.format==="tree"?r=e.serializer.serialize(o,n):r=kF(e,e.serializer.serialize(o,n)),n.format!=="text"&&!Zb(ie.fromDom(o))&&ae(r)?ut.trim(r):r},QD=(e,n)=>$.from(e.getBody()).fold(Me(n.format==="tree"?new sl("body",11):""),o=>_F(e,n,o)),eR=ut.makeMap,fA=e=>{const n=[];e=e||{};const o=e.indent,r=eR(e.indent_before||""),c=eR(e.indent_after||""),u=id.getEncodeFunc(e.entity_encoding||"raw",e.entities),m=e.element_format!=="xhtml";return{start:(y,v,T)=>{if(o&&r[y]&&n.length>0){const R=n[n.length-1];R.length>0&&R!==`
`&&n.push(`
`)}if(n.push("<",y),v)for(let R=0,M=v.length;R<M;R++){const B=v[R];n.push(" ",B.name,'="',u(B.value,!0),'"')}if(!T||m?n[n.length]=">":n[n.length]=" />",T&&o&&c[y]&&n.length>0){const R=n[n.length-1];R.length>0&&R!==`
`&&n.push(`
`)}},end:y=>{let v;n.push("</",y,">"),o&&c[y]&&n.length>0&&(v=n[n.length-1],v.length>0&&v!==`
`&&n.push(`
`))},text:(y,v)=>{y.length>0&&(n[n.length]=v?y:u(y))},cdata:y=>{n.push("<![CDATA[",y,"]]>")},comment:y=>{n.push("<!--",y,"-->")},pi:(y,v)=>{v?n.push("<?",y," ",u(v),"?>"):n.push("<?",y,"?>"),o&&n.push(`
`)},doctype:y=>{n.push("<!DOCTYPE",y,">",o?`
`:"")},reset:()=>{n.length=0},getContent:()=>n.join("").replace(/\n$/,"")}},gp=(e={},n=Wd())=>{const o=fA(e);return e.validate="validate"in e?e.validate:!0,{serialize:c=>{const u=e.validate,m={3:v=>{var T;o.text((T=v.value)!==null&&T!==void 0?T:"",v.raw)},8:v=>{var T;o.comment((T=v.value)!==null&&T!==void 0?T:"")},7:v=>{o.pi(v.name,v.value)},10:v=>{var T;o.doctype((T=v.value)!==null&&T!==void 0?T:"")},4:v=>{var T;o.cdata((T=v.value)!==null&&T!==void 0?T:"")},11:v=>{let T=v;if(T=T.firstChild)do y(T);while(T=T.next)}};o.reset();const y=v=>{var T;const R=m[v.type];if(R)R(v);else{const M=v.name,B=M in n.getVoidElements();let W=v.attributes;if(u&&W&&W.length>1){const X=[];X.map={};const q=n.getElementRule(v.name);if(q){for(let ee=0,de=q.attributesOrder.length;ee<de;ee++){const _e=q.attributesOrder[ee];if(_e in W.map){const ke=W.map[_e];X.map[_e]=ke,X.push({name:_e,value:ke})}}for(let ee=0,de=W.length;ee<de;ee++){const _e=W[ee].name;if(!(_e in X.map)){const ke=W.map[_e];X.map[_e]=ke,X.push({name:_e,value:ke})}}W=X}}if(o.start(M,W,B),Br(M))ae(v.value)&&o.text(v.value,!0),o.end(M);else if(!B){let X=v.firstChild;if(X){(M==="pre"||M==="textarea")&&X.type===3&&((T=X.value)===null||T===void 0?void 0:T[0])===`
`&&o.text(`
`,!0);do y(X);while(X=X.next)}o.end(M)}}};return c.type===1&&!e.inner?y(c):c.type===3?m[3](c):m[11](c),o.getContent()}}},tR=new Set;te(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],n=>{tR.add(n)});const nR=new Set;te(["background-color"],n=>{nR.add(n)});const oR=["font","text-decoration","text-emphasis"],CF=(e,n)=>e.parseStyle(e.getAttrib(n,"style")),fv=(e,n)=>oo(CF(e,n)),SF=e=>tR.has(e),xF=e=>nR.has(e),sR=(e,n)=>jn(fv(e,n),o=>SF(o)),TF=(e,n)=>sR(e,n)&&jn(fv(e,n),o=>xF(o)),EF=e=>be(e,n=>jn(oR,o=>ns(n,o))),AF=(e,n,o)=>{const r=fv(e,n),c=fv(e,o),u=m=>{var y,v;const T=(y=e.getStyle(n,m))!==null&&y!==void 0?y:"",R=(v=e.getStyle(o,m))!==null&&v!==void 0?v:"";return So(T)&&So(R)&&T!==R};return jn(r,m=>{const y=v=>jn(v,T=>T===m);if(!y(c)&&y(oR)){const v=EF(c);return jn(v,u)}else return u(m)})},rR=(e,n,o)=>$.from(o.container()).filter(ct).exists(r=>{const c=e?0:-1;return n(r.data.charAt(o.offset()+c))}),mA=he(rR,!0,Xm),gA=he(rR,!1,Xm),zF=e=>{const n=e.container();return ct(n)&&(n.data.length===0||U0(n.data)&&Ru.isBookmarkNode(n.parentNode))},vh=(e,n)=>o=>Tk(e?0:-1,o).filter(n).isSome(),aR=e=>Pp(e)&&Wr(ie.fromDom(e),"display")==="block",cR=e=>Lo(e)&&!Rg(e),OF=vh(!0,aR),pn=vh(!1,aR),mv=vh(!0,_c),gv=vh(!1,_c),iR=vh(!0,Ul),dw=vh(!1,Ul),kh=vh(!0,cR),wh=vh(!1,cR),DF=e=>e.slice(0,-1),RF=(e,n,o)=>Pr(n,e)?DF(Il(e,r=>o(r)||Qn(r,n))):[],lR=(e,n)=>RF(e,n,we),of=(e,n)=>[e].concat(lR(e,n)),i2=(e,n,o)=>Rk(e,n,o,zF),SZ=e=>n=>e.isBlock(vo(n)),uR=(e,n,o)=>Lt(of(ie.fromDom(n.container()),e),SZ(o)),Nn=(e,n,o,r)=>i2(e,n.dom,o).forall(c=>uR(n,o,r).fold(()=>!kl(c,o,n.dom),u=>!kl(c,o,n.dom)&&Pr(u,ie.fromDom(c.container())))),dR=(e,n,o,r)=>uR(n,o,r).fold(()=>i2(e,n.dom,o).forall(c=>!kl(c,o,n.dom)),c=>i2(e,c.dom,o).isNone()),Kn=he(dR,!1),pA=he(dR,!0),xZ=he(Nn,!1),TZ=he(Nn,!0),MF=e=>D1(e).exists(Yi),hA=(e,n,o,r)=>{const c=be(of(ie.fromDom(o.container()),n),m=>r.isBlock(vo(m))),u=wn(c).getOr(n);return Ri(e,u.dom,o).filter(MF)},fR=(e,n,o)=>D1(n).exists(Yi)||hA(!0,e,n,o).isSome(),l2=(e,n,o)=>SS(n).exists(Yi)||hA(!1,e,n,o).isSome(),mR=he(hA,!1),zn=he(hA,!0),gR=e=>Ue.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),pR=(e,n,o)=>{const r=be(of(ie.fromDom(n.container()),e),c=>o.isBlock(vo(c)));return wn(r).getOr(e)},hR=(e,n,o)=>gR(n)?gA(n):gA(n)||tl(pR(e,n,o).dom,n).exists(gA),pv=(e,n,o)=>gR(n)?mA(n):mA(n)||Mi(pR(e,n,o).dom,n).exists(mA),yR=e=>jt(["pre","pre-wrap"],e),yA=e=>D1(e).bind(n=>Js(n,Ua)).exists(n=>yR(Wr(n,"white-space"))),NF=(e,n)=>tl(e.dom,n).isNone(),PF=(e,n)=>Mi(e.dom,n).isNone(),bR=(e,n,o)=>NF(e,n)||PF(e,n)||Kn(e,n,o)||pA(e,n,o)||l2(e,n,o)||fR(e,n,o),BF=e=>Ne(e)&&Lo(e)&&vS(e),$F=(e,n)=>o=>BF(new Wa(o,e)[n]()),EZ=(e,n)=>{const o=Mi(e.dom,n).getOr(n),r=$F(e.dom,"next");return n.isAtEnd()&&(r(n.container())||r(o.container()))},IF=(e,n)=>{const o=tl(e.dom,n).getOr(n),r=$F(e.dom,"prev");return n.isAtStart()&&(r(n.container())||r(o.container()))},vR=(e,n,o)=>yA(n)?!1:bR(e,n,o)||hR(e,n,o)||pv(e,n,o),fw=(e,n,o)=>yA(n)?!1:Kn(e,n,o)||xZ(e,n,o)||l2(e,n,o)||hR(e,n,o)||IF(e,n),FF=e=>{const n=e.container(),o=e.offset();return ct(n)&&o<n.data.length?Ue(n,o+1):e},hv=(e,n,o)=>yA(n)?!1:pA(e,n,o)||TZ(e,n,o)||fR(e,n,o)||pv(e,n,o)||EZ(e,n),bA=(e,n,o)=>fw(e,n,o)||hv(e,FF(n),o),ao=(e,n)=>np(e.charAt(n)),vA=(e,n)=>Xm(e.charAt(n)),u2=e=>{const n=e.container();return ct(n)&&Yo(n.data,Qr)},kR=e=>{const n=e.split("");return Qt(n,(o,r)=>np(o)&&r>0&&r<n.length-1&&Bk(n[r-1])&&Bk(n[r+1])?" ":o).join("")},kA=(e,n,o,r)=>{const c=n.data,u=Ue(n,0);return!o&&ao(c,0)&&!bA(e,u,r)?(n.data=" "+c.slice(1),!0):o&&vA(c,0)&&fw(e,u,r)?(n.data=Qr+c.slice(1),!0):!1},wR=e=>{const n=e.data,o=kR(n);return o!==n?(e.data=o,!0):!1},wA=(e,n,o,r)=>{const c=n.data,u=Ue(n,c.length-1);return!o&&ao(c,c.length-1)&&!bA(e,u,r)?(n.data=c.slice(0,-1)+" ",!0):o&&vA(c,c.length-1)&&hv(e,u,r)?(n.data=c.slice(0,-1)+Qr,!0):!1},_R=(e,n,o)=>{const r=n.container();if(!ct(r))return $.none();if(u2(n)){const c=kA(e,r,!1,o)||wR(r)||wA(e,r,!1,o);return fr(c,n)}else if(bA(e,n,o)){const c=kA(e,r,!0,o)||wA(e,r,!0,o);return fr(c,n)}else return $.none()},LF=e=>{const n=ie.fromDom(e.getBody());e.selection.isCollapsed()&&_R(n,Ue.fromRangeStart(e.selection.getRng()),e.schema).each(o=>{e.selection.setRng(o.toRange())})},_A=(e,n,o,r)=>{if(o===0)return;const c=ie.fromDom(e),u=Zs(c,T=>r.isBlock(vo(T))).getOr(c),m=e.data.slice(n,n+o),y=n+o>=e.data.length&&hv(u,Ue(e,e.data.length),r),v=n===0&&fw(u,Ue(e,0),r);e.replaceData(n,o,ml(m,4,v,y))},d2=(e,n,o)=>{const r=e.data.slice(n),c=r.length-Xc(r).length;_A(e,n,c,o)},CA=(e,n,o)=>{const r=e.data.slice(0,n),c=r.length-Rc(r).length;_A(e,n-c,c,o)},SA=(e,n,o,r,c=!0)=>{const u=Rc(e.data).length,m=c?e:n,y=c?n:e;return c?m.appendData(y.data):m.insertData(0,y.data),bs(ie.fromDom(y)),r&&d2(m,u,o),m},HF=(e,n)=>{const o=e.container(),r=e.offset();return!Ue.isTextPosition(e)&&o===n.parentNode&&r>Ue.before(n).offset()},VF=(e,n)=>HF(n,e)?Ue(n.container(),n.offset()-1):n,UF=e=>ct(e)?Ue(e,0):Ue.before(e),jF=e=>ct(e)?Ue(e,e.data.length):Ue.after(e),CR=e=>hl(e.previousSibling)?$.some(jF(e.previousSibling)):e.previousSibling?Xl(e.previousSibling):$.none(),f2=e=>hl(e.nextSibling)?$.some(UF(e.nextSibling)):e.nextSibling?Ec(e.nextSibling):$.none(),xA=(e,n)=>$.from(n.previousSibling?n.previousSibling:n.parentNode).bind(o=>tl(e,Ue.before(o))).orThunk(()=>Mi(e,Ue.after(n))),WF=(e,n)=>Mi(e,Ue.after(n)).orThunk(()=>tl(e,Ue.before(n))),ZF=(e,n)=>CR(n).orThunk(()=>f2(n)).orThunk(()=>xA(e,n)),qF=(e,n)=>f2(n).orThunk(()=>CR(n)).orThunk(()=>WF(e,n)),GF=(e,n,o)=>e?qF(n,o):ZF(n,o),KF=(e,n,o)=>GF(e,n,o).map(he(VF,o)),SR=(e,n,o)=>{o.fold(()=>{e.focus()},r=>{e.selection.setRng(r.toRange(),n)})},YF=e=>n=>n.dom===e,XF=(e,n)=>n&&fn(e.schema.getBlockElements(),vo(n)),xR=(e,n,o)=>{if(Ps(e,n)){const r=ie.fromHtml('<br data-mce-bogus="1">');return o?te(ia(n),c=>{qk(c)||bs(c)}):nd(n),rr(n,r),$.some(Ue.before(r.dom))}else return $.none()},JF=(e,n,o,r)=>{const c=Fl(e).filter(Jr),u=vc(e).filter(Jr);return bs(e),ac(c,u,n,(m,y,v)=>{const T=m.dom,R=y.dom,M=T.data.length;return SA(T,R,o,r),v.container()===R?Ue(T,M):v}).orThunk(()=>(r&&(c.each(m=>CA(m.dom,m.dom.length,o)),u.each(m=>d2(m.dom,0,o))),n))},QF=(e,n)=>fn(e.schema.getTextInlineElements(),vo(n)),hd=(e,n,o,r=!0,c=!1)=>{const u=KF(n,e.getBody(),o.dom),m=Zs(o,he(XF,e),YF(e.getBody())),y=JF(o,u,e.schema,QF(e,o));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):m.bind(v=>xR(e.schema,v,c)).fold(()=>{r&&SR(e,n,y)},v=>{r&&SR(e,n,$.some(v))})},eL=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,TR=e=>eL.test(e),Wy=(e,n)=>fl(ie.fromDom(n),ZC(e))&&!xu(e.schema,n)&&e.dom.isEditable(n),ER=e=>{var n;return Gs.DOM.getStyle(e,"direction",!0)==="rtl"||TR((n=e.textContent)!==null&&n!==void 0?n:"")},AR=(e,n,o)=>be(Gs.DOM.getParents(o.container(),"*",n),e),pp=(e,n,o)=>{const r=AR(e,n,o);return $.from(r[r.length-1])},zR=(e,n,o)=>{const r=Gm(n,e),c=Gm(o,e);return Ne(r)&&r===c},OR=e=>j0(e)||Kp(e),Zr=(e,n)=>{const o=n.container(),r=n.offset();return e?Bf(o)?ct(o.nextSibling)?Ue(o.nextSibling,0):Ue.after(o):j0(n)?Ue(o,r+1):n:Bf(o)?ct(o.previousSibling)?Ue(o.previousSibling,o.previousSibling.data.length):Ue.before(o):Kp(n)?Ue(o,r-1):n},DR=he(Zr,!0),RR=he(Zr,!1),MR=(e,n)=>{const o=r=>r.stopImmediatePropagation();e.on("beforeinput input",o,!0),e.getDoc().execCommand(n),e.off("beforeinput input",o)},tL=e=>{e.execCommand("delete")},m2=e=>MR(e,"Delete"),_h=e=>MR(e,"ForwardDelete"),nL=e=>n=>As(ja(n),e,Qn),oL=e=>Au(e)||Wg(e),tr=(e,n)=>Pr(e,n)?Js(n,oL,nL(e)):$.none(),yv=(e,n=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!n})},Zy=(e,n,o)=>Zn(Ec(o),Xl(o),(r,c)=>{const u=Zr(!0,r),m=Zr(!1,c),y=Zr(!1,n);return e?Mi(o,y).exists(v=>v.isEqual(m)&&n.isEqual(u)):tl(o,y).exists(v=>v.isEqual(u)&&n.isEqual(m))}).getOr(!0),NR=e=>(Yh(e)?Fl(e):Xu(e)).bind(NR).orThunk(()=>$.some(e)),qy=(e,n,o,r=!0)=>{var c;n.deleteContents();const u=NR(o).getOr(o),m=ie.fromDom((c=e.dom.getParent(u.dom,e.dom.isBlock))!==null&&c!==void 0?c:o.dom);if(m.dom===e.getBody()?yv(e,r):Ps(e.schema,m,{checkRootAsContent:!1})&&(Yl(m),r&&e.selection.setCursorLocation(m.dom,0)),!Qn(o,m)){const y=As(ja(m),o)?[]:_f(m);te(y.concat(ia(o)),v=>{!Qn(v,m)&&!Pr(v,m)&&Ps(e.schema,v)&&bs(v)})}},yd=e=>n=>Qn(e,n),Gy=e=>dc(e,"td,th"),Rs=(e,n)=>My(ie.fromDom(e),n),mw=e=>Zn(e.startTable,e.endTable,(n,o)=>{const r=Dp(n,u=>Qn(u,o)),c=Dp(o,u=>Qn(u,n));return!r&&!c?e:{...e,startTable:r?$.none():e.startTable,endTable:c?$.none():e.endTable,isSameTable:!1,isMultiTable:!1}}).getOr(e),PR=e=>mw(e),BR=(e,n)=>{const o=Rs(e.startContainer,n),r=Rs(e.endContainer,n),c=o.isSome(),u=r.isSome(),m=Zn(o,r,Qn).getOr(!1);return PR({startTable:o,endTable:r,isStartInTable:c,isEndInTable:u,isSameTable:m,isMultiTable:!m&&c&&u})},gw=(e,n)=>({start:e,end:n}),TA=(e,n,o)=>({rng:e,table:n,cells:o}),Ky=md.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),bv=(e,n)=>Ll(ie.fromDom(e),"td,th",n),pw=e=>!Qn(e.start,e.end),g2=(e,n)=>My(e.start,n).bind(o=>My(e.end,n).bind(r=>fr(Qn(o,r),o))),$R=(e,n)=>!pw(e)&&g2(e,n).exists(o=>{const r=o.dom.rows;return r.length===1&&r[0].cells.length===1}),IR=(e,n)=>{const o=bv(e.startContainer,n),r=bv(e.endContainer,n);return Zn(o,r,gw)},FR=e=>n=>My(n,e).bind(o=>xo(Gy(o)).map(r=>gw(n,r))),LR=e=>n=>My(n,e).bind(o=>wn(Gy(o)).map(r=>gw(r,n))),p2=e=>n=>g2(n,e).map(o=>TA(n,o,Gy(o))),Yy=(e,n,o,r)=>{if(o.collapsed||!e.forall(pw))return $.none();if(n.isSameTable){const c=e.bind(p2(r));return $.some({start:c,end:c})}else{const c=bv(o.startContainer,r),u=bv(o.endContainer,r),m=c.bind(FR(r)).bind(p2(r)),y=u.bind(LR(r)).bind(p2(r));return $.some({start:m,end:y})}},EA=(e,n)=>po(e,o=>Qn(o,n)),hw=e=>Zn(EA(e.cells,e.rng.start),EA(e.cells,e.rng.end),(n,o)=>e.cells.slice(n,o+1)),sL=(e,n,o)=>e.exists(r=>$R(r,o)&&V1(r.start,n)),HR=(e,n)=>{const{startTable:o,endTable:r}=n,c=e.cloneRange();return o.each(u=>c.setStartAfter(u.dom)),r.each(u=>c.setEndBefore(u.dom)),c},VR=(e,n,o,r)=>Yy(e,n,o,r).bind(({start:c,end:u})=>c.or(u)).bind(c=>{const{isSameTable:u}=n,m=hw(c).getOr([]);if(u&&c.cells.length===m.length)return $.some(Ky.fullTable(c.table));if(m.length>0){if(u)return $.some(Ky.partialTable(m,$.none()));{const y=HR(o,n);return $.some(Ky.partialTable(m,$.some({...n,rng:y})))}}else return $.none()}),UR=(e,n,o,r)=>Yy(e,n,o,r).bind(({start:c,end:u})=>{const m=c.bind(hw).getOr([]),y=u.bind(hw).getOr([]);if(m.length>0&&y.length>0){const v=HR(o,n);return $.some(Ky.multiTable(m,y,v))}else return $.none()}),jR=(e,n)=>{const o=yd(e),r=IR(n,o),c=BR(n,o);return sL(r,n,o)?r.map(u=>Ky.singleCellTable(n,u.start)):c.isMultiTable?UR(r,c,n,o):VR(r,c,n,o)},yw=e=>te(e,n=>{xr(n,"contenteditable"),Yl(n)}),WR=(e,n)=>$.from(e.dom.getParent(n,e.dom.isBlock)).map(ie.fromDom),ZR=(e,n,o)=>{o.each(r=>{n?bs(r):(Yl(r),e.selection.setCursorLocation(r.dom,0))})},h2=(e,n,o,r)=>{const c=o.cloneRange();r?(c.setStart(o.startContainer,o.startOffset),c.setEndAfter(n.dom.lastChild)):(c.setStartBefore(n.dom.firstChild),c.setEnd(o.endContainer,o.endOffset)),y2(e,c,n,!1).each(u=>u())},AA=e=>{const n=dh(e),o=ie.fromDom(e.selection.getNode());Mg(o.dom)&&Ps(e.schema,o)?e.selection.setCursorLocation(o.dom,0):e.selection.collapse(!0),n.length>1&&jn(n,r=>Qn(r,o))&&Ws(o,"data-mce-selected","1")},zA=(e,n,o)=>$.some(()=>{const r=e.selection.getRng(),c=o.bind(({rng:u,isStartInTable:m})=>{const y=WR(e,m?u.endContainer:u.startContainer);u.deleteContents(),ZR(e,m,y.filter(he(Ps,e.schema)));const v=m?n[0]:n[n.length-1];return h2(e,v,r,m),Ps(e.schema,v)?$.none():$.some(m?n.slice(1):n.slice(0,-1))}).getOr(n);yw(c),AA(e)}),qR=(e,n,o,r)=>$.some(()=>{const c=e.selection.getRng(),u=n[0],m=o[o.length-1];h2(e,u,c,!0),h2(e,m,c,!1);const y=Ps(e.schema,u)?n:n.slice(1),v=Ps(e.schema,m)?o:o.slice(0,-1);yw(y.concat(v)),r.deleteContents(),AA(e)}),y2=(e,n,o,r=!0)=>$.some(()=>{qy(e,n,o,r)}),GR=(e,n)=>$.some(()=>hd(e,!1,n)),KR=(e,n,o)=>jR(n,o).bind(r=>r.fold(he(y2,e),he(GR,e),he(zA,e),he(qR,e))),YR=(e,n)=>bw(e,n),OA=(e,n,o,r)=>b2(n,r).fold(()=>KR(e,n,o),c=>YR(e,c)),XR=(e,n,o)=>{const r=ie.fromDom(e.getBody()),c=e.selection.getRng();return o.length!==0?zA(e,o,$.none()):OA(e,r,c,n)},DA=(e,n)=>Lt(of(n,e),fy),b2=(e,n)=>Lt(of(n,e),cc("caption")),JR=(e,n,o,r,c)=>Qg(o,e.getBody(),c).bind(u=>DA(n,ie.fromDom(u.getNode())).bind(m=>Qn(m,r)?$.none():$.some(ze))),bw=(e,n)=>$.some(()=>{Yl(n),e.selection.setCursorLocation(n.dom,0)}),QR=(e,n,o,r)=>Ec(e.dom).bind(c=>Xl(e.dom).map(u=>n?o.isEqual(c)&&r.isEqual(u):o.isEqual(u)&&r.isEqual(c))).getOr(!0),RA=(e,n)=>bw(e,n),v2=(e,n,o)=>b2(e,ie.fromDom(o.getNode())).fold(()=>$.some(ze),r=>fr(!Qn(r,n),ze)),MA=(e,n,o,r,c)=>Qg(o,e.getBody(),c).fold(()=>$.some(ze),u=>QR(r,o,c,u)?RA(e,r):v2(n,r,u)),k2=(e,n,o,r)=>{const c=Ue.fromRangeStart(e.selection.getRng());return DA(o,r).bind(u=>Ps(e.schema,u,{checkRootAsContent:!1})?bw(e,u):JR(e,o,n,u,c))},eM=(e,n,o,r)=>{const c=Ue.fromRangeStart(e.selection.getRng());return Ps(e.schema,r)?bw(e,r):MA(e,o,n,r,c)},vw=(e,n)=>e?iR(n):dw(n),NA=(e,n)=>{const o=Ue.fromRangeStart(e.selection.getRng());return vw(n,o)||Ri(n,e.getBody(),o).exists(r=>vw(n,r))},kw=(e,n,o)=>{const r=ie.fromDom(e.getBody());return b2(r,o).fold(()=>k2(e,n,r,o).orThunk(()=>fr(NA(e,n),ze)),c=>eM(e,n,r,c))},ww=(e,n)=>{const o=ie.fromDom(e.selection.getStart(!0)),r=dh(e);return e.selection.isCollapsed()&&r.length===0?kw(e,n,o):XR(e,o,r)},Ch=(e,n)=>{let o=n;for(;o&&o!==e;){if(Ke(o)||Lo(o))return o;o=o.parentNode}return null},vv=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],PA=ut.each,_w=e=>{const n=e.dom,o=new Set(e.serializer.getTempAttrs()),r=(u,m)=>{if(u.nodeName!==m.nodeName||u.nodeType!==m.nodeType)return!1;const y=T=>{const R={};return PA(n.getAttribs(T),M=>{const B=M.nodeName.toLowerCase();B!=="style"&&!c(B)&&(R[B]=n.getAttrib(T,B))}),R},v=(T,R)=>{for(const M in T)if(fn(T,M)){const B=R[M];if(go(B)||T[M]!==B)return!1;delete R[M]}for(const M in R)if(fn(R,M))return!1;return!0};return Nt(u)&&Nt(m)&&(!v(y(u),y(m))||!v(n.parseStyle(n.getAttrib(u,"style")),n.parseStyle(n.getAttrib(m,"style"))))?!1:!wl(u)&&!wl(m)},c=u=>jn(vv,m=>ns(u,m))||o.has(u);return{compare:r,isAttributeInternal:c}},Xy=e=>["h1","h2","h3","h4","h5","h6"].includes(e.name),Sh=e=>e.name==="summary",tM=(e,n)=>{let o=e;for(;o=o.walk();)n(o)},nM=(e,n,o,r)=>{const c=o.name;for(let u=0,m=e.length;u<m;u++){const y=e[u];if(y.name===c){const v=r.nodes[c];v?v.nodes.push(o):r.nodes[c]={filter:y,nodes:[o]}}}if(o.attributes)for(let u=0,m=n.length;u<m;u++){const y=n[u],v=y.name;if(v in o.attributes.map){const T=r.attributes[v];T?T.nodes.push(o):r.attributes[v]={filter:y,nodes:[o]}}}},rL=(e,n,o)=>{const r={nodes:{},attributes:{}};return o.firstChild&&tM(o,c=>{nM(e,n,c,r)}),r},BA=(e,n)=>{const o=(r,c)=>{mt(r,u=>{const m=is(u.nodes);te(u.filter.callbacks,y=>{for(let v=m.length-1;v>=0;v--){const T=m[v];(!(c?T.attr(u.filter.name)!==void 0:T.name===u.filter.name)||gn(T.parent))&&m.splice(v,1)}m.length>0&&y(m,u.filter.name,n)})})};o(e.nodes,!1),o(e.attributes,!0)},$A=(e,n,o,r={})=>{const c=rL(e,n,o);BA(c,r)},IA=(e,n,o,r)=>{if((e.pad_empty_with_br||n.insert)&&o(r)){const u=new sl("br",1);n.insert&&u.attr("data-mce-bogus","1"),r.empty().append(u)}else r.empty().append(new sl("#text",3)).value=Qr},aL=e=>{var n;return hp(e,"#text")&&((n=e==null?void 0:e.firstChild)===null||n===void 0?void 0:n.value)===Qr},hp=(e,n)=>{const o=e==null?void 0:e.firstChild;return Ne(o)&&o===e.lastChild&&o.name===n},Jy=(e,n)=>{const o=e.getElementRule(n.name);return(o==null?void 0:o.paddEmpty)===!0},w2=(e,n,o,r)=>r.isEmpty(n,o,c=>Jy(e,c)),Vc=(e,n)=>Ne(e)&&(n(e)||e.name==="br"),cL=e=>{let n;for(let o=e;o;o=o.parent){const r=o.attr("contenteditable");if(r==="false")break;r==="true"&&(n=o)}return $.from(n)},FA=(e,n,o=e.parent)=>{if(n.getSpecialElements()[e.name])e.empty().remove();else{const r=e.children();for(const c of r)o&&!n.isValidChild(o.name,c.name)&&FA(c,n,o);e.unwrap()}},Gf=(e,n,o,r=ze)=>{const c=n.getTextBlockElements(),u=n.getNonEmptyElements(),m=n.getWhitespaceElements(),y=ut.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),v=new Set,T=R=>R!==o&&!y[R.name];for(let R=0;R<e.length;R++){const M=e[R];let B,W,X;if(!M.parent||v.has(M))continue;if(c[M.name]&&M.parent.name==="li"){let ee=M.next;for(;ee&&c[ee.name];){ee.name="li",v.add(ee),M.parent.insert(ee,M.parent);ee=ee.next}M.unwrap();continue}const q=[M];for(B=M.parent;B&&!n.isValidChild(B.name,M.name)&&T(B);B=B.parent)q.push(B);if(B&&q.length>1)if(oM(n,M,B))FA(M,n);else{q.reverse(),W=q[0].clone(),r(W);let ee=W;for(let de=0;de<q.length-1;de++){n.isValidChild(ee.name,q[de].name)&&de>0?(X=q[de].clone(),r(X),ee.append(X)):X=ee;for(let _e=q[de].firstChild;_e&&_e!==q[de+1];){const ke=_e.next;X.append(_e),_e=ke}ee=X}w2(n,u,m,W)?B.insert(M,q[0],!0):(B.insert(W,q[0],!0),B.insert(M,W)),B=q[0],(w2(n,u,m,B)||hp(B,"br"))&&B.empty().remove()}else if(M.parent){if(M.name==="li"){let ee=M.prev;if(ee&&(ee.name==="ul"||ee.name==="ol")){ee.append(M);continue}if(ee=M.next,ee&&(ee.name==="ul"||ee.name==="ol")&&ee.firstChild){ee.insert(M,ee.firstChild,!0);continue}const de=new sl("ul",1);r(de),M.wrap(de);continue}if(n.isValidChild(M.parent.name,"div")&&n.isValidChild("div",M.name)){const ee=new sl("div",1);r(ee),M.wrap(ee)}else FA(M,n)}}},Qo=(e,n)=>{let o=e;for(;o;){if(o.name===n)return!0;o=o.parent}return!1},oM=(e,n,o=n.parent)=>o?e.children[n.name]&&!e.isValidChild(o.name,n.name)||n.name==="a"&&Qo(o,"a")?!0:Sh(o)&&Xy(n)?!((o==null?void 0:o.firstChild)===n&&(o==null?void 0:o.lastChild)===n):!1:!1,iL=(e,n,o,r)=>{const c=document.createRange();return c.setStart(e,n),c.setEnd(o,r),c},lL=e=>{const n=Ue.fromRangeStart(e),o=Ue.fromRangeEnd(e),r=e.commonAncestorContainer;return Ri(!1,r,o).map(c=>!kl(n,o,r)&&kl(n,c,r)?iL(n.container(),n.offset(),c.container(),c.offset()):e).getOr(e)},Hs=e=>e.collapsed?e:lL(e),sM=e=>Ne(e.firstChild)&&e.firstChild===e.lastChild,Cw=e=>e.name==="br"||e.value===Qr,Sw=(e,n)=>e.getBlockElements()[n.name]&&sM(n)&&Cw(n.firstChild),xw=(e,n)=>{const o=e.getNonEmptyElements();return Ne(n)&&(n.isEmpty(o)||Sw(e,n))},Tw=(e,n)=>{let o=n.firstChild,r=n.lastChild;return o&&o.name==="meta"&&(o=o.next),r&&r.attr("id")==="mce_marker"&&(r=r.prev),xw(e,r)&&(r=r==null?void 0:r.prev),!o||o!==r?!1:o.name==="ul"||o.name==="ol"},rM=e=>{var n,o;const r=e.firstChild,c=e.lastChild;return r&&r.nodeName==="META"&&((n=r.parentNode)===null||n===void 0||n.removeChild(r)),c&&c.id==="mce_marker"&&((o=c.parentNode)===null||o===void 0||o.removeChild(c)),e},AZ=(e,n,o)=>{const r=n.serialize(o),c=e.createFragment(r);return rM(c)},zZ=e=>{var n;return be((n=e==null?void 0:e.childNodes)!==null&&n!==void 0?n:[],o=>o.nodeName==="LI")},OZ=e=>e.data===Qr||Fo(e),DZ=e=>Ne(e==null?void 0:e.firstChild)&&e.firstChild===e.lastChild&&OZ(e.firstChild),uL=e=>!e.firstChild||DZ(e),RZ=e=>e.length>0&&uL(e[e.length-1])?e.slice(0,-1):e,LA=(e,n)=>{const o=e.getParent(n,e.isBlock);return o&&o.nodeName==="LI"?o:null},dL=(e,n)=>!!LA(e,n),MZ=(e,n)=>{const o=n.cloneRange(),r=n.cloneRange();return o.setStartBefore(e),r.setEndAfter(e),[o.cloneContents(),r.cloneContents()]},fL=(e,n)=>{const o=Ue.before(e),c=pd(n).next(o);return c?c.toRange():null},Lr=(e,n)=>{const o=Ue.after(e),c=pd(n).prev(o);return c?c.toRange():null},aM=(e,n,o,r)=>{const c=MZ(e,r),u=e.parentNode;return u&&(u.insertBefore(c[0],e),ut.each(n,m=>{u.insertBefore(m,e)}),u.insertBefore(c[1],e),u.removeChild(e)),Lr(n[n.length-1],o)},cM=(e,n,o)=>{const r=e.parentNode;return r&&ut.each(n,c=>{r.insertBefore(c,e)}),fL(e,o)},mL=(e,n,o,r)=>(r.insertAfter(n.reverse(),e),Lr(n[0],o)),gL=(e,n,o,r)=>{const c=AZ(n,e,r),u=LA(n,o.startContainer),m=RZ(zZ(c.firstChild)),y=1,v=2,T=n.getRoot(),R=M=>{const B=Ue.fromRangeStart(o),W=pd(n.getRoot()),X=M===y?W.prev(B):W.next(B),q=X==null?void 0:X.getNode();return q?LA(n,q)!==u:!0};return u?R(y)?cM(u,m,T):R(v)?mL(u,m,T,n):aM(u,m,T,o):null},pL=["pre"],nu=(e,n,o,r)=>{var c;const u=n.firstChild,m=n.lastChild,y=m.attr("data-mce-type")==="bookmark"?m.prev:m,v=u===y,T=jt(pL,u.name);if(v&&T){const R=u.attr("contenteditable")!=="false",M=((c=e.getParent(o,e.isBlock))===null||c===void 0?void 0:c.nodeName.toLowerCase())===u.name,B=$.from(Ch(r,o)).forall(Ke);return R&&M&&B}else return!1},bd=Mg,hL=(e,n,o)=>{if(Ne(o)){const r=e.getParent(n.endContainer,bd);return o===r&&V1(ie.fromDom(o),n)}else return!1},HA=(e,n,o)=>{var r;if(o.getAttribute("data-mce-bogus")==="all")(r=o.parentNode)===null||r===void 0||r.insertBefore(e.dom.createFragment(n),o);else{const c=o.firstChild,u=o.lastChild;!c||c===u&&c.nodeName==="BR"?e.dom.setHTML(o,n):e.selection.setContent(n,{no_events:!0})}},VA=(e,n,o)=>{$.from(e.getParent(n,"td,th")).map(ie.fromDom).each(r=>qb(r,o))},yL=(e,n)=>{const o=e.schema.getTextInlineElements(),r=e.dom;if(n){const c=e.getBody(),u=_w(e),m="*[data-mce-fragment]",y=r.select(m);ut.each(y,v=>{const T=B=>Ne(o[B.nodeName.toLowerCase()]),R=B=>B.childNodes.length===1;if((B=>!(sR(r,B)||TF(r,B)))(v)&&T(v)&&R(v)){const B=fv(r,v),W=(de,_e)=>zo(de,ke=>jt(_e,ke)),X=de=>R(v)&&r.is(de,m)&&T(de)&&(de.nodeName===v.nodeName&&W(B,fv(r,de))||X(de.children[0])),q=de=>Ne(de)&&de!==c&&(u.compare(v,de)||q(de.parentElement)),ee=de=>Ne(de)&&de!==c&&r.is(de,m)&&(AF(r,v,de)||ee(de.parentElement));(X(v.children[0])||q(v.parentElement)&&!ee(v.parentElement))&&r.remove(v,!0)}})}},bL=e=>{let n=e;for(;n=n.walk();)n.type===1&&n.attr("data-mce-fragment","1")},Ew=e=>{ut.each(e.getElementsByTagName("*"),n=>{n.removeAttribute("data-mce-fragment")})},_2=e=>!!e.getAttribute("data-mce-fragment"),UA=(e,n)=>Ne(n)&&!e.schema.getVoidElements()[n.nodeName],vL=(e,n)=>{var o,r,c;let u;const m=e.dom,y=e.selection;if(!n)return;y.scrollIntoView(n);const v=Ch(e.getBody(),n);if(v&&m.getContentEditable(v)==="false"){m.remove(n),y.select(v);return}let T=m.createRng();const R=n.previousSibling;if(ct(R)){T.setStart(R,(r=(o=R.nodeValue)===null||o===void 0?void 0:o.length)!==null&&r!==void 0?r:0);const W=n.nextSibling;ct(W)&&(R.appendData(W.data),(c=W.parentNode)===null||c===void 0||c.removeChild(W))}else T.setStartBefore(n),T.setEndBefore(n);const M=W=>{let X=Ue.fromRangeStart(W);return X=pd(e.getBody()).next(X),X==null?void 0:X.toRange()},B=m.getParent(n,m.isBlock);if(m.remove(n),B&&m.isEmpty(B)){const W=bd(B);nd(ie.fromDom(B)),T.setStart(B,0),T.setEnd(B,0),!W&&!_2(B)&&(u=M(T))?(T=u,m.remove(B)):m.add(B,m.create("br",W?{}:{"data-mce-bogus":"1"}))}y.setRng(T)},Kf=e=>{const n=e.dom,o=Hs(e.selection.getRng());e.selection.setRng(o);const r=n.getParent(o.startContainer,bd);hL(n,o,r)?y2(e,o,ie.fromDom(r)):o.startContainer===o.endContainer&&o.endOffset-o.startOffset===1&&ct(o.startContainer.childNodes[o.startOffset])?o.deleteContents():e.getDoc().execCommand("Delete",!1)},kL=e=>{for(let n=e;n;n=n.walk())if(n.attr("id")==="mce_marker")return $.some(n);return $.none()},wL=(e,n,o)=>{var r;return jn(o.children(),Xy)&&((r=e.getParent(n,e.isBlock))===null||r===void 0?void 0:r.nodeName)==="SUMMARY"},vd=(e,n,o)=>{var r,c;const u=e.selection,m=e.dom,y=e.parser,v=o.merge,T=gp({validate:!0},e.schema),R='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';o.preserve_zwsp||(n=ri(n)),n.indexOf("{$caret}")===-1&&(n+="{$caret}"),n=n.replace(/\{\$caret\}/,R);let M=u.getRng();const B=M.startContainer,W=e.getBody();B===W&&u.isCollapsed()&&m.isBlock(W.firstChild)&&UA(e,W.firstChild)&&m.isEmpty(W.firstChild)&&(M=m.createRng(),M.setStart(W.firstChild,0),M.setEnd(W.firstChild,0),u.setRng(M)),u.isCollapsed()||Kf(e);const X=u.getNode(),q={context:X.nodeName.toLowerCase(),data:o.data,insert:!0},ee=y.parse(n,q);if(o.paste===!0&&Tw(e.schema,ee)&&dL(m,X))return M=gL(T,m,u.getRng(),ee),M&&u.setRng(M),n;o.paste===!0&&nu(m,ee,X,e.getBody())&&((r=ee.firstChild)===null||r===void 0||r.unwrap()),bL(ee);let de=ee.lastChild;if(de&&de.attr("id")==="mce_marker"){const _e=de;for(de=de.prev;de;de=de.walk(!0))if(de.type===3||!m.isBlock(de.name)){de.parent&&e.schema.isValidChild(de.parent.name,"span")&&de.parent.insert(_e,de,de.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(X),!q.invalid&&!wL(m,X,ee))n=T.serialize(ee),HA(e,n,X);else{e.selection.setContent(R);let _e=u.getNode(),ke;const Re=e.getBody();for(pm(_e)?_e=ke=Re:ke=_e;ke&&ke!==Re;)_e=ke,ke=ke.parentNode;n=_e===Re?Re.innerHTML:m.getOuterHTML(_e);const tt=y.parse(n),kt=kL(tt),$t=kt.bind(cL).getOr(tt);kt.each(Zt=>Zt.replace(ee));const je=ee.children(),$e=(c=ee.parent)!==null&&c!==void 0?c:tt;ee.unwrap();const et=be(je,Zt=>oM(e.schema,Zt,$e));Gf(et,e.schema,$t),$A(y.getNodeFilters(),y.getAttributeFilters(),tt),n=T.serialize(tt),_e===Re?m.setHTML(Re,n):m.setOuterHTML(_e,n)}return yL(e,v),vL(e,m.get("mce_marker")),Ew(e.getBody()),VA(m,u.getStart(),e.schema),zi(e.schema,e.getBody(),u.getStart()),n},xh=e=>e instanceof sl,sf=e=>{mp(e)&&Ec(e.getBody()).each(n=>{const o=n.getNode(),r=Ul(o)?Ec(o).getOr(n):n;e.selection.setRng(r.toRange())})},jA=(e,n,o)=>{e.dom.setHTML(e.getBody(),n),o!==!0&&sf(e)},Ss=(e,n,o,r)=>{if(o=ri(o),o.length===0||/^\s+$/.test(o)){const c='<br data-mce-bogus="1">';n.nodeName==="TABLE"?o="<tr><td>"+c+"</td></tr>":/^(UL|OL)$/.test(n.nodeName)&&(o="<li>"+c+"</li>");const u=Sc(e);return e.schema.isValidChild(n.nodeName.toLowerCase(),u.toLowerCase())?(o=c,o=e.dom.createHTML(u,Hm(e),o)):o||(o=c),jA(e,o,r.no_selection),{content:o,html:o}}else{r.format!=="raw"&&(o=gp({validate:!1},e.schema).serialize(e.parser.parse(o,{isRootContent:!0,insert:!0})));const c=Zb(ie.fromDom(n))?o:ut.trim(o);return jA(e,c,r.no_selection),{content:c,html:c}}},kv=(e,n,o,r)=>{$A(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),o);const c=gp({validate:!1},e.schema).serialize(o),u=ri(Zb(ie.fromDom(n))?c:ut.trim(c));return jA(e,u,r.no_selection),{content:o,html:u}},C2=(e,n,o)=>$.from(e.getBody()).map(r=>xh(n)?kv(e,r,n,o):Ss(e,r,n,o)).getOr({content:n,html:xh(o.content)?"":o.content}),WA=e=>ue(e)?e:we,ZA=(e,n,o)=>{let r=e.dom;const c=WA(o);for(;r.parentNode;){r=r.parentNode;const u=ie.fromDom(r),m=n(u);if(m.isSome())return m;if(c(u))break}return $.none()},Aw=(e,n,o)=>{const r=n(e),c=WA(o);return r.orThunk(()=>c(e)?$.none():ZA(e,n,c))},qA=rp,S2=(e,n,o)=>{const r=e.formatter.get(o);if(r)for(let c=0;c<r.length;c++){const u=r[c];if(Ql(u)&&u.inherit===!1&&e.dom.is(n,u.selector))return!0}return!1},GA=(e,n,o,r,c)=>{const u=e.dom.getRoot();if(n===u)return!1;const m=e.dom.getParent(n,y=>S2(e,y,o)?!0:y.parentNode===u||!!rf(e,y,o,r,!0));return!!rf(e,m,o,r,c)},zw=(e,n,o)=>Ka(o)&&qA(n,o.inline)||Wf(o)&&qA(n,o.block)?!0:Ql(o)?Nt(n)&&e.is(n,o.selector):!1,KA=(e,n,o,r,c,u)=>{const m=o[r],y=r==="attributes";if(ue(o.onmatch))return o.onmatch(n,o,r);if(m){if(cl(m)){for(let v=0;v<m.length;v++)if(y?e.getAttrib(n,m[v]):Ny(e,n,m[v]))return!0}else for(const v in m)if(fn(m,v)){const T=y?e.getAttrib(n,v):Ny(e,n,v),R=jf(m[v],u),M=gn(T)||ca(T);if(M&&gn(R))continue;if(c&&M&&!o.exact||(!c||o.exact)&&!qA(T,NS(R,v)))return!1}}return!0},rf=(e,n,o,r,c)=>{const u=e.formatter.get(o),m=e.dom;if(u&&Nt(n))for(let y=0;y<u.length;y++){const v=u[y];if(zw(e.dom,n,v)&&KA(m,n,v,"attributes",c,r)&&KA(m,n,v,"styles",c,r)){const T=v.classes;if(T){for(let R=0;R<T.length;R++)if(!e.dom.hasClass(n,jf(T[R],r)))return}return v}}},x2=(e,n,o,r,c)=>{if(r)return GA(e,r,n,o,c);if(r=e.selection.getNode(),GA(e,r,n,o,c))return!0;const u=e.selection.getStart();return!!(u!==r&&GA(e,u,n,o,c))},T2=(e,n,o)=>{const r=[],c={},u=e.selection.getStart();return e.dom.getParent(u,m=>{for(let y=0;y<n.length;y++){const v=n[y];!c[v]&&rf(e,m,v,o)&&(c[v]=!0,r.push(v))}},e.dom.getRoot()),r},_L=(e,n)=>{const o=c=>Qn(c,ie.fromDom(e.getBody())),r=(c,u)=>rf(e,c.dom,u)?$.some(u):$.none();return $.from(e.selection.getStart(!0)).bind(c=>Aw(ie.fromDom(c),u=>Vo(n,m=>r(u,m)),o)).getOrNull()},CL=(e,n)=>{const o=e.formatter.get(n),r=e.dom;if(o&&e.selection.isEditable()){const c=e.selection.getStart(),u=Y1(r,c);for(let m=o.length-1;m>=0;m--){const y=o[m];if(!Ql(y))return!0;for(let v=u.length-1;v>=0;v--)if(r.is(u[v],y.selector))return!0}}return!1},SL=(e,n,o)=>lt(o,(r,c)=>{const u=Wk(e,c);return e.formatter.matchNode(n,c,{},u)?r.concat([c]):r},[]),Ow=Ia,xL=(e,n)=>e.importNode(n,!0),YA=e=>{if(e){const n=new Wa(e,e);for(let o=n.current();o;o=n.next())if(ct(o))return o}return null},XA=e=>{const n=ie.fromTag("span");return Hi(n,{id:B1,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&rr(n,ie.fromText(Ow)),n},TL=e=>{const n=YA(e);return n&&n.data.charAt(0)===Ow&&n.deleteData(0,1),n},E2=(e,n,o)=>{const r=e.dom,c=e.selection;if(Q1(n))hd(e,!1,ie.fromDom(n),o,!0);else{const u=c.getRng(),m=r.getParent(n,r.isBlock),y=u.startContainer,v=u.startOffset,T=u.endContainer,R=u.endOffset,M=TL(n);r.remove(n,!0),y===M&&v>0&&u.setStart(M,v-1),T===M&&R>0&&u.setEnd(M,R-1),m&&r.isEmpty(m)&&Yl(ie.fromDom(m)),c.setRng(u)}},A2=(e,n,o)=>{const r=e.dom,c=e.selection;if(n)E2(e,n,o);else if(n=ep(e.getBody(),c.getStart()),!n)for(;n=r.get(B1);)E2(e,n,o)},EL=(e,n,o)=>{var r,c;const u=e.dom,m=u.getParent(o,he(G1,e.schema));m&&u.isEmpty(m)?(r=o.parentNode)===null||r===void 0||r.replaceChild(n,o):(Om(ie.fromDom(o)),u.isEmpty(o)?(c=o.parentNode)===null||c===void 0||c.replaceChild(n,o):u.insertAfter(n,o))},iM=(e,n)=>(e.appendChild(n),n),JA=(e,n)=>{var o;const r=st(e,(u,m)=>iM(u,m.cloneNode(!1)),n),c=(o=r.ownerDocument)!==null&&o!==void 0?o:document;return iM(r,c.createTextNode(Ow))},AL=(e,n,o,r,c,u)=>{const m=e.formatter,y=e.dom,v=be(oo(m.get()),M=>M!==r&&!Yo(M,"removeformat")),T=SL(e,o,v);if(be(T,M=>!PS(e,M,r)).length>0){const M=o.cloneNode(!1);return y.add(n,M),m.remove(r,c,M,u),y.remove(M),$.some(M)}else return $.none()},QA=e=>L0(e,Am(e).replace(new RegExp(`${Qr}$`)," ")),Bu=(e,n)=>{const o=()=>{n!==null&&!e.dom.isEmpty(n)&&Fl(ie.fromDom(n)).each(r=>{Jr(r)?QA(r):Tg(r,c=>Jr(c)).each(c=>{Jr(c)&&QA(c)})})};e.once("input",r=>{r.data&&!Xm(r.data)&&(r.isComposing?e.once("compositionend",()=>{o()}):o())})},zL=(e,n,o)=>{let r;const c=e.selection,u=e.formatter.get(n);if(!u)return;const m=c.getRng();let y=m.startOffset;const T=m.startContainer.nodeValue;r=ep(e.getBody(),c.getStart());const R=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(T&&y>0&&y<T.length&&R.test(T.charAt(y))&&R.test(T.charAt(y-1))){const M=c.getBookmark();m.collapse(!0);let B=cp(e.dom,m,u);B=rt(B),e.formatter.apply(n,o,B),c.moveToBookmark(M)}else{let M=r?YA(r):null;(!r||(M==null?void 0:M.data)!==Ow)&&(r=xL(e.getDoc(),XA(!0).dom),M=r.firstChild,m.insertNode(r),y=1,Bu(e,r)),e.formatter.apply(n,o,r),c.setCursorLocation(M,y)}},lM=(e,n,o,r)=>{const c=e.dom,u=e.selection;let m=!1;const y=e.formatter.get(n);if(!y)return;const v=u.getRng(),T=v.startContainer,R=v.startOffset;let M=T;ct(T)&&(R!==T.data.length&&(m=!0),M=M.parentNode);const B=[];let W;for(;M;){if(rf(e,M,n,o,r)){W=M;break}M.nextSibling&&(m=!0),B.push(M),M=M.parentNode}if(W)if(m){const X=u.getBookmark();v.collapse(!0);let q=cp(c,v,y,!0);q=rt(q),e.formatter.remove(n,o,q,r),u.moveToBookmark(X)}else{const X=ep(e.getBody(),W),q=Ne(X)?c.getParents(W.parentNode,Qe,X):[],ee=XA(!1).dom;EL(e,ee,X??W);const de=AL(e,ee,W,n,o,r),_e=JA([...B,...de.toArray(),...q],ee);X&&E2(e,X,Ne(X)),u.setCursorLocation(_e,1),Bu(e,ee),c.isEmpty(W)&&c.remove(W)}},ez=(e,n,o)=>{const r=e.selection,c=e.getBody();A2(e,null,o),(n===8||n===46)&&r.isCollapsed()&&r.getStart().innerHTML===Ow&&A2(e,ep(c,r.getStart()),!0),(n===37||n===39)&&A2(e,ep(c,r.getStart()),!0)},tz=e=>ct(e)&&ra(e.data,Qr),uM=e=>{e.on("mouseup keydown",n=>{ez(e,n.keyCode,tz(e.selection.getRng().endContainer))})},nz=e=>{const n=XA(!1),o=JA(e,n.dom);return{caretContainer:n,caretPosition:Ue(o,0)}},dM=(e,n)=>{const{caretContainer:o,caretPosition:r}=nz(n);return uc(ie.fromDom(e),o),bs(ie.fromDom(e)),r},OL=(e,n)=>{const{caretContainer:o,caretPosition:r}=nz(n);return e.insertNode(o.dom),r},z2=(e,n)=>{if(Jl(n.dom))return!1;const o=e.schema.getTextInlineElements();return fn(o,vo(n))&&!Jl(n.dom)&&!Ef(n.dom)},wv={},$u=gl(["pre"]),DL=(e,n)=>{wv[e]||(wv[e]=[]),wv[e].push(n)},RL=(e,n)=>{fn(wv,e)&&te(wv[e],o=>{o(n)})};DL("pre",e=>{const n=e.selection.getRng(),o=c=>u=>{const m=u.previousSibling;return $u(m)&&jt(c,m)},r=(c,u)=>{const m=ie.fromDom(u),y=yu(m).dom;bs(m),vu(ie.fromDom(c),[ie.fromTag("br",y),ie.fromTag("br",y),...ia(m)])};if(!n.collapsed){const c=e.selection.getSelectedBlocks(),u=be(be(c,$u),o(c));te(u,m=>{r(m.previousSibling,m)})}});const ML=["fontWeight","fontStyle","color","fontSize","fontFamily"],oz=e=>wt(e.styles)&&jn(oo(e.styles),n=>jt(ML,n)),NL=e=>Lt(e,n=>Ka(n)&&n.inline==="span"&&oz(n)),PL=(e,n)=>{const o=e.get(n);return bt(o)?NL(o):$.none()},fM=(e,n)=>tl(n,Ue.fromRangeStart(e)).isNone(),O2=(e,n)=>Mi(n,Ue.fromRangeEnd(e)).exists(o=>!Fo(o.getNode())||Mi(n,o).isSome())===!1,af=e=>n=>Nb(n)&&e.isEditable(n),sz=e=>{const n=e.getSelectedBlocks(),o=e.getRng();if(e.isCollapsed())return[];if(n.length===1)return fM(o,n[0])&&O2(o,n[0])?n:[];{const r=wn(n).filter(m=>fM(o,m)).toArray(),c=xo(n).filter(m=>O2(o,m)).toArray(),u=n.slice(1,-1);return r.concat(u).concat(c)}},D2=e=>be(sz(e),af(e.dom)),R2=e=>be(e.getSelectedBlocks(),af(e.dom)),rz=ut.each,M2=e=>Nt(e)&&!wl(e)&&!Jl(e)&&!Ef(e),mM=(e,n)=>{for(let o=e;o;o=o[n]){if(ct(o)&&So(o.data))return e;if(Nt(o)&&!wl(o))return o}return e},az=(e,n,o)=>{const r=_w(e),c=Ui(n)&&e.dom.isEditable(n),u=Ui(o)&&e.dom.isEditable(o);if(c&&u){const m=mM(n,"previousSibling"),y=mM(o,"nextSibling");if(r.compare(m,y)){for(let v=m.nextSibling;v&&v!==y;){const T=v;v=v.nextSibling,m.appendChild(T)}return e.dom.remove(y),ut.each(ut.grep(y.childNodes),v=>{m.appendChild(v)}),m}}return o},N2=(e,n,o,r)=>{var c;if(r&&n.merge_siblings!==!1){const u=(c=az(e,q1(r),r))!==null&&c!==void 0?c:r;az(e,u,q1(u,!0))}},BL=(e,n,o)=>{if(n.clear_child_styles){const r=n.links?"*:not(a)":"*";rz(e.select(r,o),c=>{M2(c)&&e.isEditable(c)&&rz(n.styles,(u,m)=>{e.setStyle(c,m,"")})})}},P2=(e,n,o)=>{rz(e.childNodes,r=>{M2(r)&&(n(r)&&o(r),r.hasChildNodes()&&P2(r,n,o))})},$L=(e,n)=>{n.nodeName==="SPAN"&&e.getAttribs(n).length===0&&e.remove(n,!0)},Th=(e,n)=>o=>!!(o&&Ny(e,o,n)),cz=(e,n,o)=>r=>{e.setStyle(r,n,o),r.getAttribute("style")===""&&r.removeAttribute("style"),$L(e,r)},Qy=md.generate([{keep:[]},{rename:["name"]},{removed:[]}]),gM=/^(src|href|style)$/,iz=ut.each,B2=rp,IL=e=>/^(TR|TH|TD)$/.test(e.nodeName),pM=(e,n,o)=>e.isChildOf(n,o)&&n!==o&&!e.isBlock(o),hM=(e,n,o)=>{let r=n[o?"startContainer":"endContainer"],c=n[o?"startOffset":"endOffset"];if(Nt(r)){const u=r.childNodes.length-1;!o&&c&&c--,r=r.childNodes[c>u?u:c]}return ct(r)&&o&&c>=r.data.length&&(r=new Wa(r,e.getBody()).next()||r),ct(r)&&!o&&c===0&&(r=new Wa(r,e.getBody()).prev()||r),r},lz=(e,n)=>{const o=n?"firstChild":"lastChild",r=e[o];return IL(e)&&r?e.nodeName==="TR"&&r[o]||r:e},uz=(e,n,o,r)=>{var c;const u=e.create(o,r);return(c=n.parentNode)===null||c===void 0||c.insertBefore(u,n),u.appendChild(n),u},$2=(e,n,o,r,c)=>{const u=ie.fromDom(n),m=ie.fromDom(e.create(r,c)),y=o?Pd(u):Cg(u);return vu(m,y),o?(uc(u,m),fm(m,u)):(Zc(u,m),rr(m,u)),m.dom},eb=(e,n)=>n.links&&e.nodeName==="A",yM=(e,n,o)=>{const r=n.parentNode;let c;const u=e.dom,m=Sc(e);Wf(o)&&r===u.getRoot()&&(!o.list_block||!B2(n,o.list_block))&&te(is(n.childNodes),y=>{Jm(e,m,y.nodeName.toLowerCase())?c?c.appendChild(y):(c=uz(u,y,m),u.setAttribs(c,Hm(e))):c=null}),!(Zf(o)&&!B2(o.inline,n))&&u.remove(n,!0)},bM=(e,n,o)=>Wo(e)?{name:n,value:null}:{name:e,value:jf(n,o)},Dw=(e,n)=>{e.getAttrib(n,"style")===""&&(n.removeAttribute("style"),n.removeAttribute("data-mce-style"))},dz=(e,n,o,r,c)=>{let u=!1;iz(o.styles,(m,y)=>{const{name:v,value:T}=bM(y,m,r),R=NS(T,v);(o.remove_similar||Z(T)||!Nt(c)||B2(Ny(e,c,v),R))&&e.setStyle(n,v,""),u=!0}),u&&Dw(e,n)},vM=(e,n,o)=>{n==="removeformat"?te(R2(e.selection),r=>{te(ML,c=>e.dom.setStyle(r,c,"")),Dw(e.dom,r)}):PL(e.formatter,n).each(r=>{te(R2(e.selection),c=>dz(e.dom,c,r,o,null))})},kM=(e,n,o,r,c)=>{const u=e.dom,m=_w(e),y=e.schema;if(Ka(n)&&Wl(y,n.inline)&&xu(y,r)&&r.parentElement===e.getBody())return yM(e,r,n),Qy.removed();if(!n.ceFalseOverride&&r&&u.getContentEditableParent(r)==="false"||r&&!zw(u,r,n)&&!eb(r,n))return Qy.keep();const v=r,T=n.preserve_attributes;if(Ka(n)&&n.remove==="all"&&bt(T)){const R=be(u.getAttribs(v),M=>jt(T,M.name.toLowerCase()));if(u.removeAllAttribs(v),te(R,M=>u.setAttrib(v,M.name,M.value)),R.length>0)return Qy.rename("span")}if(n.remove!=="all"){dz(u,v,n,o,c),iz(n.attributes,(M,B)=>{const{name:W,value:X}=bM(B,M,o);if(n.remove_similar||Z(X)||!Nt(c)||B2(u.getAttrib(c,W),X)){if(W==="class"){const q=u.getAttrib(v,W);if(q){let ee="";if(te(q.split(/\s+/),de=>{/mce\-\w+/.test(de)&&(ee+=(ee?" ":"")+de)}),ee){u.setAttrib(v,W,ee);return}}}if(gM.test(W)&&v.removeAttribute("data-mce-"+W),W==="style"&&gl(["li"])(v)&&u.getStyle(v,"list-style-type")==="none"){v.removeAttribute(W),u.setStyle(v,"list-style-type","none");return}W==="class"&&v.removeAttribute("className"),v.removeAttribute(W)}}),iz(n.classes,M=>{M=jf(M,o),(!Nt(c)||u.hasClass(c,M))&&u.removeClass(v,M)});const R=u.getAttribs(v);for(let M=0;M<R.length;M++){const B=R[M].nodeName;if(!m.isAttributeInternal(B))return Qy.keep()}}return n.remove!=="none"?(yM(e,v,n),Qy.removed()):Qy.keep()},wM=(e,n,o,r,c)=>{let u;return n.parentNode&&te(Y1(e.dom,n.parentNode).reverse(),m=>{if(!u&&Nt(m)&&m.id!=="_start"&&m.id!=="_end"){const y=rf(e,m,o,r,c);y&&y.split!==!1&&(u=m)}}),u},FL=(e,n,o,r)=>kM(e,n,o,r,r).fold(Me(r),c=>(e.dom.createFragment().appendChild(r),e.dom.rename(r,c)),Me(null)),tb=(e,n,o,r,c,u,m,y)=>{var v,T;let R,M;const B=e.dom;if(o){const W=o.parentNode;for(let X=r.parentNode;X&&X!==W;X=X.parentNode){let q=B.clone(X,!1);for(let ee=0;ee<n.length&&(q=FL(e,n[ee],y,q),q!==null);ee++);q&&(R&&q.appendChild(R),M||(M=q),R=q)}u&&(!m.mixed||!B.isBlock(o))&&(r=(v=B.split(o,r))!==null&&v!==void 0?v:r),R&&M&&((T=c.parentNode)===null||T===void 0||T.insertBefore(R,c),M.appendChild(c),Ka(m)&&N2(e,m,y,R))}return r},_M=(e,n,o,r,c)=>{const u=e.formatter.get(n),m=u[0],y=e.dom,v=e.selection,T=q=>{const ee=wM(e,q,n,o,c);return tb(e,u,ee,q,q,!0,m,o)},R=q=>wl(q)&&Nt(q)&&(q.id==="_start"||q.id==="_end"),M=q=>jn(u,ee=>_v(e,ee,o,q,q)),B=q=>{const ee=is(q.childNodes),_e=M(q)||jn(u,tt=>zw(y,q,tt)),ke=q.parentNode;if(!_e&&Ne(ke)&&Zk(m)&&M(ke),m.deep&&ee.length)for(let tt=0;tt<ee.length;tt++)B(ee[tt]);te(["underline","line-through","overline"],tt=>{Nt(q)&&e.dom.getStyle(q,"text-decoration")===tt&&q.parentNode&&jk(y,q.parentNode)===tt&&_v(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:tt}},void 0,q)})},W=q=>{const ee=y.get(q?"_start":"_end");if(ee){let de=ee[q?"firstChild":"lastChild"];return R(de)&&(de=de[q?"firstChild":"lastChild"]),ct(de)&&de.data.length===0&&(de=q?ee.previousSibling||ee.nextSibling:ee.nextSibling||ee.previousSibling),y.remove(ee,!0),de}else return null},X=q=>{let ee,de,_e=cp(y,q,u,q.collapsed);if(m.split){if(_e=rt(_e),ee=hM(e,_e,!0),de=hM(e,_e),ee!==de){if(ee=lz(ee,!0),de=lz(de,!1),pM(y,ee,de)){const Re=$.from(ee.firstChild).getOr(ee);T($2(y,Re,!0,"span",{id:"_start","data-mce-type":"bookmark"})),W(!0);return}if(pM(y,de,ee)){const Re=$.from(de.lastChild).getOr(de);T($2(y,Re,!1,"span",{id:"_end","data-mce-type":"bookmark"})),W(!1);return}ee=uz(y,ee,"span",{id:"_start","data-mce-type":"bookmark"}),de=uz(y,de,"span",{id:"_end","data-mce-type":"bookmark"});const ke=y.createRng();ke.setStartAfter(ee),ke.setEndBefore(de),$y(y,ke,Re=>{te(Re,tt=>{!wl(tt)&&!wl(tt.parentNode)&&T(tt)})}),T(ee),T(de),ee=W(!0),de=W()}else ee=de=T(ee);_e.startContainer=ee.parentNode?ee.parentNode:ee,_e.startOffset=y.nodeIndex(ee),_e.endContainer=de.parentNode?de.parentNode:de,_e.endOffset=y.nodeIndex(de)+1}$y(y,_e,ke=>{te(ke,B)})};if(r){if(W1(r)){const q=y.createRng();q.setStartBefore(r),q.setEndAfter(r),X(q)}else X(r);_l(e,n,r,o);return}!v.isCollapsed()||!Ka(m)||dh(e).length?(Qd(e,()=>U1(e,X),q=>Ka(m)&&x2(e,n,o,q)),e.nodeChanged()):lM(e,n,o,c),vM(e,n,o),_l(e,n,r,o)},fz=(e,n,o,r,c)=>{(r||e.selection.isEditable())&&_M(e,n,o,r,c)},_v=(e,n,o,r,c)=>kM(e,n,o,r,c).fold(we,u=>(e.dom.rename(r,u),!0),Qe),Rw=ut.each,CM=(e,n,o,r)=>{const c=u=>{if(Ui(u)&&Nt(u.parentNode)&&e.isEditable(u)){const m=jk(e,u.parentNode);e.getStyle(u,"color")&&m?e.setStyle(u,"text-decoration",m):e.getStyle(u,"text-decoration")===m&&e.setStyle(u,"text-decoration",null)}};n.styles&&(n.styles.color||n.styles.textDecoration)&&(ut.walk(r,c,"childNodes"),c(r))},LL=(e,n,o,r)=>{if(n.styles&&n.styles.backgroundColor){const c=Th(e,"fontSize");P2(r,u=>c(u)&&e.isEditable(u),cz(e,"backgroundColor",jf(n.styles.backgroundColor,o)))}},SM=(e,n,o,r)=>{if(Ka(n)&&(n.inline==="sub"||n.inline==="sup")){const c=Th(e,"fontSize");P2(r,m=>c(m)&&e.isEditable(m),cz(e,"fontSize",""));const u=be(e.select(n.inline==="sup"?"sub":"sup",r),e.isEditable);e.remove(u,!0)}},HL=(e,n,o,r)=>{Rw(n,c=>{Ka(c)&&Rw(e.dom.select(c.inline,r),u=>{M2(u)&&_v(e,c,o,u,c.exact?u:null)}),BL(e.dom,c,r)})},VL=(e,n,o,r,c)=>{const u=c.parentNode;rf(e,u,o,r)&&_v(e,n,r,c)||n.merge_with_parents&&u&&e.dom.getParent(u,m=>rf(e,m,o,r)?(_v(e,n,r,c),!0):!1)},nb=ut.each,xM=(e,n,o,r)=>{if(KC(e)&&Ka(n)&&o.parentNode){const c=$b(e.schema),u=Db(ie.fromDom(o),m=>Jl(m.dom));return Ks(c,r)&&Su(e.schema,o.parentNode,{skipBogus:!1,includeZwsp:!0})&&!u}else return!1},I2=(e,n,o,r)=>{if(nb(o.styles,(c,u)=>{e.setStyle(n,u,jf(c,r))}),o.styles){const c=e.getAttrib(n,"style");c&&e.setAttrib(n,"data-mce-style",c)}},UL=(e,n,o,r)=>{const c=e.formatter.get(n),u=c[0],m=!r&&e.selection.isCollapsed(),y=e.dom,v=e.selection,T=(X,q=u)=>{ue(q.onformat)&&q.onformat(X,q,o,r),I2(y,X,q,o),nb(q.attributes,(ee,de)=>{y.setAttrib(X,de,jf(ee,o))}),nb(q.classes,ee=>{const de=jf(ee,o);y.hasClass(X,de)||y.addClass(X,de)})},R=(X,q)=>{let ee=!1;return nb(X,de=>Ql(de)?y.getContentEditable(q)==="false"&&!de.ceFalseOverride||Ne(de.collapsed)&&de.collapsed!==m?!0:y.is(q,de.selector)&&!Jl(q)?(T(q,de),ee=!0,!1):!0:!1),ee},M=X=>{if(ae(X)){const q=y.create(X);return T(q),q}else return null},B=(X,q,ee)=>{const de=[];let _e=!0;const ke=u.inline||u.block,Re=M(ke),tt=je=>J1(u)&&rf(e,je,n,o),kt=(je,$e,et)=>{const Zt=BS(u)&&G1(e.schema,je)&&Jm(e,$e,ke);return et&&Zt},$t=(je,$e,et,Zt)=>{const un=je.nodeName.toLowerCase(),mo=Jm(e,ke,un)&&Jm(e,$e,ke),ko=!ee&&ct(je)&&U0(je.data),ss=Jl(je),vs=!Ka(u)||!X.isBlock(je);return(et||Zt)&&mo&&!ko&&!ss&&vs};$y(X,q,je=>{let $e;const et=Zt=>{let un=!1,mo=_e,ko=!1;const ss=Zt.parentNode,vs=ss.nodeName.toLowerCase(),Hr=X.getContentEditable(Zt);Ne(Hr)&&(mo=_e,_e=Hr==="true",un=!0,ko=Uk(e,Zt));const Aa=_e&&!un;if(Fo(Zt)&&!xM(e,u,Zt,vs)){$e=null,Wf(u)&&X.remove(Zt);return}if(tt(Zt)){$e=null;return}if(kt(Zt,vs,Aa)){const Ts=X.rename(Zt,ke);T(Ts),de.push(Ts),$e=null;return}if(Ql(u)){let Ts=R(c,Zt);if(!Ts&&Ne(ss)&&Zk(u)&&(Ts=R(c,ss)),!Ka(u)||Ts){$e=null;return}}Ne(Re)&&$t(Zt,vs,Aa,ko)?($e||($e=X.clone(Re,!1),ss.insertBefore($e,Zt),de.push($e)),ko&&un&&(_e=mo),$e.appendChild(Zt)):($e=null,te(is(Zt.childNodes),et),un&&(_e=mo),$e=null)};te(je,et)}),u.links===!0&&te(de,je=>{const $e=et=>{et.nodeName==="A"&&T(et,u),te(is(et.childNodes),$e)};$e(je)}),te(de,je=>{const $e=un=>{let mo=0;return te(un.childNodes,ko=>{!Hk(ko)&&!wl(ko)&&mo++}),mo},et=un=>Lt(un.childNodes,Z1).filter(ko=>X.getContentEditable(ko)!=="false"&&zw(X,ko,u)).map(ko=>{const ss=X.clone(ko,!1);return T(ss),X.replace(ss,un,!0),X.remove(ko,!0),ss}).getOr(un),Zt=$e(je);if((de.length>1||!X.isBlock(je))&&Zt===0){X.remove(je,!0);return}(Ka(u)||Wf(u)&&u.wrapper)&&(!u.exact&&Zt===1&&(je=et(je)),HL(e,c,o,je),VL(e,u,n,o,je),LL(X,u,o,je),CM(X,u,o,je),SM(X,u,o,je),N2(e,u,o,je))})},W=W1(r)?r:v.getNode();if(y.getContentEditable(W)==="false"&&!Uk(e,W)){r=W,R(c,r),tu(e,n,r,o);return}if(u){if(r)if(W1(r)){if(!R(c,r)){const X=y.createRng();X.setStartBefore(r),X.setEndAfter(r),B(y,cp(y,X,c),!0)}}else B(y,r,!0);else!m||!Ka(u)||dh(e).length?(v.setRng(Hs(v.getRng())),Qd(e,()=>{U1(e,(X,q)=>{const ee=q?X:cp(y,X,c);B(y,ee,!1)})},Qe),e.nodeChanged()):zL(e,n,o),PL(e.formatter,n).each(X=>{te(D2(e.selection),q=>I2(y,q,X,o))});RL(n,e)}tu(e,n,r,o)},TM=(e,n,o,r)=>{(r||e.selection.isEditable())&&UL(e,n,o,r)},mz=e=>fn(e,"vars"),gz=(e,n)=>{e.set({}),n.on("NodeChange",o=>{zM(n,o.element,e.get())}),n.on("FormatApply FormatRemove",o=>{const r=$.from(o.node).map(c=>W1(c)?c:c.startContainer).bind(c=>Nt(c)?$.some(c):$.from(c.parentElement)).getOrThunk(()=>pz(n));zM(n,r,e.get())})},pz=e=>e.selection.getStart(),EM=(e,n,o,r,c)=>Rn(n,y=>{const v=e.formatter.matchNode(y,o,c??{},r);return!go(v)},y=>S2(e,y,o)?!0:r?!1:Ne(e.formatter.matchNode(y,o,c,!0))),AM=(e,n)=>{const o=n??pz(e);return be(Y1(e.dom,o),r=>Nt(r)&&!Ef(r))},zM=(e,n,o)=>{const r=AM(e,n);mt(o,(c,u)=>{const m=y=>{const v=EM(e,r,u,y.similar,mz(y)?y.vars:void 0),T=v.isSome();if(y.state.get()!==T){y.state.set(T);const R=v.getOr(n);mz(y)?y.callback(T,{node:R,format:u,parents:r}):te(y.callbacks,M=>M(T,{node:R,format:u,parents:r}))}};te([c.withSimilar,c.withoutSimilar],m),te(c.withVars,m)})},F2=(e,n,o,r,c,u)=>{const m=n.get();te(o.split(","),y=>{const v=Uo(m,y).getOrThunk(()=>{const R={withSimilar:{state:Ee(!1),similar:!0,callbacks:[]},withoutSimilar:{state:Ee(!1),similar:!1,callbacks:[]},withVars:[]};return m[y]=R,R}),T=()=>{const R=AM(e);return EM(e,R,y,c,u).isSome()};if(go(u)){const R=c?v.withSimilar:v.withoutSimilar;R.callbacks.push(r),R.callbacks.length===1&&R.state.set(T())}else v.withVars.push({state:Ee(T()),similar:c,vars:u,callback:r})}),n.set(m)},yp=(e,n,o)=>{const r=e.get();te(n.split(","),c=>Uo(r,c).each(u=>{r[c]={withSimilar:{...u.withSimilar,callbacks:be(u.withSimilar.callbacks,m=>m!==o)},withoutSimilar:{...u.withoutSimilar,callbacks:be(u.withoutSimilar.callbacks,m=>m!==o)},withVars:be(u.withVars,m=>m.callback!==o)}})),e.set(r)},jL=(e,n,o,r,c,u)=>(F2(e,n,o,r,c,u),{unbind:()=>yp(n,o,r)}),hz=(e,n,o,r)=>{const c=e.formatter.get(n);c&&(x2(e,n,o,r)&&(!("toggle"in c[0])||c[0].toggle)?fz(e,n,o,r):TM(e,n,o,r))},ta=ut.explode,L2=()=>{const e={};return{addFilter:(c,u)=>{te(ta(c),m=>{fn(e,m)||(e[m]={name:m,callbacks:[]}),e[m].callbacks.push(u)})},getFilters:()=>Dc(e),removeFilter:(c,u)=>{te(ta(c),m=>{if(fn(e,m))if(Ne(u)){const y=e[m],v=be(y.callbacks,T=>T!==u);v.length>0?y.callbacks=v:delete e[m]}else delete e[m]})}}},yz=(e,n)=>{te(n,o=>{e.attr(o,null)})},bp=(e,n,o)=>{e.addNodeFilter("font",r=>{te(r,c=>{const u=n.parse(c.attr("style")),m=c.attr("color"),y=c.attr("face"),v=c.attr("size");m&&(u.color=m),y&&(u["font-family"]=y),v&&Jc(v).each(T=>{u["font-size"]=o[T-1]}),c.name="span",c.attr("style",n.serialize(u)),yz(c,["color","face","size"])})})},OM=(e,n,o)=>{e.addNodeFilter("strike",r=>{const c=n.type!=="html4";te(r,u=>{if(c)u.name="s";else{const m=o.parse(u.attr("style"));m["text-decoration"]="line-through",u.name="span",u.attr("style",o.serialize(m))}})})},DM=(e,n,o)=>{var r;const c=C0();n.convert_fonts_to_spans&&bp(e,c,ut.explode((r=n.font_size_legacy_values)!==null&&r!==void 0?r:"")),OM(e,o,c)},Mw=(e,n,o)=>{n.inline_styles&&DM(e,n,o)},WL=e=>fetch(e).then(n=>n.ok?n.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})),ZL=e=>{const n=/([a-z0-9+\/=\s]+)/i.exec(e);return n?n[1]:""},Eh=e=>{const[n,...o]=e.split(","),r=o.join(","),c=/data:([^/]+\/[^;]+)(;.+)?/.exec(n);if(c){const u=c[2]===";base64",m=u?ZL(r):decodeURIComponent(r);return $.some({type:c[1],data:m,base64Encoded:u})}else return $.none()},RM=(e,n,o=!0)=>{let r=n;if(o)try{r=atob(n)}catch{return $.none()}const c=new Uint8Array(r.length);for(let u=0;u<c.length;u++)c[u]=r.charCodeAt(u);return $.some(new Blob([c],{type:e}))},ob=e=>new Promise((n,o)=>{Eh(e).bind(({type:r,data:c,base64Encoded:u})=>RM(r,c,u)).fold(()=>o("Invalid data URI"),n)}),qL=e=>ns(e,"blob:")?WL(e):ns(e,"data:")?ob(e):Promise.reject("Unknown URI format"),vp=e=>new Promise((n,o)=>{const r=new FileReader;r.onloadend=()=>{n(r.result)},r.onerror=()=>{var c;o((c=r.error)===null||c===void 0?void 0:c.message)},r.readAsDataURL(e)});let GL=0;const kd=e=>(e||"blobid")+GL++,Cv=(e,n,o)=>Eh(e).bind(({data:r,type:c,base64Encoded:u})=>{if(n&&!u)return $.none();{const m=u?r:btoa(r);return o(m,c)}}),H2=(e,n,o)=>{const r=e.create(kd(),n,o);return e.add(r),r},V2=(e,n,o=!1)=>Cv(n,o,(r,c)=>$.from(e.getByData(r,c)).orThunk(()=>RM(c,r).map(u=>H2(e,u,r)))),KL=(e,n)=>{const o=()=>Promise.reject("Invalid data URI");if(ns(n,"blob:")){const r=e.getByUri(n);return Ne(r)?Promise.resolve(r):qL(n).then(c=>vp(c).then(u=>Cv(u,!1,m=>$.some(H2(e,c,m))).getOrThunk(o)))}else return ns(n,"data:")?V2(e,n).fold(o,r=>Promise.resolve(r)):Promise.reject("Unknown image data format")},U2=/^(?:(?:(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)([A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*))(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?)$/,YL=e=>$.from(e.match(U2)).bind(n=>Ko(n,1)).map(n=>ns(n,"www.")?n.substring(4):n),wd=(e,n)=>{$.from(e.attr("src")).bind(YL).forall(o=>!jt(n,o))&&e.attr("sandbox","")},Sv=(e,n)=>ns(e,`${n}/`),MM=e=>go(e)?"iframe":Sv(e,"image")?"img":Sv(e,"video")?"video":Sv(e,"audio")?"audio":"iframe",bz=({type:e,src:n,width:o,height:r}={},c,u)=>{const m=MM(e),y=new sl(m,1);return y.attr(m==="audio"?{src:n}:{src:n,width:o,height:r}),(m==="audio"||m==="video")&&y.attr("controls",""),m==="iframe"&&c&&wd(y,u),y},vz=e=>Ne(e.attr("data-mce-bogus")),sb=e=>e.attr("src")===rn.transparentSrc||Ne(e.attr("data-mce-placeholder")),kz=(e,n)=>{const{blob_cache:o}=n;if(o){const r=c=>{const u=c.attr("src");sb(c)||vz(c)||gn(u)||V2(o,u,!0).each(m=>{c.attr("src",m.blobUri())})};e.addAttributeFilter("src",c=>te(c,r))}},XL=(e,n)=>{var o,r;const c=e.schema;e.addAttributeFilter("href",v=>{let T=v.length;const R=B=>B.split(" ").filter(X=>X.length>0).concat(["noopener"]).sort().join(" "),M=B=>{const W=B?ut.trim(B):"";return/\b(noopener)\b/g.test(W)?W:R(W)};if(!n.allow_unsafe_link_target)for(;T--;){const B=v[T];B.name==="a"&&B.attr("target")==="_blank"&&B.attr("rel",M(B.attr("rel")))}}),n.allow_html_in_named_anchor||e.addAttributeFilter("id,name",v=>{let T=v.length,R,M,B,W;for(;T--;)if(W=v[T],W.name==="a"&&W.firstChild&&!W.attr("href"))for(B=W.parent,R=W.lastChild;R&&B;)M=R.prev,B.insert(R,W),R=M}),n.fix_list_elements&&e.addNodeFilter("ul,ol",v=>{let T=v.length,R,M;for(;T--;)if(R=v[T],M=R.parent,M&&(M.name==="ul"||M.name==="ol"))if(R.prev&&R.prev.name==="li")R.prev.append(R);else{const B=new sl("li",1);B.attr("style","list-style-type: none"),R.wrap(B)}});const u=c.getValidClasses();n.validate&&u&&e.addAttributeFilter("class",v=>{var T;let R=v.length;for(;R--;){const M=v[R],B=(T=M.attr("class"))!==null&&T!==void 0?T:"",W=ut.explode(B," ");let X="";for(let q=0;q<W.length;q++){const ee=W[q];let de=!1,_e=u["*"];_e&&_e[ee]&&(de=!0),_e=u[M.name],!de&&_e&&_e[ee]&&(de=!0),de&&(X&&(X+=" "),X+=ee)}X.length||(X=null),M.attr("class",X)}}),kz(e,n);const m=(o=n.sandbox_iframes)!==null&&o!==void 0?o:!1,y=zr((r=n.sandbox_iframes_exclusions)!==null&&r!==void 0?r:[]);n.convert_unsafe_embeds&&e.addNodeFilter("object,embed",v=>te(v,T=>{T.replace(bz({type:T.attr("type"),src:T.name==="object"?T.attr("data"):T.attr("src"),width:T.attr("width"),height:T.attr("height")},m,y))})),m&&e.addNodeFilter("iframe",v=>te(v,T=>wd(T,y)))},{entries:wz,setPrototypeOf:NM,isFrozen:JL,getPrototypeOf:QL,getOwnPropertyDescriptor:e6}=Object;let{freeze:fi,seal:Yf,create:PM}=Object,{apply:Nw,construct:_z}=typeof Reflect<"u"&&Reflect;Nw||(Nw=function(n,o,r){return n.apply(o,r)}),fi||(fi=function(n){return n}),Yf||(Yf=function(n){return n}),_z||(_z=function(n,o){return new n(...o)});const BM=cf(Array.prototype.forEach),$M=cf(Array.prototype.pop),Pw=cf(Array.prototype.push),j2=cf(String.prototype.toLowerCase),Cz=cf(String.prototype.toString),t6=cf(String.prototype.match),Xf=cf(String.prototype.replace),n6=cf(String.prototype.indexOf),o6=cf(String.prototype.trim),_d=cf(RegExp.prototype.test),Bw=s6(TypeError);function cf(e){return function(n){for(var o=arguments.length,r=new Array(o>1?o-1:0),c=1;c<o;c++)r[c-1]=arguments[c];return Nw(e,n,r)}}function s6(e){return function(){for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return _z(e,o)}}function xs(e,n,o){var r;o=(r=o)!==null&&r!==void 0?r:j2,NM&&NM(e,null);let c=n.length;for(;c--;){let u=n[c];if(typeof u=="string"){const m=o(u);m!==u&&(JL(n)||(n[c]=m),u=m)}e[u]=!0}return e}function xv(e){const n=PM(null);for(const[o,r]of wz(e))n[o]=r;return n}function $w(e,n){for(;e!==null;){const r=e6(e,n);if(r){if(r.get)return cf(r.get);if(typeof r.value=="function")return cf(r.value)}e=QL(e)}function o(r){return console.warn("fallback value for",r),null}return o}const IM=fi(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Ah=fi(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Sz=fi(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),r6=fi(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),xz=fi(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),a6=fi(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Tz=fi(["#text"]),FM=fi(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Ez=fi(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),LM=fi(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),W2=fi(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),c6=Yf(/\{\{[\w\W]*|[\w\W]*\}\}/gm),i6=Yf(/<%[\w\W]*|[\w\W]*%>/gm),l6=Yf(/\${[\w\W]*}/gm),u6=Yf(/^data-[\-\w.\u00B7-\uFFFF]/),d6=Yf(/^aria-[\-\w]+$/),HM=Yf(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Az=Yf(/^(?:\w+script|data):/i),VM=Yf(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),f6=Yf(/^html$/i);var Tv=Object.freeze({__proto__:null,MUSTACHE_EXPR:c6,ERB_EXPR:i6,TMPLIT_EXPR:l6,DATA_ATTR:u6,ARIA_ATTR:d6,IS_ALLOWED_URI:HM,IS_SCRIPT_OR_DATA:Az,ATTR_WHITESPACE:VM,DOCTYPE_NAME:f6});const m6=()=>typeof window>"u"?null:window,UM=function(n,o){if(typeof n!="object"||typeof n.createPolicy!="function")return null;let r=null;const c="data-tt-policy-suffix";o&&o.hasAttribute(c)&&(r=o.getAttribute(c));const u="dompurify"+(r?"#"+r:"");try{return n.createPolicy(u,{createHTML(m){return m},createScriptURL(m){return m}})}catch{return console.warn("TrustedTypes policy "+u+" could not be created."),null}};function jM(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m6();const n=_o=>jM(_o);if(n.version="3.0.5",n.removed=[],!e||!e.document||e.document.nodeType!==9)return n.isSupported=!1,n;const o=e.document,r=o.currentScript;let{document:c}=e;const{DocumentFragment:u,HTMLTemplateElement:m,Node:y,Element:v,NodeFilter:T,NamedNodeMap:R=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:M,DOMParser:B,trustedTypes:W}=e,X=v.prototype,q=$w(X,"cloneNode"),ee=$w(X,"nextSibling"),de=$w(X,"childNodes"),_e=$w(X,"parentNode");if(typeof m=="function"){const _o=c.createElement("template");_o.content&&_o.content.ownerDocument&&(c=_o.content.ownerDocument)}let ke,Re="";const{implementation:tt,createNodeIterator:kt,createDocumentFragment:$t,getElementsByTagName:je}=c,{importNode:$e}=o;let et={};n.isSupported=typeof wz=="function"&&typeof _e=="function"&&tt&&tt.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Zt,ERB_EXPR:un,TMPLIT_EXPR:mo,DATA_ATTR:ko,ARIA_ATTR:ss,IS_SCRIPT_OR_DATA:vs,ATTR_WHITESPACE:Hr}=Tv;let{IS_ALLOWED_URI:Aa}=Tv,Ts=null;const St=xs({},[...IM,...Ah,...Sz,...xz,...Tz]);let cn=null;const Ho=xs({},[...FM,...Ez,...LM,...W2]);let Mt=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),yn=null,io=null,Bt=!0,lo=!0,wo=!1,tc=!0,ds=!1,La=!1,Ed=!1,sm=!1,Bi=!1,Ol=!1,Zu=!1,Dl=!0,qu=!1;const dn="user-content-";let Oo=!0,ir=!1,Vr={},ma=null;const hc=xs({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ga=null;const pa=xs({},["audio","video","img","source","image","track"]);let pi=null;const Ad=xs({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),zd="http://www.w3.org/1998/Math/MathML",Od="http://www.w3.org/2000/svg",ru="http://www.w3.org/1999/xhtml";let ig=ru,Ep=!1,xb=null;const bT=xs({},[zd,Od,ru],Cz);let lg;const l0=["application/xhtml+xml","text/html"],sD="text/html";let Kc,Tb=null;const rD=c.createElement("form"),aD=function(Fe){return Fe instanceof RegExp||Fe instanceof Function},ug=function(Fe){if(!(Tb&&Tb===Fe)){if((!Fe||typeof Fe!="object")&&(Fe={}),Fe=xv(Fe),lg=l0.indexOf(Fe.PARSER_MEDIA_TYPE)===-1?lg=sD:lg=Fe.PARSER_MEDIA_TYPE,Kc=lg==="application/xhtml+xml"?Cz:j2,Ts="ALLOWED_TAGS"in Fe?xs({},Fe.ALLOWED_TAGS,Kc):St,cn="ALLOWED_ATTR"in Fe?xs({},Fe.ALLOWED_ATTR,Kc):Ho,xb="ALLOWED_NAMESPACES"in Fe?xs({},Fe.ALLOWED_NAMESPACES,Cz):bT,pi="ADD_URI_SAFE_ATTR"in Fe?xs(xv(Ad),Fe.ADD_URI_SAFE_ATTR,Kc):Ad,ga="ADD_DATA_URI_TAGS"in Fe?xs(xv(pa),Fe.ADD_DATA_URI_TAGS,Kc):pa,ma="FORBID_CONTENTS"in Fe?xs({},Fe.FORBID_CONTENTS,Kc):hc,yn="FORBID_TAGS"in Fe?xs({},Fe.FORBID_TAGS,Kc):{},io="FORBID_ATTR"in Fe?xs({},Fe.FORBID_ATTR,Kc):{},Vr="USE_PROFILES"in Fe?Fe.USE_PROFILES:!1,Bt=Fe.ALLOW_ARIA_ATTR!==!1,lo=Fe.ALLOW_DATA_ATTR!==!1,wo=Fe.ALLOW_UNKNOWN_PROTOCOLS||!1,tc=Fe.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ds=Fe.SAFE_FOR_TEMPLATES||!1,La=Fe.WHOLE_DOCUMENT||!1,Bi=Fe.RETURN_DOM||!1,Ol=Fe.RETURN_DOM_FRAGMENT||!1,Zu=Fe.RETURN_TRUSTED_TYPE||!1,sm=Fe.FORCE_BODY||!1,Dl=Fe.SANITIZE_DOM!==!1,qu=Fe.SANITIZE_NAMED_PROPS||!1,Oo=Fe.KEEP_CONTENT!==!1,ir=Fe.IN_PLACE||!1,Aa=Fe.ALLOWED_URI_REGEXP||HM,ig=Fe.NAMESPACE||ru,Mt=Fe.CUSTOM_ELEMENT_HANDLING||{},Fe.CUSTOM_ELEMENT_HANDLING&&aD(Fe.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Mt.tagNameCheck=Fe.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Fe.CUSTOM_ELEMENT_HANDLING&&aD(Fe.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Mt.attributeNameCheck=Fe.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Fe.CUSTOM_ELEMENT_HANDLING&&typeof Fe.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Mt.allowCustomizedBuiltInElements=Fe.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ds&&(lo=!1),Ol&&(Bi=!0),Vr&&(Ts=xs({},[...Tz]),cn=[],Vr.html===!0&&(xs(Ts,IM),xs(cn,FM)),Vr.svg===!0&&(xs(Ts,Ah),xs(cn,Ez),xs(cn,W2)),Vr.svgFilters===!0&&(xs(Ts,Sz),xs(cn,Ez),xs(cn,W2)),Vr.mathMl===!0&&(xs(Ts,xz),xs(cn,LM),xs(cn,W2))),Fe.ADD_TAGS&&(Ts===St&&(Ts=xv(Ts)),xs(Ts,Fe.ADD_TAGS,Kc)),Fe.ADD_ATTR&&(cn===Ho&&(cn=xv(cn)),xs(cn,Fe.ADD_ATTR,Kc)),Fe.ADD_URI_SAFE_ATTR&&xs(pi,Fe.ADD_URI_SAFE_ATTR,Kc),Fe.FORBID_CONTENTS&&(ma===hc&&(ma=xv(ma)),xs(ma,Fe.FORBID_CONTENTS,Kc)),Oo&&(Ts["#text"]=!0),La&&xs(Ts,["html","head","body"]),Ts.table&&(xs(Ts,["tbody"]),delete yn.tbody),Fe.TRUSTED_TYPES_POLICY){if(typeof Fe.TRUSTED_TYPES_POLICY.createHTML!="function")throw Bw('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Fe.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Bw('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');ke=Fe.TRUSTED_TYPES_POLICY,Re=ke.createHTML("")}else ke===void 0&&(ke=UM(W,r)),ke!==null&&typeof Re=="string"&&(Re=ke.createHTML(""));fi&&fi(Fe),Tb=Fe}},J_=xs({},["mi","mo","mn","ms","mtext"]),Be=xs({},["foreignobject","desc","title","annotation-xml"]),Ie=xs({},["title","style","font","a","script"]),Ct=xs({},Ah);xs(Ct,Sz),xs(Ct,r6);const pt=xs({},xz);xs(pt,a6);const En=function(Fe){let nn=_e(Fe);(!nn||!nn.tagName)&&(nn={namespaceURI:ig,tagName:"template"});const Mn=j2(Fe.tagName),na=j2(nn.tagName);return xb[Fe.namespaceURI]?Fe.namespaceURI===Od?nn.namespaceURI===ru?Mn==="svg":nn.namespaceURI===zd?Mn==="svg"&&(na==="annotation-xml"||J_[na]):!!Ct[Mn]:Fe.namespaceURI===zd?nn.namespaceURI===ru?Mn==="math":nn.namespaceURI===Od?Mn==="math"&&Be[na]:!!pt[Mn]:Fe.namespaceURI===ru?nn.namespaceURI===Od&&!Be[na]||nn.namespaceURI===zd&&!J_[na]?!1:!pt[Mn]&&(Ie[Mn]||!Ct[Mn]):!!(lg==="application/xhtml+xml"&&xb[Fe.namespaceURI]):!1},To=function(Fe){Pw(n.removed,{element:Fe});try{Fe.parentNode.removeChild(Fe)}catch{Fe.remove()}},vr=function(Fe,nn){try{Pw(n.removed,{attribute:nn.getAttributeNode(Fe),from:nn})}catch{Pw(n.removed,{attribute:null,from:nn})}if(nn.removeAttribute(Fe),Fe==="is"&&!cn[Fe])if(Bi||Ol)try{To(nn)}catch{}else try{nn.setAttribute(Fe,"")}catch{}},Dd=function(Fe){let nn,Mn;if(sm)Fe="<remove></remove>"+Fe;else{const t=t6(Fe,/^[\r\n\t ]+/);Mn=t&&t[0]}lg==="application/xhtml+xml"&&ig===ru&&(Fe='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Fe+"</body></html>");const na=ke?ke.createHTML(Fe):Fe;if(ig===ru)try{nn=new B().parseFromString(na,lg)}catch{}if(!nn||!nn.documentElement){nn=tt.createDocument(ig,"template",null);try{nn.documentElement.innerHTML=Ep?Re:na}catch{}}const $i=nn.body||nn.documentElement;return Fe&&Mn&&$i.insertBefore(c.createTextNode(Mn),$i.childNodes[0]||null),ig===ru?je.call(nn,La?"html":"body")[0]:La?nn.documentElement:$i},u0=function(Fe){return kt.call(Fe.ownerDocument||Fe,Fe,T.SHOW_ELEMENT|T.SHOW_COMMENT|T.SHOW_TEXT,null,!1)},gZ=function(Fe){return Fe instanceof M&&(typeof Fe.nodeName!="string"||typeof Fe.textContent!="string"||typeof Fe.removeChild!="function"||!(Fe.attributes instanceof R)||typeof Fe.removeAttribute!="function"||typeof Fe.setAttribute!="function"||typeof Fe.namespaceURI!="string"||typeof Fe.insertBefore!="function"||typeof Fe.hasChildNodes!="function")},vT=function(Fe){return typeof y=="object"?Fe instanceof y:Fe&&typeof Fe=="object"&&typeof Fe.nodeType=="number"&&typeof Fe.nodeName=="string"},dg=function(Fe,nn,Mn){et[Fe]&&BM(et[Fe],na=>{na.call(n,nn,Mn,Tb)})},U5=function(Fe){let nn;if(dg("beforeSanitizeElements",Fe,null),gZ(Fe))return To(Fe),!0;const Mn=Kc(Fe.nodeName);if(dg("uponSanitizeElement",Fe,{tagName:Mn,allowedTags:Ts}),Fe.hasChildNodes()&&!vT(Fe.firstElementChild)&&(!vT(Fe.content)||!vT(Fe.content.firstElementChild))&&_d(/<[/\w]/g,Fe.innerHTML)&&_d(/<[/\w]/g,Fe.textContent))return To(Fe),!0;if(!Ts[Mn]||yn[Mn]){if(!yn[Mn]&&W5(Mn)&&(Mt.tagNameCheck instanceof RegExp&&_d(Mt.tagNameCheck,Mn)||Mt.tagNameCheck instanceof Function&&Mt.tagNameCheck(Mn)))return!1;if(Oo&&!ma[Mn]){const na=_e(Fe)||Fe.parentNode,$i=de(Fe)||Fe.childNodes;if($i&&na){const t=$i.length;for(let s=t-1;s>=0;--s)na.insertBefore(q($i[s],!0),ee(Fe))}}return To(Fe),!0}return Fe instanceof v&&!En(Fe)||(Mn==="noscript"||Mn==="noembed"||Mn==="noframes")&&_d(/<\/no(script|embed|frames)/i,Fe.innerHTML)?(To(Fe),!0):(ds&&Fe.nodeType===3&&(nn=Fe.textContent,nn=Xf(nn,Zt," "),nn=Xf(nn,un," "),nn=Xf(nn,mo," "),Fe.textContent!==nn&&(Pw(n.removed,{element:Fe.cloneNode()}),Fe.textContent=nn)),dg("afterSanitizeElements",Fe,null),!1)},j5=function(Fe,nn,Mn){if(Dl&&(nn==="id"||nn==="name")&&(Mn in c||Mn in rD))return!1;if(!(lo&&!io[nn]&&_d(ko,nn))){if(!(Bt&&_d(ss,nn))){if(!cn[nn]||io[nn]){if(!(W5(Fe)&&(Mt.tagNameCheck instanceof RegExp&&_d(Mt.tagNameCheck,Fe)||Mt.tagNameCheck instanceof Function&&Mt.tagNameCheck(Fe))&&(Mt.attributeNameCheck instanceof RegExp&&_d(Mt.attributeNameCheck,nn)||Mt.attributeNameCheck instanceof Function&&Mt.attributeNameCheck(nn))||nn==="is"&&Mt.allowCustomizedBuiltInElements&&(Mt.tagNameCheck instanceof RegExp&&_d(Mt.tagNameCheck,Mn)||Mt.tagNameCheck instanceof Function&&Mt.tagNameCheck(Mn))))return!1}else if(!pi[nn]){if(!_d(Aa,Xf(Mn,Hr,""))){if(!((nn==="src"||nn==="xlink:href"||nn==="href")&&Fe!=="script"&&n6(Mn,"data:")===0&&ga[Fe])){if(!(wo&&!_d(vs,Xf(Mn,Hr,"")))){if(Mn)return!1}}}}}}return!0},W5=function(Fe){return Fe.indexOf("-")>0},Z5=function(Fe){let nn,Mn,na,$i;dg("beforeSanitizeAttributes",Fe,null);const{attributes:t}=Fe;if(!t)return;const s={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:cn};for($i=t.length;$i--;){nn=t[$i];const{name:a,namespaceURI:i}=nn;Mn=a==="value"?nn.value:o6(nn.value);const d=Mn;if(na=Kc(a),s.attrName=na,s.attrValue=Mn,s.keepAttr=!0,s.forceKeepAttr=void 0,dg("uponSanitizeAttribute",Fe,s),Mn=s.attrValue,s.forceKeepAttr)continue;if(!s.keepAttr){vr(a,Fe);continue}if(!tc&&_d(/\/>/i,Mn)){vr(a,Fe);continue}ds&&(Mn=Xf(Mn,Zt," "),Mn=Xf(Mn,un," "),Mn=Xf(Mn,mo," "));const g=Kc(Fe.nodeName);if(!j5(g,na,Mn)){vr(a,Fe);continue}if(qu&&(na==="id"||na==="name")&&(vr(a,Fe),Mn=dn+Mn),ke&&typeof W=="object"&&typeof W.getAttributeType=="function"&&!i)switch(W.getAttributeType(g,na)){case"TrustedHTML":{Mn=ke.createHTML(Mn);break}case"TrustedScriptURL":{Mn=ke.createScriptURL(Mn);break}}if(Mn!==d)try{i?Fe.setAttributeNS(i,a,Mn):Fe.setAttribute(a,Mn)}catch{vr(a,Fe)}}dg("afterSanitizeAttributes",Fe,null)},pZ=function _o(Fe){let nn;const Mn=u0(Fe);for(dg("beforeSanitizeShadowDOM",Fe,null);nn=Mn.nextNode();)dg("uponSanitizeShadowNode",nn,null),!U5(nn)&&(nn.content instanceof u&&_o(nn.content),Z5(nn));dg("afterSanitizeShadowDOM",Fe,null)};return n.sanitize=function(_o){let Fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},nn,Mn,na,$i;if(Ep=!_o,Ep&&(_o="<!-->"),typeof _o!="string"&&!vT(_o))if(typeof _o.toString=="function"){if(_o=_o.toString(),typeof _o!="string")throw Bw("dirty is not a string, aborting")}else throw Bw("toString is not a function");if(!n.isSupported)return _o;if(Ed||ug(Fe),n.removed=[],typeof _o=="string"&&(ir=!1),ir){if(_o.nodeName){const a=Kc(_o.nodeName);if(!Ts[a]||yn[a])throw Bw("root node is forbidden and cannot be sanitized in-place")}}else if(_o instanceof y)nn=Dd("<!---->"),Mn=nn.ownerDocument.importNode(_o,!0),Mn.nodeType===1&&Mn.nodeName==="BODY"||Mn.nodeName==="HTML"?nn=Mn:nn.appendChild(Mn);else{if(!Bi&&!ds&&!La&&_o.indexOf("<")===-1)return ke&&Zu?ke.createHTML(_o):_o;if(nn=Dd(_o),!nn)return Bi?null:Zu?Re:""}nn&&sm&&To(nn.firstChild);const t=u0(ir?_o:nn);for(;na=t.nextNode();)U5(na)||(na.content instanceof u&&pZ(na.content),Z5(na));if(ir)return _o;if(Bi){if(Ol)for($i=$t.call(nn.ownerDocument);nn.firstChild;)$i.appendChild(nn.firstChild);else $i=nn;return(cn.shadowroot||cn.shadowrootmode)&&($i=$e.call(o,$i,!0)),$i}let s=La?nn.outerHTML:nn.innerHTML;return La&&Ts["!doctype"]&&nn.ownerDocument&&nn.ownerDocument.doctype&&nn.ownerDocument.doctype.name&&_d(f6,nn.ownerDocument.doctype.name)&&(s="<!DOCTYPE "+nn.ownerDocument.doctype.name+`>
`+s),ds&&(s=Xf(s,Zt," "),s=Xf(s,un," "),s=Xf(s,mo," ")),ke&&Zu?ke.createHTML(s):s},n.setConfig=function(_o){ug(_o),Ed=!0},n.clearConfig=function(){Tb=null,Ed=!1},n.isValidAttribute=function(_o,Fe,nn){Tb||ug({});const Mn=Kc(_o),na=Kc(Fe);return j5(Mn,na,nn)},n.addHook=function(_o,Fe){typeof Fe=="function"&&(et[_o]=et[_o]||[],Pw(et[_o],Fe))},n.removeHook=function(_o){if(et[_o])return $M(et[_o])},n.removeHooks=function(_o){et[_o]&&(et[_o]=[])},n.removeAllHooks=function(){et={}},n}var Ev=jM();const zz=ut.each,Qa=ut.trim,NZ=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],PZ={ftp:21,http:80,https:443,mailto:25},BZ=["img","video"],$Z=(e,n)=>Ne(e)?!e:Ne(n)?!jt(BZ,n):!0,lf=e=>{try{return decodeURIComponent(e)}catch{return unescape(e)}},Iw=(e,n,o)=>{const r=lf(n).replace(/\s/g,"");return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(r)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(r)?$Z(e.allow_svg_data_urls,o)&&/^data:image\/svg\+xml/i.test(r):/^data:/i.test(r)};class mi{static parseDataUri(n){let o;const r=decodeURIComponent(n).split(","),c=/data:([^;]+)/.exec(r[0]);return c&&(o=c[1]),{type:o,data:r[1]}}static isDomSafe(n,o,r={}){if(r.allow_script_urls)return!0;{const c=id.decode(n).replace(/[\s\u0000-\u001F]+/g,"");return!Iw(r,c,o)}}static getDocumentBaseUrl(n){var o;let r;return n.protocol.indexOf("http")!==0&&n.protocol!=="file:"?r=(o=n.href)!==null&&o!==void 0?o:"":r=n.protocol+"//"+n.host+n.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/")),r}constructor(n,o={}){this.path="",this.directory="",n=Qa(n),this.settings=o;const r=o.base_uri,c=this;if(/^([\w\-]+):([^\/]{2})/i.test(n)||/^\s*#/.test(n)){c.source=n;return}const u=n.indexOf("//")===0;if(n.indexOf("/")===0&&!u&&(n=(r&&r.protocol||"http")+"://mce_host"+n),!/^[\w\-]*:?\/\//.test(n)){const y=r?r.path:new mi(document.location.href).directory;if((r==null?void 0:r.protocol)==="")n="//mce_host"+c.toAbsPath(y,n);else{const v=/([^#?]*)([#?]?.*)/.exec(n);v&&(n=(r&&r.protocol||"http")+"://mce_host"+c.toAbsPath(y,v[1])+v[2])}}n=n.replace(/@@/g,"(mce_at)");const m=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(n);m&&zz(NZ,(y,v)=>{let T=m[v];T&&(T=T.replace(/\(mce_at\)/g,"@@")),c[y]=T}),r&&(c.protocol||(c.protocol=r.protocol),c.userInfo||(c.userInfo=r.userInfo),!c.port&&c.host==="mce_host"&&(c.port=r.port),(!c.host||c.host==="mce_host")&&(c.host=r.host),c.source=""),u&&(c.protocol="")}setPath(n){const o=/^(.*?)\/?(\w+)?$/.exec(n);o&&(this.path=o[0],this.directory=o[1],this.file=o[2]),this.source="",this.getURI()}toRelative(n){if(n==="./")return n;const o=new mi(n,{base_uri:this});if(o.host!=="mce_host"&&this.host!==o.host&&o.host||this.port!==o.port||this.protocol!==o.protocol&&o.protocol!=="")return o.getURI();const r=this.getURI(),c=o.getURI();if(r===c||r.charAt(r.length-1)==="/"&&r.substr(0,r.length-1)===c)return r;let u=this.toRelPath(this.path,o.path);return o.query&&(u+="?"+o.query),o.anchor&&(u+="#"+o.anchor),u}toAbsolute(n,o){const r=new mi(n,{base_uri:this});return r.getURI(o&&this.isSameOrigin(r))}isSameOrigin(n){if(this.host==n.host&&this.protocol==n.protocol){if(this.port==n.port)return!0;const o=this.protocol?PZ[this.protocol]:null;if(o&&(this.port||o)==(n.port||o))return!0}return!1}toRelPath(n,o){let r=0,c="",u,m;const y=n.substring(0,n.lastIndexOf("/")).split("/"),v=o.split("/");if(y.length>=v.length){for(u=0,m=y.length;u<m;u++)if(u>=v.length||y[u]!==v[u]){r=u+1;break}}if(y.length<v.length){for(u=0,m=v.length;u<m;u++)if(u>=y.length||y[u]!==v[u]){r=u+1;break}}if(r===1)return o;for(u=0,m=y.length-(r-1);u<m;u++)c+="../";for(u=r-1,m=v.length;u<m;u++)u!==r-1?c+="/"+v[u]:c+=v[u];return c}toAbsPath(n,o){let r=0;const c=/\/$/.test(o)?"/":"",u=n.split("/"),m=o.split("/"),y=[];zz(u,M=>{M&&y.push(M)});const v=[];for(let M=m.length-1;M>=0;M--)if(!(m[M].length===0||m[M]===".")){if(m[M]===".."){r++;continue}if(r>0){r--;continue}v.push(m[M])}const T=y.length-r;let R;return T<=0?R=ho(v).join("/"):R=y.slice(0,T).join("/")+"/"+ho(v).join("/"),R.indexOf("/")!==0&&(R="/"+R),c&&R.lastIndexOf("/")!==R.length-1&&(R+=c),R}getURI(n=!1){let o;return(!this.source||n)&&(o="",n||(this.protocol?o+=this.protocol+"://":o+="//",this.userInfo&&(o+=this.userInfo+"@"),this.host&&(o+=this.host),this.port&&(o+=":"+this.port)),this.path&&(o+=this.path),this.query&&(o+="?"+this.query),this.anchor&&(o+="#"+this.anchor),this.source=o),this.source}}const zh=ut.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),Oz="data-mce-type";let WM=0;const rb=(e,n,o,r,c)=>{var u,m,y,v;const T=n.validate,R=o.getSpecialElements();e.nodeType===va&&!n.allow_conditional_comments&&/^\[if/i.test((u=e.nodeValue)!==null&&u!==void 0?u:"")&&(e.nodeValue=" "+e.nodeValue);const M=(m=c==null?void 0:c.tagName)!==null&&m!==void 0?m:e.nodeName.toLowerCase();if(r!=="html"&&o.isValid(r)){Ne(c)&&(c.allowedTags[M]=!0);return}if(e.nodeType!==Md||M==="body")return;const B=ie.fromDom(e),W=bc(B,Oz),X=ic(B,"data-mce-bogus");if(!W&&ae(X)){X==="all"?bs(B):Ci(B);return}const q=o.getElementRule(M);if(T&&!q){fn(R,M)?bs(B):Ci(B);return}else Ne(c)&&(c.allowedTags[M]=!0);if(T&&q&&!W){if(te((y=q.attributesForced)!==null&&y!==void 0?y:[],ee=>{Ws(B,ee.name,ee.value==="{$uid}"?`mce_${WM++}`:ee.value)}),te((v=q.attributesDefault)!==null&&v!==void 0?v:[],ee=>{bc(B,ee.name)||Ws(B,ee.name,ee.value==="{$uid}"?`mce_${WM++}`:ee.value)}),q.attributesRequired&&!jn(q.attributesRequired,ee=>bc(B,ee))){Ci(B);return}if(q.removeEmptyAttrs&&yg(B)){Ci(B);return}q.outputName&&q.outputName!==M&&gC(B,q.outputName)}},Av=(e,n,o,r,c)=>{const u=e.tagName.toLowerCase(),{attrName:m,attrValue:y}=c;c.keepAttr=ab(n,o,r,u,m,y),c.keepAttr?(c.allowedAttributes[m]=!0,q2(m,o)&&(c.attrValue=m),n.allow_svg_data_urls&&ns(y,"data:image/svg+xml")&&(c.forceKeepAttr=!0)):Z2(e,m)&&(c.forceKeepAttr=!0)},ab=(e,n,o,r,c,u)=>o!=="html"&&!Br(r)?!0:!(c in zh&&Iw(e,u,r))&&(!e.validate||n.isValid(r,c)||ns(c,"data-")||ns(c,"aria-")),Z2=(e,n)=>e.hasAttribute(Oz)&&(n==="id"||n==="class"||n==="style"),q2=(e,n)=>e in n.getBoolAttrs(),ZM=(e,n,o,r)=>{const{attributes:c}=e;for(let u=c.length-1;u>=0;u--){const m=c[u],y=m.name,v=m.value;!ab(n,o,r,e.tagName.toLowerCase(),y,v)&&!Z2(e,y)?e.removeAttribute(y):q2(y,o)&&e.setAttribute(y,y)}},qM=(e,n,o)=>{const r=Ev();return r.addHook("uponSanitizeElement",(c,u)=>{rb(c,e,n,o.track(c),u)}),r.addHook("uponSanitizeAttribute",(c,u)=>{Av(c,e,n,o.current(),u)}),r},g6=(e,n)=>{const r={...{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]}};return r.PARSER_MEDIA_TYPE=n,e.allow_script_urls?r.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(r.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),r},p6=e=>{const n=m0(e);if(n==="svg"){const o=["type","href","role","arcrole","title","show","actuate","label","from","to"].map(c=>`xlink:${c}`),r={IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:o};Ev().sanitize(e,r)}else if(n==="math"){const o={IN_PLACE:!0,USE_PROFILES:{mathMl:!0}};Ev().sanitize(e,o)}else throw new Error("Not a namespace element")},GM=(e,n)=>{const o=A();if(e.sanitize){const r=qM(e,n,o);return{sanitizeHtmlElement:(u,m)=>{r.sanitize(u,g6(e,m)),r.removed=[],o.reset()},sanitizeNamespaceElement:p6}}else return{sanitizeHtmlElement:(u,m)=>{const y=document.createNodeIterator(u,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let v;for(;v=y.nextNode();){const T=o.track(v);rb(v,e,n,T),Nt(v)&&ZM(v,e,n,T)}o.reset()},sanitizeNamespaceElement:ze}},KM=ut.makeMap,YM=ut.extend,XM=(e,n,o,r)=>{const c=e.name,u=c in o&&c!=="title"&&c!=="textarea"&&c!=="noscript",m=n.childNodes;for(let y=0,v=m.length;y<v;y++){const T=m[y],R=new sl(T.nodeName.toLowerCase(),T.nodeType);if(Nt(T)){const M=T.attributes;for(let B=0,W=M.length;B<W;B++){const X=M[B];R.attr(X.name,X.value)}Br(R.name)&&(r(T),R.value=T.innerHTML)}else ct(T)?(R.value=T.data,u&&(R.raw=!0)):(wa(T)||wc(T)||jl(T))&&(R.value=T.data);Br(R.name)||XM(R,T,o,r),e.append(R)}},h6=(e,n,o)=>{const r=[];for(let c=e,u=c;c;u=c,c=c.walk()){const m=c;te(n,y=>y(m)),gn(m.parent)&&m!==e?c=u:r.push(m)}for(let c=r.length-1;c>=0;c--){const u=r[c];te(o,m=>m(u))}},y6=(e,n,o,r)=>{const c=o.validate,u=n.getNonEmptyElements(),m=n.getWhitespaceElements(),y=YM(KM("script,style,head,html,body,title,meta,param"),n.getBlockElements()),v=$b(n),T=/[ \t\r\n]+/g,R=/^[ \t\r\n]+/,M=/[ \t\r\n]+$/,B=_e=>{let ke=_e.parent;for(;Ne(ke);){if(ke.name in m)return!0;ke=ke.parent}return!1},W=_e=>{let ke=_e;for(;Ne(ke);){if(ke.name in v)return w2(n,u,m,ke);ke=ke.parent}return!1},X=_e=>_e.name in y||ji(n,_e)||Br(_e.name)&&_e.parent===e,q=(_e,ke)=>{const Re=ke?_e.prev:_e.next;return Ne(Re)||gn(_e.parent)?!1:X(_e.parent)&&(_e.parent!==e||r.isRootContent===!0)};return[_e=>{var ke;if(_e.type===3&&!B(_e)){let Re=(ke=_e.value)!==null&&ke!==void 0?ke:"";Re=Re.replace(T," "),(Vc(_e.prev,X)||q(_e,!0))&&(Re=Re.replace(R,"")),Re.length===0||Re===" "&&_e.prev&&_e.prev.type===va&&_e.next&&_e.next.type===va?_e.remove():_e.value=Re}},_e=>{var ke;if(_e.type===1){const Re=n.getElementRule(_e.name);if(c&&Re){const tt=w2(n,u,m,_e);Re.paddInEmptyBlock&&tt&&W(_e)?IA(o,r,X,_e):Re.removeEmpty&&tt?X(_e)?_e.remove():_e.unwrap():Re.paddEmpty&&(tt||aL(_e))&&IA(o,r,X,_e)}}else if(_e.type===3&&!B(_e)){let Re=(ke=_e.value)!==null&&ke!==void 0?ke:"";(_e.next&&X(_e.next)||q(_e,!1))&&(Re=Re.replace(M,"")),Re.length===0?_e.remove():_e.value=Re}}]},JM=(e,n)=>{var o;const r=(o=n.forced_root_block)!==null&&o!==void 0?o:e.forced_root_block;return r===!1?"":r===!0?"p":r},zv=(e={},n=Wd())=>{const o=L2(),r=L2(),c={validate:!0,root_name:"body",sanitize:!0,...e},u=new DOMParser,m=GM(c,n),y=(ke,Re,tt="html")=>{const kt=tt==="xhtml"?"application/xhtml+xml":"text/html",$t=fn(n.getSpecialElements(),Re.toLowerCase()),je=$t?`<${Re}>${ke}</${Re}>`:ke,$e=()=>tt==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${je}</body></html>`:/^[\s]*<head/i.test(ke)||/^[\s]*<html/i.test(ke)||/^[\s]*<!DOCTYPE/i.test(ke)?`<html>${je}</html>`:`<body>${je}</body>`,et=u.parseFromString($e(),kt).body;return m.sanitizeHtmlElement(et,kt),$t?et.firstChild:et},v=o.addFilter,T=o.getFilters,R=o.removeFilter,M=r.addFilter,B=r.getFilters,W=r.removeFilter,X=(ke,Re)=>{oM(n,ke)&&Re.push(ke)},q=(ke,Re)=>{const tt=ae(Re.attr(Oz)),kt=Re.type===1&&!fn(ke,Re.name)&&!ji(n,Re)&&!Br(Re.name);return Re.type===3||kt&&!tt},ee=(ke,Re)=>{const tt=YM(KM("script,style,head,html,body,title,meta,param"),n.getBlockElements()),kt=/^[ \t\r\n]+/,$t=/[ \t\r\n]+$/;let je=ke.firstChild,$e=null;const et=Zt=>{var un,mo;Zt&&(je=Zt.firstChild,je&&je.type===3&&(je.value=(un=je.value)===null||un===void 0?void 0:un.replace(kt,"")),je=Zt.lastChild,je&&je.type===3&&(je.value=(mo=je.value)===null||mo===void 0?void 0:mo.replace($t,"")))};if(n.isValidChild(ke.name,Re.toLowerCase())){for(;je;){const Zt=je.next;q(tt,je)?($e||($e=new sl(Re,1),$e.attr(c.forced_root_block_attrs),ke.insert($e,je)),$e.append(je)):(et($e),$e=null),je=Zt}et($e)}},_e={schema:n,addAttributeFilter:M,getAttributeFilters:B,removeAttributeFilter:W,addNodeFilter:v,getNodeFilters:T,removeNodeFilter:R,parse:(ke,Re={})=>{var tt;const kt=c.validate,$t=(tt=Re.context)!==null&&tt!==void 0?tt:c.root_name,je=y(ke,$t,Re.format);Jo(n,je);const $e=new sl($t,11);XM($e,je,n.getSpecialElements(),m.sanitizeNamespaceElement),je.innerHTML="";const[et,Zt]=y6($e,n,c,Re),un=[],mo=kt?Hr=>X(Hr,un):ze,ko={nodes:{},attributes:{}},ss=Hr=>nM(T(),B(),Hr,ko);if(h6($e,[et,ss],[Zt,mo]),un.reverse(),kt&&un.length>0)if(Re.context){const{pass:Hr,fail:Aa}=xe(un,Ts=>Ts.parent===$e);Gf(Aa,n,$e,ss),Re.invalid=Hr.length>0}else Gf(un,n,$e,ss);const vs=JM(c,Re);return vs&&($e.name==="body"||Re.isRootContent)&&ee($e,vs),Re.invalid||BA(ko,Re),$e}};return XL(_e,c),Mw(_e,c,n),_e},Fw=e=>xh(e)?gp({validate:!1}).serialize(e):e,Dz=(e,n,o)=>{const r=Fw(e),c=n(r);if(c.isDefaultPrevented())return c;if(xh(e))if(c.content!==r){const u=zv({validate:!1,forced_root_block:!1,...o}).parse(c.content,{context:e.name});return{...c,content:u}}else return{...c,content:e};else return c},QM=e=>({sanitize:Tc(e),sandbox_iframes:uS(e),sandbox_iframes_exclusions:S1(e)}),Rz=(e,n)=>{if(n.no_events)return ii.value(n);{const o=hD(e,n);return o.isDefaultPrevented()?ii.error(Fy(e,{content:"",...o}).content):ii.value(o)}},eN=(e,n,o)=>o.no_events?n:Dz(n,c=>Fy(e,{...o,content:c}),QM(e)).content,G2=(e,n)=>{if(n.no_events)return ii.value(n);{const o=Dz(n.content,r=>av(e,{...n,content:r}),QM(e));return o.isDefaultPrevented()?(Iy(e,o),ii.error(void 0)):ii.value(o)}},Mz=(e,n,o)=>{o.no_events||Iy(e,{...o,content:n})},Nz=(e,n,o)=>({element:e,width:n,rows:o}),Pz=(e,n)=>({element:e,cells:n}),tN=(e,n)=>({x:e,y:n}),Bz=(e,n)=>Sr(e,n).bind(Jc).getOr(1),nN=(e,n,o,r,c)=>{const u=Bz(c,"rowspan"),m=Bz(c,"colspan"),y=e.rows;for(let v=o;v<o+u;v++){y[v]||(y[v]=Pz(B0(r),[]));for(let T=n;T<n+m;T++){const R=y[v].cells;R[T]=v===o&&T===n?c:Em(c)}}},oN=(e,n,o)=>{const r=e.rows;return!!(r[o]?r[o].cells:[])[n]},sN=(e,n,o)=>{for(;oN(e,n,o);)n++;return n},rN=e=>lt(e,(n,o)=>o.cells.length>n?o.cells.length:n,0),aN=(e,n)=>{const o=e.rows;for(let r=0;r<o.length;r++){const c=o[r].cells;for(let u=0;u<c.length;u++)if(Qn(c[u],n))return $.some(tN(u,r))}return $.none()},cN=(e,n,o,r,c)=>{const u=[],m=e.rows;for(let y=o;y<=c;y++){const v=m[y].cells,T=n<r?v.slice(n,r+1):v.slice(r,n+1);u.push(Pz(m[y].element,T))}return u},$z=(e,n,o)=>{const r=n.x,c=n.y,u=o.x,m=o.y,y=c<m?cN(e,r,c,u,m):cN(e,r,m,u,c);return Nz(e.element,rN(y),y)},Lw=(e,n)=>{const o=Em(e.element),r=ie.fromTag("tbody");return vu(r,n),rr(o,r),o},iN=e=>Qt(e.rows,n=>{const o=Qt(n.cells,c=>{const u=B0(c);return xr(u,"colspan"),xr(u,"rowspan"),u}),r=Em(n.element);return vu(r,o),r}),lN=e=>{const n=Nz(Em(e),0,[]);return te(dc(e,"tr"),(o,r)=>{te(dc(o,"td,th"),(c,u)=>{nN(n,sN(n,u,r),r,o,c)})}),Nz(n.element,rN(n.rows),n.rows)},K2=e=>Lw(e,iN(e)),b6=(e,n,o)=>aN(e,n).bind(r=>aN(e,o).map(c=>$z(e,r,c))),v6=e=>Lt(e,n=>vo(n)==="ul"||vo(n)==="ol"),cb=(e,n)=>Lt(e,o=>vo(o)==="li"&&V1(o,n)).fold(Me([]),o=>v6(e).map(r=>{const c=ie.fromTag(vo(r)),u=Io(kc(r),(m,y)=>ns(y,"list-style"));return Vn(c,u),[ie.fromTag("li"),c]}).getOr([])),Iz=(e,n)=>{const o=lt(n,(r,c)=>(rr(c,r),c),e);return n.length>0?l([o]):o},uN=e=>Wg(e)?ja(e).filter(zm).fold(Me([]),n=>[e,n]):zm(e)?[e]:[],Hw=(e,n,o)=>{const r=ie.fromDom(n.commonAncestorContainer),c=of(r,e),u=be(c,v=>o.isWrapper(vo(v))),m=cb(c,n),y=u.concat(m.length?m:uN(r));return Qt(y,Em)},Fz=()=>l([]),Lz=(e,n,o)=>Iz(ie.fromDom(n.cloneContents()),Hw(e,n,o)),dN=(e,n)=>jr(n,"table",he(Qn,e)),fN=(e,n)=>dN(e,n[0]).bind(o=>{const r=n[0],c=n[n.length-1],u=lN(o);return b6(u,r,c).map(m=>l([K2(m)]))}).getOrThunk(Fz),k6=(e,n,o)=>n.length>0&&n[0].collapsed?Fz():Lz(e,n[0],o),w6=(e,n,o)=>{const r=$k(n,e);return r.length>0?fN(e,r):k6(e,n,o)},Y2=(e,n)=>n>=0&&n<e.length&&Xm(e.charAt(n)),X2=e=>ri(e.innerText),_6=e=>e.map(n=>n.nodeName).getOr("div").toLowerCase(),mN=e=>$.from(e.selection.getRng()).map(n=>{var o;const r=$.from(e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock)),c=e.getBody(),u=_6(r),m=ie.fromDom(n.cloneContents());XD(m),JD(m);const y=e.dom.add(c,u,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},m.dom),v=X2(y),T=ri((o=y.textContent)!==null&&o!==void 0?o:"");if(e.dom.remove(y),Y2(T,0)||Y2(T,T.length-1)){const R=r.getOr(c),M=X2(R),B=M.indexOf(v);if(B===-1)return v;{const W=Y2(M,B-1),X=Y2(M,B+v.length);return(W?" ":"")+v+(X?" ":"")}}else return v}).getOr(""),C6=(e,n)=>{const o=e.selection.getRng(),r=e.dom.create("body"),c=e.selection.getSel(),u=c2(e,L1(c)),m=n.contextual?w6(ie.fromDom(e.getBody()),u,e.schema).dom:o.cloneContents();return m&&r.appendChild(m),e.selection.serializer.serialize(r,n)},S6=(e,n)=>{if(n.format==="text")return mN(e);{const o=C6(e,n);return n.format==="tree"?o:e.selection.isCollapsed()?"":o}},x6=(e,n)=>({...e,format:n,get:!0,selection:!0,getInner:!0}),T6=(e,n,o={})=>{const r=x6(o,n);return Rz(e,r).fold(Yt,c=>{const u=S6(e,c);return eN(e,u,c)})},Hz=0,gN=1,pN=2,E6=(e,n)=>{const o=e.length+n.length+2,r=new Array(o),c=new Array(o),u=(R,M,B)=>({start:R,end:M,diag:B}),m=(R,M,B,W,X)=>{const q=v(R,M,B,W);if(q===null||q.start===M&&q.diag===M-W||q.end===R&&q.diag===R-B){let ee=R,de=B;for(;ee<M||de<W;)ee<M&&de<W&&e[ee]===n[de]?(X.push([Hz,e[ee]]),++ee,++de):M-R>W-B?(X.push([pN,e[ee]]),++ee):(X.push([gN,n[de]]),++de)}else{m(R,q.start,B,q.start-q.diag,X);for(let ee=q.start;ee<q.end;++ee)X.push([Hz,e[ee]]);m(q.end,M,q.end-q.diag,W,X)}},y=(R,M,B,W)=>{let X=R;for(;X-M<W&&X<B&&e[X]===n[X-M];)++X;return u(R,X,M)},v=(R,M,B,W)=>{const X=M-R,q=W-B;if(X===0||q===0)return null;const ee=X-q,de=q+X,_e=(de%2===0?de:de+1)/2;r[1+_e]=R,c[1+_e]=M+1;let ke,Re,tt,kt,$t;for(ke=0;ke<=_e;++ke){for(Re=-ke;Re<=ke;Re+=2){for(tt=Re+_e,Re===-ke||Re!==ke&&r[tt-1]<r[tt+1]?r[tt]=r[tt+1]:r[tt]=r[tt-1]+1,kt=r[tt],$t=kt-R+B-Re;kt<M&&$t<W&&e[kt]===n[$t];)r[tt]=++kt,++$t;if(ee%2!==0&&ee-ke<=Re&&Re<=ee+ke&&c[tt-ee]<=r[tt])return y(c[tt-ee],Re+R-B,M,W)}for(Re=ee-ke;Re<=ee+ke;Re+=2){for(tt=Re+_e-ee,Re===ee-ke||Re!==ee+ke&&c[tt+1]<=c[tt-1]?c[tt]=c[tt+1]-1:c[tt]=c[tt-1],kt=c[tt]-1,$t=kt-R+B-Re;kt>=R&&$t>=B&&e[kt]===n[$t];)c[tt]=kt--,$t--;if(ee%2===0&&-ke<=Re&&Re<=ke&&c[tt]<=r[tt+ee])return y(c[tt],Re+R-B,M,W)}}return null},T=[];return m(0,e.length,0,n.length,T),T},Vz=e=>Nt(e)?e.outerHTML:ct(e)?id.encodeRaw(e.data,!1):wa(e)?"<!--"+e.data+"-->":"",A6=e=>{let n;const o=document.createElement("div"),r=document.createDocumentFragment();for(e&&(o.innerHTML=e);n=o.firstChild;)r.appendChild(n);return r},z6=(e,n,o)=>{const r=A6(n);if(e.hasChildNodes()&&o<e.childNodes.length){const c=e.childNodes[o];e.insertBefore(r,c)}else e.appendChild(r)},J2=(e,n)=>{if(e.hasChildNodes()&&n<e.childNodes.length){const o=e.childNodes[n];e.removeChild(o)}},Ni=(e,n)=>{let o=0;te(e,r=>{r[0]===Hz?o++:r[0]===gN?(z6(n,r[1],o),o++):r[0]===pN&&J2(n,o)})},O6=(e,n)=>be(Qt(is(e.childNodes),n?C(ri,Vz):Vz),o=>o.length>0),Q2=(e,n)=>{const o=Qt(is(n.childNodes),Vz);return Ni(E6(o,e),n),n},ib=Ve(()=>document.implementation.createHTMLDocument("undo")),hN=e=>e.querySelector("iframe")!==null,ou=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),lb=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),Vw=e=>{const n=e.serializer.getTempAttrs(),o=YD(e.getBody(),n);return hN(o)?ou(O6(o,!0)):lb(ri(o.innerHTML))},Uz=(e,n,o)=>{const r=o?n.beforeBookmark:n.bookmark;n.type==="fragmented"?Q2(n.fragments,e.getBody()):e.setContent(n.content,{format:"raw",no_selection:Ne(r)&&OS(r)?!r.isFakeCaret:!0}),r&&(e.selection.moveToBookmark(r),e.selection.scrollIntoView())},ex=e=>e.type==="fragmented"?e.fragments.join(""):e.content,yN=e=>{const n=ie.fromTag("body",ib());return ku(n,ex(e)),te(dc(n,"*[data-mce-bogus]"),Ci),zs(n)},bN=(e,n)=>ex(e)===ex(n),Uw=(e,n)=>yN(e)===yN(n),jw=(e,n)=>!e||!n?!1:bN(e,n)?!0:Uw(e,n),jz=e=>e.get()===0,Ww=(e,n,o)=>{jz(o)&&(e.typing=n)},vN=(e,n)=>{e.typing&&(Ww(e,!1,n),e.add())},Wz=e=>{e.typing&&(e.typing=!1,e.add())},Zz=(e,n,o)=>{jz(n)&&o.set(rk(e.selection))},D6=(e,n,o,r,c,u,m)=>{const y=Vw(e),v=ut.extend(u||{},y);if(!jz(r)||e.removed)return null;const T=n.data[o.get()];if(e.dispatch("BeforeAddUndo",{level:v,lastLevel:T,originalEvent:m}).isDefaultPrevented()||T&&jw(T,v))return null;n.data[o.get()]&&c.get().each(B=>{n.data[o.get()].beforeBookmark=B});const R=uE(e);if(R&&n.data.length>R){for(let B=0;B<n.data.length-1;B++)n.data[B]=n.data[B+1];n.data.length--,o.set(n.data.length)}v.bookmark=rk(e.selection),o.get()<n.data.length-1&&(n.data.length=o.get()+1),n.data.push(v),o.set(n.data.length-1);const M={level:v,lastLevel:T,originalEvent:m};return o.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",M),e.dispatch("change",M)):e.dispatch("AddUndo",M),v},R6=(e,n,o)=>{n.data=[],o.set(0),n.typing=!1,e.dispatch("ClearUndos")},eg=(e,n,o,r,c)=>{if(n.transact(r)){const u=n.data[o.get()].bookmark,m=n.data[o.get()-1];Uz(e,m,!0),n.transact(c)&&(n.data[o.get()-1].beforeBookmark=u)}},qz=(e,n,o)=>{let r;return n.get()<o.length-1&&(n.set(n.get()+1),r=o[n.get()],Uz(e,r,!1),e.setDirty(!0),e.dispatch("Redo",{level:r})),r},M6=(e,n,o,r)=>{let c;return n.typing&&(n.add(),n.typing=!1,Ww(n,!1,o)),r.get()>0&&(r.set(r.get()-1),c=n.data[r.get()],Uz(e,c,!0),e.setDirty(!0),e.dispatch("Undo",{level:c})),c},tx=e=>{e.clear(),e.add()},Gz=(e,n,o)=>o.get()>0||n.typing&&n.data[0]&&!jw(Vw(e),n.data[0]),kN=(e,n)=>n.get()<e.data.length-1&&!e.typing,wN=(e,n,o)=>(vN(e,n),e.beforeChange(),e.ignore(o),e.add()),_N=(e,n)=>{try{e.set(e.get()+1),n()}finally{e.set(e.get()-1)}},N6=(e,n)=>{const o=e.dom,r=Ne(n)?n:e.getBody();te(o.select("table,a",r),c=>{switch(c.nodeName){case"TABLE":const u=pk(e),m=o.getAttrib(c,"border");(!m||m==="0")&&e.hasVisual?o.addClass(c,u):o.removeClass(c,u);break;case"A":if(!o.getAttrib(c,"href")){const y=o.getAttrib(c,"name")||c.id,v=hk(e);y&&e.hasVisual?o.addClass(c,v):o.removeClass(c,v)}break}}),e.dispatch("VisualAid",{element:n,hasVisual:e.hasVisual})},CN=e=>({init:{bindEvents:ze},undoManager:{beforeChange:(n,o)=>Zz(e,n,o),add:(n,o,r,c,u,m)=>D6(e,n,o,r,c,u,m),undo:(n,o,r)=>M6(e,n,o,r),redo:(n,o)=>qz(e,n,o),clear:(n,o)=>R6(e,n,o),reset:n=>tx(n),hasUndo:(n,o)=>Gz(e,n,o),hasRedo:(n,o)=>kN(n,o),transact:(n,o,r)=>wN(n,o,r),ignore:(n,o)=>_N(n,o),extra:(n,o,r,c)=>eg(e,n,o,r,c)},formatter:{match:(n,o,r,c)=>x2(e,n,o,r,c),matchAll:(n,o)=>T2(e,n,o),matchNode:(n,o,r,c)=>rf(e,n,o,r,c),canApply:n=>CL(e,n),closest:n=>_L(e,n),apply:(n,o,r)=>TM(e,n,o,r),remove:(n,o,r,c)=>fz(e,n,o,r,c),toggle:(n,o,r)=>hz(e,n,o,r),formatChanged:(n,o,r,c,u)=>jL(e,n,o,r,c,u)},editor:{getContent:n=>QD(e,n),setContent:(n,o)=>C2(e,n,o),insertContent:(n,o)=>vd(e,n,o),addVisual:n=>N6(e,n)},selection:{getContent:(n,o)=>T6(e,n,o)},autocompleter:{addDecoration:ze,removeDecoration:ze},raw:{getModel:()=>$.none()}}),P6=e=>{const n=T=>wt(T)?T:{},{init:o,undoManager:r,formatter:c,editor:u,selection:m,autocompleter:y,raw:v}=e;return{init:{bindEvents:o.bindEvents},undoManager:{beforeChange:r.beforeChange,add:r.add,undo:r.undo,redo:r.redo,clear:r.clear,reset:r.reset,hasUndo:r.hasUndo,hasRedo:r.hasRedo,transact:(T,R,M)=>r.transact(M),ignore:(T,R)=>r.ignore(R),extra:(T,R,M,B)=>r.extra(M,B)},formatter:{match:(T,R,M,B)=>c.match(T,n(R),B),matchAll:c.matchAll,matchNode:c.matchNode,canApply:T=>c.canApply(T),closest:T=>c.closest(T),apply:(T,R,M)=>c.apply(T,n(R)),remove:(T,R,M,B)=>c.remove(T,n(R)),toggle:(T,R,M)=>c.toggle(T,n(R)),formatChanged:(T,R,M,B,W)=>c.formatChanged(R,M,B,W)},editor:{getContent:T=>u.getContent(T),setContent:(T,R)=>({content:u.setContent(T,R),html:""}),insertContent:(T,R)=>(u.insertContent(T),""),addVisual:u.addVisual},selection:{getContent:(T,R)=>m.getContent(R)},autocompleter:{addDecoration:y.addDecoration,removeDecoration:y.removeDecoration},raw:{getModel:()=>$.some(v.getRawModel())}}},B6=()=>{const e=Me(null),n=Me("");return{init:{bindEvents:ze},undoManager:{beforeChange:ze,add:e,undo:e,redo:e,clear:ze,reset:ze,hasUndo:we,hasRedo:we,transact:e,ignore:ze,extra:ze},formatter:{match:we,matchAll:Me([]),matchNode:Me(void 0),canApply:we,closest:n,apply:ze,remove:ze,toggle:ze,formatChanged:Me({unbind:ze})},editor:{getContent:n,setContent:Me({content:"",html:""}),insertContent:Me(""),addVisual:ze},selection:{getContent:n},autocompleter:{addDecoration:ze,removeDecoration:ze},raw:{getModel:Me($.none())}}},tg=e=>fn(e.plugins,"rtc"),SN=e=>Uo(e.plugins,"rtc").bind(n=>$.from(n.setup)),$6=e=>{const n=e;return SN(e).fold(()=>(n.rtcInstance=CN(e),$.none()),o=>(n.rtcInstance=B6(),$.some(()=>o().then(r=>(n.rtcInstance=P6(r),r.rtc.isRemote)))))},Kz=e=>e.rtcInstance?e.rtcInstance:CN(e),pc=e=>{const n=e.rtcInstance;if(n)return n;throw new Error("Failed to get RTC instance not yet initialized.")},xN=(e,n,o)=>{pc(e).undoManager.beforeChange(n,o)},Yz=(e,n,o,r,c,u,m)=>pc(e).undoManager.add(n,o,r,c,u,m),Xz=(e,n,o,r)=>pc(e).undoManager.undo(n,o,r),TN=(e,n,o)=>pc(e).undoManager.redo(n,o),Jz=(e,n,o)=>{pc(e).undoManager.clear(n,o)},EN=(e,n)=>{pc(e).undoManager.reset(n)},AN=(e,n,o)=>pc(e).undoManager.hasUndo(n,o),Qz=(e,n,o)=>pc(e).undoManager.hasRedo(n,o),zN=(e,n,o,r)=>pc(e).undoManager.transact(n,o,r),ON=(e,n,o)=>{pc(e).undoManager.ignore(n,o)},DN=(e,n,o,r,c)=>{pc(e).undoManager.extra(n,o,r,c)},I6=(e,n,o,r,c)=>pc(e).formatter.match(n,o,r,c),e4=(e,n,o)=>pc(e).formatter.matchAll(n,o),F6=(e,n,o,r,c)=>pc(e).formatter.matchNode(n,o,r,c),nx=(e,n)=>pc(e).formatter.canApply(n),L6=(e,n)=>pc(e).formatter.closest(n),H6=(e,n,o,r)=>{pc(e).formatter.apply(n,o,r)},V6=(e,n,o,r,c)=>{pc(e).formatter.remove(n,o,r,c)},RN=(e,n,o,r)=>{pc(e).formatter.toggle(n,o,r)},MN=(e,n,o,r,c,u)=>pc(e).formatter.formatChanged(n,o,r,c,u),U6=(e,n)=>Kz(e).editor.getContent(n),j6=(e,n,o)=>Kz(e).editor.setContent(n,o),W6=(e,n,o)=>Kz(e).editor.insertContent(n,o),Z6=(e,n,o)=>pc(e).selection.getContent(n,o),q6=(e,n)=>pc(e).editor.addVisual(n),t4=e=>pc(e).init.bindEvents(),IZ=(e,n={})=>{const o=n.format?n.format:"html";return Z6(e,o,n)},NN=e=>e.dom.length===0?(bs(e),$.none()):$.some(e),G6=(e,n)=>e.filter(o=>Ru.isBookmarkNode(o.dom)).bind(n?vc:Fl),K6=(e,n,o,r,c)=>{const u=e.dom,m=n.dom,y=r?u.length:m.length;r?(SA(u,m,c,!1,!r),o.setStart(m,y)):(SA(m,u,c,!1,!r),o.setEnd(m,y))},Y6=(e,n,o)=>{ja(e).each(r=>{const c=e.dom;n&&fw(r,Ue(c,0),o)?d2(c,0,o):!n&&hv(r,Ue(c,c.length),o)&&CA(c,c.length,o)})},PN=(e,n,o,r,c)=>{e.bind(u=>((r?CA:d2)(u.dom,r?u.dom.length:0,c),n.filter(Jr).map(y=>K6(u,y,o,r,c)))).orThunk(()=>G6(n,r).or(n).filter(Jr).map(m=>Y6(m,r,c)))},X6=(e,n,o)=>{const r=$.from(n.firstChild).map(ie.fromDom),c=$.from(n.lastChild).map(ie.fromDom);e.deleteContents(),e.insertNode(n);const u=r.bind(Fl).filter(Jr).bind(NN),m=c.bind(vc).filter(Jr).bind(NN);PN(u,r,e,!0,o),PN(m,c,e,!1,o),e.collapse(!1)},J6=(e,n)=>({format:"html",...e,set:!0,selection:!0,content:n}),BN=(e,n)=>{if(n.format!=="raw"){const o=e.selection.getRng(),r=e.dom.getParent(o.commonAncestorContainer,e.dom.isBlock),c=r?{context:r.nodeName.toLowerCase()}:{},u=e.parser.parse(n.content,{forced_root_block:!1,...c,...n});return gp({validate:!1},e.schema).serialize(u)}else return n.content},Q6=(e,n,o={})=>{const r=J6(o,n);G2(e,r).each(c=>{const u=BN(e,c),m=e.selection.getRng();X6(m,m.createContextualFragment(u),e.schema),e.selection.setRng(m),aw(e,m),Mz(e,u,c)})},$N=(e,n,o)=>{if(fn(e,n)){const r=be(e[n],c=>c!==o);r.length===0?delete e[n]:e[n]=r}};var e7=(e,n)=>{let o,r;const c=(y,v)=>Lt(v,T=>e.is(T,y)),u=y=>e.getParents(y,void 0,e.getRoot()),m=()=>{o={},r={},n.on("NodeChange",y=>{const v=y.element,T=u(v),R={};mt(o,(M,B)=>{c(B,T).each(W=>{r[B]||(te(M,X=>{X(!0,{node:W,selector:B,parents:T})}),r[B]=M),R[B]=M})}),mt(r,(M,B)=>{R[B]||(delete r[B],te(M,W=>{W(!1,{node:v,selector:B,parents:T})}))})})};return{selectorChangedWithUnbind:(y,v)=>(o||m(),o[y]||(o[y]=[]),o[y].push(v),c(y,u(n.selection.getStart())).each(()=>{r[y]=o[y]}),{unbind:()=>{$N(o,y,v),$N(r,y,v)}})}};const IN=e=>!!(e&&e.ownerDocument)&&Pr(ie.fromDom(e.ownerDocument),ie.fromDom(e)),t7=e=>e?IN(e.startContainer)&&IN(e.endContainer):!1,n7=(e,n,o,r)=>{let c,u;const{selectorChangedWithUnbind:m}=e7(e,r),y=(St,cn)=>{const Ho=e.createRng();Ne(St)&&Ne(cn)?(Ho.setStart(St,cn),Ho.setEnd(St,cn),Re(Ho),de(!1)):(Lk(e,Ho,r.getBody(),!0),Re(Ho))},v=St=>IZ(r,St),T=(St,cn)=>Q6(r,St,cn),R=St=>dA(r.getBody(),ke(),St),M=St=>FD(r.getBody(),ke(),St),B=(St,cn)=>Aa.getBookmark(St,cn),W=St=>Aa.moveToBookmark(St),X=(St,cn)=>(a2(e,St,cn).each(Re),St),q=()=>{const St=ke(),cn=_e();return!St||St.item?!1:St.compareEndPoints?St.compareEndPoints("StartToEnd",St)===0:!cn||St.collapsed},ee=()=>{const St=ke(),cn=r.getBody().querySelectorAll('[data-mce-selected="1"]');return cn.length>0?zo(cn,Ho=>e.isEditable(Ho.parentElement)):lA(e,St)},de=St=>{const cn=ke();cn.collapse(!!St),Re(cn)},_e=()=>n.getSelection?n.getSelection():n.document.selection,ke=()=>{let St;const cn=(Mt,yn,io)=>{try{return yn.compareBoundaryPoints(Mt,io)}catch{return-1}},Ho=n.document;if(Ne(r.bookmark)&&!mp(r)){const Mt=n2(r);if(Mt.isSome())return Mt.map(yn=>c2(r,[yn])[0]).getOr(Ho.createRange())}try{const Mt=_e();Mt&&!Hd(Mt.anchorNode)&&(Mt.rangeCount>0?St=Mt.getRangeAt(0):St=Ho.createRange(),St=c2(r,[St])[0])}catch{}if(St||(St=Ho.createRange()),pm(St.startContainer)&&St.collapsed){const Mt=e.getRoot();St.setStart(Mt,0),St.setEnd(Mt,0)}return c&&u&&(cn(St.START_TO_START,St,c)===0&&cn(St.END_TO_END,St,c)===0?St=u:(c=null,u=null)),St},Re=(St,cn)=>{if(!t7(St))return;const Ho=_e();if(St=r.dispatch("SetSelectionRange",{range:St,forward:cn}).range,Ho){u=St;try{Ho.removeAllRanges(),Ho.addRange(St)}catch{}cn===!1&&Ho.extend&&(Ho.collapse(St.endContainer,St.endOffset),Ho.extend(St.startContainer,St.startOffset)),c=Ho.rangeCount>0?Ho.getRangeAt(0):null}if(!St.collapsed&&St.startContainer===St.endContainer&&(Ho!=null&&Ho.setBaseAndExtent)&&St.endOffset-St.startOffset<2&&St.startContainer.hasChildNodes()){const yn=St.startContainer.childNodes[St.startOffset];yn&&yn.nodeName==="IMG"&&(Ho.setBaseAndExtent(St.startContainer,St.startOffset,St.endContainer,St.endOffset),(Ho.anchorNode!==St.startContainer||Ho.focusNode!==St.endContainer)&&Ho.setBaseAndExtent(yn,0,yn,1))}r.dispatch("AfterSetSelectionRange",{range:St,forward:cn})},tt=St=>(T(e.getOuterHTML(St)),St),kt=()=>fF(r.getBody(),ke()),$t=(St,cn)=>mF(e,ke(),St,cn),je=()=>{const St=_e(),cn=St==null?void 0:St.anchorNode,Ho=St==null?void 0:St.focusNode;if(!St||!cn||!Ho||Hd(cn)||Hd(Ho))return!0;const Mt=e.createRng(),yn=e.createRng();try{Mt.setStart(cn,St.anchorOffset),Mt.collapse(!0),yn.setStart(Ho,St.focusOffset),yn.collapse(!0)}catch{return!0}return Mt.compareBoundaryPoints(Mt.START_TO_START,yn)<=0},Hr={dom:e,win:n,serializer:o,editor:r,expand:(St={type:"word"})=>Re(ht(e).expand(ke(),St)),collapse:de,setCursorLocation:y,getContent:v,setContent:T,getBookmark:B,moveToBookmark:W,select:X,isCollapsed:q,isEditable:ee,isForward:je,setNode:tt,getNode:kt,getSel:_e,setRng:Re,getRng:ke,getStart:R,getEnd:M,getSelectedBlocks:$t,normalize:()=>{const St=ke(),cn=_e();if(!zE(cn)&&fh(r)){const Ho=_t(e,St);return Ho.each(Mt=>{Re(Mt,je())}),Ho.getOr(St)}return St},selectorChanged:(St,cn)=>(m(St,cn),Hr),selectorChangedWithUnbind:m,getScrollContainer:()=>{let St,cn=e.getRoot();for(;cn&&cn.nodeName!=="BODY";){if(cn.scrollHeight>cn.clientHeight){St=cn;break}cn=cn.parentNode}return St},scrollIntoView:(St,cn)=>{Ne(St)?Q5(r,St,cn):aw(r,ke(),cn)},placeCaretAt:(St,cn)=>Re(b(St,cn,r.getDoc())),getBoundingClientRect:()=>{const St=ke();return St.collapsed?Ue.fromRangeStart(St).getClientRects()[0]:St.getBoundingClientRect()},destroy:()=>{n=c=u=null,Ts.destroy()}},Aa=Ru(Hr),Ts=Hy(Hr,r);return Hr.bookmarkManager=Aa,Hr.controlSelection=Ts,Hr},FZ=(e,n,o)=>{n.addNodeFilter("br",(r,c,u)=>{const m=ut.extend({},o.getBlockElements()),y=o.getNonEmptyElements(),v=o.getWhitespaceElements();m.body=1;const T=R=>R.name in m||ji(o,R);for(let R=0,M=r.length;R<M;R++){let B=r[R],W=B.parent;if(W&&T(W)&&B===W.lastChild){let X=B.prev;for(;X;){const q=X.name;if(q!=="span"||X.attr("data-mce-type")!=="bookmark"){q==="br"&&(B=null);break}X=X.prev}if(B&&(B.remove(),w2(o,y,v,W))){const q=o.getElementRule(W.name);q&&(q.removeEmpty?W.remove():q.paddEmpty&&IA(e,u,T,W))}}else{let X=B;for(;W&&W.firstChild===X&&W.lastChild===X&&(X=W,!m[W.name]);)W=W.parent;if(X===W){const q=new sl("#text",3);q.value=Qr,B.replace(q)}}}})},o7=(e,n,o)=>{e.addAttributeFilter("data-mce-tabindex",(r,c)=>{let u=r.length;for(;u--;){const m=r[u];m.attr("tabindex",m.attr("data-mce-tabindex")),m.attr(c,null)}}),e.addAttributeFilter("src,href,style",(r,c)=>{const u="data-mce-"+c,m=n.url_converter,y=n.url_converter_scope;let v=r.length;for(;v--;){const T=r[v];let R=T.attr(u);R!==void 0?(T.attr(c,R.length>0?R:null),T.attr(u,null)):(R=T.attr(c),c==="style"?R=o.serializeStyle(o.parseStyle(R),T.name):m&&(R=m.call(y,R,c,T.name)),T.attr(c,R.length>0?R:null))}}),e.addAttributeFilter("class",r=>{let c=r.length;for(;c--;){const u=r[c];let m=u.attr("class");m&&(m=m.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),u.attr("class",m.length>0?m:null))}}),e.addAttributeFilter("data-mce-type",(r,c,u)=>{let m=r.length;for(;m--;){const y=r[m];y.attr("data-mce-type")==="bookmark"&&!u.cleanup&&($.from(y.firstChild).exists(T=>{var R;return!U0((R=T.value)!==null&&R!==void 0?R:"")})?y.unwrap():y.remove())}}),e.addNodeFilter("script,style",(r,c)=>{var u;const m=v=>v.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let y=r.length;for(;y--;){const v=r[y],T=v.firstChild,R=(u=T==null?void 0:T.value)!==null&&u!==void 0?u:"";if(c==="script"){const M=v.attr("type");M&&v.attr("type",M==="mce-no/type"?null:M.replace(/^mce\-/,"")),n.element_format==="xhtml"&&T&&R.length>0&&(T.value=`// <![CDATA[
`+m(R)+`
// ]]>`)}else n.element_format==="xhtml"&&T&&R.length>0&&(T.value=`<!--
`+m(R)+`
-->`)}}),e.addNodeFilter("#comment",r=>{let c=r.length;for(;c--;){const u=r[c],m=u.value;n.preserve_cdata&&(m==null?void 0:m.indexOf("[CDATA["))===0?(u.name="#cdata",u.type=4,u.value=o.decode(m.replace(/^\[CDATA\[|\]\]$/g,""))):(m==null?void 0:m.indexOf("mce:protected "))===0&&(u.name="#text",u.type=3,u.raw=!0,u.value=unescape(m).substr(14))}}),e.addNodeFilter("xml:namespace,input",(r,c)=>{let u=r.length;for(;u--;){const m=r[u];m.type===7?m.remove():m.type===1&&c==="input"&&!m.attr("type")&&m.attr("type","text")}}),e.addAttributeFilter("data-mce-type",r=>{te(r,c=>{c.attr("data-mce-type")==="format-caret"&&(c.isEmpty(e.schema.getNonEmptyElements())?c.remove():c.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(r,c)=>{let u=r.length;for(;u--;)r[u].attr(c,null)}),n.remove_trailing_brs&&FZ(n,e,e.schema)},s7=e=>{const n=r=>(r==null?void 0:r.name)==="br",o=e.lastChild;if(n(o)){const r=o.prev;n(r)&&(o.remove(),r.remove())}},LZ=(e,n,o)=>{let r;const c=e.dom;let u=n.cloneNode(!0);const m=document.implementation;if(m.createHTMLDocument){const y=m.createHTMLDocument("");ut.each(u.nodeName==="BODY"?u.childNodes:[u],v=>{y.body.appendChild(y.importNode(v,!0))}),u.nodeName!=="BODY"?u=y.body.firstChild:u=y.body,r=c.doc,c.doc=y}return $E(e,{...o,node:u}),r&&(c.doc=r),u},r7=(e,n)=>Ne(e)&&e.hasEventListeners("PreProcess")&&!n.no_events,qr=(e,n,o)=>r7(e,o)?LZ(e,n,o):n,n4=(e,n,o)=>{ut.inArray(n,o)===-1&&(e.addAttributeFilter(o,(r,c)=>{let u=r.length;for(;u--;)r[u].attr(c,null)}),n.push(o))},HZ=(e,n,o)=>!n.no_events&&e?nv(e,{...n,content:o}).content:o,a7=(e,n,o)=>{const r=ri(o.getInner?n.innerHTML:e.getOuterHTML(n));return o.selection||Zb(ie.fromDom(n))?r:ut.trim(r)},c7=(e,n,o)=>{const r=o.selection?{forced_root_block:!1,...o}:o,c=e.parse(n,r);return s7(c),c},Ov=(e,n,o)=>gp(e,n).serialize(o),VZ=(e,n,o,r,c)=>{const u=Ov(n,o,r);return HZ(e,c,u)},UZ=(e,n)=>{const o=["data-mce-selected"],r={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...e},c=n&&n.dom?n.dom:Gs.DOM,u=n&&n.schema?n.schema:Wd(r),m=zv(r,u);o7(m,r,c);const y=(v,T={})=>{const R={format:"html",...T},M=qr(n,v,R),B=a7(c,M,R),W=c7(m,B,R);return R.format==="tree"?W:VZ(n,r,u,W,R)};return{schema:u,addNodeFilter:m.addNodeFilter,addAttributeFilter:m.addAttributeFilter,serialize:y,addRules:u.addValidElements,setRules:u.setValidElements,addTempAttr:he(n4,m,o),getTempAttrs:Me(o),getNodeFilters:m.getNodeFilters,getAttributeFilters:m.getAttributeFilters,removeNodeFilter:m.removeNodeFilter,removeAttributeFilter:m.removeAttributeFilter}},Uc=(e,n)=>{const o=UZ(e,n);return{schema:o.schema,addNodeFilter:o.addNodeFilter,addAttributeFilter:o.addAttributeFilter,serialize:o.serialize,addRules:o.addRules,setRules:o.setRules,addTempAttr:o.addTempAttr,getTempAttrs:o.getTempAttrs,getNodeFilters:o.getNodeFilters,getAttributeFilters:o.getAttributeFilters,removeNodeFilter:o.removeNodeFilter,removeAttributeFilter:o.removeAttributeFilter}},FN="html",LN=(e,n)=>({...e,format:n,get:!0,getInner:!0}),HN=(e,n={})=>{const o=n.format?n.format:FN,r=LN(n,o);return Rz(e,r).fold(Yt,c=>{const u=U6(e,c);return eN(e,u,c)})},i7="html",l7=(e,n)=>({format:i7,...e,set:!0,content:n}),Dv=(e,n,o={})=>{const r=l7(o,n);return G2(e,r).map(c=>{const u=j6(e,c.content,c);return Mz(e,u.html,c),u.content}).getOr(n)},u7="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists,template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),o4=[],d7="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,template,textcolor,rtc".split(","),s4=[],r4=(e,n)=>{const o=be(n,r=>fn(e,r));return Wn(o)},a4=e=>{const n=r4(e,u7),o=e.forced_root_block;return(o===!1||o==="")&&n.push("forced_root_block (false only)"),Wn(n)},VN=e=>r4(e,o4),ox=(e,n)=>{const o=ut.makeMap(e.plugins," "),c=be(n,u=>fn(o,u));return Wn(c)},f7=e=>ox(e,d7),m7=e=>ox(e,s4.map(n=>n.name)),g7=(e,n)=>{const o=a4(e),r=f7(n),c=r.length>0,u=o.length>0,m=n.theme==="mobile";if(c||u||m){const y=`
- `,v=m?`

Themes:${y}mobile`:"",T=c?`

Plugins:${y}${r.join(y)}`:"",R=u?`

Options:${y}${o.join(y)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 7.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/7/migration-from-6x/ for more information."+v+T+R)}},Cd=e=>Lt(s4,n=>n.name===e).fold(()=>e,n=>n.replacedWith?`${e}, replaced by ${n.replacedWith}`:e),p7=(e,n)=>{const o=VN(e),r=m7(n),c=r.length>0,u=o.length>0;if(c||u){const m=`
- `,y=c?`

Plugins:${m}${r.map(Cd).join(m)}`:"",v=u?`

Options:${m}${o.join(m)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+y+v)}},h7=(e,n)=>{g7(e,n),p7(e,n)},sx=Gs.DOM,y7=e=>{sx.setStyle(e.id,"display",e.orgDisplay)},rx=e=>$.from(e).each(n=>n.destroy()),UN=e=>{const n=e;n.contentAreaContainer=n.formElement=n.container=n.editorContainer=null,n.bodyElement=n.contentDocument=n.contentWindow=null,n.iframeElement=n.targetElm=null;const o=e.selection;if(o){const r=o.dom;n.selection=o.win=o.dom=r.doc=null}},b7=e=>{const n=e.formElement;n&&(n._mceOldSubmit&&(n.submit=n._mceOldSubmit,delete n._mceOldSubmit),sx.unbind(n,"submit reset",e.formEventDelegate))},v7=e=>{if(!e.removed){const{_selectionOverrides:n,editorUpload:o}=e,r=e.getBody(),c=e.getElement();r&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&Ne(c==null?void 0:c.nextSibling)&&sx.remove(c.nextSibling),ov(e),e.editorManager.remove(e),!e.inline&&r&&y7(e),IE(e),sx.remove(e.getContainer()),rx(n),rx(o),e.destroy()}},k7=(e,n)=>{const{selection:o,dom:r}=e;if(!e.destroyed){if(!n&&!e.removed){e.remove();return}n||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),rx(o),rx(r)),b7(e),UN(e),e.destroyed=!0}},ax=(()=>{const e={};return{add:(c,u)=>{e[c]=u},get:c=>e[c]?e[c]:{icons:{}},has:c=>fn(e,c)}})(),Rv=si.ModelManager,i4=(e,n)=>n.dom[e],cx=(e,n)=>parseInt(Wr(n,e),10),w7=he(i4,"clientWidth"),_7=he(i4,"clientHeight"),jZ=he(cx,"margin-top"),C7=he(cx,"margin-left"),Zw=e=>e.dom.getBoundingClientRect(),jN=(e,n,o)=>{const r=w7(e),c=_7(e);return n>=0&&o>=0&&n<=r&&o<=c},WN=(e,n,o,r)=>{const c=Zw(n),u=e?c.left+n.dom.clientLeft+C7(n):0,m=e?c.top+n.dom.clientTop+jZ(n):0,y=o-u,v=r-m;return{x:y,y:v}},S7=(e,n,o)=>{const r=ie.fromDom(e.getBody()),c=e.inline?r:kf(r),u=WN(e.inline,c,n,o);return jN(c,u.x,u.y)},ZN=e=>$.from(e).map(ie.fromDom),x7=e=>{const n=e.inline?e.getBody():e.getContentAreaContainer();return ZN(n).map(Ju).getOr(!1)};var T7=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const qN=e=>{const n=[],o=()=>{const B=e.theme;return B&&B.getNotificationManagerImpl?B.getNotificationManagerImpl():T7()},r=()=>$.from(n[0]),c=(B,W)=>B.type===W.type&&B.text===W.text&&!B.progressBar&&!B.timeout&&!W.progressBar&&!W.timeout,u=()=>{r().each(B=>{B.reposition()})},m=B=>{n.push(B)},y=B=>{po(n,W=>W===B).each(W=>{n.splice(W,1)})},v=(B,W=!0)=>e.removed||!x7(e)?{}:(W&&e.dispatch("BeforeOpenNotification",{notification:B}),Lt(n,X=>c(o().getArgs(X),B)).getOrThunk(()=>{e.editorManager.setActive(e);const X=o().open(B,()=>{y(X)},()=>ID(e));return m(X),u(),e.dispatch("OpenNotification",{notification:{...X}}),X})),T=()=>{r().each(B=>{o().close(B),y(B),u()})},R=Me(n);return(B=>{B.on("SkinLoaded",()=>{const W=li(B);W&&v({text:W,type:"warning",timeout:0},!1),u()}),B.on("show ResizeEditor ResizeWindow NodeChange ToggleView FullscreenStateChanged",()=>{requestAnimationFrame(u)}),B.on("remove",()=>{te(n.slice(),W=>{o().close(W)})}),B.addShortcut("alt+F12","Focus to notification",()=>r().map(W=>ie.fromDom(W.getEl())).each(W=>uv(W)))})(e),{open:v,close:T,getNotifications:R}},Mv=si.PluginManager,Oh=si.ThemeManager;var E7=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const GN=e=>{let n=[];const o=()=>{const q=e.theme;return q&&q.getWindowManagerImpl?q.getWindowManagerImpl():E7()},r=(q,ee)=>(...de)=>ee?ee.apply(q,de):void 0,c=q=>{e.dispatch("OpenWindow",{dialog:q})},u=q=>{e.dispatch("CloseWindow",{dialog:q})},m=q=>{n.push(q),c(q)},y=q=>{u(q),n=be(n,ee=>ee!==q),n.length===0&&e.focus()},v=()=>$.from(n[n.length-1]),T=q=>{e.editorManager.setActive(e),cw(e),e.ui.show();const ee=q();return m(ee),ee},R=(q,ee)=>T(()=>o().open(q,ee,y)),M=q=>T(()=>o().openUrl(q,y)),B=(q,ee,de)=>{const _e=o();_e.alert(q,r(de||_e,ee))},W=(q,ee,de)=>{const _e=o();_e.confirm(q,r(de||_e,ee))},X=()=>{v().each(q=>{o().close(q),y(q)})};return e.on("remove",()=>{te(n,q=>{o().close(q)})}),{open:R,openUrl:M,alert:B,confirm:W,close:X}},Nv=(e,n)=>{e.notificationManager.open({type:"error",text:n})},qw=(e,n)=>{e._skinLoaded?Nv(e,n):e.on("SkinLoaded",()=>{Nv(e,n)})},KN=(e,n)=>{qw(e,qa.translate(["Failed to upload image: {0}",n]))},Gw=(e,n,o)=>{Ac(e,n,{message:o}),console.error(o)},Kw=(e,n,o)=>o?`Failed to load ${e}: ${o} from url ${n}`:`Failed to load ${e} url: ${n}`,A7=(e,n,o)=>{Gw(e,"PluginLoadError",Kw("plugin",n,o))},YN=(e,n,o)=>{Gw(e,"IconsLoadError",Kw("icons",n,o))},z7=(e,n,o)=>{Gw(e,"LanguageLoadError",Kw("language",n,o))},O7=(e,n,o)=>{Gw(e,"ThemeLoadError",Kw("theme",n,o))},D7=(e,n,o)=>{Gw(e,"ModelLoadError",Kw("model",n,o))},R7=(e,n,o)=>{const r=qa.translate(["Failed to initialize plugin: {0}",n]);Ac(e,"PluginLoadError",{message:r}),l4(r,o),qw(e,r)},l4=(e,...n)=>{const o=window.console;o&&(o.error?o.error(e,...n):o.log(e,...n))},Jf=e=>/^[a-z0-9\-]+$/i.test(e),Yw=e=>"content/"+e+"/content.css",M7=e=>tinymce.Resource.has(Yw(e)),N7=e=>XN(e,aE(e)),P7=e=>XN(e,Di(e)),XN=(e,n)=>{const o=e.editorManager.baseURL+"/skins/content",c=`content${e.editorManager.suffix}.css`;return Qt(n,u=>M7(u)?u:Jf(u)&&!e.inline?`${o}/${u}/${c}`:e.documentBaseURI.toAbsolute(u))},ps=e=>{e.contentCSS=e.contentCSS.concat(N7(e),P7(e))},B7=e=>e?is(e.getElementsByTagName("img")):[],Xw=(e,n)=>{const o={};return{findAll:(c,u=Qe)=>{const m=be(B7(c),v=>{const T=v.src;return v.hasAttribute("data-mce-bogus")||v.hasAttribute("data-mce-placeholder")||!T||T===rn.transparentSrc?!1:ns(T,"blob:")?!e.isUploaded(T)&&u(v):ns(T,"data:")?u(v):!1}),y=Qt(m,v=>{const T=v.src;if(fn(o,T))return o[T].then(R=>ae(R)?R:{image:v,blobInfo:R.blobInfo});{const R=KL(n,T).then(M=>(delete o[T],{image:v,blobInfo:M})).catch(M=>(delete o[T],M));return o[T]=R,R}});return Promise.all(y)}}},JN=()=>{let o={};const r=(B,W)=>({status:B,resultUri:W}),c=B=>B in o;return{hasBlobUri:c,getResultUri:B=>{const W=o[B];return W?W.resultUri:null},isPending:B=>c(B)?o[B].status===1:!1,isUploaded:B=>c(B)?o[B].status===2:!1,markPending:B=>{o[B]=r(1,null)},markUploaded:(B,W)=>{o[B]=r(2,W)},removeFailed:B=>{delete o[B]},destroy:()=>{o={}}}};let $7=0;const I7=()=>{const e=()=>Math.round(P0()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+e()+e()+e()},QN=e=>e+$7+++I7(),Dh=()=>{let e=[];const n=M=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[M.toLowerCase()]||"dat",o=(M,B,W,X,q)=>{if(ae(M))return r({id:M,name:X,filename:q,blob:B,base64:W});if(wt(M))return r(M);throw new Error("Unknown input type")},r=M=>{if(!M.blob||!M.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const B=M.id||QN("blobid"),W=M.name||B,X=M.blob;return{id:Me(B),name:Me(W),filename:Me(M.filename||W+"."+n(X.type)),blob:Me(X),base64:Me(M.base64),blobUri:Me(M.blobUri||URL.createObjectURL(X)),uri:Me(M.uri)}},c=M=>{m(M.id())||e.push(M)},u=M=>Lt(e,M).getOrUndefined(),m=M=>u(B=>B.id()===M);return{create:o,add:c,get:m,getByUri:M=>u(B=>B.blobUri()===M),getByData:(M,B)=>u(W=>W.base64()===M&&W.blob().type===B),findFirst:u,removeByUri:M=>{e=be(e,B=>B.blobUri()===M?(URL.revokeObjectURL(B.blobUri()),!1):!0)},destroy:()=>{te(e,M=>{URL.revokeObjectURL(M.blobUri())}),e=[]}}},El=(e,n)=>{const o={},r=(q,ee)=>q?q.replace(/\/$/,"")+"/"+ee.replace(/^\//,""):ee,c=(q,ee)=>new Promise((de,_e)=>{const ke=new XMLHttpRequest;ke.open("POST",n.url),ke.withCredentials=n.credentials,ke.upload.onprogress=tt=>{ee(tt.loaded/tt.total*100)},ke.onerror=()=>{_e("Image upload failed due to a XHR Transport error. Code: "+ke.status)},ke.onload=()=>{if(ke.status<200||ke.status>=300){_e("HTTP Error: "+ke.status);return}const tt=JSON.parse(ke.responseText);if(!tt||!ae(tt.location)){_e("Invalid JSON: "+ke.responseText);return}de(r(n.basePath,tt.location))};const Re=new FormData;Re.append("file",q.blob(),q.filename()),ke.send(Re)}),u=ue(n.handler)?n.handler:c,m=()=>new Promise(q=>{q([])}),y=(q,ee)=>({url:ee,blobInfo:q,status:!0}),v=(q,ee)=>({url:"",blobInfo:q,status:!1,error:ee}),T=(q,ee)=>{ut.each(o[q],de=>{de(ee)}),delete o[q]},R=(q,ee,de)=>(e.markPending(q.blobUri()),new Promise(_e=>{let ke,Re;try{const tt=()=>{ke&&(ke.close(),Re=ze)},kt=je=>{tt(),e.markUploaded(q.blobUri(),je),T(q.blobUri(),y(q,je)),_e(y(q,je))},$t=je=>{tt(),e.removeFailed(q.blobUri()),T(q.blobUri(),v(q,je)),_e(v(q,je))};Re=je=>{je<0||je>100||$.from(ke).orThunk(()=>$.from(de).map(vt)).each($e=>{ke=$e,$e.progressBar.value(je)})},ee(q,Re).then(kt,je=>{$t(ae(je)?{message:je}:je)})}catch(tt){_e(v(q,tt))}})),M=q=>q===c,B=q=>{const ee=q.blobUri();return new Promise(de=>{o[ee]=o[ee]||[],o[ee].push(de)})},W=(q,ee)=>(q=ut.grep(q,de=>!e.isUploaded(de.blobUri())),Promise.all(ut.map(q,de=>e.isPending(de.blobUri())?B(de):R(de,u,ee))));return{upload:(q,ee)=>!n.url&&M(u)?m():W(q,ee)}},Pv=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),kp=(e,n)=>El(n,{url:u1(e),basePath:d1(e),credentials:UC(e),handler:jC(e)}),ng=e=>{const n=JN(),o=kp(e,n);return{upload:(r,c=!0)=>o.upload(r,c?Pv(e):void 0)}},Jw=(e,n)=>e.dom.isEmpty(n.dom)&&Ne(e.schema.getTextBlockElements()[vo(n)]),u4=e=>n=>{Jw(e,n)&&rr(n,ie.fromHtml('<br data-mce-bogus="1" />'))},d4=e=>{const n=Dh();let o,r;const c=JN(),u=[],m=ke=>Re=>e.selection?ke(Re):[],y=ke=>ke+(ke.indexOf("?")===-1?"?":"&")+new Date().getTime(),v=(ke,Re,tt)=>{let kt=0;do kt=ke.indexOf(Re,kt),kt!==-1&&(ke=ke.substring(0,kt)+tt+ke.substr(kt+Re.length),kt+=tt.length-Re.length+1);while(kt!==-1);return ke},T=(ke,Re,tt)=>{const kt=`src="${tt}"${tt===rn.transparentSrc?' data-mce-placeholder="1"':""}`;return ke=v(ke,`src="${Re}"`,kt),ke=v(ke,'data-mce-src="'+Re+'"','data-mce-src="'+tt+'"'),ke},R=(ke,Re)=>{te(e.undoManager.data,tt=>{tt.type==="fragmented"?tt.fragments=Qt(tt.fragments,kt=>T(kt,ke,Re)):tt.content=T(tt.content,ke,Re)})},M=(ke,Re)=>{const tt=e.convertURL(Re,"src");R(ke.src,Re),Hi(ie.fromDom(ke),{src:ms(e)?y(Re):Re,"data-mce-src":tt})},B=()=>(o||(o=kp(e,c)),ee().then(m(ke=>{const Re=Qt(ke,tt=>tt.blobInfo);return o.upload(Re,Pv(e)).then(m(tt=>{const kt=[];let $t=!1;const je=Qt(tt,($e,et)=>{const{blobInfo:Zt,image:un}=ke[et];let mo=!1;return $e.status&&xc(e)?($e.url&&!Yo(un.src,$e.url)&&($t=!0),n.removeByUri(un.src),tg(e)||M(un,$e.url)):$e.error&&($e.error.remove&&(R(un.src,rn.transparentSrc),kt.push(un),mo=!0),KN(e,$e.error.message)),{element:un,status:$e.status,uploadUri:$e.url,blobInfo:Zt,removed:mo}});return kt.length>0&&!tg(e)?e.undoManager.transact(()=>{te(Hl(kt),$e=>{const et=ja($e);bs($e),et.each(u4(e)),n.removeByUri($e.dom.src)})}):$t&&e.undoManager.dispatchChange(),je}))}))),W=()=>Ir(e)?B():Promise.resolve([]),X=ke=>zo(u,Re=>Re(ke)),q=ke=>{u.push(ke)},ee=()=>(r||(r=Xw(c,n)),r.findAll(e.getBody(),X).then(m(ke=>{const Re=be(ke,tt=>ae(tt)?(qw(e,tt),!1):tt.uriType!=="blob");return tg(e)||te(Re,tt=>{R(tt.image.src,tt.blobInfo.blobUri()),tt.image.src=tt.blobInfo.blobUri(),tt.image.removeAttribute("data-mce-src")}),Re}))),de=()=>{n.destroy(),c.destroy(),r=o=null},_e=ke=>ke.replace(/src="(blob:[^"]+)"/g,(Re,tt)=>{const kt=c.getResultUri(tt);if(kt)return'src="'+kt+'"';let $t=n.getByUri(tt);return $t||($t=lt(e.editorManager.get(),(je,$e)=>je||$e.editorUpload&&$e.editorUpload.blobCache.getByUri(tt),void 0)),$t?'src="data:'+$t.blob().type+";base64,"+$t.base64()+'"':Re});return e.on("SetContent",()=>{Ir(e)?W():ee()}),e.on("RawSaveContent",ke=>{ke.content=_e(ke.content)}),e.on("GetContent",ke=>{ke.source_view||ke.format==="raw"||ke.format==="tree"||(ke.content=_e(ke.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",ke=>{te(ke,Re=>{const tt=Re.attr("src");if(!tt||n.getByUri(tt))return;const kt=c.getResultUri(tt);kt&&Re.attr("src",kt)})})}),{blobCache:n,addFilter:q,uploadImages:B,uploadImagesAuto:W,scanForImages:ee,destroy:de}},eP=e=>{const n=e.dom,o=e.schema.type,r={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:c=>{n.setStyle(c,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:c=>{n.setStyle(c,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const c={inline:"span",styles:{textDecoration:"line-through"},exact:!0},u={inline:"strike",remove:"all",preserve_attributes:["class","style"]},m={inline:"s",remove:"all",preserve_attributes:["class","style"]};return o!=="html4"?[m,c,u]:[c,m,u]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(c,u,m)=>Nt(c)&&c.hasAttribute("href"),onformat:(c,u,m)=>{ut.each(m,(y,v)=>{n.setAttrib(c,v,y)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":c=>{var u;return(u=c==null?void 0:c.customValue)!==null&&u!==void 0?u:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return ut.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),c=>{r[c]={block:c,remove:"all"}}),r},f4={remove_similar:!0,inherit:!1},Bv={selector:"td,th",...f4},F7={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...Bv},tablecellverticalalign:{styles:{"vertical-align":"%value"},...Bv},tablecellbordercolor:{styles:{borderColor:"%value"},...Bv},tablecellclass:{classes:["%value"],...Bv},tableclass:{selector:"table",classes:["%value"],...f4},tablecellborderstyle:{styles:{borderStyle:"%value"},...Bv},tablecellborderwidth:{styles:{borderWidth:"%value"},...Bv}},tP=Me(F7),nP=e=>{const n={},o=m=>Ne(m)?n[m]:n,r=m=>fn(n,m),c=(m,y)=>{m&&(ae(m)?(bt(y)||(y=[y]),te(y,v=>{go(v.deep)&&(v.deep=!Ql(v)),go(v.split)&&(v.split=!Ql(v)||Ka(v)),go(v.remove)&&Ql(v)&&!Ka(v)&&(v.remove="none"),Ql(v)&&Ka(v)&&(v.mixed=!0,v.block_expand=!0),ae(v.classes)&&(v.classes=v.classes.split(/\s+/))}),n[m]=y):mt(m,(v,T)=>{c(T,v)}))},u=m=>(m&&n[m]&&delete n[m],n);return c(eP(e)),c(tP()),c(GC(e)),{get:o,has:r,register:c,unregister:u}},Qw=ut.each,Iu=Gs.DOM,e_=e=>Ne(e)&&wt(e),L7=(e,n)=>{const o=n&&n.schema||Wd({}),r=(v,T)=>{T.classes.length>0&&Iu.addClass(v,T.classes.join(" ")),Iu.setAttribs(v,T.attrs)},c=v=>{const T=ae(v)?{name:v,classes:[],attrs:{}}:v,R=Iu.create(T.name);return r(R,T),R},u=(v,T)=>{const R=o.getElementRule(v.nodeName.toLowerCase()),M=R==null?void 0:R.parentsRequired;return M&&M.length?T&&jt(M,T)?T:M[0]:!1},m=(v,T,R)=>{let M;const B=T[0],W=e_(B)?B.name:void 0,X=u(v,W);if(X)W===X?(M=B,T=T.slice(1)):M=X;else if(B)M=B,T=T.slice(1);else if(!R)return v;const q=M?c(M):Iu.create("div");q.appendChild(v),R&&ut.each(R,de=>{const _e=c(de);q.insertBefore(_e,v)});const ee=e_(M)?M.siblings:void 0;return m(q,T,ee)},y=Iu.create("div");if(e.length>0){const v=e[0],T=c(v),R=e_(v)?v.siblings:void 0;y.appendChild(m(T,e.slice(1),R))}return y},H7=e=>{e=ut.trim(e);let n="div";const o={name:n,classes:[],attrs:{},selector:e};return e!=="*"&&(n=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(r,c,u,m,y)=>{switch(c){case"#":o.attrs.id=u;break;case".":o.classes.push(u);break;case":":ut.inArray("checked disabled enabled read-only required".split(" "),u)!==-1&&(o.attrs[u]=u);break}if(m==="["){const v=y.match(/([\w\-]+)(?:\=\"([^\"]+))?/);v&&(o.attrs[v[1]]=v[2])}return""})),o.name=n||"div",o},WZ=e=>ae(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),ut.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),n=>{const o=ut.map(n.split(/(?:~\+|~|\+)/),H7),r=o.pop();return o.length&&(r.siblings=o),r}).reverse()):[],V7=(e,n)=>{let o="",r=mk(e);if(r==="")return"";const c=B=>ae(B)?B.replace(/%(\w+)/g,""):"",u=(B,W)=>Iu.getStyle(W??e.getBody(),B,!0);if(ae(n)){const B=e.formatter.get(n);if(!B)return"";n=B[0]}if("preview"in n){const B=n.preview;if(B===!1)return"";r=B||r}let m=n.block||n.inline||"span",y;const v=WZ(n.selector);v.length>0?(v[0].name||(v[0].name=m),m=n.selector,y=L7(v,e)):y=L7([m],e);const T=Iu.select(m,y)[0]||y.firstChild;Qw(n.styles,(B,W)=>{const X=c(B);X&&Iu.setStyle(T,W,X)}),Qw(n.attributes,(B,W)=>{const X=c(B);X&&Iu.setAttrib(T,W,X)}),Qw(n.classes,B=>{const W=c(B);Iu.hasClass(T,W)||Iu.addClass(T,W)}),e.dispatch("PreviewFormats"),Iu.setStyles(y,{position:"absolute",left:-65535}),e.getBody().appendChild(y);const R=u("fontSize"),M=/px$/.test(R)?parseInt(R,10):0;return Qw(r.split(" "),B=>{let W=u(B,T);if(!(B==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(W)&&(W=u(B),ud(W).toLowerCase()==="#ffffff"))&&!(B==="color"&&ud(W).toLowerCase()==="#000000")){if(B==="font-size"&&/em|%$/.test(W)){if(M===0)return;W=parseFloat(W)/(/%$/.test(W)?100:1)*M+"px"}B==="border"&&W&&(o+="padding:0 2px;"),o+=B+":"+W+";"}}),e.dispatch("AfterPreviewFormats"),Iu.remove(y),o},U7=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let n=1;n<=6;n++)e.addShortcut("access+"+n,"",["FormatBlock",!1,"h"+n]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},Qf=e=>{const n=nP(e),o=Ee({});return U7(e),uM(e),tg(e)||gz(o,e),{get:n.get,has:n.has,register:n.register,unregister:n.unregister,apply:(r,c,u)=>{H6(e,r,c,u)},remove:(r,c,u,m)=>{V6(e,r,c,u,m)},toggle:(r,c,u)=>{RN(e,r,c,u)},match:(r,c,u,m)=>I6(e,r,c,u,m),closest:r=>L6(e,r),matchAll:(r,c)=>e4(e,r,c),matchNode:(r,c,u,m)=>F6(e,r,c,u,m),canApply:r=>nx(e,r),formatChanged:(r,c,u,m)=>MN(e,o,r,c,u,m),getCssText:he(V7,e)}},j7=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},ZZ=(e,n,o)=>{const r=Ee(!1),c=v=>{Ww(n,!1,o),n.add({},v)};e.on("init",()=>{n.add()}),e.on("BeforeExecCommand",v=>{const T=v.command;j7(T)||(vN(n,o),n.beforeChange())}),e.on("ExecCommand",v=>{const T=v.command;j7(T)||c(v)}),e.on("ObjectResizeStart cut",()=>{n.beforeChange()}),e.on("SaveContent ObjectResized blur",c),e.on("dragend",c),e.on("keyup",v=>{const T=v.keyCode;if(v.isDefaultPrevented())return;const R=rn.os.isMacOS()&&v.key==="Meta";(T>=33&&T<=36||T>=37&&T<=40||T===45||v.ctrlKey||R)&&(c(),e.nodeChanged()),(T===46||T===8)&&e.nodeChanged(),r.get()&&n.typing&&!jw(Vw(e),n.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),r.set(!1),e.nodeChanged())}),e.on("keydown",v=>{const T=v.keyCode;if(v.isDefaultPrevented())return;if(T>=33&&T<=36||T>=37&&T<=40||T===45){n.typing&&c(v);return}const R=v.ctrlKey&&!v.altKey||v.metaKey;if((T<16||T>20)&&T!==224&&T!==91&&!n.typing&&!R){n.beforeChange(),Ww(n,!0,o),n.add({},v),r.set(!0);return}(rn.os.isMacOS()?v.metaKey:v.ctrlKey&&!v.altKey)&&n.beforeChange()}),e.on("mousedown",v=>{n.typing&&c(v)});const u=v=>v.inputType==="insertReplacementText",m=v=>v.inputType==="insertText"&&v.data===null,y=v=>v.inputType==="insertFromPaste"||v.inputType==="insertFromDrop";e.on("input",v=>{v.inputType&&(u(v)||m(v)||y(v))&&c(v)}),e.on("AddUndo Undo Redo ClearUndos",v=>{v.isDefaultPrevented()||e.nodeChanged()})},W7=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},$v=e=>{const n=Cc(),o=Ee(0),r=Ee(0),c={data:[],typing:!1,beforeChange:()=>{xN(e,o,n)},add:(u,m)=>Yz(e,c,r,o,n,u,m),dispatchChange:()=>{e.setDirty(!0);const u=Vw(e);u.bookmark=rk(e.selection),e.dispatch("change",{level:u,lastLevel:Ko(c.data,r.get()).getOrUndefined()})},undo:()=>Xz(e,c,o,r),redo:()=>TN(e,r,c.data),clear:()=>{Jz(e,c,r)},reset:()=>{EN(e,c)},hasUndo:()=>AN(e,c,r),hasRedo:()=>Qz(e,c,r),transact:u=>zN(e,c,o,u),ignore:u=>{ON(e,o,u)},extra:(u,m)=>{DN(e,c,r,u,m)}};return tg(e)||ZZ(e,c,o),W7(e),c},Z7=[9,27,it.HOME,it.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,it.DOWN,it.UP,it.LEFT,it.RIGHT].concat(rn.browser.isFirefox()?[224]:[]),m4="data-mce-placeholder",g4=e=>e.type==="keydown"||e.type==="keyup",p4=e=>{const n=e.keyCode;return n===it.BACKSPACE||n===it.DELETE},q7=e=>{if(g4(e)){const n=e.keyCode;return!p4(e)&&(it.metaKeyPressed(e)||e.altKey||n>=112&&n<=123||jt(Z7,n))}else return!1},G7=e=>g4(e)&&!(p4(e)||e.type==="keyup"&&e.keyCode===229),Rh=(e,n,o)=>{if(e.isEmpty(n,void 0,{skipBogus:!1,includeZwsp:!0})){const r=n.firstElementChild;return r?e.getStyle(n.firstElementChild,"padding-left")||e.getStyle(n.firstElementChild,"padding-right")?!1:o===r.nodeName.toLowerCase():!0}else return!1},K7=e=>{var n;const o=e.dom,r=Sc(e),c=(n=by(e))!==null&&n!==void 0?n:"",u=(m,y)=>{if(q7(m))return;const v=e.getBody(),T=G7(m)?!1:Rh(o,v,r);(o.getAttrib(v,m4)!==""!==T||y)&&(o.setAttrib(v,m4,T?c:null),rv(e,T),e.on(T?"keydown":"keyup",u),e.off(T?"keyup":"keydown",u))};So(c)&&e.on("init",m=>{u(m,!0),e.on("change SetContent ExecCommand",u),e.on("paste",y=>Pu.setEditorTimeout(e,()=>u(y)))})},Y7=(e,n)=>({block:e,position:n}),X7=(e,n)=>({from:e,to:n}),h4=(e,n)=>{const o=ie.fromDom(e),r=ie.fromDom(n.container());return tr(o,r).map(c=>Y7(c,n))},J7=e=>!(Pr(e.to.block,e.from.block)||Pr(e.from.block,e.to.block)),Q7=e=>!Qn(e.from.block,e.to.block),oP=(e,n)=>Js(n,c=>fy(c)||Ke(c.dom),c=>Qn(c,e)).filter(Ua).getOr(e),e8=(e,n)=>{const o=ie.fromDom(e);return Qn(oP(o,n.from.block),oP(o,n.to.block))},t8=e=>Lo(e.from.block.dom)===!1&&Lo(e.to.block.dom)===!1,ix=e=>{const n=o=>Au(o)||Za(o.dom)||Wg(o);return n(e.from.block)&&n(e.to.block)},n8=(e,n,o,r)=>Fo(r.position.getNode())&&!Ps(e,r.block)?Ym(!1,r.block.dom).bind(c=>c.isEqual(r.position)?Ri(o,n,c).bind(u=>h4(n,u)):$.some(r)).getOr(r):r,o8=(e,n,o,r)=>{const c=h4(n,Ue.fromRangeStart(r)),u=c.bind(m=>Ri(o,n,m.position).bind(y=>h4(n,y).map(v=>n8(e,n,o,v))));return Zn(c,u,X7).filter(m=>Q7(m)&&e8(n,m)&&t8(m)&&ix(m)&&J7(m))},qZ=(e,n,o,r)=>r.collapsed?o8(e,n,o,r):$.none(),t_=(e,n)=>{const o=ia(e);return po(o,r=>n.isBlock(vo(r))).fold(Me(o),r=>o.slice(0,r))},sP=(e,n)=>{const o=t_(e,n);return te(o,bs),o},lx=(e,n,o)=>{const r=of(o,n);return Lt(r.reverse(),c=>Ps(e,c)).each(bs)},s8=(e,n)=>be(Cg(n),o=>!Ps(e,o)).length===0,r8=(e,n,o,r,c)=>{if(Ps(r,o))return Yl(o),Ec(o.dom);s8(r,c)&&Ps(r,n)&&uc(c,ie.fromTag("br"));const u=tl(o.dom,Ue.before(c.dom));return te(sP(n,r),m=>{uc(c,m)}),lx(r,e,n),u},a8=(e,n)=>e.isInline(vo(n)),c8=(e,n,o,r)=>{if(Ps(r,o)){if(Ps(r,n)){const m=st((y=>{const v=(T,R)=>lc(T).fold(()=>R,M=>a8(r,M)?v(M,R.concat(Em(M))):R);return v(y,[])})(o),(y,v)=>(td(y,v),v),Zg());nd(n),rr(n,m)}return bs(o),Ec(n.dom)}const c=Xl(o.dom);return te(sP(n,r),u=>{rr(o,u)}),lx(r,e,n),c},ub=(e,n)=>{const o=of(n,e);return $.from(o[o.length-1])},db=(e,n)=>Pr(n,e)?ub(n,e):$.none(),n_=(e,n)=>{Ym(e,n.dom).bind(o=>$.from(o.getNode())).map(ie.fromDom).filter(Yi).each(bs)},o_=(e,n,o,r)=>(n_(!0,n),n_(!1,o),db(n,o).fold(he(c8,e,n,o,r),he(r8,e,n,o,r))),Mh=(e,n,o,r,c)=>n?o_(e,r,o,c):o_(e,o,r,c),wp=(e,n)=>{const o=ie.fromDom(e.getBody());return qZ(e.schema,o.dom,n,e.selection.getRng()).map(c=>()=>{Mh(o,n,c.from.block,c.to.block,e.schema).each(u=>{e.selection.setRng(u.toRange())})})},ux=(e,n,o)=>{const r=n.getRng();return Zn(tr(e,ie.fromDom(r.startContainer)),tr(e,ie.fromDom(r.endContainer)),(c,u)=>Qn(c,u)?$.none():$.some(()=>{r.deleteContents(),Mh(e,!0,c,u,o).each(m=>{n.setRng(m.toRange())})})).getOr($.none())},s_=(e,n)=>{const o=ie.fromDom(n),r=he(Qn,e);return Zs(o,fy,r).isSome()},rP=(e,n)=>s_(e,n.startContainer)||s_(e,n.endContainer),y4=(e,n)=>{const o=tl(e.dom,Ue.fromRangeStart(n)).isNone(),r=Mi(e.dom,Ue.fromRangeEnd(n)).isNone();return!rP(e,n)&&o&&r},b4=e=>$.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),aP=e=>{const n=ie.fromDom(e.getBody()),o=e.selection.getRng();return y4(n,o)?b4(e):ux(n,e.selection,e.schema)},dx=(e,n)=>e.selection.isCollapsed()?$.none():aP(e),Fu=(e,n,o,r,c)=>$.from(n._selectionOverrides.showCaret(e,o,r,c)),cP=e=>{const n=e.ownerDocument.createRange();return n.selectNode(e),n},Iv=(e,n)=>e.dispatch("BeforeObjectSelected",{target:n}).isDefaultPrevented()?$.none():$.some(cP(n)),iP=(e,n,o)=>{const r=gc(1,e.getBody(),n),c=Ue.fromRangeStart(r),u=c.getNode();if(oh(u))return Fu(1,e,u,!c.isAtEnd(),!1);const m=c.getNode(!0);if(oh(m))return Fu(1,e,m,!1,!1);const y=Ch(e.dom.getRoot(),c.getNode());return oh(y)?Fu(1,e,y,!1,o):$.none()},Fv=(e,n,o)=>n.collapsed?iP(e,n,o).getOr(n):n,lP=e=>kh(e)||mv(e),uP=e=>wh(e)||gv(e),dP=(e,n)=>{ct(n)&&n.data.length===0&&e.remove(n)},v4=(e,n,o,r,c,u)=>{Fu(r,e,u.getNode(!c),c,!0).each(m=>{if(n.collapsed){const y=n.cloneRange();c?y.setEnd(m.startContainer,m.startOffset):y.setStart(m.endContainer,m.endOffset),y.deleteContents()}else n.deleteContents();e.selection.setRng(m)}),dP(e.dom,o)},_p=(e,n)=>{const o=e.selection.getRng();if(!ct(o.commonAncestorContainer))return $.none();const r=n?fa.Forwards:fa.Backwards,c=pd(e.getBody()),u=he(Ek,n?c.next:c.prev),m=n?lP:uP,y=Ey(r,e.getBody(),o),v=u(y),T=v&&Zr(n,v);if(!T||!R1(y,T))return $.none();if(m(T))return $.some(()=>v4(e,o,y.getNode(),r,n,T));const R=u(T);return R&&m(R)&&R1(T,R)?$.some(()=>v4(e,o,y.getNode(),r,n,R)):$.none()},og=(e,n)=>_p(e,n),Lu=(e,n)=>{const o=e.getBody();return n?Ec(o).filter(kh):Xl(o).filter(wh)},k4=e=>{const n=e.selection.getRng();return!n.collapsed&&(Lu(e,!0).exists(o=>o.isEqual(Ue.fromRangeStart(n)))||Lu(e,!1).exists(o=>o.isEqual(Ue.fromRangeEnd(n))))},i8=e=>Ne(e)&&(fy(ie.fromDom(e))||Wg(ie.fromDom(e))),Hu=md.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),l8=(e,n)=>{const o=n.getNode(!e),r=e?"after":"before";return Nt(o)&&o.getAttribute("data-mce-caret")===r},u8=(e,n,o,r,c)=>{const u=m=>c.isInline(m.nodeName.toLowerCase())&&!kl(o,r,e);return O1(!n,o).fold(()=>O1(n,r).fold(we,u),u)},fP=(e,n,o,r,c)=>{const u=c.getNode(!o);return tr(ie.fromDom(n),ie.fromDom(r.getNode())).map(m=>Ps(e,m)?Hu.remove(m.dom):Hu.moveToElement(u)).orThunk(()=>$.some(Hu.moveToElement(u)))},mP=(e,n,o,r)=>Ri(n,e,o).bind(c=>i8(c.getNode())||u8(e,n,o,c,r)?$.none():n&&Lo(c.getNode())||!n&&Lo(c.getNode(!0))?fP(r,e,n,o,c):n&&wh(o)||!n&&kh(o)?$.some(Hu.moveToPosition(c)):$.none()),d8=(e,n)=>gn(n)?$.none():e&&Lo(n.nextSibling)?$.some(Hu.moveToElement(n.nextSibling)):!e&&Lo(n.previousSibling)?$.some(Hu.moveToElement(n.previousSibling)):$.none(),f8=(e,n,o)=>o.fold(r=>$.some(Hu.remove(r)),r=>$.some(Hu.moveToElement(r)),r=>kl(n,r,e)?$.none():$.some(Hu.moveToPosition(r))),m8=(e,n,o,r)=>l8(n,o)?d8(n,o.getNode(!n)).orThunk(()=>mP(e,n,o,r)):mP(e,n,o,r).bind(c=>f8(e,o,c)),g8=(e,n,o,r)=>{const c=gc(n?1:-1,e,o),u=Ue.fromRangeStart(c),m=ie.fromDom(e);return!n&&wh(u)?$.some(Hu.remove(u.getNode(!0))):n&&kh(u)?$.some(Hu.remove(u.getNode())):!n&&kh(u)&&l2(m,u,r)?mR(m,u,r).map(y=>Hu.remove(y.getNode())):n&&wh(u)&&fR(m,u,r)?zn(m,u,r).map(y=>Hu.remove(y.getNode())):m8(e,n,u,r)},p8=(e,n)=>o=>(e._selectionOverrides.hideFakeCaret(),hd(e,n,ie.fromDom(o)),!0),w4=(e,n)=>o=>{const r=n?Ue.before(o):Ue.after(o);return e.selection.setRng(r.toRange()),!0},_4=e=>n=>(e.selection.setRng(n.toRange()),!0),C4=(e,n)=>$.from(Ch(e.getBody(),n)),h8=(e,n)=>{const o=e.selection.getNode();return C4(e,o).filter(Lo).fold(()=>g8(e.getBody(),n,e.selection.getRng(),e.schema).map(r=>()=>r.fold(p8(e,n),w4(e,n),_4(e))),()=>$.some(ze))},y8=e=>{te(dc(e,".mce-offscreen-selection"),bs)},gP=(e,n)=>{const o=e.selection.getNode();return Lo(o)&&!Mg(o)?C4(e,o.parentNode).filter(Lo).fold(()=>$.some(()=>{y8(ie.fromDom(e.getBody())),hd(e,n,ie.fromDom(e.selection.getNode())),yv(e)}),()=>$.some(ze)):k4(e)?$.some(()=>{qy(e,e.selection.getRng(),ie.fromDom(e.getBody()))}):$.none()},S4=e=>{const n=e.dom,o=e.selection,r=Ch(e.getBody(),o.getNode());if(Ke(r)&&n.isBlock(r)&&n.isEmpty(r)){const c=n.create("br",{"data-mce-bogus":"1"});n.setHTML(r,""),r.appendChild(c),o.setRng(Ue.before(c).toRange())}return!0},r_=(e,n)=>e.selection.isCollapsed()?h8(e,n):gP(e,n),x4=e=>e.hasOwnProperty("text"),T4=e=>e.hasOwnProperty("marker"),fx=(e,n)=>{const o=(u,m)=>{if(ct(u))return{text:u,offset:m};{const y=n(),v=u.childNodes;return m<v.length?(u.insertBefore(y,v[m]),{marker:y,before:!0}):(u.appendChild(y),{marker:y,before:!1})}},r=o(e.endContainer,e.endOffset);return{start:o(e.startContainer,e.startOffset),end:r}},pP=e=>{var n,o;const{start:r,end:c}=e,u=new window.Range;return x4(r)?u.setStart(r.text,r.offset):T4(r)&&(r.before?u.setStartBefore(r.marker):u.setStartAfter(r.marker),(n=r.marker.parentNode)===null||n===void 0||n.removeChild(r.marker)),x4(c)?u.setEnd(c.text,c.offset):T4(c)&&(c.before?u.setEndBefore(c.marker):u.setEndAfter(c.marker),(o=c.marker.parentNode)===null||o===void 0||o.removeChild(c.marker)),u},E4=(e,n)=>{var o;const r=e.dom,c=r.getParent(e.selection.getStart(),r.isBlock),u=r.getParent(e.selection.getEnd(),r.isBlock),m=e.getBody();if(((o=c==null?void 0:c.nodeName)===null||o===void 0?void 0:o.toLowerCase())==="div"&&c&&u&&c===m.firstChild&&u===m.lastChild&&!r.isEmpty(m)){const v=c.cloneNode(!1),T=()=>{if(n?_h(e):m2(e),m.firstChild!==c){const R=fx(e.selection.getRng(),()=>document.createElement("span"));Array.from(m.childNodes).forEach(M=>v.appendChild(M)),m.appendChild(v),e.selection.setRng(pP(R))}};return $.some(T)}return $.none()},sg=(e,n)=>{const o=Ue.fromRangeStart(e.selection.getRng());return Ri(n,e.getBody(),o).filter(r=>n?OF(r):pn(r)).bind(r=>Tk(n?0:-1,r)).map(r=>()=>e.selection.select(r))},Vu=(e,n)=>e.selection.isCollapsed()?sg(e,n):$.none(),Cp=ct,A4=e=>Cp(e)&&e.data[0]===Ia,a_=e=>Cp(e)&&e.data[e.data.length-1]===Ia,z4=e=>{var n;return((n=e.ownerDocument)!==null&&n!==void 0?n:document).createTextNode(Ia)},hP=e=>{var n;if(Cp(e.previousSibling))return a_(e.previousSibling)||e.previousSibling.appendData(Ia),e.previousSibling;if(Cp(e))return A4(e)||e.insertData(0,Ia),e;{const o=z4(e);return(n=e.parentNode)===null||n===void 0||n.insertBefore(o,e),o}},yP=e=>{var n,o;if(Cp(e.nextSibling))return A4(e.nextSibling)||e.nextSibling.insertData(0,Ia),e.nextSibling;if(Cp(e))return a_(e)||e.appendData(Ia),e;{const r=z4(e);return e.nextSibling?(n=e.parentNode)===null||n===void 0||n.insertBefore(r,e.nextSibling):(o=e.parentNode)===null||o===void 0||o.appendChild(r),r}},c_=(e,n)=>e?hP(n):yP(n),bP=he(c_,!0),vP=he(c_,!1),i_=(e,n)=>ct(e.container())?c_(n,e.container()):c_(n,e.getNode()),mx=(e,n)=>{const o=n.get();return o&&e.container()===o&&Bf(o)},O4=(e,n)=>n.fold(o=>{Xg(e.get());const r=bP(o);return e.set(r),$.some(Ue(r,r.length-1))},o=>Ec(o).map(r=>{if(mx(r,e)){const c=e.get();return Ue(c,1)}else{Xg(e.get());const c=i_(r,!0);return e.set(c),Ue(c,1)}}),o=>Xl(o).map(r=>{if(mx(r,e)){const c=e.get();return Ue(c,c.length-1)}else{Xg(e.get());const c=i_(r,!1);return e.set(c),Ue(c,c.length-1)}}),o=>{Xg(e.get());const r=vP(o);return e.set(r),$.some(Ue(r,1))}),kP=(e,n)=>{for(let o=0;o<e.length;o++){const r=e[o].apply(null,n);if(r.isSome())return r}return $.none()},rl=md.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),wP=(e,n)=>{const o=Gm(n,e);return o||e},_P=(e,n,o)=>{const r=DR(o),c=wP(n,r.container());return pp(e,c,r).fold(()=>Mi(c,r).bind(he(pp,e,c)).map(u=>rl.before(u)),$.none)},b8=(e,n)=>ep(e,n)===null,CP=(e,n,o)=>pp(e,n,o).filter(he(b8,n)),D4=(e,n,o)=>{const r=RR(o);return CP(e,n,r).bind(c=>tl(c,r).isNone()?$.some(rl.start(c)):$.none())},v8=(e,n,o)=>{const r=DR(o);return CP(e,n,r).bind(c=>Mi(c,r).isNone()?$.some(rl.end(c)):$.none())},k8=(e,n,o)=>{const r=RR(o),c=wP(n,r.container());return pp(e,c,r).fold(()=>tl(c,r).bind(he(pp,e,c)).map(u=>rl.after(u)),$.none)},SP=e=>!ER(R4(e)),rg=(e,n,o)=>kP([_P,D4,v8,k8],[e,n,o]).filter(SP),R4=e=>e.fold(Yt,Yt,Yt,Yt),xP=e=>e.fold(Me("before"),Me("start"),Me("end"),Me("after")),gx=e=>e.fold(rl.before,rl.before,rl.after,rl.after),Lv=e=>e.fold(rl.start,rl.start,rl.end,rl.end),M4=(e,n)=>xP(e)===xP(n)&&R4(e)===R4(n),w8=(e,n,o,r,c,u)=>Zn(pp(n,o,r),pp(n,o,c),(m,y)=>m!==y&&zR(o,m,y)?rl.after(e?m:y):u).getOr(u),_8=(e,n)=>e.fold(Qe,o=>!M4(o,n)),C8=(e,n,o,r,c)=>{const u=Zr(e,c);return Ri(e,o,u).map(he(Zr,e)).fold(()=>r.map(gx),v=>rg(n,o,v).map(he(w8,e,n,o,u,v)).filter(he(_8,r))).filter(SP)},S8=(e,n)=>e?n.fold(C($.some,rl.start),$.none,C($.some,rl.after),$.none):n.fold($.none,C($.some,rl.before),$.none,C($.some,rl.end)),TP=(e,n,o,r)=>{const c=Zr(e,r),u=rg(n,o,c);return rg(n,o,c).bind(he(S8,e)).orThunk(()=>C8(e,n,o,u,r))},x8=e=>ue(e.selection.getSel().modify),EP=(e,n,o)=>{const r=e?1:-1;return n.setRng(Ue(o.container(),o.offset()+r).toRange()),n.getSel().modify("move",e?"forward":"backward","word"),!0},N4=(e,n)=>{const o=n.selection.getRng(),r=e?Ue.fromRangeEnd(o):Ue.fromRangeStart(o);return x8(n)?e&&j0(r)?EP(!0,n.selection,r):!e&&Kp(r)?EP(!1,n.selection,r):!1:!1};var ag;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(ag||(ag={}));const px=(e,n)=>e===fa.Backwards?ho(n):n,T8=(e,n,o)=>e===fa.Forwards?n.next(o):n.prev(o),E8=(e,n,o,r)=>Fo(r.getNode(n===fa.Forwards))?ag.Br:kl(o,r)===!1?ag.Block:ag.Wrap,AP=(e,n,o,r)=>{const c=pd(o);let u=r;const m=[];for(;u;){const y=T8(n,c,u);if(!y)break;if(Fo(y.getNode(!1)))return n===fa.Forwards?{positions:px(n,m).concat([y]),breakType:ag.Br,breakAt:$.some(y)}:{positions:px(n,m),breakType:ag.Br,breakAt:$.some(y)};if(!y.isVisible()){u=y;continue}if(e(u,y)){const v=E8(o,n,u,y);return{positions:px(n,m),breakType:v,breakAt:$.some(y)}}m.push(y),u=y}return{positions:px(n,m),breakType:ag.Eol,breakAt:$.none()}},zP=(e,n,o,r)=>n(o,r).breakAt.map(c=>{const u=n(o,c).positions;return e===fa.Backwards?u.concat(c):[c].concat(u)}).getOr([]),P4=(e,n)=>lt(e,(o,r)=>o.fold(()=>$.some(r),c=>Zn(wn(c.getClientRects()),wn(r.getClientRects()),(u,m)=>{const y=Math.abs(n-u.left);return Math.abs(n-m.left)<=y?r:c}).or(o)),$.none()),fb=(e,n)=>wn(n.getClientRects()).bind(o=>P4(e,o.left)),Nh=he(AP,Ue.isAbove,-1),l_=he(AP,Ue.isBelow,1),OP=he(zP,-1,Nh),u_=he(zP,1,l_),DP=(e,n)=>Nh(e,n).breakAt.isNone(),RP=(e,n)=>l_(e,n).breakAt.isNone(),A8=e=>Ec(e).map(n=>[n].concat(l_(e,n).positions)).getOr([]),z8=e=>Xl(e).map(n=>Nh(e,n).positions.concat(n)).getOr([]),O8=(e,n)=>fb(OP(e,n),n),D8=(e,n)=>fb(u_(e,n),n),R8=Lo,MP=(e,n)=>Math.abs(e.left-n),NP=(e,n)=>Math.abs(e.right-n),M8=e=>Ks(e,"node"),PP=(e,n)=>ce(e,(o,r)=>{const c=Math.min(MP(o,n),NP(o,n)),u=Math.min(MP(r,n),NP(r,n));return u===c&&M8(r)&&R8(r.node)||u<c?r:o}),GZ=e=>{const n=o=>Qt(o,r=>{const c=Mm(r);return c.node=e,c});if(Nt(e))return n(e.getClientRects());if(ct(e)){const o=e.ownerDocument.createRange();return o.setStart(e,0),o.setEnd(e,e.data.length),n(o.getClientRects())}else return[]},Sd=e=>co(e,GZ);var mb;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(mb||(mb={}));const BP=(e,n,o,r)=>{let c=r;for(;c=sh(c,e,Jb,n);)if(o(c))return},B4=(e,n,o,r,c,u)=>{let m=0;const y=[],v=M=>{let B=Sd([M]);e===-1&&(B=B.reverse());for(let W=0;W<B.length;W++){const X=B[W];if(!o(X,T)){if(y.length>0&&n(X,Pe(y))&&m++,X.line=m,c(X))return!0;y.push(X)}}return!1},T=Pe(u.getClientRects());if(!T)return y;const R=u.getNode();return R&&(v(R),BP(e,r,v,R)),y},N8=(e,n)=>n.line>e,$P=(e,n)=>n.line===e,P8=he(B4,mb.Up,gy,Ls),IP=he(B4,mb.Down,Ls,gy),FP=e=>Pe(e.getClientRects()),B8=(e,n,o,r)=>{const c=pd(n);let u,m,y,v;const T=[];let R=0;e===1?(u=c.next,m=Ls,y=gy,v=Ue.after(r)):(u=c.prev,m=gy,y=Ls,v=Ue.before(r));const M=FP(v);do{if(!v.isVisible())continue;const B=FP(v);if(y(B,M))continue;T.length>0&&m(B,Pe(T))&&R++;const W=Mm(B);if(W.position=v,W.line=R,o(W))return T;T.push(W)}while(v=u(v));return T},LP=e=>n=>N8(e,n),Ph=e=>n=>$P(e,n),cg=(e,n)=>{e.selection.setRng(n),aw(e,e.selection.getRng())},hx=(e,n,o)=>$.some(Fv(e,n,o)),$4=(e,n,o,r,c,u)=>{const m=n===fa.Forwards,y=pd(e.getBody()),v=he(Ek,m?y.next:y.prev),T=m?r:c;if(!o.collapsed){const X=Ji(o);if(u(X))return Fu(n,e,X,n===fa.Backwards,!1);if(k4(e)){const q=o.cloneRange();return q.collapse(n===fa.Backwards),$.from(q)}}const R=Ey(n,e.getBody(),o);if(T(R))return Iv(e,R.getNode(!m));let M=v(R);const B=Gb(o);if(M)M=Zr(m,M);else return B?$.some(o):$.none();if(T(M))return Fu(n,e,M.getNode(!m),m,!1);const W=v(M);return W&&T(W)&&R1(M,W)?Fu(n,e,W.getNode(!m),m,!1):B?hx(e,M.toRange(),!1):$.none()},yx=(e,n,o,r,c,u)=>{const m=Ey(n,e.getBody(),o),y=Pe(m.getClientRects()),v=n===mb.Down,T=e.getBody();if(!y)return $.none();if(k4(e)){const ee=v?Ue.fromRangeEnd(o):Ue.fromRangeStart(o);return(v?D8:O8)(T,ee).orThunk(()=>$.from(ee)).map(_e=>_e.toRange())}const M=(v?IP:P8)(T,LP(1),m),B=be(M,Ph(1)),W=y.left,X=PP(B,W);if(X&&u(X.node)){const ee=Math.abs(W-X.left),de=Math.abs(W-X.right);return Fu(n,e,X.node,ee<de,!1)}let q;if(r(m)?q=m.getNode():c(m)?q=m.getNode(!0):q=Ji(o),q){const ee=B8(n,T,LP(1),q);let de=PP(be(ee,Ph(1)),W);if(de||(de=Pe(be(ee,Ph(0))),de))return hx(e,de.position.toRange(),!1)}return B.length===0?I4(e,v).filter(v?c:r).map(ee=>Fv(e,ee.toRange(),!1)):$.none()},I4=(e,n)=>{const o=e.selection.getRng(),r=n?Ue.fromRangeEnd(o):Ue.fromRangeStart(o),c=z1(r.container(),e.getBody());if(n){const u=l_(c,r);return xo(u.positions)}else{const u=Nh(c,r);return wn(u.positions)}},HP=(e,n,o)=>I4(e,n).filter(o).exists(r=>(e.selection.setRng(r.toRange()),!0)),bx=(e,n)=>{const o=e.dom.createRng();o.setStart(n.container(),n.offset()),o.setEnd(n.container(),n.offset()),e.selection.setRng(o)},VP=(e,n)=>{e?n.setAttribute("data-mce-selected","inline-boundary"):n.removeAttribute("data-mce-selected")},$8=(e,n,o)=>O4(n,o).map(r=>(bx(e,r),o)),KZ=(e,n,o)=>{const r=Ue.fromRangeStart(e);if(e.collapsed)return r;{const c=Ue.fromRangeEnd(e);return o?tl(n,c).getOr(c):Mi(n,r).getOr(r)}},YZ=(e,n,o)=>{const r=e.getBody(),c=KZ(e.selection.getRng(),r,o),u=he(Wy,e);return TP(o,u,r,c).bind(y=>$8(e,n,y))},uf=(e,n,o)=>{const r=Qt(dc(ie.fromDom(n.getRoot()),'*[data-mce-selected="inline-boundary"]'),m=>m.dom),c=be(r,e),u=be(o,e);te(cs(c,u),he(VP,!1)),te(cs(u,c),he(VP,!0))},I8=(e,n)=>{const o=n.get();if(e.selection.isCollapsed()&&!e.composing&&o){const r=Ue.fromRangeStart(e.selection.getRng());Ue.isTextPosition(r)&&!OR(r)&&(bx(e,gS(o,r)),n.set(null))}},F8=(e,n,o,r)=>{if(n.selection.isCollapsed()){const c=be(r,e);te(c,u=>{const m=Ue.fromRangeStart(n.selection.getRng());rg(e,n.getBody(),m).bind(y=>$8(n,o,y))})}},Bh=(e,n,o)=>Hf(e)?YZ(e,n,o).isSome():!1,F4=(e,n,o)=>Hf(n)?N4(e,n):!1,L8=e=>{const n=Ee(null),o=he(Wy,e);return e.on("NodeChange",r=>{Hf(e)&&(uf(o,e.dom,r.parents),I8(e,n),F8(o,e,n,r.parents))}),n},vx=he(F4,!0),H8=he(F4,!1),kx=(e,n,o)=>{if(Hf(e)){const r=I4(e,n).getOrThunk(()=>{const c=e.selection.getRng();return n?Ue.fromRangeEnd(c):Ue.fromRangeStart(c)});return rg(he(Wy,e),e.getBody(),r).exists(c=>{const u=gx(c);return O4(o,u).exists(m=>(bx(e,m),!0))})}else return!1},V8=(e,n)=>{const o=document.createRange();return o.setStart(e.container(),e.offset()),o.setEnd(n.container(),n.offset()),o},U8=e=>Zn(Ec(e),Xl(e),(n,o)=>{const r=Zr(!0,n),c=Zr(!1,o);return Mi(e,r).forall(u=>u.isEqual(c))}).getOr(!0),L4=(e,n)=>o=>O4(n,o).map(r=>()=>bx(e,r)),UP=(e,n,o,r)=>{const c=e.getBody(),u=he(Wy,e);e.undoManager.ignore(()=>{e.selection.setRng(V8(o,r)),m2(e),rg(u,c,Ue.fromRangeStart(e.selection.getRng())).map(Lv).bind(L4(e,n)).each(Dn)}),e.nodeChanged()},Sp=(e,n)=>{const o=Gm(n,e);return o||e},j8=(e,n,o,r)=>{const c=Sp(e.getBody(),r.container()),u=he(Wy,e),m=rg(u,c,r);return m.bind(v=>o?v.fold(Me($.some(Lv(v))),$.none,Me($.some(gx(v))),$.none):v.fold($.none,Me($.some(gx(v))),$.none,Me($.some(Lv(v))))).map(L4(e,n)).getOrThunk(()=>{const v=Qg(o,c,r),T=v.bind(R=>rg(u,c,R));return Zn(m,T,()=>pp(u,c,r).bind(R=>U8(R)?$.some(()=>{hd(e,o,ie.fromDom(R))}):$.none())).getOrThunk(()=>T.bind(()=>v.map(R=>()=>{o?UP(e,n,r,R):UP(e,n,R,r)})))})},H4=(e,n,o)=>{if(e.selection.isCollapsed()&&Hf(e)){const r=Ue.fromRangeStart(e.selection.getRng());return j8(e,n,o,r)}return $.none()},W8=e=>Bd(e)>1,jP=(e,n)=>{const o=ie.fromDom(e.getBody()),r=ie.fromDom(e.selection.getStart()),c=of(r,o);return po(c,n).fold(Me(c),u=>c.slice(0,u))},Z8=e=>Bd(e)===1,V4=e=>jP(e,n=>e.schema.isBlock(vo(n))||W8(n)),U4=e=>jP(e,n=>e.schema.isBlock(vo(n))),wx=(e,n)=>{const o=he(z2,e);return co(n,r=>o(r)?[r.dom]:[])},j4=e=>{const n=U4(e);return wx(e,n)},WP=(e,n,o,r)=>{const c=wx(n,r);if(c.length===0)hd(n,e,o);else{const u=dM(o.dom,c);n.selection.setRng(u.toRange())}},ZP=(e,n)=>{const o=be(V4(e),Z8);return xo(o).bind(r=>{const c=Ue.fromRangeStart(e.selection.getRng());return Zy(n,c,r.dom)&&!qk(r)?$.some(()=>WP(n,e,r,o)):$.none()})},q8=(e,n)=>{const o=n.parentElement;return Fo(n)&&!Z(o)&&e.dom.isEmpty(o)},d_=e=>qk(ie.fromDom(e)),f_=(e,n)=>{const o=e.selection.getStart(),r=q8(e,o)||d_(o)?dM(o,n):OL(e.selection.getRng(),n);e.selection.setRng(r.toRange())},qP=(e,n)=>{const o=cs(n,j4(e));o.length>0&&f_(e,o)},W4=e=>ct(e.startContainer),GP=e=>e.startOffset===0&&W4(e),KP=(e,n)=>{const o=n.startContainer.parentElement;return!Z(o)&&z2(e,ie.fromDom(o))},_x=e=>{const n=e.startContainer.parentNode,o=e.endContainer.parentNode;return!Z(n)&&!Z(o)&&n.isEqualNode(o)},Z4=e=>{const n=e.endContainer;return e.endOffset===(ct(n)?n.length:n.childNodes.length)},m_=e=>_x(e)&&Z4(e),G8=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),YP=e=>m_(e)||G8(e),K8=e=>{const n=e.selection.getRng();return GP(n)&&KP(e,n)&&YP(n)},Y8=e=>{if(K8(e)){const n=j4(e);return $.some(()=>{m2(e),qP(e,n)})}else return $.none()},Cx=(e,n)=>e.selection.isCollapsed()?ZP(e,n):Y8(e),X8=(e,n)=>zg(e,o=>Jl(o.dom),o=>n.isBlock(vo(o))),XP=e=>X8(ie.fromDom(e.selection.getStart()),e.schema),XZ=e=>{const n=e.selection.getRng();return n.collapsed&&(W4(n)||e.dom.isEmpty(n.startContainer))&&!XP(e)},g_=e=>(XZ(e)&&f_(e,[]),!0),q4=(e,n,o)=>Ne(o)?$.some(()=>{e._selectionOverrides.hideFakeCaret(),hd(e,n,ie.fromDom(o))}):$.none(),J8=(e,n)=>{const o=n?mv:gv,r=n?fa.Forwards:fa.Backwards,c=Ey(r,e.getBody(),e.selection.getRng());return o(c)?q4(e,n,c.getNode(!n)):$.from(Zr(n,c)).filter(u=>o(u)&&R1(c,u)).bind(u=>q4(e,n,u.getNode(!n)))},Q8=(e,n)=>{const o=e.selection.getNode();return _c(o)?q4(e,n,o):$.none()},G4=(e,n)=>e.selection.isCollapsed()?J8(e,n):Q8(e,n),eH=e=>Js(e,n=>Ke(n.dom)||Lo(n.dom)).exists(n=>Ke(n.dom)),K4=e=>Jc(e??"").getOr(0),JP=(e,n)=>{const o=e||NT(n)?"margin":"padding",r=Wr(n,"direction")==="rtl"?"-right":"-left";return o+r},QP=(e,n,o,r,c,u)=>{const m=JP(o,ie.fromDom(u)),y=K4(e.getStyle(u,m));if(n==="outdent"){const v=Math.max(0,y-r);e.setStyle(u,m,v?v+c:"")}else{const v=y+r+c;e.setStyle(u,m,v)}},tH=(e,n)=>zo(n,o=>{const r=JP(rE(e),o),c=$a(o,r).map(K4).getOr(0);return e.dom.getContentEditable(o.dom)!=="false"&&c>0}),$h=e=>{const n=J4(e);return!e.mode.isReadOnly()&&(n.length>1||tH(e,n))},Y4=e=>zm(e)||Wg(e),X4=e=>ja(e).exists(Y4),J4=e=>be(Hl(e.selection.getSelectedBlocks()),n=>!Y4(n)&&!X4(n)&&eH(n)),Sx=(e,n)=>{var o,r;const{dom:c}=e,u=Qp(e),m=(r=(o=/[a-z%]+$/i.exec(u))===null||o===void 0?void 0:o[0])!==null&&r!==void 0?r:"px",y=K4(u),v=rE(e);te(J4(e),T=>{QP(c,n,v,y,m,T.dom)})},Ih=e=>Sx(e,"indent"),Q4=e=>Sx(e,"outdent"),Uu=e=>{if(e.selection.isCollapsed()&&$h(e)){const n=e.dom,o=e.selection.getRng(),r=Ue.fromRangeStart(o),c=n.getParent(o.startContainer,n.isBlock);if(c!==null&&Kn(ie.fromDom(c),r,e.schema))return $.some(()=>Q4(e))}return $.none()},Fh=(e,n,o)=>Vo([Uu,r_,og,(r,c)=>H4(r,n,c),wp,ww,Vu,G4,dx,Cx,E4],r=>r(e,o)).filter(r=>e.selection.isEditable()),eO=(e,n)=>{Fh(e,n,!1).fold(()=>{e.selection.isEditable()&&(m2(e),yv(e))},Dn)},nH=(e,n)=>{Fh(e,n,!0).fold(()=>{e.selection.isEditable()&&_h(e)},Dn)},eB=(e,n)=>{e.addCommand("delete",()=>{eO(e,n)}),e.addCommand("forwardDelete",()=>{nH(e,n)})},tB=5,oH=400,nB=e=>e.touches===void 0||e.touches.length!==1?$.none():$.some(e.touches[0]),sH=(e,n)=>{const o=Math.abs(e.clientX-n.x),r=Math.abs(e.clientY-n.y);return o>tB||r>tB},rH=e=>{const n=Cc(),o=Ee(!1),r=xm(c=>{e.dispatch("longpress",{...c,type:"longpress"}),o.set(!0)},oH);e.on("touchstart",c=>{nB(c).each(u=>{r.cancel();const m={x:u.clientX,y:u.clientY,target:c.target};r.throttle(c),o.set(!1),n.set(m)})},!0),e.on("touchmove",c=>{r.cancel(),nB(c).each(u=>{n.on(m=>{sH(u,m)&&(n.clear(),o.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",c=>{r.cancel(),c.type!=="touchcancel"&&n.get().filter(u=>u.target.isEqualNode(c.target)).each(()=>{o.get()?c.preventDefault():e.dispatch("tap",{...c,type:"tap"})})},!0)},xx=(e,n)=>fn(e,n.nodeName),aH=(e,n)=>ct(n)?!0:Nt(n)?!xx(e.getBlockElements(),n)&&!wl(n)&&!xu(e,n)&&!hr(n):!1,cH=(e,n,o)=>jn(lR(ie.fromDom(o),ie.fromDom(n)),r=>xx(e,r.dom)),Hv=(e,n)=>{if(ct(n)){if(n.data.length===0)return!0;if(/^\s+$/.test(n.data))return!n.nextSibling||xx(e,n.nextSibling)||hr(n.nextSibling)}return!1},Vv=e=>e.dom.create(Sc(e),Hm(e)),oB=e=>{const n=e.dom,o=e.selection,r=e.schema,c=r.getBlockElements(),u=o.getStart(),m=e.getBody();let y,v,T=null;const R=Sc(e);if(!u||!Nt(u))return;const M=m.nodeName.toLowerCase();if(!r.isValidChild(M,R.toLowerCase())||cH(c,m,u))return;if(m.firstChild===m.lastChild&&Fo(m.firstChild)){y=Vv(e),y.appendChild(Zg().dom),m.replaceChild(y,m.firstChild),e.selection.setCursorLocation(y,0),e.nodeChanged();return}let B=m.firstChild;for(;B;)if(Nt(B)&&Qs(r,B),aH(r,B)){if(Hv(c,B)){v=B,B=B.nextSibling,n.remove(v);continue}if(!y){if(!T&&e.hasFocus()&&(T=fx(e.selection.getRng(),()=>document.createElement("span"))),!B.parentNode){B=null;break}y=Vv(e),m.insertBefore(y,B)}v=B,B=B.nextSibling,y.appendChild(v)}else y=null,B=B.nextSibling;T&&(e.selection.setRng(pP(T)),e.nodeChanged())},tO=(e,n,o)=>{const r=ie.fromDom(Vv(e)),c=Zg();rr(r,c),o(n,r);const u=document.createRange();return u.setStartBefore(c.dom),u.setEndBefore(c.dom),u},nO=e=>{e.on("NodeChange",()=>oB(e))},sB=e=>n=>(" "+n.attr("class")+" ").indexOf(e)!==-1,iH=(e,n,o)=>function(r){const c=arguments,u=c[c.length-2],m=u>0?n.charAt(u-1):"";if(m==='"')return r;if(m===">"){const y=n.lastIndexOf("<",u);if(y!==-1&&n.substring(y,u).indexOf('contenteditable="false"')!==-1)return r}return'<span class="'+o+'" data-mce-content="'+e.dom.encode(c[0])+'">'+e.dom.encode(typeof c[1]=="string"?c[1]:c[0])+"</span>"},lH=(e,n,o)=>{let r=n.length,c=o.content;if(o.format!=="raw"){for(;r--;)c=c.replace(n[r],iH(e,c,iS(e)));o.content=c}},uH=(e,n)=>zo(e,o=>{const r=n.match(o);return r!==null&&r[0].length===n.length}),dH=e=>{const n="contenteditable",o=" "+ut.trim(hE(e))+" ",r=" "+ut.trim(iS(e))+" ",c=sB(o),u=sB(r),m=Ou(e);m.length>0&&e.on("BeforeSetContent",y=>{lH(e,m,y)}),e.parser.addAttributeFilter("class",y=>{let v=y.length;for(;v--;){const T=y[v];c(T)?T.attr(n,"true"):u(T)&&T.attr(n,"false")}}),e.serializer.addAttributeFilter(n,y=>{let v=y.length;for(;v--;){const T=y[v];if(!c(T)&&!u(T))continue;const R=T.attr("data-mce-content");m.length>0&&R?uH(m,R)?(T.name="#text",T.type=3,T.raw=!0,T.value=R):T.remove():T.attr(n,null)}})},fH=e=>tn(ie.fromDom(e.getBody()),"*[data-mce-caret]").map(n=>n.dom).getOrNull(),rB=(e,n)=>{n.hasAttribute("data-mce-caret")&&(Kd(n),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(n))},aB=(e,n)=>{const o=fH(e);if(o){if(n.type==="compositionstart"){n.preventDefault(),n.stopPropagation(),rB(e,o);return}vC(o)&&(rB(e,o),e.undoManager.add())}},mH=e=>{e.on("keyup compositionstart",he(aB,e))},cB=Lo,ju=(e,n,o)=>$4(n,e,o,kh,wh,cB),gH=(e,n,o)=>yx(n,e,o,u=>kh(u)||iR(u),u=>wh(u)||dw(u),cB),oO=e=>{const n=e.dom.create(Sc(e));return n.innerHTML='<br data-mce-bogus="1">',n},sO=(e,n,o)=>{const r=pd(e.getBody()),c=he(Ek,n===1?r.next:r.prev);if(o.collapsed){const u=e.dom.getParent(o.startContainer,"PRE");if(!u)return;if(!c(Ue.fromRangeStart(o))){const y=ie.fromDom(oO(e));n===1?Zc(ie.fromDom(u),y):uc(ie.fromDom(u),y),e.selection.select(y.dom,!0),e.selection.collapse()}}},rO=(e,n)=>{const o=n?fa.Forwards:fa.Backwards,r=e.selection.getRng();return ju(o,e,r).orThunk(()=>(sO(e,o,r),$.none()))},pH=(e,n)=>{const o=n?1:-1,r=e.selection.getRng();return gH(o,e,r).orThunk(()=>(sO(e,o,r),$.none()))},hH=(e,n)=>{const o=n?e.getEnd(!0):e.getStart(!0);return ER(o)?!n:n},iB=(e,n)=>rO(e,hH(e.selection,n)).exists(o=>(cg(e,o),!0)),lB=(e,n)=>pH(e,n).exists(o=>(cg(e,o),!0)),uB=(e,n)=>HP(e,n,n?wh:kh),p_=(e,n)=>Lu(e,!n).map(o=>{const r=o.toRange(),c=e.selection.getRng();return n?r.setStart(c.startContainer,c.startOffset):r.setEnd(c.endContainer,c.endOffset),r}).exists(o=>(cg(e,o),!0)),yH=e=>jt(["figcaption"],vo(e)),bH=(e,n,o)=>{const r=he(Qn,n);return Js(ie.fromDom(e.container()),c=>o.isBlock(vo(c)),r).filter(yH)},h_=(e,n,o)=>n?RP(e.dom,o):DP(e.dom,o),xp=(e,n)=>{const o=ie.fromDom(e.getBody()),r=Ue.fromRangeStart(e.selection.getRng());return bH(r,o,e.schema).exists(()=>{if(h_(o,n,r)){const u=tO(e,o,n?rr:fm);return e.selection.setRng(u),!0}else return!1})},Lh=(e,n)=>e.selection.isCollapsed()?xp(e,n):!1,Tx=(e,n,o)=>{const r=e.selection.getRng(),c=Ue.fromRangeStart(r);return e.getBody().firstChild===n&&DP(o,c)?(e.execCommand("InsertNewBlockBefore"),!0):!1},aO=(e,n)=>{const o=e.selection.getRng(),r=Ue.fromRangeStart(o);return e.getBody().lastChild===n&&RP(n,r)?(e.execCommand("InsertNewBlockAfter"),!0):!1},cO=(e,n)=>n?$.from(e.dom.getParent(e.selection.getNode(),"details")).map(o=>aO(e,o)).getOr(!1):$.from(e.dom.getParent(e.selection.getNode(),"summary")).bind(o=>$.from(e.dom.getParent(o,"details")).map(r=>Tx(e,r,o))).getOr(!1),iO=(e,n)=>cO(e,n),dB={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},fB=e=>Qt(e,n=>({...dB,...n})),mB=e=>Qt(e,n=>({...dB,...n})),gB=(e,n)=>n.keyCode===e.keyCode&&n.shiftKey===e.shiftKey&&n.altKey===e.altKey&&n.ctrlKey===e.ctrlKey&&n.metaKey===e.metaKey,vH=(e,n)=>co(fB(e),o=>gB(o,n)?[o]:[]),kH=(e,n)=>co(mB(e),o=>gB(o,n)?[o]:[]),Pn=(e,...n)=>()=>e.apply(null,n),y_=(e,n)=>Lt(vH(e,n),o=>o.action()),pB=(e,n)=>Vo(kH(e,n),o=>o.action()),lO=(e,n)=>{const o=n?fa.Forwards:fa.Backwards,r=e.selection.getRng();return $4(e,o,r,mv,gv,_c).exists(c=>(cg(e,c),!0))},uO=(e,n)=>{const o=n?1:-1,r=e.selection.getRng();return yx(e,o,r,mv,gv,_c).exists(c=>(cg(e,c),!0))},wH=(e,n)=>HP(e,n,n?gv:mv),_H=md.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),b_={..._H,none:e=>_H.none(e)},JZ=(e,n)=>CH(e,n,Qe),CH=(e,n,o)=>co(ia(e),r=>fl(r,n)?o(r)?[r]:[]:CH(r,n,o)),SH=(e,n,o=we)=>{if(o(n))return $.none();if(jt(e,vo(n)))return $.some(n);const r=c=>fl(c,"table")||o(c);return jr(n,e.join(","),r)},xH=(e,n)=>SH(["td","th"],e,n),QZ=e=>JZ(e,"th,td"),hB=(e,n)=>Ll(e,"table",n),Pi=(e,n,o,r,c=Qe)=>{const u=r===1;if(!u&&o<=0)return b_.first(e[0]);if(u&&o>=e.length-1)return b_.last(e[e.length-1]);{const m=o+r,y=e[m];return c(y)?b_.middle(n,y):Pi(e,n,m,r,c)}},dO=(e,n)=>hB(e,n).bind(o=>{const r=QZ(o);return po(r,u=>Qn(e,u)).map(u=>({index:u,all:r}))}),v_=(e,n,o)=>dO(e,o).fold(()=>b_.none(e),c=>Pi(c.all,e,c.index,1,n)),TH=(e,n,o)=>dO(e,o).fold(()=>b_.none(),c=>Pi(c.all,e,c.index,-1,n)),yB=e=>Gp(e).filter(n=>n.trim().length!==0||n.indexOf(Qr)>-1).isSome(),bB=e=>Xr(e)&&ic(e,"contenteditable")==="false",fO=["img","br"],EH=e=>yB(e)||jt(fO,vo(e))||bB(e),AH=e=>Tg(e,EH),vB=(e,n)=>({left:e.left-n,top:e.top-n,right:e.right+n*2,bottom:e.bottom+n*2,width:e.width+n,height:e.height+n}),zH=(e,n)=>co(n,o=>{const r=vB(Mm(o.getBoundingClientRect()),-1);return[{x:r.left,y:e(r),cell:o},{x:r.right,y:e(r),cell:o}]}),OH=(e,n,o)=>lt(e,(r,c)=>r.fold(()=>$.some(c),u=>{const m=Math.sqrt(Math.abs(u.x-n)+Math.abs(u.y-o)),y=Math.sqrt(Math.abs(c.x-n)+Math.abs(c.y-o));return $.some(y<m?c:u)}),$.none()),kB=(e,n,o,r,c)=>{const u=dc(ie.fromDom(o),"td,th,caption").map(y=>y.dom),m=be(zH(e,u),y=>n(y,c));return OH(m,r,c).map(y=>y.cell)},mO=e=>e.bottom,DH=e=>e.top,RH=(e,n)=>e.y<n,eq=(e,n)=>e.y>n,MH=he(kB,mO,RH),wB=he(kB,DH,eq),tq=(e,n)=>wn(n.getClientRects()).bind(o=>MH(e,o.left,o.top)).bind(o=>fb(z8(o),n)),NH=(e,n)=>xo(n.getClientRects()).bind(o=>wB(e,o.left,o.top)).bind(o=>fb(A8(o),n)),PH=(e,n,o)=>o.breakAt.exists(r=>e(n,r).breakAt.isSome()),BH=e=>e.breakType===ag.Wrap&&e.positions.length===0,gO=e=>e.breakType===ag.Br&&e.positions.length===1,k_=(e,n,o)=>{const r=e(n,o);return BH(r)||!Fo(o.getNode())&&gO(r)?!PH(e,n,r):r.breakAt.isNone()},_B=he(k_,Nh),CB=he(k_,l_),$H=(e,n,o)=>{const r=Ue.fromRangeStart(n);return Ym(!e,o).exists(c=>c.isEqual(r))},IH=(e,n,o,r)=>{const c=e.selection.getRng(),u=n?1:-1;return _E()&&$H(n,c,o)?(Fu(u,e,o,!n,!1).each(m=>{cg(e,m)}),!0):!1},pO=(e,n,o)=>tq(n,o).orThunk(()=>wn(o.getClientRects()).bind(r=>P4(OP(e,Ue.before(n)),r.left))).getOr(Ue.before(n)),FH=(e,n,o)=>NH(n,o).orThunk(()=>wn(o.getClientRects()).bind(r=>P4(u_(e,Ue.after(n)),r.left))).getOr(Ue.after(n)),SB=(e,n)=>{const o=n.getNode(e);return Ul(o)?$.some(o):$.none()},LH=(e,n,o)=>{n.undoManager.transact(()=>{const r=e?Zc:uc,c=tO(n,ie.fromDom(o),r);cg(n,c)})},xB=(e,n,o)=>{const r=SB(!!n,o),c=n===!1;r.fold(()=>cg(e,o.toRange()),u=>Ym(c,e.getBody()).filter(m=>m.isEqual(o)).fold(()=>cg(e,o.toRange()),m=>LH(n,e,u)))},df=(e,n,o,r)=>{const c=e.selection.getRng(),u=Ue.fromRangeStart(c),m=e.getBody();if(!n&&_B(r,u)){const y=pO(m,o,u);return xB(e,n,y),!0}else if(n&&CB(r,u)){const y=FH(m,o,u);return xB(e,n,y),!0}else return!1},hO=(e,n,o)=>$.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(r=>$.from(e.dom.getParent(r,"table")).map(c=>o(e,n,c,r))).getOr(!1),yO=(e,n)=>hO(e,n,IH),TB=(e,n)=>hO(e,n,df),nq=e=>{const n=hh.exact(e,0,e,0);return f(n)},HH=(e,n,o)=>o.fold($.none,$.none,(r,c)=>AH(c).map(u=>nq(u)),r=>(e.execCommand("mceTableInsertRowAfter"),VH(e,n,r))),VH=(e,n,o)=>HH(e,n,v_(o,ka)),UH=(e,n,o)=>HH(e,n,TH(o,ka)),w_=(e,n)=>{const o=["table","li","dl"],r=ie.fromDom(e.getBody()),c=y=>{const v=vo(y);return Qn(y,r)||jt(o,v)},u=e.selection.getRng(),m=ie.fromDom(n?u.endContainer:u.startContainer);return xH(m,c).map(y=>(hB(y,c).each(R=>{e.model.table.clearSelectedCells(R.dom)}),e.selection.collapse(!n),(n?VH:UH)(e,c,y).each(R=>{e.selection.setRng(R)}),!0)).getOr(!1)},jH=(e,n,o)=>{const r=rn.os.isMacOS()||rn.os.isiOS();y_([{keyCode:it.RIGHT,action:Pn(iB,e,!0)},{keyCode:it.LEFT,action:Pn(iB,e,!1)},{keyCode:it.UP,action:Pn(lB,e,!1)},{keyCode:it.DOWN,action:Pn(lB,e,!0)},...r?[{keyCode:it.UP,action:Pn(p_,e,!1),metaKey:!0,shiftKey:!0},{keyCode:it.DOWN,action:Pn(p_,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:it.RIGHT,action:Pn(yO,e,!0)},{keyCode:it.LEFT,action:Pn(yO,e,!1)},{keyCode:it.UP,action:Pn(TB,e,!1)},{keyCode:it.DOWN,action:Pn(TB,e,!0)},{keyCode:it.UP,action:Pn(TB,e,!1)},{keyCode:it.UP,action:Pn(iO,e,!1)},{keyCode:it.DOWN,action:Pn(iO,e,!0)},{keyCode:it.RIGHT,action:Pn(lO,e,!0)},{keyCode:it.LEFT,action:Pn(lO,e,!1)},{keyCode:it.UP,action:Pn(uO,e,!1)},{keyCode:it.DOWN,action:Pn(uO,e,!0)},{keyCode:it.RIGHT,action:Pn(Bh,e,n,!0)},{keyCode:it.LEFT,action:Pn(Bh,e,n,!1)},{keyCode:it.RIGHT,ctrlKey:!r,altKey:r,action:Pn(vx,e,n)},{keyCode:it.LEFT,ctrlKey:!r,altKey:r,action:Pn(H8,e,n)},{keyCode:it.UP,action:Pn(Lh,e,!1)},{keyCode:it.DOWN,action:Pn(Lh,e,!0)}],o).each(c=>{o.preventDefault()})},bO=(e,n)=>{e.on("keydown",o=>{o.isDefaultPrevented()||jH(e,n,o)})},ff=(e,n)=>({container:e,offset:n}),__=Gs.DOM,C_=e=>n=>e===n?-1:0,WH=e=>n=>e.isBlock(n)||jt(["BR","IMG","HR","INPUT"],n.nodeName)||e.getContentEditable(n)==="false",vO=(e,n,o)=>{if(ct(e)&&n>=0)return $.some(ff(e,n));{const r=jg(__);return $.from(r.backwards(e,n,C_(e),o)).map(c=>ff(c.container,c.container.data.length))}},ZH=(e,n,o)=>{if(ct(e)&&n>=e.length)return $.some(ff(e,n));{const r=jg(__);return $.from(r.forwards(e,n,C_(e),o)).map(c=>ff(c.container,0))}},kO=(e,n,o)=>{if(!ct(e))return $.none();const r=e.data;if(n>=0&&n<=r.length)return $.some(ff(e,n));{const c=jg(__);return $.from(c.backwards(e,n,C_(e),o)).bind(u=>{const m=u.container.data;return kO(u.container,n+m.length,o)})}},S_=(e,n,o)=>{if(!ct(e))return $.none();const r=e.data;if(n<=r.length)return $.some(ff(e,n));{const c=jg(__);return $.from(c.forwards(e,n,C_(e),o)).bind(u=>S_(u.container,n-r.length,o))}},wO=(e,n,o,r,c)=>{const u=jg(e,WH(e));return $.from(u.backwards(n,o,r,c))},qH=e=>e.collapsed&&ct(e.startContainer),GH=e=>ri(e.toString().replace(/\u00A0/g," ")),Ex=e=>e!==""&&`  \f
\r	\v`.indexOf(e)!==-1,KH=(e,n)=>e.substring(n.length),YH=(e,n,o,r=!1)=>{let c;const u=o.charAt(0);for(c=n-1;c>=0;c--){const m=e.charAt(c);if(!r&&Ex(m))return $.none();if(u===m&&Yo(e,o,c,n))break}return $.some(c)},Ax=(e,n,o,r=!1)=>{if(!qH(n))return $.none();const c={text:"",offset:0},u=(y,v,T)=>(c.text=T+c.text,c.offset+=v,YH(c.text,c.offset,o,r).getOr(v)),m=e.getParent(n.startContainer,e.isBlock)||e.getRoot();return wO(e,n.startContainer,n.startOffset,u,m).bind(y=>{const v=n.cloneRange();if(v.setStart(y.container,y.offset),v.setEnd(n.endContainer,n.endOffset),v.collapsed)return $.none();const T=GH(v);return T.lastIndexOf(o)!==0?$.none():$.some({text:KH(T,o),range:v,trigger:o})})},XH=e=>e.nodeType===Va,JH=e=>e.nodeType===Md,EB=e=>{if(XH(e))return ff(e,e.data.length);{const n=e.childNodes;return n.length>0?EB(n[n.length-1]):ff(e,n.length)}},AB=(e,n)=>{const o=e.childNodes;return o.length>0&&n<o.length?AB(o[n],0):o.length>0&&JH(e)&&o.length===n?EB(o[o.length-1]):ff(e,n)},QH=(e,n)=>{var o;const r=(o=e.getParent(n.container,e.isBlock))!==null&&o!==void 0?o:e.getRoot();return wO(e,n.container,n.offset,(c,u)=>u===0?-1:u,r).filter(c=>{const u=c.container.data.charAt(c.offset-1);return!Ex(u)}).isSome()},eV=e=>n=>{const o=AB(n.startContainer,n.startOffset);return!QH(e,o)},_O=(e,n,o)=>Vo(o.triggers,r=>Ax(e,n,r)),tV=(e,n)=>{const o=n(),r=e.selection.getRng();return _O(e.dom,r,o).bind(c=>CO(e,n,c))},CO=(e,n,o,r={})=>{var c;const u=n(),y=(c=e.selection.getRng().startContainer.nodeValue)!==null&&c!==void 0?c:"",v=be(u.lookupByTrigger(o.trigger),R=>o.text.length>=R.minChars&&R.matches.getOrThunk(()=>eV(e.dom))(o.range,y,o.text));if(v.length===0)return $.none();const T=Promise.all(Qt(v,R=>R.fetch(o.text,R.maxResults,r).then(B=>({matchText:o.text,items:B,columns:R.columns,onAction:R.onAction,highlightOn:R.highlightOn}))));return $.some({lookupData:T,context:o})};var em;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(em||(em={}));const SO=(e,n,o)=>e.stype===em.Error?n(e.serror):o(e.svalue),nV=e=>{const n=[],o=[];return te(e,r=>{SO(r,c=>o.push(c),c=>n.push(c))}),{values:n,errors:o}},oV=(e,n)=>e.stype===em.Error?{stype:em.Error,serror:n(e.serror)}:e,sV=(e,n)=>e.stype===em.Value?{stype:em.Value,svalue:n(e.svalue)}:e,rV=(e,n)=>e.stype===em.Value?n(e.svalue):e,ec=(e,n)=>e.stype===em.Error?n(e.serror):e,zB=e=>({stype:em.Value,svalue:e}),OB=e=>({stype:em.Error,serror:e}),Oc={fromResult:e=>e.fold(OB,zB),toResult:e=>SO(e,ii.error,ii.value),svalue:zB,partition:nV,serror:OB,bind:rV,bindError:ec,map:sV,mapError:oV,fold:SO},zx=e=>wt(e)&&oo(e).length>100?" removed due to size":JSON.stringify(e,null,2),Hh=e=>{const n=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:Me("... (only showing first ten failures)")}]):e;return Qt(n,o=>"Failed path: ("+o.path.join(" > ")+`)
`+o.getErrorInfo())},Uv=(e,n)=>Oc.serror([{path:e,getErrorInfo:n}]),DB=(e,n,o)=>Uv(e,()=>'Could not find valid *required* value for "'+n+'" in '+zx(o)),xO=(e,n)=>Uv(e,()=>'Choice schema did not contain choice key: "'+n+'"'),TO=(e,n,o)=>Uv(e,()=>'The chosen schema: "'+o+'" did not exist in branches: '+zx(n)),EO=(e,n)=>Uv(e,Me(n)),RB=(e,n,o,r)=>Uo(o,r).fold(()=>TO(e,o,r),u=>u.extract(e.concat(["branch: "+r]),n)),Ox=(e,n)=>({extract:(c,u)=>Uo(u,e).fold(()=>xO(c,e),y=>RB(c,u,n,y)),toString:()=>"chooseOn("+e+"). Possible values: "+oo(n)}),Dx=(e,n)=>n,x_=(e,n)=>ur(e)&&ur(n)?su(e,n):n,jv=e=>(...n)=>{if(n.length===0)throw new Error("Can't merge zero objects");const o={};for(let r=0;r<n.length;r++){const c=n[r];for(const u in c)fn(c,u)&&(o[u]=e(o[u],c[u]))}return o},su=jv(x_),Wv=jv(Dx),AO=()=>({tag:"required",process:{}}),MB=e=>({tag:"defaultedThunk",process:e}),NB=e=>MB(Me(e)),PB=()=>({tag:"option",process:{}}),cV=(e,n)=>e.length>0?Oc.svalue(su(n,Wv.apply(void 0,e))):Oc.svalue(n),BB=e=>C(Oc.serror,hs)(e),iV={consolidateObj:(e,n)=>{const o=Oc.partition(e);return o.errors.length>0?BB(o.errors):cV(o.values,n)},consolidateArr:e=>{const n=Oc.partition(e);return n.errors.length>0?BB(n.errors):Oc.svalue(n.values)}},lV=(e,n,o,r)=>({tag:"field",key:e,newKey:n,presence:o,prop:r}),uV=(e,n)=>({tag:"custom",newKey:e,instantiator:n}),$B=(e,n,o)=>{switch(e.tag){case"field":return n(e.key,e.newKey,e.presence,e.prop);case"custom":return o(e.newKey,e.instantiator)}},zO=e=>{const n=(r,c)=>Oc.bindError(e(c),u=>EO(r,u)),o=Me("val");return{extract:n,toString:o}},dV=zO(Oc.svalue),fV=(e,n,o,r)=>Uo(n,o).fold(()=>DB(e,o,n),r),IB=(e,n,o,r)=>{const c=Uo(e,n).getOrThunk(()=>o(e));return r(c)},mV=(e,n,o)=>o(Uo(e,n)),gV=(e,n,o,r)=>{const c=Uo(e,n).map(u=>u===!0?o(e):u);return r(c)},pV=(e,n,o,r,c)=>{const u=y=>c.extract(n.concat([r]),y),m=y=>y.fold(()=>Oc.svalue($.none()),v=>{const T=c.extract(n.concat([r]),v);return Oc.map(T,$.some)});switch(e.tag){case"required":return fV(n,o,r,u);case"defaultedThunk":return IB(o,r,e.process,u);case"option":return mV(o,r,m);case"defaultedOptionThunk":return gV(o,r,e.process,m);case"mergeWithThunk":return IB(o,r,Me({}),y=>{const v=su(e.process(o),y);return u(v)})}},hV=(e,n,o)=>{const r={},c=[];for(const u of o)$B(u,(m,y,v,T)=>{const R=pV(v,e,n,m,T);Oc.fold(R,M=>{c.push(...M)},M=>{r[y]=M})},(m,y)=>{r[m]=y(n)});return c.length>0?Oc.serror(c):Oc.svalue(r)},OO=e=>({extract:(r,c)=>hV(r,c,e),toString:()=>`obj{
`+Qt(e,c=>$B(c,(u,m,y,v)=>u+" -> "+v.toString(),(u,m)=>"state("+u+")")).join(`
`)+"}"}),DO=e=>({extract:(r,c)=>{const u=Qt(c,(m,y)=>e.extract(r.concat(["["+y+"]"]),m));return iV.consolidateArr(u)},toString:()=>"array("+e.toString()+")"}),FB=e=>zO(n=>e(n).fold(Oc.serror,Oc.svalue)),LB=(e,n,o)=>{const r=n.extract([e],o);return Oc.mapError(r,c=>({input:o,errors:c}))},yV=(e,n,o)=>Oc.toResult(LB(e,n,o)),bV=e=>`Errors: 
`+Hh(e.errors).join(`
`)+`

Input object: `+zx(e.input),HB=(e,n)=>Ox(e,to(n,OO)),vV=Me(dV),T_=(e,n)=>zO(o=>{const r=typeof o;return e(o)?Oc.svalue(o):Oc.serror(`Expected type: ${n} but got: ${r}`)}),kV=T_(Wo,"number"),E_=T_(ae,"string"),wV=T_(zt,"boolean"),Mx=T_(ue,"function"),Zv=lV,VB=uV,_V=e=>FB(n=>jt(e,n)?ii.value(n):ii.error(`Unsupported value: "${n}", choose one of "${e.join(", ")}".`)),UB=(e,n)=>Zv(e,e,AO(),n),jB=e=>UB(e,E_),RO=e=>UB(e,Mx),CV=(e,n)=>Zv(e,e,AO(),DO(n)),MO=(e,n)=>Zv(e,e,PB(),n),A_=e=>MO(e,E_),SV=e=>MO(e,Mx),xV=(e,n)=>Zv(e,e,NB(n),vV()),gb=(e,n,o)=>Zv(e,e,NB(n),o),WB=(e,n)=>gb(e,n,kV),TV=(e,n)=>gb(e,n,E_),ZB=(e,n,o)=>gb(e,n,_V(o)),Nx=(e,n)=>gb(e,n,wV),Px=(e,n)=>gb(e,n,Mx),EV=(e,n,o)=>gb(e,n,DO(o)),AV=jB("type"),zV=RO("fetch"),NO=RO("onAction"),OV=Px("onSetup",()=>ze),DV=A_("text"),RV=A_("icon"),MV=A_("tooltip"),rq=A_("label"),NV=Nx("active",!1),Bx=Nx("enabled",!0),PO=Nx("primary",!1),qB=e=>xV("columns",e),z_=e=>TV("type",e),GB=OO([AV,jB("trigger"),WB("minChars",1),qB(1),WB("maxResults",10),SV("matches"),zV,NO,EV("highlightOn",[],E_)]),KB=e=>yV("Autocompleter",GB,e),BO=[Bx,MV,RV,DV,OV],YB=[NV].concat(BO),PV=[Px("predicate",we),ZB("scope","node",["node","editor"]),ZB("position","selection",["node","selection","line"])],XB=BO.concat([z_("contextformbutton"),PO,NO,VB("original",Yt)]),BV=YB.concat([z_("contextformbutton"),PO,NO,VB("original",Yt)]),$O=BO.concat([z_("contextformbutton")]),$V=YB.concat([z_("contextformtogglebutton")]),IV=HB("type",{contextformbutton:XB,contextformtogglebutton:BV});OO([z_("contextform"),Px("initValue",Me("")),rq,CV("commands",IV),MO("launch",HB("type",{contextformbutton:$O,contextformtogglebutton:$V}))].concat(PV));const FV=e=>{const n=e.ui.registry.getAll().popups,o=to(n,m=>KB(m).fold(y=>{throw new Error(bV(y))},Yt)),r=al(ha(o,m=>m.trigger)),c=Dc(o);return{dataset:o,triggers:r,lookupByTrigger:m=>be(c,y=>y.trigger===m)}},JB=(e,n)=>{const o=xm(n.load,50);e.on("input",r=>{r.inputType==="insertCompositionText"&&!e.composing||o.throttle()}),e.on("keydown",r=>{const c=r.which;c===8?o.throttle():c===27?(o.cancel(),n.cancelIfNecessary()):(c===38||c===40)&&o.cancel()},!0),e.on("remove",o.cancel)},LV=e=>{const n=Cc(),o=Ee(!1),r=n.isSet,c=()=>{r()&&(jS(e),o.set(!1),n.clear())},u=M=>{r()||n.set({trigger:M.trigger,matchLength:M.text.length})},m=Ve(()=>FV(e)),y=M=>n.get().map(B=>Ax(e.dom,e.selection.getRng(),B.trigger,!0).bind(W=>CO(e,m,W,M))).getOrThunk(()=>tV(e,m)),v=M=>{y(M).fold(c,B=>{u(B.context),B.lookupData.then(W=>{n.get().map(X=>{const q=B.context;X.trigger===q.trigger&&(n.set({...X,matchLength:q.text.length}),o.get()?(US(e,{range:q.range}),VS(e,{lookupData:W})):(o.set(!0),US(e,{range:q.range}),UE(e,{lookupData:W})))})})})},T=(M,B)=>{const W=M.compareBoundaryPoints(window.Range.START_TO_START,B),X=M.compareBoundaryPoints(window.Range.END_TO_END,B);return W>=0&&X<=0},R=()=>n.get().bind(({trigger:M})=>{const B=e.selection.getRng();return Ax(e.dom,B,M,o.get()).filter(({range:W})=>T(B,W)).map(({range:W})=>W)});e.addCommand("mceAutocompleterReload",(M,B)=>{const W=wt(B)?B.fetchOptions:{};v(W)}),e.addCommand("mceAutocompleterClose",c),e.addCommand("mceAutocompleterRefreshActiveRange",()=>{R().each(M=>{US(e,{range:M})})}),e.editorCommands.addQueryStateHandler("mceAutoCompleterInRange",()=>R().isSome()),JB(e,{cancelIfNecessary:c,load:v})},HV=ft().browser.isSafari(),QB=e=>Yl(ie.fromDom(e)),e$=(e,n)=>{var o;return e.startOffset===0&&e.endOffset===((o=n.textContent)===null||o===void 0?void 0:o.length)},Ea=(e,n)=>$.from(e.getParent(n.container(),"details")),tm=(e,n)=>Ea(e,n).isSome(),VV=(e,n)=>{const o=$.from(e.getParent(n.startContainer,"details")),r=$.from(e.getParent(n.endContainer,"details"));if(o.isSome()||r.isSome()){const c=o.bind(u=>$.from(e.select("summary",u)[0]));return $.some({startSummary:c,startDetails:o,endDetails:r})}else return $.none()},cq=(e,n)=>Ec(n).exists(o=>o.isEqual(e)),UV=(e,n)=>Xl(n).exists(o=>Fo(o.getNode())&&tl(n,o).exists(r=>r.isEqual(e))||o.isEqual(e)),jV=(e,n)=>n.startSummary.exists(o=>cq(e,o)),WV=(e,n)=>n.startSummary.exists(o=>UV(e,o)),ZV=(e,n)=>n.startDetails.exists(o=>tl(o,e).forall(r=>n.startSummary.exists(c=>!c.contains(e.container())&&c.contains(r.container())))),t$=(e,n,o)=>o.startDetails.exists(r=>Mi(e,n).forall(c=>!r.contains(c.container()))),pb=(e,n)=>{const o=n.getNode();go(o)||e.selection.setCursorLocation(o,n.offset())},qV=(e,n,o)=>{const r=e.dom.getParent(n.container(),"details");if(r&&!r.open){const c=e.dom.select("summary",r)[0];c&&(o?Ec(c):Xl(c)).each(m=>pb(e,m))}else pb(e,n)},GV=(e,n)=>{const o=v=>v.contains(e.startContainer),r=v=>v.contains(e.endContainer),c=n.startSummary.exists(o),u=n.startSummary.exists(r),m=n.startDetails.forall(v=>n.endDetails.forall(T=>v!==T));return(c||u)&&!(c&&u)||m},n$=(e,n,o)=>{const{dom:r,selection:c}=e,u=e.getBody();if(o==="character"){const m=Ue.fromRangeStart(c.getRng()),y=r.getParent(m.container(),r.isBlock),v=Ea(r,m),T=y&&r.isEmpty(y),R=Z(y==null?void 0:y.previousSibling),M=Z(y==null?void 0:y.nextSibling);return T&&(n?M:R)&&Qg(!n,u,m).exists(X=>tm(r,X)&&!ba(v,Ea(r,X)))?!0:Qg(n,u,m).fold(we,B=>{const W=Ea(r,B);if(tm(r,B)&&!ba(v,W)){if(n||qV(e,B,!1),y&&T){if(n&&R)return!0;if(!n&&M)return!0;qV(e,B,n),e.dom.remove(y)}return!0}else return!1})}else return!1},nm=(e,n,o,r)=>{const u=e.selection.getRng(),m=Ue.fromRangeStart(u),y=e.getBody();return r==="selection"?GV(u,n):o?WV(m,n)||t$(y,m,n):jV(m,n)||ZV(m,n)},KV=(e,n,o)=>VV(e.dom,e.selection.getRng()).fold(()=>n$(e,n,o),r=>nm(e,r,n,o)||n$(e,n,o)),YV=(e,n,o)=>{const r=e.selection,c=r.getNode(),u=r.getRng(),m=Ue.fromRangeStart(u);return f0(c)?(o==="selection"&&e$(u,c)||Zy(n,m,c)?QB(c):e.undoManager.transact(()=>{const y=r.getSel();let{anchorNode:v,anchorOffset:T,focusNode:R,focusOffset:M}=y??{};const B=()=>{Ne(v)&&Ne(T)&&Ne(R)&&Ne(M)&&(y==null||y.setBaseAndExtent(v,T,R,M))},W=()=>{v=y==null?void 0:y.anchorNode,T=y==null?void 0:y.anchorOffset,R=y==null?void 0:y.focusNode,M=y==null?void 0:y.focusOffset},X=(ee,de)=>{te(ee.childNodes,_e=>{W1(_e)&&de.appendChild(_e)})},q=e.dom.create("span",{"data-mce-bogus":"1"});X(c,q),c.appendChild(q),B(),(o==="word"||o==="line")&&(y==null||y.modify("extend",n?"right":"left",o)),!r.isCollapsed()&&e$(r.getRng(),q)?QB(c):(e.execCommand(n?"ForwardDelete":"Delete"),W(),X(q,c),B()),e.dom.remove(q)}),!0):!1},Vh=(e,n,o)=>KV(e,n,o)||HV&&YV(e,n,o)?$.some(ze):$.none(),o$=e=>(n,o,r={})=>{const c=n.getBody(),u={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:c,currentTarget:c,eventPhase:Event.AT_TARGET,originalTarget:c,explicitOriginalTarget:c,isTrusted:!1,srcElement:c,cancelable:!1,preventDefault:ze,inputType:o},m=Eu(new InputEvent(e));return n.dispatch(e,{...m,...u,...r})},hb=o$("input"),xd=o$("beforeinput"),IO=ft(),FO=IO.os,s$=FO.isMacOS()||FO.isiOS(),HO=IO.browser.isFirefox(),r$=(e,n,o)=>{const r=o.keyCode===it.BACKSPACE?"deleteContentBackward":"deleteContentForward",c=e.selection.isCollapsed(),u=c?"character":"selection",m=y=>c?y?"word":"line":"selection";pB([{keyCode:it.BACKSPACE,action:Pn(Uu,e)},{keyCode:it.BACKSPACE,action:Pn(r_,e,!1)},{keyCode:it.DELETE,action:Pn(r_,e,!0)},{keyCode:it.BACKSPACE,action:Pn(og,e,!1)},{keyCode:it.DELETE,action:Pn(og,e,!0)},{keyCode:it.BACKSPACE,action:Pn(H4,e,n,!1)},{keyCode:it.DELETE,action:Pn(H4,e,n,!0)},{keyCode:it.BACKSPACE,action:Pn(ww,e,!1)},{keyCode:it.DELETE,action:Pn(ww,e,!0)},{keyCode:it.BACKSPACE,action:Pn(Vh,e,!1,u)},{keyCode:it.DELETE,action:Pn(Vh,e,!0,u)},...s$?[{keyCode:it.BACKSPACE,altKey:!0,action:Pn(Vh,e,!1,m(!0))},{keyCode:it.DELETE,altKey:!0,action:Pn(Vh,e,!0,m(!0))},{keyCode:it.BACKSPACE,metaKey:!0,action:Pn(Vh,e,!1,m(!1))}]:[{keyCode:it.BACKSPACE,ctrlKey:!0,action:Pn(Vh,e,!1,m(!0))},{keyCode:it.DELETE,ctrlKey:!0,action:Pn(Vh,e,!0,m(!0))}],{keyCode:it.BACKSPACE,action:Pn(Vu,e,!1)},{keyCode:it.DELETE,action:Pn(Vu,e,!0)},{keyCode:it.BACKSPACE,action:Pn(G4,e,!1)},{keyCode:it.DELETE,action:Pn(G4,e,!0)},{keyCode:it.BACKSPACE,action:Pn(dx,e,!1)},{keyCode:it.DELETE,action:Pn(dx,e,!0)},{keyCode:it.BACKSPACE,action:Pn(wp,e,!1)},{keyCode:it.DELETE,action:Pn(wp,e,!0)},{keyCode:it.BACKSPACE,action:Pn(Cx,e,!1)},{keyCode:it.DELETE,action:Pn(Cx,e,!0)},{keyCode:it.BACKSPACE,action:Pn(E4,e,!1)},{keyCode:it.DELETE,action:Pn(E4,e,!0)}],o).filter(y=>e.selection.isEditable()).each(y=>{o.preventDefault(),xd(e,r).isDefaultPrevented()||(y(),hb(e,r))})},a$=(e,n,o)=>y_([{keyCode:it.BACKSPACE,action:Pn(S4,e)},{keyCode:it.DELETE,action:Pn(S4,e)},...s$?[{keyCode:it.BACKSPACE,altKey:!0,action:Pn(g_,e)},{keyCode:it.DELETE,altKey:!0,action:Pn(g_,e)},...o?[{keyCode:HO?224:91,action:Pn(g_,e)}]:[]]:[{keyCode:it.BACKSPACE,ctrlKey:!0,action:Pn(g_,e)},{keyCode:it.DELETE,ctrlKey:!0,action:Pn(g_,e)}]],n),XV=(e,n)=>{let o=!1;e.on("keydown",r=>{o=r.keyCode===it.BACKSPACE,r.isDefaultPrevented()||r$(e,n,r)}),e.on("keyup",r=>{r.isDefaultPrevented()||a$(e,r,o),o=!1})},JV=e=>{for(;e;){if(Nt(e)||ct(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null},qv=(e,n)=>{const o=e.dom,r=e.schema.getMoveCaretBeforeOnEnterElements();if(!n)return;if(/^(LI|DT|DD)$/.test(n.nodeName)){const u=JV(n.firstChild);u&&/^(UL|OL|DL)$/.test(u.nodeName)&&n.insertBefore(o.doc.createTextNode(Qr),n.firstChild)}const c=o.createRng();if(n.normalize(),n.hasChildNodes()){const u=new Wa(n,n);let m=n,y;for(;y=u.current();){if(ct(y)){c.setStart(y,0),c.setEnd(y,0);break}if(r[y.nodeName.toLowerCase()]){c.setStartBefore(y),c.setEndBefore(y);break}m=y,y=u.next()}y||(c.setStart(m,0),c.setEnd(m,0))}else Fo(n)?n.nextSibling&&o.isBlock(n.nextSibling)?(c.setStartBefore(n),c.setEndBefore(n)):(c.setStartAfter(n),c.setEndAfter(n)):(c.setStart(n,0),c.setEnd(n,0));e.selection.setRng(c),aw(e,c)},O_=(e,n)=>{const o=e.getRoot();let r,c=n;for(;c!==o&&c&&e.getContentEditable(c)!=="false";){if(e.getContentEditable(c)==="true"){r=c;break}c=c.parentNode}return c!==o?r:o},VO=e=>$.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),c$=e=>VO(e).fold(Me(""),n=>n.nodeName.toUpperCase()),QV=e=>VO(e).filter(n=>Wg(ie.fromDom(n))).isSome(),UO=e=>{e.innerHTML='<br data-mce-bogus="1">'},e9=(e,n,o)=>{const r=e.dom;$.from(o.style).map(r.parseStyle).each(v=>{const R={...kc(ie.fromDom(n)),...v};r.setStyles(n,R)});const c=$.from(o.class).map(v=>v.split(/\s+/)),u=$.from(n.className).map(v=>be(v.split(/\s+/),T=>T!==""));Zn(c,u,(v,T)=>{const R=be(T,B=>!jt(v,B)),M=[...v,...R];r.setAttrib(n,"class",M.join(" "))});const m=["style","class"],y=Io(o,(v,T)=>!jt(m,T));r.setAttribs(n,y)},D_=(e,n)=>{if(Sc(e).toLowerCase()===n.tagName.toLowerCase()){const r=Hm(e);e9(e,n,r)}},i$=(e,n,o,r,c=!0,u,m)=>{const y=e.dom,v=e.schema,T=Sc(e),R=o?o.nodeName.toUpperCase():"";let M=n;const B=v.getTextInlineElements();let W;u||R==="TABLE"||R==="HR"?W=y.create(u||T,m||{}):W=o.cloneNode(!1);let X=W;if(!c)y.setAttrib(W,"style",null),y.setAttrib(W,"class",null);else do if(B[M.nodeName]){if(Jl(M)||wl(M))continue;const q=M.cloneNode(!1);y.setAttrib(q,"id",""),W.hasChildNodes()?(q.appendChild(W.firstChild),W.appendChild(q)):(X=q,W.appendChild(q))}while((M=M.parentNode)&&M!==r);return D_(e,W),UO(X),W},l$=(e,n)=>e.dom.getParent(n,xi),u$=(e,n,o)=>{let r=n;for(;r&&r!==e&&Z(r.nextSibling);){const c=r.parentElement;if(!c||!o(c))return xi(c);r=c}return!1},t9=(e,n,o)=>!n&&o.nodeName.toLowerCase()===Sc(e)&&e.dom.isEmpty(o)&&u$(e.getBody(),o,r=>fn(e.schema.getTextBlockElements(),r.nodeName.toLowerCase())),n9=(e,n,o)=>{var r,c,u;const m=n(Sc(e)),y=l$(e,o);y&&(e.dom.insertAfter(m,y),qv(e,m),((u=(c=(r=o.parentElement)===null||r===void 0?void 0:r.childNodes)===null||c===void 0?void 0:c.length)!==null&&u!==void 0?u:0)>1&&e.dom.remove(o))},iq=(e,n)=>e.firstChild&&e.firstChild.nodeName===n,jO=e=>{var n;return((n=e.parentNode)===null||n===void 0?void 0:n.firstChild)===e},d$=(e,n)=>{const o=e==null?void 0:e.parentNode;return Ne(o)&&o.nodeName===n},f$=e=>Ne(e)&&/^(OL|UL|LI)$/.test(e.nodeName),WO=e=>Ne(e)&&/^(LI|DT|DD)$/.test(e.nodeName),m$=e=>f$(e)&&f$(e.parentNode),$x=e=>{const n=e.parentNode;return WO(n)?n:e},R_=(e,n,o)=>{let r=e[o?"firstChild":"lastChild"];for(;r&&!Nt(r);)r=r[o?"nextSibling":"previousSibling"];return r===n},g$=e=>lt(ha(kc(ie.fromDom(e)),(n,o)=>`${o}: ${n};`),(n,o)=>n+o,""),o9=(e,n,o,r,c)=>{const u=e.dom,m=e.selection.getRng(),y=o.parentNode;if(o===e.getBody()||!y)return;m$(o)&&(c="LI");const v=WO(r)?g$(r):void 0;let T=WO(r)&&v?n(c,{style:g$(r)}):n(c);if(R_(o,r,!0)&&R_(o,r,!1))if(d$(o,"LI")){const R=$x(o);u.insertAfter(T,R),jO(o)?u.remove(R):u.remove(o)}else u.replace(T,o);else if(R_(o,r,!0))d$(o,"LI")?(u.insertAfter(T,$x(o)),T.appendChild(u.doc.createTextNode(" ")),T.appendChild(o)):y.insertBefore(T,o),u.remove(r);else if(R_(o,r,!1))u.insertAfter(T,$x(o)),u.remove(r);else{o=$x(o);const R=m.cloneRange();R.setStartAfter(r),R.setEndAfter(o);const M=R.extractContents();if(c==="LI"&&iq(M,"LI")){const B=be(Qt(T.children,ie.fromDom),ot(cc("br")));T=M.firstChild,u.insertAfter(M,o),te(B,W=>fm(ie.fromDom(T),W)),v&&T.setAttribute("style",v)}else u.insertAfter(M,o),u.insertAfter(T,o);u.remove(r)}qv(e,T)},lq=e=>{te(Ag(ie.fromDom(e),Jr),n=>{const o=n.dom;o.nodeValue=ri(o.data)})},gi=(e,n)=>{const o=e.dom.getParent(n,"ol,ul,dl");return o!==null&&e.dom.getContentEditableParent(o)==="false"},s9=(e,n)=>n&&n.nodeName==="A"&&e.isEmpty(n),ZO=(e,n)=>e.nodeName===n||e.previousSibling&&e.previousSibling.nodeName===n,qO=(e,n)=>Ne(n)&&e.isBlock(n)&&!/^(TD|TH|CAPTION|FORM)$/.test(n.nodeName)&&!/^(fixed|absolute)/i.test(n.style.position)&&e.isEditable(n.parentNode)&&e.getContentEditable(n)!=="false",r9=(e,n,o)=>{var r;const c=[];if(!o)return;let u=o;for(;u=u.firstChild;){if(e.isBlock(u))return;Nt(u)&&!n[u.nodeName.toLowerCase()]&&c.push(u)}let m=c.length;for(;m--;)u=c[m],(!u.hasChildNodes()||u.firstChild===u.lastChild&&((r=u.firstChild)===null||r===void 0?void 0:r.nodeValue)===""||s9(e,u))&&e.remove(u)},GO=(e,n,o)=>ct(n)?e?o===1&&n.data.charAt(o-1)===Ia?0:o:o===n.data.length-1&&n.data.charAt(o)===Ia?n.data.length:o:o,a9=e=>{const n=e.cloneRange();return n.setStart(e.startContainer,GO(!0,e.startContainer,e.startOffset)),n.setEnd(e.endContainer,GO(!1,e.endContainer,e.endOffset)),n},c9=e=>{let n=e;do ct(n)&&(n.data=n.data.replace(/^[\r\n]+/,"")),n=n.firstChild;while(n)},Ix=(e,n,o,r,c)=>{var u,m;const y=e.dom,v=(u=O_(y,r))!==null&&u!==void 0?u:y.getRoot();let T=y.getParent(r,y.isBlock);if(!T||!qO(y,T)){if(T=T||v,!T.hasChildNodes()){const W=y.create(n);return D_(e,W),T.appendChild(W),o.setStart(W,0),o.setEnd(W,0),W}let R=r;for(;R&&R.parentNode!==T;)R=R.parentNode;let M;for(;R&&!y.isBlock(R);)M=R,R=R.previousSibling;const B=(m=M==null?void 0:M.parentElement)===null||m===void 0?void 0:m.nodeName;if(M&&B&&e.schema.isValidChild(B,n.toLowerCase())){const W=M.parentNode,X=y.create(n);for(D_(e,X),W.insertBefore(X,M),R=M;R&&!y.isBlock(R);){const q=R.nextSibling;X.appendChild(R),R=q}o.setStart(r,c),o.setEnd(r,c)}}return r},i9=(e,n)=>{n.normalize();const o=n.lastChild;(!o||Nt(o)&&/^(left|right)$/gi.test(e.getStyle(o,"float",!0)))&&e.add(n,"br")},l9=(e,n)=>{const o=Ca(e);return gn(n)?!1:ae(o)?jt(ut.explode(o),n.nodeName.toLowerCase()):o},y$={insert:(e,n)=>{let o,r,c,u,m=!1;const y=e.dom,v=e.schema,T=v.getNonEmptyElements(),R=e.selection.getRng(),M=Sc(e),B=ie.fromDom(R.startContainer),W=Nc(B,R.startOffset),X=W.exists(et=>Xr(et)&&!ka(et)),q=R.collapsed&&X,ee=(et,Zt)=>i$(e,o,kt,tt,sE(e),et,Zt),de=et=>{const Zt=GO(et,o,r);if(ct(o)&&(et?Zt>0:Zt<o.data.length))return!1;if((o.parentNode===kt||o===kt)&&m&&!et||et&&Nt(o)&&o===kt.firstChild)return!0;if(ZO(o,"TABLE")||ZO(o,"HR"))return m&&!et||!m&&et;const un=new Wa(o,kt);ct(o)&&(et&&Zt===0?un.prev():!et&&Zt===o.data.length&&un.next());let mo;for(;mo=un.current();){if(Nt(mo)){if(!mo.getAttribute("data-mce-bogus")){const ko=mo.nodeName.toLowerCase();if(T[ko]&&ko!=="br")return!1}}else if(ct(mo)&&!Si(mo.data))return!1;et?un.prev():un.next()}return!0},_e=()=>{let et;return/^(H[1-6]|PRE|FIGURE)$/.test(c)&&$t!=="HGROUP"?et=ee(M):et=ee(),l9(e,u)&&qO(y,u)&&y.isEmpty(kt,void 0,{includeZwsp:!0})?et=y.split(u,kt):y.insertAfter(et,kt),qv(e,et),et};_t(y,R).each(et=>{R.setStart(et.startContainer,et.startOffset),R.setEnd(et.endContainer,et.endOffset)}),o=R.startContainer,r=R.startOffset;const ke=!!(n&&n.shiftKey),Re=!!(n&&n.ctrlKey);Nt(o)&&o.hasChildNodes()&&!q&&(m=r>o.childNodes.length-1,o=o.childNodes[Math.min(r,o.childNodes.length-1)]||o,m&&ct(o)?r=o.data.length:r=0);const tt=O_(y,o);if(!tt||gi(e,o))return;ke||(o=Ix(e,M,R,o,r));let kt=y.getParent(o,y.isBlock)||y.getRoot();u=Ne(kt==null?void 0:kt.parentNode)?y.getParent(kt.parentNode,y.isBlock):null,c=kt?kt.nodeName.toUpperCase():"";const $t=u?u.nodeName.toUpperCase():"";if($t==="LI"&&!Re){const et=u;kt=et,u=et.parentNode,c=$t}if(Nt(u)&&t9(e,ke,kt))return n9(e,ee,kt);if(/^(LI|DT|DD)$/.test(c)&&Nt(u)&&y.isEmpty(kt)){o9(e,ee,u,kt,M);return}if(!q&&(kt===e.getBody()||!qO(y,kt)))return;const je=kt.parentNode;let $e;if(q)$e=ee(M),W.fold(()=>{rr(B,ie.fromDom($e))},et=>{uc(et,ie.fromDom($e))}),e.selection.setCursorLocation($e,0);else if(Dm(kt))$e=Kd(kt),y.isEmpty(kt)&&UO(kt),D_(e,$e),qv(e,$e);else if(de(!1))$e=_e();else if(de(!0)&&je){const et=Ue.fromRangeStart(R),Zt=dw(et),un=ie.fromDom(kt),ko=l2(un,et,e.schema)?mR(un,et,e.schema).bind(vs=>$.from(vs.getNode())):$.none();$e=je.insertBefore(ee(),kt);const ss=ZO(kt,"HR")||Zt?$e:ko.getOr(kt);qv(e,ss)}else{const et=a9(R).cloneRange();et.setEndAfter(kt);const Zt=et.extractContents();lq(Zt),c9(Zt),$e=Zt.firstChild,y.insertAfter(Zt,kt),r9(y,T,$e),i9(y,kt),y.isEmpty(kt)&&UO(kt),$e.normalize(),y.isEmpty($e)?(y.remove($e),_e()):(D_(e,$e),qv(e,$e))}y.setAttrib($e,"id",""),e.dispatch("NewBlock",{newBlock:$e})},fakeEventName:"insertParagraph"},uq=(e,n,o)=>{const r=new Wa(n,o);let c;const u=e.getNonEmptyElements();for(;c=r.next();)if(u[c.nodeName.toLowerCase()]||ct(c)&&c.length>0)return!0;return!1},u9=(e,n,o)=>{const r=e.dom.createRng();o?(r.setStartBefore(n),r.setEndBefore(n)):(r.setStartAfter(n),r.setEndAfter(n)),e.selection.setRng(r),aw(e,r)},dq=(e,n)=>{const o=e.selection,r=e.dom,c=o.getRng();let u,m=!1;_t(r,c).each(W=>{c.setStart(W.startContainer,W.startOffset),c.setEnd(W.endContainer,W.endOffset)});let y=c.startOffset,v=c.startContainer;if(Nt(v)&&v.hasChildNodes()){const W=y>v.childNodes.length-1;v=v.childNodes[Math.min(y,v.childNodes.length-1)]||v,W&&ct(v)?y=v.data.length:y=0}let T=r.getParent(v,r.isBlock);const R=T&&T.parentNode?r.getParent(T.parentNode,r.isBlock):null,M=R?R.nodeName.toUpperCase():"",B=!!(n&&n.ctrlKey);M==="LI"&&!B&&(T=R),ct(v)&&y>=v.data.length&&(uq(e.schema,v,T||r.getRoot())||(u=r.create("br"),c.insertNode(u),c.setStartAfter(u),c.setEndAfter(u),m=!0)),u=r.create("br"),n1(r,c,u),u9(e,u,m),e.undoManager.add()},d9=(e,n)=>{const o=ie.fromTag("br");uc(ie.fromDom(n),o),e.undoManager.add()},f9=(e,n)=>{m9(e.getBody(),n)||Zc(ie.fromDom(n),ie.fromTag("br"));const o=ie.fromTag("br");Zc(ie.fromDom(n),o),u9(e,o.dom,!1),e.undoManager.add()},fq=e=>Fo(e.getNode()),m9=(e,n)=>fq(Ue.after(n))?!0:Mi(e,Ue.after(n)).map(o=>Fo(o.getNode())).getOr(!1),mf=e=>e&&e.nodeName==="A"&&"href"in e,g9=e=>e.fold(we,mf,mf,we),b$=e=>{const n=he(Wy,e),o=Ue.fromRangeStart(e.selection.getRng());return rg(n,e.getBody(),o).filter(g9)},p9=(e,n)=>{n.fold(ze,he(d9,e),he(f9,e),ze)},v$={insert:(e,n)=>{const o=b$(e);o.isSome()?o.each(he(p9,e)):dq(e,n)},fakeEventName:"insertLineBreak"},k$=(e,n)=>VO(e).filter(o=>n.length>0&&fl(ie.fromDom(o),n)).isSome(),h9=e=>k$(e,VC(e)),y9=e=>k$(e,oE(e)),Al=md.generate([{br:[]},{block:[]},{none:[]}]),w$=(e,n)=>y9(e),M_=e=>(n,o)=>QV(n)===e,_$=(e,n)=>(o,r)=>c$(o)===e.toUpperCase()===n,b9=e=>{const n=O_(e.dom,e.selection.getStart());return gn(n)},N_=e=>_$("pre",e),v9=()=>_$("summary",!0),Fx=e=>(n,o)=>HC(n)===e,C$=(e,n)=>h9(e),Lx=(e,n)=>n,S$=e=>{const n=Sc(e),o=O_(e.dom,e.selection.getStart());return Ne(o)&&e.schema.isValidChild(o.nodeName,n)},x$=e=>{const n=e.selection.getRng(),o=ie.fromDom(n.startContainer),c=Nc(o,n.startOffset).map(u=>Xr(u)&&!ka(u));return n.collapsed&&c.getOr(!0)},Td=(e,n)=>(o,r)=>lt(e,(u,m)=>u&&m(o,r),!0)?$.some(n):$.none(),k9=(e,n)=>kP([Td([w$],Al.none()),Td([N_(!0),b9],Al.none()),Td([v9()],Al.br()),Td([N_(!0),Fx(!1),Lx],Al.br()),Td([N_(!0),Fx(!1)],Al.block()),Td([N_(!0),Fx(!0),Lx],Al.block()),Td([N_(!0),Fx(!0)],Al.br()),Td([M_(!0),Lx],Al.br()),Td([M_(!0)],Al.block()),Td([C$],Al.br()),Td([Lx],Al.br()),Td([S$],Al.block()),Td([x$],Al.block())],[e,!!(n&&n.shiftKey)]).getOr(Al.none()),Gv=(e,n,o)=>{n.selection.isCollapsed()||tL(n),!(Ne(o)&&xd(n,e.fakeEventName).isDefaultPrevented())&&(e.insert(n,o),Ne(o)&&hb(n,e.fakeEventName))},T$=(e,n)=>{const o=()=>Gv(v$,e,n),r=()=>Gv(y$,e,n),c=k9(e,n);switch(Lf(e)){case"linebreak":c.fold(o,o,ze);break;case"block":c.fold(r,r,ze);break;case"invert":c.fold(r,o,ze);break;default:c.fold(o,r,ze);break}},E$=ft(),Hx=E$.os.isiOS()&&E$.browser.isSafari(),A$=(e,n)=>{n.isDefaultPrevented()||(n.preventDefault(),Wz(e.undoManager),e.undoManager.transact(()=>{T$(e,n)}))},KO=e=>{if(!e.collapsed)return!1;const n=e.startContainer;if(ct(n)){const o=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,r=n.data.charAt(e.startOffset-1);return o.test(r)}else return!1},YO=e=>{let n=$.none();const o=c=>{n=$.some(c.selection.getBookmark()),c.undoManager.add()},r=(c,u)=>{c.undoManager.undo(),n.fold(ze,m=>c.selection.moveToBookmark(m)),A$(c,u),n=$.none()};e.on("keydown",c=>{c.keyCode===it.ENTER&&(Hx&&KO(e.selection.getRng())?o(e):A$(e,c))}),e.on("keyup",c=>{c.keyCode===it.ENTER&&n.each(()=>r(e,c))})},z$=(e,n,o)=>{const r=rn.os.isMacOS()||rn.os.isiOS();y_([{keyCode:it.END,action:Pn(uB,e,!0)},{keyCode:it.HOME,action:Pn(uB,e,!1)},...r?[]:[{keyCode:it.HOME,action:Pn(p_,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:it.END,action:Pn(p_,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:it.END,action:Pn(wH,e,!0)},{keyCode:it.HOME,action:Pn(wH,e,!1)},{keyCode:it.END,action:Pn(kx,e,!0,n)},{keyCode:it.HOME,action:Pn(kx,e,!1,n)}],o).each(c=>{o.preventDefault()})},w9=(e,n)=>{e.on("keydown",o=>{o.isDefaultPrevented()||z$(e,n,o)})},pq=e=>{e.on("input",n=>{n.isComposing||LF(e)})},Uh=ft(),_9=(e,n,o)=>{y_([{keyCode:it.PAGE_UP,action:Pn(kx,e,!1,n)},{keyCode:it.PAGE_DOWN,action:Pn(kx,e,!0,n)}],o)},O$=e=>e.stopImmediatePropagation(),D$=e=>e.keyCode===it.PAGE_UP||e.keyCode===it.PAGE_DOWN,P_=(e,n,o)=>{o&&!e.get()?n.on("NodeChange",O$,!0):!o&&e.get()&&n.off("NodeChange",O$),e.set(o)},R$=(e,n)=>{if(Uh.os.isMacOS())return;const o=Ee(!1);e.on("keydown",r=>{D$(r)&&P_(o,e,!0)}),e.on("keyup",r=>{r.isDefaultPrevented()||_9(e,n,r),D$(r)&&o.get()&&(P_(o,e,!1),e.nodeChanged())})},M$=e=>{e.on("beforeinput",n=>{(!e.selection.isEditable()||jn(n.getTargetRanges(),o=>!lA(e.dom,o)))&&n.preventDefault()})},N$=(e,n)=>{const o=n.container(),r=n.offset();return ct(o)?(o.insertData(r,e),$.some(Ue(o,r+e.length))):D1(n).map(c=>{const u=ie.fromText(e);return n.isAtEnd()?Zc(c,u):uc(c,u),Ue(u.dom,e.length)})},XO=he(N$,Qr),P$=he(N$," "),C9=(e,n,o)=>vR(e,n,o)?XO(n):P$(n),S9=e=>n=>n.fold(o=>tl(e.dom,Ue.before(o)),o=>Ec(o),o=>Xl(o),o=>Mi(e.dom,Ue.after(o))),JO=(e,n,o)=>r=>vR(e,r,o)?XO(n):P$(n),Vx=e=>n=>{e.selection.setRng(n.toRange()),e.nodeChanged()},x9=(e,n)=>e.isEditable(e.getParent(n,"summary")),QO=e=>{const n=Ue.fromRangeStart(e.selection.getRng()),o=ie.fromDom(e.getBody());if(e.selection.isCollapsed()){const r=he(Wy,e),c=Ue.fromRangeStart(e.selection.getRng());return rg(r,e.getBody(),c).bind(S9(o)).map(u=>()=>JO(o,n,e.schema)(u).each(Vx(e)))}else return $.none()},B$=e=>{const n=()=>{const o=ie.fromDom(e.getBody());e.selection.isCollapsed()||e.getDoc().execCommand("Delete");const r=Ue.fromRangeStart(e.selection.getRng());C9(o,r,e.schema).each(Vx(e))};return fr(rn.browser.isFirefox()&&e.selection.isEditable()&&x9(e.dom,e.selection.getRng().startContainer),n)},Ux=(e,n)=>{pB([{keyCode:it.SPACEBAR,action:Pn(QO,e)},{keyCode:it.SPACEBAR,action:Pn(B$,e)}],n).each(o=>{n.preventDefault(),xd(e,"insertText",{data:" "}).isDefaultPrevented()||(o(),hb(e,"insertText",{data:" "}))})},$$=e=>{e.on("keydown",n=>{n.isDefaultPrevented()||Ux(e,n)})},I$=e=>bE(e)?[{keyCode:it.TAB,action:Pn(w_,e,!0)},{keyCode:it.TAB,shiftKey:!0,action:Pn(w_,e,!1)}]:[],T9=(e,n)=>{y_([...I$(e)],n).each(o=>{n.preventDefault()})},E9=e=>{e.on("keydown",n=>{n.isDefaultPrevented()||T9(e,n)})},jx=e=>{if(e.addShortcut("Meta+P","","mcePrint"),LV(e),tg(e))return Ee(null);{const n=L8(e);return M$(e),mH(e),bO(e,n),XV(e,n),YO(e),$$(e),pq(e),E9(e),w9(e,n),R$(e,n),n}};class F${constructor(n){this.lastPath=[],this.editor=n;let o;const r=this;"onselectionchange"in n.getDoc()||n.on("NodeChange click mouseup keyup focus",c=>{const u=n.selection.getRng(),m={startContainer:u.startContainer,startOffset:u.startOffset,endContainer:u.endContainer,endOffset:u.endOffset};(c.type==="nodechange"||!x(m,o))&&n.dispatch("SelectionChange"),o=m}),n.on("contextmenu",()=>{cw(n),n.dispatch("SelectionChange")}),n.on("SelectionChange",()=>{const c=n.selection.getStart(!0);c&&fh(n)&&!r.isSameElementPath(c)&&n.dom.isChildOf(c,n.getBody())&&n.nodeChanged({selectionChange:!0})}),n.on("mouseup",c=>{!c.isDefaultPrevented()&&fh(n)&&(n.selection.getNode().nodeName==="IMG"?Pu.setEditorTimeout(n,()=>{n.nodeChanged()}):n.nodeChanged())})}nodeChanged(n={}){const o=this.editor.selection;let r;if(this.editor.initialized&&o&&!y1(this.editor)&&!this.editor.mode.isReadOnly()){const c=this.editor.getBody();r=o.getStart(!0)||c,(r.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(r,c))&&(r=c);const u=[];this.editor.dom.getParent(r,m=>m===c?!0:(u.push(m),!1)),this.editor.dispatch("NodeChange",{...n,element:r,parents:u})}}isSameElementPath(n){let o;const r=this.editor,c=ho(r.dom.getParents(n,Qe,r.getBody()));if(c.length===this.lastPath.length){for(o=c.length;o>=0&&c[o]===this.lastPath[o];o--);if(o===-1)return this.lastPath=c,!0}return this.lastPath=c,!1}}const L$=jb("image"),A9=e=>{const n=e;return $.from(n[L$])},H$=(e,n)=>{const o=e;o[L$]=n},e3=jb("event"),z9=e=>{const n=e;return $.from(n[e3])},Wx=e=>n=>{const o=n;o[e3]=e},O9=(e,n)=>Wx(n)(e),V$=Wx(0),U$=Wx(2),D9=Wx(1),M9=(e=>n=>{const o=n;return $.from(o[e3]).exists(r=>r===e)})(0),N9=()=>Object.freeze({length:0,item:e=>null}),t3=jb("mode"),P9=e=>{const n=e;return $.from(n[t3])},Zx=e=>n=>{const o=n;o[t3]=e},yb=(e,n)=>Zx(n)(e),j$=Zx(0),n3=Zx(2),W$=Zx(1),Z$=e=>n=>{const o=n;return $.from(o[t3]).exists(r=>r===e)},Kv=Z$(0),q$=Z$(1),G$=(e,n)=>({...n,get length(){return n.length},add:(o,r)=>{if(Kv(e))if(ae(o)){if(!go(r))return n.add(o,r)}else return n.add(o);return null},remove:o=>{Kv(e)&&n.remove(o)},clear:()=>{Kv(e)&&n.clear()}}),B9=["none","copy","link","move"],$9=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],K$=()=>{const e=new window.DataTransfer;let n="move",o="all";const r={get dropEffect(){return n},set dropEffect(c){jt(B9,c)&&(n=c)},get effectAllowed(){return o},set effectAllowed(c){M9(r)&&jt($9,c)&&(o=c)},get items(){return G$(r,e.items)},get files(){return q$(r)?N9():e.files},get types(){return e.types},setDragImage:(c,u,m)=>{Kv(r)&&(H$(r,{image:c,x:u,y:m}),e.setDragImage(c,u,m))},getData:c=>q$(r)?"":e.getData(c),setData:(c,u)=>{Kv(r)&&e.setData(c,u)},clearData:c=>{Kv(r)&&e.clearData(c)}};return j$(r),r},qx=e=>{const n=K$(),o=P9(e);return n3(e),V$(n),n.dropEffect=e.dropEffect,n.effectAllowed=e.effectAllowed,A9(e).each(r=>n.setDragImage(r.image,r.x,r.y)),te(e.types,r=>{r!=="Files"&&n.setData(r,e.getData(r))}),te(e.files,r=>n.items.add(r)),z9(e).each(r=>{O9(n,r)}),o.each(r=>{yb(e,r),yb(n,r)}),n},I9=e=>{const n=e.getData("text/html");return n===""?$.none():$.some(n)},Y$=(e,n)=>e.setData("text/html",n),X$="x-tinymce/html",Gx=Me(X$),o3="<!-- "+X$+" -->",F9=e=>o3+e,L9=e=>e.replace(o3,""),J$=e=>e.indexOf(o3)!==-1,H9=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),V9=(e,n)=>{let o="<"+e;const r=ha(n,(c,u)=>u+'="'+id.encodeAllRaw(c)+'"');return r.length&&(o+=" "+r.join(" ")),o+">"},U9=(e,n,o)=>{const r=e.split(/\n\n/),c=V9(n,o),u="</"+n+">",m=Qt(r,v=>v.split(/\n/).join("<br />")),y=v=>c+v+u;return m.length===1?m[0]:Qt(m,y).join("")},Q$="%MCEPASTEBIN%",j9=(e,n)=>{const{dom:o,selection:r}=e,c=e.getBody();n.set(r.getRng());const u=o.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},Q$);rn.browser.isFirefox()&&o.setStyle(u,"left",o.getStyle(c,"direction",!0)==="rtl"?65535:-65535),o.bind(u,"beforedeactivate focusin focusout",m=>{m.stopPropagation()}),u.focus(),r.select(u,!0)},Vs=(e,n)=>{const o=e.dom;if(s3(e)){let r;const c=n.get();for(;r=s3(e);)o.remove(r),o.unbind(r);c&&e.selection.setRng(c)}n.set(null)},s3=e=>e.dom.get("mcepastebin"),eI=e=>Ne(e)&&e.id==="mcepastebin",W9=e=>{const n=e.dom,o=(m,y)=>{m.appendChild(y),n.remove(y,!0)},[r,...c]=be(e.getBody().childNodes,eI);te(c,m=>{o(r,m)});const u=n.select("div[id=mcepastebin]",r);for(let m=u.length-1;m>=0;m--){const y=n.create("div");r.insertBefore(y,u[m]),o(y,u[m])}return r?r.innerHTML:""},Kx=e=>e===Q$,tI=e=>{const n=Ee(null);return{create:()=>j9(e,n),remove:()=>Vs(e,n),getEl:()=>s3(e),getHtml:()=>W9(e),getLastRng:n.get}},nI=(e,n)=>(ut.each(n,o=>{en(o,RegExp)?e=e.replace(o,""):e=e.replace(o[0],o[1])}),e),Z9=e=>{const n=Wd(),o=zv({},n);let r="";const c=n.getVoidElements(),u=ut.makeMap("script noscript style textarea video audio iframe object"," "),m=n.getBlockElements(),y=v=>{const T=v.name,R=v;if(T==="br"){r+=`
`;return}if(T!=="wbr"){if(c[T]&&(r+=" "),u[T]){r+=" ";return}if(v.type===3&&(r+=v.value),!(v.name in n.getVoidElements())){let M=v.firstChild;if(M)do y(M);while(M=M.next)}m[T]&&R.next&&(r+=`
`,T==="p"&&(r+=`
`))}};return e=nI(e,[/<!\[[^\]]+\]>/g]),y(o.parse(e)),r},r3=e=>(e=nI(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(o,r,c)=>!r&&!c?" ":Qr],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),a3=e=>{let n=0;return()=>e+n++},q9=e=>{const n=e.toLowerCase(),o={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return ut.hasOwn(o,n)?"image/"+o[n]:"image/"+n},G9=(e,n)=>{const o=zv({sanitize:Tc(e),sandbox_iframes:uS(e),sandbox_iframes_exclusions:S1(e),convert_unsafe_embeds:Cy(e)},e.schema);o.addNodeFilter("meta",c=>{ut.each(c,u=>{u.remove()})});const r=o.parse(n,{forced_root_block:!1,isRootContent:!0});return gp({validate:!0},e.schema).serialize(r)},oI=(e,n)=>({content:e,cancelled:n}),sI=(e,n,o)=>{const r=e.dom.create("div",{style:"display:none"},n),c=WS(e,r,o);return oI(c.node.innerHTML,c.isDefaultPrevented())},K9=(e,n,o)=>{const r=jE(e,n,o),c=G9(e,r.content);return e.hasEventListeners("PastePostProcess")&&!r.isDefaultPrevented()?sI(e,c,o):oI(c,r.isDefaultPrevented())},Y9=(e,n,o)=>K9(e,n,o),jh=(e,n)=>(e.insertContent(n,{merge:rS(e),paste:!0}),!0),c3=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),Yv=(e,n)=>c3(n)&&jn(_y(e),o=>ra(n.toLowerCase(),`.${o.toLowerCase()}`)),B_=(e,n,o)=>(e.undoManager.extra(()=>{o(e,n)},()=>{e.insertContent('<img src="'+n+'">')}),!0),X9=(e,n,o)=>(e.undoManager.extra(()=>{o(e,n)},()=>{e.execCommand("mceInsertLink",!1,n)}),!0),J9=(e,n,o)=>!e.selection.isCollapsed()&&c3(n)?X9(e,n,o):!1,Xv=(e,n,o)=>Yv(e,n)?B_(e,n,o):!1,Q9=(e,n)=>{ut.each([J9,Xv,jh],o=>!o(e,n,jh))},i3=(e,n,o)=>{o||!pE(e)?jh(e,n):Q9(e,n)},eU=a3("mceclip"),rI=e=>{const n=K$();return Y$(n,e),n3(n),n},l3=(e,n,o,r,c)=>{const u=Y9(e,n,o);if(!u.cancelled){const m=u.content,y=()=>i3(e,m,r);c?xd(e,"insertFromPaste",{dataTransfer:rI(m)}).isDefaultPrevented()||(y(),hb(e,"insertFromPaste")):y()}},Jv=(e,n,o,r)=>{const c=o||J$(n);l3(e,L9(n),c,!1,r)},Yx=(e,n,o)=>{const r=e.dom.encode(n).replace(/\r\n/g,`
`),c=ml(r,aS(e)),u=U9(c,Sc(e),Hm(e));l3(e,u,!1,!0,o)},aI=e=>{const n={};if(e&&e.types)for(let o=0;o<e.types.length;o++){const r=e.types[o];try{n[r]=e.getData(r)}catch{n[r]=""}}return n},Wh=(e,n)=>n in e&&e[n].length>0,u3=e=>Wh(e,"text/html")||Wh(e,"text/plain"),tU=(e,n)=>{const o=n.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return Ne(o)?e.dom.encode(o[1]):void 0},cI=(e,n,o,r)=>{const c=eU(),u=ms(e)&&Ne(o.name),m=u?tU(e,o.name):c,y=u?o.name:void 0,v=n.create(c,o,r,m,y);return n.add(v),v},d3=(e,n)=>{Eh(n.uri).each(({data:o,type:r,base64Encoded:c})=>{const u=c?o:btoa(o),m=n.file,y=e.editorUpload.blobCache,v=y.getByData(u,r),T=v??cI(e,y,m,u);Jv(e,`<img src="${T.blobUri()}">`,!1,!0)})},iI=e=>e.type==="paste",nU=e=>Promise.all(Qt(e,n=>vp(n).then(o=>({file:n,uri:o})))),oU=e=>{const n=_y(e);return o=>ns(o.type,"image/")&&jn(n,r=>q9(r)===o.type)},sU=(e,n)=>{const o=n.items?co(is(n.items),c=>c.kind==="file"?[c.getAsFile()]:[]):[],r=n.files?is(n.files):[];return be(o.length>0?o:r,oU(e))},f3=(e,n,o)=>{const r=iI(n)?n.clipboardData:n.dataTransfer;if(eh(e)&&r){const c=sU(e,r);if(c.length>0)return n.preventDefault(),nU(c).then(u=>{o&&e.selection.setRng(o),te(u,m=>{d3(e,m)})}),!0}return!1},m3=e=>{var n,o;return rn.os.isAndroid()&&((o=(n=e.clipboardData)===null||n===void 0?void 0:n.items)===null||o===void 0?void 0:o.length)===0},rU=e=>it.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,Xx=(e,n,o,r,c)=>{let u=r3(o);const m=Wh(n,Gx())||J$(o),y=!m&&H9(u),v=c3(u);(Kx(u)||!u.length||y&&!v)&&(r=!0),(r||v)&&(Wh(n,"text/plain")&&y?u=n["text/plain"]:u=Z9(u)),!Kx(u)&&(r?Yx(e,u,c):Jv(e,u,m,c))},lI=(e,n,o)=>{let r;const c=()=>n.getLastRng()||e.selection.getRng();e.on("keydown",u=>{rU(u)&&!u.isDefaultPrevented()&&(r=u.shiftKey&&u.keyCode===86)}),e.on("paste",u=>{if(u.isDefaultPrevented()||m3(u))return;const m=o.get()==="text"||r;r=!1;const y=aI(u.clipboardData);!u3(y)&&f3(e,u,c())||(Wh(y,"text/html")?(u.preventDefault(),Xx(e,y,y["text/html"],m,!0)):Wh(y,"text/plain")&&Wh(y,"text/uri-list")?(u.preventDefault(),Xx(e,y,y["text/plain"],m,!0)):(n.create(),Pu.setEditorTimeout(e,()=>{const v=n.getHtml();n.remove(),Xx(e,y,v,m,!1)},0)))})},aU=e=>{const n=c=>ns(c,"webkit-fake-url"),o=c=>ns(c,"data:"),r=c=>{var u;return((u=c.data)===null||u===void 0?void 0:u.paste)===!0};e.parser.addNodeFilter("img",(c,u,m)=>{if(!eh(e)&&r(m))for(const y of c){const v=y.attr("src");ae(v)&&!y.attr("data-mce-object")&&v!==rn.transparentSrc&&(n(v)||!th(e)&&o(v))&&y.remove()}})},uI=(e,n,o)=>{lI(e,n,o),aU(e)},cU=(e,n)=>{n.get()==="text"?(n.set("html"),cv(e,!1)):(n.set("text"),cv(e,!0)),e.focus()},iU=(e,n)=>{e.addCommand("mceTogglePlainTextPaste",()=>{cU(e,n)}),e.addCommand("mceInsertClipboardContent",(o,r)=>{r.html&&Jv(e,r.html,r.internal,!1),r.text&&Yx(e,r.text,!1)})},lU=(e,n,o)=>{if(e)try{return e.clearData(),e.setData("text/html",n),e.setData("text/plain",o),e.setData(Gx(),n),!0}catch{return!1}else return!1},dI=(e,n,o,r)=>{lU(e.clipboardData,n.html,n.text)?(e.preventDefault(),r()):o(n.html,r)},fI=e=>(n,o)=>{const{dom:r,selection:c}=e,u=r.create("div",{contenteditable:"false","data-mce-bogus":"all"}),m=r.create("div",{contenteditable:"true"},n);r.setStyles(u,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),u.appendChild(m),r.add(e.getBody(),u);const y=c.getRng();m.focus();const v=r.createRng();v.selectNodeContents(m),c.setRng(v),Pu.setEditorTimeout(e,()=>{c.setRng(y),r.remove(u),o()},0)},$_=e=>({html:F9(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),uU=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),g3=e=>!e.selection.isCollapsed()||uU(e),dU=e=>n=>{!n.isDefaultPrevented()&&g3(e)&&e.selection.isEditable()&&dI(n,$_(e),fI(e),()=>{if(rn.browser.isChromium()||rn.browser.isFirefox()){const o=e.selection.getRng();Pu.setEditorTimeout(e,()=>{e.selection.setRng(o),e.execCommand("Delete")},0)}else e.execCommand("Delete")})},fU=e=>n=>{!n.isDefaultPrevented()&&g3(e)&&dI(n,$_(e),fI(e),ze)},mI=e=>{e.on("cut",dU(e)),e.on("copy",fU(e))},p3=(e,n)=>{var o,r;return ht.getCaretRangeFromPoint((o=n.clientX)!==null&&o!==void 0?o:0,(r=n.clientY)!==null&&r!==void 0?r:0,e.getDoc())},mU=e=>{const n=e["text/plain"];return n?n.indexOf("file://")===0:!1},gI=(e,n)=>{e.focus(),n&&e.selection.setRng(n)},gU=e=>jn(e.files,n=>/^image\//.test(n.type)),pU=(e,n,o,r)=>{const c=e.getParent(o,m=>xu(n,m));if(!Z(e.getParent(o,"summary")))return!0;if(c&&fn(r,"text/html")){const m=new DOMParser().parseFromString(r["text/html"],"text/html").body;return!Z(m.querySelector(c.nodeName.toLowerCase()))}else return!1},hU=e=>{e.on("input",n=>{const o=r=>Z(r.querySelector("summary"));if(n.inputType==="deleteByDrag"){const r=be(e.dom.select("details"),o);te(r,c=>{Fo(c.firstChild)&&c.firstChild.remove();const u=e.dom.create("summary");u.appendChild(Zg().dom),c.prepend(u)})}})},pI=(e,n)=>{eS(e)&&e.on("dragend dragover draggesture dragdrop drop drag",o=>{o.preventDefault(),o.stopPropagation()}),eh(e)||e.on("drop",o=>{const r=o.dataTransfer;r&&gU(r)&&o.preventDefault()}),e.on("drop",o=>{if(o.isDefaultPrevented())return;const r=p3(e,o);if(gn(r))return;const c=aI(o.dataTransfer),u=Wh(c,Gx());if((!u3(c)||mU(c))&&f3(e,o,r))return;const m=c[Gx()],y=m||c["text/html"]||c["text/plain"],v=pU(e.dom,e.schema,r.startContainer,c),T=n.get();T&&!v||y&&(o.preventDefault(),Pu.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{(m||T&&v)&&e.execCommand("Delete"),gI(e,r);const R=r3(y);c["text/html"]?Jv(e,R,u,!0):Yx(e,R,!0)})}))}),e.on("dragstart",o=>{n.set(!0)}),e.on("dragover dragend",o=>{eh(e)&&!n.get()&&(o.preventDefault(),gI(e,p3(e,o))),o.type==="dragend"&&n.set(!1)}),hU(e)},yU=e=>{const n=c=>u=>{c(e,u)},o=tS(e);ue(o)&&e.on("PastePreProcess",n(o));const r=nS(e);ue(r)&&e.on("PastePostProcess",n(r))},bU=(e,n)=>{e.on("PastePreProcess",o=>{o.content=n(e,o.content,o.internal)})},vU=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,hI=e=>ut.trim(e).replace(vU,ud).toLowerCase(),kU=(e,n,o)=>{const r=gE(e);if(o||r==="all"||!sS(e))return n;const c=r?r.split(/[, ]/):[];if(c&&r!=="none"){const u=e.dom,m=e.selection.getNode();n=n.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(y,v,T,R)=>{const M=u.parseStyle(u.decode(T)),B={};for(let X=0;X<c.length;X++){const q=M[c[X]];let ee=q,de=u.getStyle(m,c[X],!0);/color/.test(c[X])&&(ee=hI(ee),de=hI(de)),de!==ee&&(B[c[X]]=q)}const W=u.serializeStyle(B,"span");return W?v+' style="'+W+'"'+R:v+R})}else n=n.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return n=n.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(u,m,y,v)=>m+' style="'+y+'"'+v),n},wU=e=>{(rn.browser.isChromium()||rn.browser.isSafari())&&bU(e,kU)},_U=e=>{const n=Ee(!1),o=Ee(w1(e)?"text":"html"),r=tI(e);wU(e),iU(e,o),yU(e),e.addQueryStateHandler("mceTogglePlainTextPaste",()=>o.get()==="text"),e.on("PreInit",()=>{mI(e),pI(e,n),uI(e,r,o)})},CU=e=>{e.on("click",n=>{e.dom.getParent(n.target,"details")&&n.preventDefault()})},yI=e=>{e.parser.addNodeFilter("details",n=>{const o=lS(e);te(n,r=>{o==="expanded"?r.attr("open","open"):o==="collapsed"&&r.attr("open",null)})}),e.serializer.addNodeFilter("details",n=>{const o=_k(e);te(n,r=>{o==="expanded"?r.attr("open","open"):o==="collapsed"&&r.attr("open",null)})})},bI=e=>{CU(e),yI(e)},SU=Fo,vI=ct,xU=e=>Lo(e.dom),TU=e=>Ke(e.dom),kI=e=>n=>Qn(ie.fromDom(e),n),EU=(e,n,o)=>Js(ie.fromDom(e),r=>TU(r)||o.isBlock(vo(r)),kI(n)).getOr(ie.fromDom(n)).dom,wI=(e,n)=>Js(ie.fromDom(e),xU,kI(n)),I_=(e,n,o)=>{const r=new Wa(e,n),c=o?r.next.bind(r):r.prev.bind(r);let u=e;for(let m=o?e:c();m&&!SU(m);m=c())hl(m)&&(u=m);return u},_I=(e,n,o)=>{const c=Ue.fromRangeStart(e).getNode(),u=EU(c,n,o),m=I_(c,u,!1),y=I_(c,u,!0),v=document.createRange();return wI(m,u).fold(()=>{vI(m)?v.setStart(m,0):v.setStartBefore(m)},T=>v.setStartBefore(T.dom)),wI(y,u).fold(()=>{vI(y)?v.setEnd(y,y.data.length):v.setEndAfter(y)},T=>v.setEndAfter(T.dom)),v},AU=e=>{const n=_I(e.selection.getRng(),e.getBody(),e.schema);e.selection.setRng(Hs(n))},CI=e=>{e.on("mousedown",n=>{n.detail>=3&&(n.preventDefault(),AU(e))})};var bb;(function(e){e.Before="before",e.After="after"})(bb||(bb={}));const h3=(e,n)=>Math.abs(e.left-n),zU=(e,n)=>Math.abs(e.right-n),SI=(e,n)=>e>=n.top&&e<=n.bottom,OU=(e,n)=>e.top<n.bottom&&e.bottom>n.top,xI=(e,n)=>{const o=Gg(e,n)/Math.min(e.height,n.height);return OU(e,n)&&o>.5},DU=(e,n)=>{const o=be(e,r=>SI(n,r));return IT(o).fold(()=>[[],e],r=>{const{pass:c,fail:u}=xe(e,m=>xI(m,r));return[c,u]})},TI=(e,n)=>({node:e.node,position:h3(e,n)<zU(e,n)?bb.Before:bb.After}),RU=(e,n,o)=>n>e.left&&n<e.right?0:Math.min(Math.abs(e.left-n),Math.abs(e.right-n)),y3=(e,n,o,r)=>{const c=M=>hl(M.node)?$.some(M):Nt(M.node)?y3(is(M.node.childNodes),n,o,!1):$.none(),u=(M,B,W)=>c(B).filter(X=>Math.abs(W(M,n,o)-W(X,n,o))<2&&ct(X.node)),m=(M,B)=>{const W=Wn(M,(X,q)=>B(X,n,o)-B(q,n,o));return Vo(W,c).map(X=>r&&!ct(X.node)&&W.length>1?u(X,W[1],B).getOr(X):X)},[y,v]=DU(Sd(e),o),{pass:T,fail:R}=xe(v,M=>M.top<o);return m(y,RU).orThunk(()=>m(R,wC)).orThunk(()=>m(T,wC))},MU=(e,n,o,r)=>{const c=(u,m)=>{const y=T=>Nt(T)&&T.classList.contains("mce-drag-container"),v=be(u.dom.childNodes,ot(y));return m.fold(()=>y3(v,o,r,!0),T=>{const R=be(v,M=>M!==T.dom);return y3(R,o,r,!0)}).orThunk(()=>(Qn(u,e)?$.none():wf(u)).bind(R=>c(R,$.some(u))))};return c(n,$.none())},F_=(e,n,o)=>{const r=ie.fromDom(e),c=yu(r),m=ie.fromPoint(c,n,o).filter(y=>Pr(r,y)).getOr(r);return MU(r,m,n,o)},EI=(e,n,o)=>F_(e,n,o).filter(r=>Xd(r.node)).map(r=>TI(r,n)),AI=e=>{var n,o;const r=e.getBoundingClientRect(),c=e.ownerDocument,u=c.documentElement,m=c.defaultView;return{top:r.top+((n=m==null?void 0:m.scrollY)!==null&&n!==void 0?n:0)-u.clientTop,left:r.left+((o=m==null?void 0:m.scrollX)!==null&&o!==void 0?o:0)-u.clientLeft}},zI=e=>e.inline?AI(e.getBody()):{left:0,top:0},NU=e=>{const n=e.getBody();return e.inline?{left:n.scrollLeft,top:n.scrollTop}:{left:0,top:0}},PU=e=>{const n=e.getBody(),o=e.getDoc().documentElement,r={left:n.scrollLeft,top:n.scrollTop},c={left:n.scrollLeft||o.scrollLeft,top:n.scrollTop||o.scrollTop};return e.inline?r:c},BU=(e,n)=>{if(n.target.ownerDocument!==e.getDoc()){const o=AI(e.getContentAreaContainer()),r=PU(e);return{left:n.pageX-o.left+r.left,top:n.pageY-o.top+r.top}}return{left:n.pageX,top:n.pageY}},$U=(e,n,o)=>({pageX:o.left-e.left+n.left,pageY:o.top-e.top+n.top}),IU=(e,n)=>$U(zI(e),NU(e),BU(e,n)),L_=e=>({target:e,srcElement:e}),OI=(e,n,o,r)=>({...n,dataTransfer:r,type:e,...L_(o)}),DI=(e,n,o)=>{const r=Xt("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:e,composedPath:r,initEvent:r,preventDefault:ze,stopImmediatePropagation:ze,stopPropagation:ze,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:r,initMouseEvent:r,getModifierState:r,dataTransfer:o,...L_(n)}},FU=(e,n)=>{const o=qx(e);return n==="dragstart"?(V$(o),j$(o)):n==="drop"?(U$(o),n3(o)):(D9(o),W$(o)),o},LU=(e,n,o,r)=>{const c=FU(o,e);return go(r)?DI(e,n,c):OI(e,r,n,c)},Jx=32,hq=100,Qx=8,H_=16,eT=Lo,tT=FT(eT,Ke),HU=(e,n,o)=>eT(o)&&o!==n&&e.isEditable(o.parentElement),VU=(e,n,o)=>gn(n)||n===o||e.dom.isChildOf(n,o)?!1:e.dom.isEditable(n),RI=(e,n,o,r)=>{const c=e.dom,u=n.cloneNode(!0);c.setStyles(u,{width:o,height:r}),c.setAttrib(u,"data-mce-selected",null);const m=c.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return c.setStyles(m,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:o,height:r}),c.setStyles(u,{margin:0,boxSizing:"border-box"}),m.appendChild(u),m},UU=(e,n)=>{e.parentNode!==n&&n.appendChild(e)},Qv=(e,n)=>o=>()=>{const r=e==="left"?o.scrollX:o.scrollY;o.scroll({[e]:r+n,behavior:"smooth"})},b3=Qv("left",-Jx),MI=Qv("left",Jx),NI=Qv("top",-Jx),v3=Qv("top",Jx),jU=(e,n,o,r,c,u,m,y,v,T,R,M)=>{let B=0,W=0;e.style.left=n.pageX+"px",e.style.top=n.pageY+"px",n.pageX+o>c&&(B=n.pageX+o-c),n.pageY+r>u&&(W=n.pageY+r-u),e.style.width=o-B+"px",e.style.height=r-W+"px";const X=v.clientHeight,q=v.clientWidth,ee=m+v.getBoundingClientRect().top,de=y+v.getBoundingClientRect().left;R.on(_e=>{_e.intervalId.clear(),_e.dragging&&M&&(m+Qx>=X?_e.intervalId.set(v3(T)):m-Qx<=0?_e.intervalId.set(NI(T)):y+Qx>=q?_e.intervalId.set(MI(T)):y-Qx<=0?_e.intervalId.set(b3(T)):ee+H_>=window.innerHeight?_e.intervalId.set(v3(window)):ee-H_<=0?_e.intervalId.set(NI(window)):de+H_>=window.innerWidth?_e.intervalId.set(MI(window)):de-H_<=0&&_e.intervalId.set(b3(window)))})},WU=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},ZU=(e,n)=>{const o=e.getParent(n.parentNode,e.isBlock);WU(n),o&&o!==e.getRoot()&&e.isEmpty(o)&&Yl(ie.fromDom(o))},qU=e=>e.button===0,GU=(e,n)=>({pageX:n.pageX-e.relX,pageY:n.pageY+5}),PI=(e,n)=>o=>{if(qU(o)){const r=Lt(n.dom.getParents(o.target),tT).getOr(null);if(Ne(r)&&HU(n.dom,n.getBody(),r)){const c=n.dom.getPos(r),u=n.getBody(),m=n.getDoc().documentElement;e.set({element:r,dataTransfer:K$(),dragging:!1,screenX:o.screenX,screenY:o.screenY,maxX:(n.inline?u.scrollWidth:m.offsetWidth)-2,maxY:(n.inline?u.scrollHeight:m.offsetHeight)-2,relX:o.pageX-c.x,relY:o.pageY-c.y,width:r.offsetWidth,height:r.offsetHeight,ghost:RI(n,r,r.offsetWidth,r.offsetHeight),intervalId:ym(hq)})}}},KU=(e,n,o)=>{e._selectionOverrides.hideFakeCaret(),EI(e.getBody(),n,o).fold(()=>e.selection.placeCaretAt(n,o),r=>{const c=e._selectionOverrides.showCaret(1,r.node,r.position===bb.Before,!1);c?e.selection.setRng(c):e.selection.placeCaretAt(n,o)})},e0=(e,n,o,r,c)=>{n==="dragstart"&&Y$(r,e.dom.getOuterHTML(o));const u=LU(n,o,r,c);return e.dispatch(n,u)},YU=(e,n)=>{const o=iy((c,u)=>KU(n,c,u),0);n.on("remove",o.cancel);const r=e;return c=>e.on(u=>{const m=Math.max(Math.abs(c.screenX-u.screenX),Math.abs(c.screenY-u.screenY));if(!u.dragging&&m>10){const y=e0(n,"dragstart",u.element,u.dataTransfer,c);if(Ne(y.dataTransfer)&&(u.dataTransfer=y.dataTransfer),y.isDefaultPrevented())return;u.dragging=!0,n.focus()}if(u.dragging){const y=c.currentTarget===n.getDoc().documentElement,v=GU(u,IU(n,c));UU(u.ghost,n.getBody()),jU(u.ghost,v,u.width,u.height,u.maxX,u.maxY,c.clientY,c.clientX,n.getContentAreaContainer(),n.getWin(),r,y),o.throttle(c.clientX,c.clientY)}})},XU=e=>{const n=e.getSel();if(Ne(n)){const r=n.getRangeAt(0).startContainer;return ct(r)?r.parentNode:r}else return null},JU=(e,n)=>o=>{e.on(r=>{var c;if(r.intervalId.clear(),r.dragging){if(VU(n,XU(n.selection),r.element)){const u=(c=n.getDoc().elementFromPoint(o.clientX,o.clientY))!==null&&c!==void 0?c:n.getBody();e0(n,"drop",u,r.dataTransfer,o).isDefaultPrevented()||n.undoManager.transact(()=>{ZU(n.dom,r.element),I9(r.dataTransfer).each(y=>n.insertContent(y)),n._selectionOverrides.hideFakeCaret()})}e0(n,"dragend",n.getBody(),r.dataTransfer,o)}}),k3(e)},BI=(e,n,o)=>{e.on(r=>{r.intervalId.clear(),r.dragging&&o.fold(()=>e0(n,"dragend",r.element,r.dataTransfer),c=>e0(n,"dragend",r.element,r.dataTransfer,c))}),k3(e)},QU=(e,n)=>o=>BI(e,n,$.some(o)),k3=e=>{e.on(n=>{n.intervalId.clear(),WU(n.ghost)}),e.clear()},yq=e=>{const n=Cc(),o=Gs.DOM,r=document,c=PI(n,e),u=YU(n,e),m=JU(n,e),y=QU(n,e);e.on("mousedown",c),e.on("mousemove",u),e.on("mouseup",m),o.bind(r,"mousemove",u),o.bind(r,"mouseup",y),e.on("remove",()=>{o.unbind(r,"mousemove",u),o.unbind(r,"mouseup",y)}),e.on("keydown",v=>{v.keyCode===it.ESC&&BI(n,e,$.none())})},ej=e=>{const n=c=>{if(!c.isDefaultPrevented()){const u=c.dataTransfer;u&&(jt(u.types,"Files")||u.files.length>0)&&(c.preventDefault(),c.type==="drop"&&qw(e,"Dropped file type is not supported"))}},o=c=>{o2(e,c.target)&&n(c)},r=()=>{const c=Gs.DOM,u=e.dom,m=document,y=e.inline?e.getBody():e.getDoc(),v=["drop","dragover"];te(v,T=>{c.bind(m,T,o),u.bind(y,T,n)}),e.on("remove",()=>{te(v,T=>{c.unbind(m,T,o),u.unbind(y,T,n)})})};e.on("init",()=>{Pu.setEditorTimeout(e,r,0)})},$I=e=>{yq(e),JC(e)&&ej(e)},tj=e=>{const n=iy(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const o=e.selection.getRng();if(o.collapsed){const r=Fv(e,o,!1);e.selection.setRng(r)}}},0);e.on("focus",()=>{n.throttle()}),e.on("blur",()=>{n.cancel()})},w3=e=>{e.on("init",()=>{e.on("focusin",n=>{const o=n.target;if(_c(o)){const r=Ch(e.getBody(),o),c=Lo(r)?r:o;e.selection.getNode()!==c&&Iv(e,c).each(u=>e.selection.setRng(u))}})})},V_=Lo,II=(e,n)=>Ch(e.getBody(),n),nj=e=>{const n=e.selection,o=e.dom,r=e.getBody(),c=gD(e,r,o.isBlock,()=>mp(e)),u="sel-"+o.uniqueId(),m="data-mce-selected";let y;const v=$t=>Ne($t)&&o.hasClass($t,"mce-offscreen-selection"),T=$t=>$t!==r&&(V_($t)||_c($t))&&o.isChildOf($t,r)&&o.isEditable($t.parentNode),R=$t=>{$t&&n.setRng($t)},M=($t,je,$e,et=!0)=>e.dispatch("ShowCaret",{target:je,direction:$t,before:$e}).isDefaultPrevented()?null:(et&&n.scrollIntoView(je,$t===-1),c.show($e,je)),B=$t=>{$t.hasAttribute("data-mce-caret")&&(Kd($t),n.scrollIntoView($t))},W=()=>{e.on("click",je=>{o.isEditable(je.target)||(je.preventDefault(),e.focus())}),e.on("blur NewBlock",Re),e.on("ResizeWindow FullscreenStateChanged",c.reposition),e.on("tap",je=>{const $e=je.target,et=II(e,$e);V_(et)?(je.preventDefault(),Iv(e,et).each(ke)):T($e)&&Iv(e,$e).each(ke)},!0),e.on("mousedown",je=>{const $e=je.target;if($e!==r&&$e.nodeName!=="HTML"&&!o.isChildOf($e,r)||!S7(e,je.clientX,je.clientY))return;Re(),kt();const et=II(e,$e);V_(et)?(je.preventDefault(),Iv(e,et).each(ke)):EI(r,je.clientX,je.clientY).each(Zt=>{je.preventDefault();const un=M(1,Zt.node,Zt.position===bb.Before,!1);R(un),Ui(et)?et.focus():e.getBody().focus()})}),e.on("keypress",je=>{it.modifierPressed(je)||V_(n.getNode())&&je.preventDefault()}),e.on("GetSelectionRange",je=>{let $e=je.range;if(y){if(!y.parentNode){y=null;return}$e=$e.cloneRange(),$e.selectNode(y),je.range=$e}}),e.on("SetSelectionRange",je=>{je.range=ee(je.range);const $e=ke(je.range,je.forward);$e&&(je.range=$e)});const $t=je=>Nt(je)&&je.id==="mcepastebin";e.on("AfterSetSelectionRange",je=>{const $e=je.range,et=$e.startContainer.parentElement;!q($e)&&!$t(et)&&kt(),v(et)||Re()}),$I(e),tj(e),w3(e)},X=$t=>Xi($t)||Rm($t)||Eo($t),q=$t=>X($t.startContainer)||X($t.endContainer),ee=$t=>{const je=e.schema.getVoidElements(),$e=o.createRng(),et=$t.startContainer,Zt=$t.startOffset,un=$t.endContainer,mo=$t.endOffset;return fn(je,et.nodeName.toLowerCase())?Zt===0?$e.setStartBefore(et):$e.setStartAfter(et):$e.setStart(et,Zt),fn(je,un.nodeName.toLowerCase())?mo===0?$e.setEndBefore(un):$e.setEndAfter(un):$e.setEnd(un,mo),$e},de=($t,je)=>{const $e=ie.fromDom(e.getBody()),et=e.getDoc(),Zt=tn($e,"#"+u).getOrThunk(()=>{const ko=ie.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',et);return Ws(ko,"id",u),rr($e,ko),ko}),un=o.createRng();nd(Zt),vu(Zt,[ie.fromText(Qr,et),ie.fromDom(je),ie.fromText(Qr,et)]),un.setStart(Zt.dom.firstChild,1),un.setEnd(Zt.dom.lastChild,0),Vn(Zt,{top:o.getPos($t,e.getBody()).y+"px"}),uv(Zt);const mo=n.getSel();return mo&&(mo.removeAllRanges(),mo.addRange(un)),un},_e=$t=>{const je=$t.cloneNode(!0),$e=e.dispatch("ObjectSelected",{target:$t,targetClone:je});if($e.isDefaultPrevented())return null;const et=de($t,$e.targetClone),Zt=ie.fromDom($t);return te(dc(ie.fromDom(e.getBody()),`*[${m}]`),un=>{Qn(Zt,un)||xr(un,m)}),o.getAttrib($t,m)||$t.setAttribute(m,"1"),y=$t,kt(),et},ke=($t,je)=>{if(!$t)return null;if($t.collapsed){if(!q($t)){const un=je?1:-1,mo=Ey(un,r,$t),ko=mo.getNode(!je);if(Ne(ko)){if(Xd(ko))return M(un,ko,je?!mo.isAtEnd():!1,!1);if(Bf(ko)&&Lo(ko.nextSibling)){const vs=o.createRng();return vs.setStart(ko,0),vs.setEnd(ko,0),vs}}const ss=mo.getNode(je);if(Ne(ss)){if(Xd(ss))return M(un,ss,je?!1:!mo.isAtEnd(),!1);if(Bf(ss)&&Lo(ss.previousSibling)){const vs=o.createRng();return vs.setStart(ss,1),vs.setEnd(ss,1),vs}}}return null}let $e=$t.startContainer,et=$t.startOffset;const Zt=$t.endOffset;if(ct($e)&&et===0&&V_($e.parentNode)&&($e=$e.parentNode,et=o.nodeIndex($e),$e=$e.parentNode),!Nt($e))return null;if(Zt===et+1&&$e===$t.endContainer){const un=$e.childNodes[et];if(T(un))return _e(un)}return null},Re=()=>{y&&y.removeAttribute(m),tn(ie.fromDom(e.getBody()),"#"+u).each(bs),y=null},tt=()=>{c.destroy(),y=null},kt=()=>{c.hide()};return tg(e)||W(),{showCaret:M,showBlockCaretContainer:B,hideFakeCaret:kt,destroy:tt}},FI=(e,n)=>{let o=n;for(let r=e.previousSibling;ct(r);r=r.previousSibling)o+=r.data.length;return o},U_=(e,n,o,r,c)=>{if(ct(o)&&(r<0||r>o.data.length))return[];const u=c&&ct(o)?[FI(o,r)]:[r];let m=o;for(;m!==n&&m.parentNode;)u.push(e.nodeIndex(m,c)),m=m.parentNode;return m===n?u.reverse():[]},nT=(e,n,o,r,c,u,m=!1)=>{const y=U_(e,n,o,r,m),v=U_(e,n,c,u,m);return{start:y,end:v}},_3=(e,n)=>{const o=n.slice(),r=o.pop();return Wo(r)?lt(o,(u,m)=>u.bind(y=>$.from(y.childNodes[m])),$.some(e)).bind(u=>ct(u)&&(r<0||r>u.data.length)?$.none():$.some({node:u,offset:r})):$.none()},LI=(e,n)=>_3(e,n.start).bind(({node:o,offset:r})=>_3(e,n.end).map(({node:c,offset:u})=>{const m=document.createRange();return m.setStart(o,r),m.setEnd(c,u),m})),oj=(e,n,o,r=!1)=>nT(e,n,o.startContainer,o.startOffset,o.endContainer,o.endOffset,r),vb=(e,n,o)=>{if(n&&e.isEmpty(n)&&!o(n)){const r=n.parentNode;e.remove(n,ct(n.firstChild)&&Si(n.firstChild.data)),vb(e,r,o)}},oT=(e,n,o,r=!0)=>{const c=n.startContainer.parentNode,u=n.endContainer.parentNode;n.deleteContents(),r&&!o(n.startContainer)&&(ct(n.startContainer)&&n.startContainer.data.length===0&&e.remove(n.startContainer),ct(n.endContainer)&&n.endContainer.data.length===0&&e.remove(n.endContainer),vb(e,c,o),c!==u&&vb(e,u,o))},sT=(e,n)=>$.from(e.dom.getParent(n.startContainer,e.dom.isBlock)),C3=(e,n,o)=>{const r=e.dynamicPatternsLookup({text:o,block:n});return{...e,blockPatterns:ck(r).concat(e.blockPatterns),inlinePatterns:IC(r).concat(e.inlinePatterns)}},j_=(e,n,o,r)=>{const c=e.createRng();return c.setStart(n,0),c.setEnd(o,r),c.toString()},HI=(e,n)=>e.create("span",{"data-mce-type":"bookmark",id:n}),rT=(e,n)=>{const o=e.createRng();return o.setStartAfter(n.start),o.setEndBefore(n.end),o},VI=(e,n,o)=>{const r=LI(e.getRoot(),o).getOrDie("Unable to resolve path range"),c=r.startContainer,u=r.endContainer,m=r.endOffset===0?u:u.splitText(r.endOffset),y=r.startOffset===0?c:c.splitText(r.startOffset),v=y.parentNode,T=m.parentNode;return{prefix:n,end:T.insertBefore(HI(e,n+"-end"),m),start:v.insertBefore(HI(e,n+"-start"),y)}},UI=(e,n,o)=>{vb(e,e.get(n.prefix+"-end"),o),vb(e,e.get(n.prefix+"-start"),o)},S3=e=>e.start.length===0,sj=e=>(n,o)=>{const c=n.data.substring(0,o),u=c.lastIndexOf(e.charAt(e.length-1)),m=c.lastIndexOf(e);return m!==-1?m+e.length:u!==-1?u+1:-1},x3=(e,n,o,r)=>{const c=n.start;return wO(e,r.container,r.offset,sj(c),o).bind(m=>{var y,v;const T=(v=(y=o.textContent)===null||y===void 0?void 0:y.indexOf(c))!==null&&v!==void 0?v:-1;if(T!==-1&&m.offset>=T+c.length){const M=e.createRng();return M.setStart(m.container,m.offset-c.length),M.setEnd(m.container,m.offset),$.some(M)}else{const M=m.offset-c.length;return kO(m.container,M,o).map(B=>{const W=e.createRng();return W.setStart(B.container,B.offset),W.setEnd(m.container,m.offset),W}).filter(B=>B.toString()===c).orThunk(()=>x3(e,n,o,ff(m.container,0)))}})},jI=(e,n,o,r,c,u=!1)=>{if(n.start.length===0&&!u){const m=e.createRng();return m.setStart(o,r),m.setEnd(o,r),$.some(m)}return vO(o,r,c).bind(m=>x3(e,n,c,m).bind(v=>{var T;if(u){if(v.endContainer===m.container&&v.endOffset===m.offset)return $.none();if(m.offset===0&&((T=v.endContainer.textContent)===null||T===void 0?void 0:T.length)===v.endOffset)return $.none()}return $.some(v)}))},T3=(e,n,o,r)=>{const c=e.dom,u=c.getRoot(),m=o.pattern,y=o.position.container,v=o.position.offset;return kO(y,v-o.pattern.end.length,n).bind(T=>{const R=nT(c,u,T.container,T.offset,y,v,r);if(S3(m))return $.some({matches:[{pattern:m,startRng:R,endRng:R}],position:T});{const M=t0(e,o.remainingPatterns,T.container,T.offset,n,r),B=M.getOr({matches:[],position:T}),W=B.position;return jI(c,m,W.container,W.offset,n,M.isNone()).map(q=>{const ee=oj(c,u,q,r);return{matches:B.matches.concat([{pattern:m,startRng:ee,endRng:R}]),position:ff(q.startContainer,q.startOffset)}})}})},t0=(e,n,o,r,c,u)=>{const m=e.dom;return vO(o,r,m.getRoot()).bind(y=>{const v=j_(m,c,o,r);for(let T=0;T<n.length;T++){const R=n[T];if(!ra(v,R.end))continue;const M=n.slice();M.splice(T,1);const B=T3(e,c,{pattern:R,remainingPatterns:M,position:y},u);if(B.isNone()&&r>0)return t0(e,n,o,r-1,c,u);if(B.isSome())return B}return $.none()})},WI=(e,n,o)=>{e.selection.setRng(o),n.type==="inline-format"?te(n.format,r=>{e.formatter.apply(r)}):e.execCommand(n.cmd,!1,n.value)},E3=(e,n,o,r)=>{const c=rT(e.dom,o);oT(e.dom,c,r),WI(e,n,c)},rj=(e,n,o,r,c)=>{const u=e.dom,m=rT(u,r),y=rT(u,o);oT(u,y,c),oT(u,m,c);const v={prefix:o.prefix,start:o.end,end:r.start},T=rT(u,v);WI(e,n,T)},aj=(e,n)=>{const o=jb("mce_textpattern"),r=st(n,(c,u)=>{const m=VI(e,o+`_end${c.length}`,u.endRng);return c.concat([{...u,endMarker:m}])},[]);return st(r,(c,u)=>{const m=r.length-c.length-1,y=S3(u.pattern)?u.endMarker:VI(e,o+`_start${m}`,u.startRng);return c.concat([{...u,startMarker:y}])},[])},ZI=e=>Wn(e,(n,o)=>o.end.length-n.end.length),cj=(e,n)=>{const o=zo(e,r=>jn(n,c=>r.pattern.start===c.pattern.start&&r.pattern.end===c.pattern.end));return e.length===n.length?o?e:n:e.length>n.length?e:n},qI=(e,n,o,r,c,u)=>{const m=t0(e,c.inlinePatterns,o,r,n,u).fold(()=>[],v=>v.matches),y=t0(e,ZI(c.inlinePatterns),o,r,n,u).fold(()=>[],v=>v.matches);return cj(m,y)},GI=(e,n)=>{if(n.length===0)return;const o=e.dom,r=e.selection.getBookmark(),c=aj(o,n);te(c,u=>{const m=o.getParent(u.startMarker.start,o.isBlock),y=v=>v===m;S3(u.pattern)?E3(e,u.pattern,u.endMarker,y):rj(e,u.pattern,u.startMarker,u.endMarker,y),UI(o,u.endMarker,y),UI(o,u.startMarker,y)}),e.selection.moveToBookmark(r)},KI=(e,n,o)=>ZH(n,0,n).map(r=>{const c=r.container;return S_(c,o.start.length,n).each(u=>{const m=e.createRng();m.setStart(c,0),m.setEnd(u.container,u.offset),oT(e,m,y=>y===n)}),c}),YI=e=>(n,o)=>{const r=n.dom,c=o.pattern,u=LI(r.getRoot(),o.range).getOrDie("Unable to resolve path range"),m=(y,v)=>{const T=v.get(y);return bt(T)&&wn(T).exists(R=>fn(R,"block"))};return sT(n,u).each(y=>{c.type==="block-format"?m(c.format,n.formatter)&&n.undoManager.transact(()=>{e(n.dom,y,c),n.formatter.apply(c.format)}):c.type==="block-command"&&n.undoManager.transact(()=>{e(n.dom,y,c),n.execCommand(c.cmd,!1,c.value)})}),!0},ij=e=>Wn(e,(n,o)=>o.start.length-n.start.length),XI=e=>(n,o)=>{const r=ij(n),c=o.replace(Qr," ");return Lt(r,u=>e(u,o,c))},A3=(e,n)=>(o,r,c,u,m)=>{var y;m===void 0&&(m=(y=r.textContent)!==null&&y!==void 0?y:"");const v=o.dom,T=Sc(o);return v.is(r,T)?e(c.blockPatterns,m).map(R=>n&&ut.trim(m).length===R.start.length?[]:[{pattern:R,range:nT(v,v.getRoot(),r,0,r,0,u)}]).getOr([]):[]},lj=e=>/^\s[^\s]/.test(e),uj=YI((e,n,o)=>{KI(e,n,o).each(r=>{const c=ie.fromDom(r),u=Am(c);lj(u)&&L0(c,u.slice(1))})}),dj=XI((e,n,o)=>n.indexOf(e.start)===0||o.indexOf(e.start)===0),fj=A3(dj,!0),mj=(e,n)=>{const o=e.selection.getRng();return sT(e,o).map(r=>{var c;const u=Math.max(0,o.startOffset),m=C3(n,r,(c=r.textContent)!==null&&c!==void 0?c:""),y=qI(e,r,o.startContainer,u,m,!0),v=fj(e,r,m,!0);return{inlineMatches:y,blockMatches:v}}).filter(({inlineMatches:r,blockMatches:c})=>c.length>0||r.length>0)},gj=(e,n)=>{if(n.length===0)return;const o=e.selection.getBookmark();te(n,r=>uj(e,r)),e.selection.moveToBookmark(o)},pj=YI(KI),aT=XI((e,n,o)=>n===e.start||o===e.start),hj=A3(aT,!1),yj=(e,n)=>{const o=e.selection.getRng();return sT(e,o).map(r=>{const c=Math.max(0,o.startOffset),u=j_(e.dom,r,o.startContainer,c),m=C3(n,r,u);return hj(e,r,m,!1,u)}).filter(r=>r.length>0)},bj=(e,n)=>{te(n,o=>pj(e,o))},vj=(e,n)=>mj(e,n).fold(we,({inlineMatches:o,blockMatches:r})=>(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{PT(e),GI(e,o),gj(e,r);const c=e.selection.getRng(),u=vO(c.startContainer,c.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),u.each(m=>{const y=m.container;y.data.charAt(m.offset-1)===Rp&&(y.deleteData(m.offset-1,1),vb(e.dom,y.parentNode,v=>v===e.dom.getRoot()))})}),!0)),kj=(e,n)=>{const o=e.selection.getRng();sT(e,o).map(r=>{const c=Math.max(0,o.startOffset-1),u=j_(e.dom,r,o.startContainer,c),m=C3(n,r,u),y=qI(e,r,o.startContainer,c,m,!1);y.length>0&&e.undoManager.transact(()=>{GI(e,y)})})},wj=(e,n)=>yj(e,n).fold(we,o=>(e.undoManager.transact(()=>{bj(e,o)}),!0)),QI=(e,n,o)=>{for(let r=0;r<e.length;r++)if(o(e[r],n))return!0;return!1},_j=(e,n)=>QI(e,n,(o,r)=>o===r.keyCode&&!it.modifierPressed(r)),Cj=(e,n)=>QI(e,n,(o,r)=>o.charCodeAt(0)===r.charCode),e5=e=>{const n=[",",".",";",":","!","?"],o=[32],r=()=>Yg(cS(e).filter(m=>m.type==="inline-command"||m.type==="block-command"?e.queryCommandSupported(m.cmd):!0),kk(e)),c=()=>vl(e);e.on("keydown",m=>{if(m.keyCode===13&&!it.modifierPressed(m)&&e.selection.isCollapsed()){const y=Ga(r(),"enter");(y.inlinePatterns.length>0||y.blockPatterns.length>0||c())&&vj(e,y)&&m.preventDefault()}},!0),e.on("keydown",m=>{if(m.keyCode===32&&e.selection.isCollapsed()){const y=Ga(r(),"space");(y.blockPatterns.length>0||c())&&wj(e,y)&&m.preventDefault()}},!0);const u=()=>{if(e.selection.isCollapsed()){const m=Ga(r(),"space");(m.inlinePatterns.length>0||c())&&kj(e,m)}};e.on("keyup",m=>{_j(o,m)&&u()}),e.on("keypress",m=>{Cj(n,m)&&Pu.setEditorTimeout(e,u)})},Sj=e=>{e5(e)},t5=e=>{const n=ut.each,o=it.BACKSPACE,r=it.DELETE,c=e.dom,u=e.selection,m=e.parser,y=rn.browser,v=y.isFirefox(),T=y.isChromium()||y.isSafari(),R=rn.deviceType.isiPhone()||rn.deviceType.isiPad(),M=rn.os.isMacOS()||rn.os.isiOS(),B=(Mt,yn)=>{try{e.getDoc().execCommand(Mt,!1,String(yn))}catch{}},W=Mt=>Mt.isDefaultPrevented(),X=()=>{const Mt=io=>{const Bt=c.create("body"),lo=io.cloneContents();return Bt.appendChild(lo),u.serializer.serialize(Bt,{format:"html"})},yn=io=>{const Bt=Mt(io),lo=c.createRng();lo.selectNode(e.getBody());const wo=Mt(lo);return Bt===wo};e.on("keydown",io=>{const Bt=io.keyCode;if(!W(io)&&(Bt===r||Bt===o)&&e.selection.isEditable()){const lo=e.selection.isCollapsed(),wo=e.getBody();if(lo&&!Su(e.schema,wo)||!lo&&!yn(e.selection.getRng()))return;io.preventDefault(),e.setContent(""),wo.firstChild&&c.isBlock(wo.firstChild)?e.selection.setCursorLocation(wo.firstChild,0):e.selection.setCursorLocation(wo,0),e.nodeChanged()}})},q=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},ee=()=>{e.inline||c.bind(e.getDoc(),"mousedown mouseup",Mt=>{let yn;if(Mt.target===e.getDoc().documentElement)if(yn=u.getRng(),e.getBody().focus(),Mt.type==="mousedown"){if(Xi(yn.startContainer))return;u.placeCaretAt(Mt.clientX,Mt.clientY)}else u.setRng(yn)})},de=()=>{e.on("keydown",Mt=>{if(!W(Mt)&&Mt.keyCode===o){if(!e.getBody().getElementsByTagName("hr").length)return;if(u.isCollapsed()&&u.getRng().startOffset===0){const yn=u.getNode(),io=yn.previousSibling;if(yn.nodeName==="HR"){c.remove(yn),Mt.preventDefault();return}io&&io.nodeName&&io.nodeName.toLowerCase()==="hr"&&(c.remove(io),Mt.preventDefault())}}})},_e=()=>{Range.prototype.getClientRects||e.on("mousedown",Mt=>{if(!W(Mt)&&Mt.target.nodeName==="HTML"){const yn=e.getBody();yn.blur(),Pu.setEditorTimeout(e,()=>{yn.focus()})}})},ke=()=>{const Mt=hk(e);e.on("click",yn=>{const io=yn.target;/^(IMG|HR)$/.test(io.nodeName)&&c.isEditable(io)&&(yn.preventDefault(),e.selection.select(io),e.nodeChanged()),io.nodeName==="A"&&c.hasClass(io,Mt)&&io.childNodes.length===0&&c.isEditable(io.parentNode)&&(yn.preventDefault(),u.select(io))})},Re=()=>{const Mt=()=>{const io=c.getAttribs(u.getStart().cloneNode(!1));return()=>{const Bt=u.getStart();Bt!==e.getBody()&&(c.setAttrib(Bt,"style",null),n(io,lo=>{Bt.setAttributeNode(lo.cloneNode(!0))}))}},yn=()=>!u.isCollapsed()&&c.getParent(u.getStart(),c.isBlock)!==c.getParent(u.getEnd(),c.isBlock);e.on("keypress",io=>{let Bt;return!W(io)&&(io.keyCode===8||io.keyCode===46)&&yn()?(Bt=Mt(),e.getDoc().execCommand("delete",!1),Bt(),io.preventDefault(),!1):!0}),c.bind(e.getDoc(),"cut",io=>{if(!W(io)&&yn()){const Bt=Mt();Pu.setEditorTimeout(e,()=>{Bt()})}})},tt=()=>{e.on("keydown",Mt=>{if(!W(Mt)&&Mt.keyCode===o&&u.isCollapsed()&&u.getRng().startOffset===0){const yn=u.getNode().previousSibling;if(yn&&yn.nodeName&&yn.nodeName.toLowerCase()==="table")return Mt.preventDefault(),!1}return!0})},kt=()=>{e.on("keydown",Mt=>{if(W(Mt)||Mt.keyCode!==it.BACKSPACE)return;let yn=u.getRng();const io=yn.startContainer,Bt=yn.startOffset,lo=c.getRoot();let wo=io;if(!(!yn.collapsed||Bt!==0)){for(;wo.parentNode&&wo.parentNode.firstChild===wo&&wo.parentNode!==lo;)wo=wo.parentNode;wo.nodeName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",void 0,wo),yn=c.createRng(),yn.setStart(io,0),yn.setEnd(io,0),u.setRng(yn))}})},$t=()=>{const Mt=()=>{B("StyleWithCSS",!1),B("enableInlineTableEditing",!1),bl(e)||B("enableObjectResizing",!1)};XC(e)||e.on("BeforeExecCommand mousedown",Mt)},je=()=>{const Mt=()=>{n(c.select("a:not([data-mce-block])"),yn=>{var io;let Bt=yn.parentNode;const lo=c.getRoot();if((Bt==null?void 0:Bt.lastChild)===yn){for(;Bt&&!c.isBlock(Bt);){if(((io=Bt.parentNode)===null||io===void 0?void 0:io.lastChild)!==Bt||Bt===lo)return;Bt=Bt.parentNode}c.add(Bt,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",yn=>{(yn.type==="setcontent"||yn.command==="mceInsertLink")&&Mt()})},$e=()=>{e.on("init",()=>{B("DefaultParagraphSeparator",Sc(e))})},et=Mt=>{const yn=Mt.getBody(),io=Mt.selection.getRng();return io.startContainer===io.endContainer&&io.startContainer===yn&&io.startOffset===0&&io.endOffset===yn.childNodes.length},Zt=()=>{e.on("keyup focusin mouseup",Mt=>{!it.modifierPressed(Mt)&&!et(e)&&u.normalize()},!0)},un=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},mo=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},ko=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",Mt=>{let yn;Mt.target.nodeName==="HTML"&&(yn=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(yn),e.selection.normalize(),e.nodeChanged())}))},ss=()=>{M&&e.on("keydown",Mt=>{it.metaKeyPressed(Mt)&&!Mt.shiftKey&&(Mt.keyCode===37||Mt.keyCode===39)&&(Mt.preventDefault(),e.selection.getSel().modify("move",Mt.keyCode===37?"backward":"forward","lineboundary"))})},vs=()=>{e.on("click",Mt=>{let yn=Mt.target;do if(yn.tagName==="A"){Mt.preventDefault();return}while(yn=yn.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},Hr=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",Mt=>{Mt.preventDefault()})})},Aa=()=>{m.addNodeFilter("br",Mt=>{let yn=Mt.length;for(;yn--;)Mt[yn].attr("class")==="Apple-interchange-newline"&&Mt[yn].remove()})},Ts=ze,St=()=>{if(!v||e.removed)return!1;const Mt=e.selection.getSel();return!Mt||!Mt.rangeCount||Mt.rangeCount===0},cn=()=>{T&&(ee(),ke(),Hr(),q(),R&&(mo(),ko(),vs())),v&&(_e(),$t(),un(),ss())},Ho=()=>{kt(),X(),rn.windowsPhone||Zt(),T&&(ee(),ke(),$e(),Hr(),tt(),Aa(),R?(mo(),ko(),vs()):q()),v&&(de(),_e(),Re(),$t(),je(),un(),ss(),tt())};return tg(e)?cn():Ho(),{refreshContentEditable:Ts,isHidden:St}},xj=e=>e.toLowerCase()==="gpl",Tj=e=>e.length>=64&&e.length<=255,n5=e=>xj(e)||Tj(e)?"VALID":"INVALID",W_=e=>{const n=dS(e);!ae(fS(e))&&(go(n)||n5(n)==="INVALID")&&console.warn("TinyMCE is running in evaluation mode. Provide a valid license key or add license_key: 'gpl' to the init config to agree to the open source license terms. Read more at https://www.tiny.cloud/license-key/")},z3=Gs.DOM,o5=(e,n)=>{const o=ie.fromDom(e.getBody()),r=Cf(Vi(o)),c=ie.fromTag("style");Ws(c,"type","text/css"),rr(c,ie.fromText(n)),rr(r,c),e.on("remove",()=>{bs(c)})},Ej=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,O3=e=>Io(e,n=>go(n)===!1),s5=e=>{const n=e.options.get,o=e.editorUpload.blobCache;return O3({allow_conditional_comments:n("allow_conditional_comments"),allow_html_data_urls:n("allow_html_data_urls"),allow_svg_data_urls:n("allow_svg_data_urls"),allow_html_in_named_anchor:n("allow_html_in_named_anchor"),allow_script_urls:n("allow_script_urls"),allow_unsafe_link_target:n("allow_unsafe_link_target"),convert_unsafe_embeds:n("convert_unsafe_embeds"),convert_fonts_to_spans:n("convert_fonts_to_spans"),fix_list_elements:n("fix_list_elements"),font_size_legacy_values:n("font_size_legacy_values"),forced_root_block:n("forced_root_block"),forced_root_block_attrs:n("forced_root_block_attrs"),preserve_cdata:n("preserve_cdata"),inline_styles:n("inline_styles"),root_name:Ej(e),sandbox_iframes:n("sandbox_iframes"),sandbox_iframes_exclusions:S1(e),sanitize:n("xss_sanitization"),validate:!0,blob_cache:o,document:e.getDoc()})},r5=e=>{const n=e.options.get;return O3({custom_elements:n("custom_elements"),extended_valid_elements:n("extended_valid_elements"),invalid_elements:n("invalid_elements"),invalid_styles:n("invalid_styles"),schema:n("schema"),valid_children:n("valid_children"),valid_classes:n("valid_classes"),valid_elements:n("valid_elements"),valid_styles:n("valid_styles"),verify_html:n("verify_html"),padd_empty_block_inline_children:n("format_empty_lines")})},a5=e=>{const n=e.options.get;return{...s5(e),...r5(e),...O3({remove_trailing_brs:n("remove_trailing_brs"),pad_empty_with_br:n("pad_empty_with_br"),url_converter:n("url_converter"),url_converter_scope:n("url_converter_scope"),element_format:n("element_format"),entities:n("entities"),entity_encoding:n("entity_encoding"),indent:n("indent"),indent_after:n("indent_after"),indent_before:n("indent_before")})}},Aj=e=>{const n=zv(s5(e),e.schema);return n.addAttributeFilter("src,href,style,tabindex",(o,r)=>{const c=e.dom,u="data-mce-"+r;let m=o.length;for(;m--;){const y=o[m];let v=y.attr(r);if(v&&!y.attr(u)){if(v.indexOf("data:")===0||v.indexOf("blob:")===0)continue;r==="style"?(v=c.serializeStyle(c.parseStyle(v),y.name),v.length||(v=null),y.attr(u,v),y.attr(r,v)):r==="tabindex"?(y.attr(u,v),y.attr(r,null)):y.attr(u,e.convertURL(v,r,y.name))}}}),n.addNodeFilter("script",o=>{let r=o.length;for(;r--;){const c=o[r],u=c.attr("type")||"no/type";u.indexOf("mce-")!==0&&c.attr("type","mce-"+u)}}),_1(e)&&n.addNodeFilter("#cdata",o=>{var r;let c=o.length;for(;c--;){const u=o[c];u.type=8,u.name="#comment",u.value="[CDATA["+e.dom.encode((r=u.value)!==null&&r!==void 0?r:"")+"]]"}}),n.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",o=>{let r=o.length;const c=e.schema.getNonEmptyElements();for(;r--;){const u=o[r];u.isEmpty(c)&&u.getAll("br").length===0&&u.append(new sl("br",1))}}),n},c5=e=>{const n=QC(e);n&&Pu.setEditorTimeout(e,()=>{let o;n===!0?o=e:o=e.editorManager.get(n),o&&!o.destroyed&&(o.focus(),o.selection.scrollIntoView())},100)},zj=e=>{const n=e.dom.getRoot();!e.inline&&(!fh(e)||e.selection.getStart(!0)===n)&&Ec(n).each(o=>{const r=o.getNode(),c=Ul(r)?Ec(r).getOr(o):o;e.selection.setRng(c.toRange())})},Oj=e=>{e.bindPendingEventDelegates(),e.initialized=!0,VE(e),e.focus(!0),zj(e),e.nodeChanged({initial:!0});const n=mE(e);ue(n)&&n.call(e,e),c5(e)},D3=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,Dj=(e,n,o)=>{const{pass:r,fail:c}=xe(n,y=>tinymce.Resource.has(Yw(y))),m=[...r.map(y=>{const v=tinymce.Resource.get(Yw(y));return ae(v)?Promise.resolve(D3(e).loadRawCss(y,v)):Promise.resolve()}),D3(e).loadAll(c)];return e.inline?m:m.concat([e.ui.styleSheetLoader.loadAll(o)])},i5=e=>{const n=D3(e),o=Di(e),r=e.contentCSS,c=()=>{n.unloadAll(r),e.inline||e.ui.styleSheetLoader.unloadAll(o)},u=()=>{e.removed?c():e.on("remove",c)};if(e.contentStyles.length>0){let v="";ut.each(e.contentStyles,T=>{v+=T+`\r
`}),e.dom.addStyle(v)}const m=Promise.all(Dj(e,r,o)).then(u).catch(u),y=cE(e);return y&&o5(e,y),m},Rj=e=>{const n=e.getDoc(),o=e.getBody();sv(e),bk(e)||(n.body.spellcheck=!1,z3.setAttrib(o,"spellcheck","false")),e.quirks=t5(e),HS(e);const r=fD(e);r!==void 0&&(o.dir=r);const c=vk(e);c&&e.on("BeforeSetContent",u=>{ut.each(c,m=>{u.content=u.content.replace(m,y=>"<!--mce:protected "+escape(y)+"-->")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",u=>{e.composing=u.type==="compositionstart"})},Mj=e=>{tg(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},R3=e=>{e.removed!==!0&&(Mj(e),Oj(e))},Nj=e=>{let n=!1;const o=setTimeout(()=>{n||e.setProgressState(!0)},500);return()=>{clearTimeout(o),n=!0,e.setProgressState(!1)}},M3=e=>{const n=e.getElement();let o=e.getDoc();e.inline&&(z3.addClass(n,"mce-content-body"),e.contentDocument=o=document,e.contentWindow=window,e.bodyElement=n,e.contentAreaContainer=n);const r=e.getBody();r.disabled=!0,e.readonly=XC(e),e._editableRoot=dE(e),!e.readonly&&e.hasEditableRoot()&&(e.inline&&z3.getStyle(r,"position",!0)==="static"&&(r.style.position="relative"),r.contentEditable="true"),r.disabled=!1,e.editorUpload=d4(e),e.schema=Wd(r5(e)),e.dom=Gs(o,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:WC(e),referrerPolicy:f1(e),onSetAttrib:m=>{e.dispatch("SetAttrib",m)}}),e.parser=Aj(e),e.serializer=Uc(a5(e),e),e.selection=n7(e.dom,e.getWin(),e.serializer,e),e.annotator=ev(e),e.formatter=Qf(e),e.undoManager=$v(e),e._nodeChangeDispatcher=new F$(e),e._selectionOverrides=nj(e),rH(e),bI(e),dH(e),tg(e)||(CI(e),Sj(e));const c=jx(e);eB(e,c),nO(e),K7(e),_U(e);const u=$6(e);Rj(e),W_(e),u.fold(()=>{const m=Nj(e);i5(e).then(()=>{R3(e),m()})},m=>{e.setProgressState(!0),i5(e).then(()=>{m().then(y=>{e.setProgressState(!1),R3(e),t4(e)},y=>{e.notificationManager.open({type:"error",text:String(y)}),R3(e),t4(e)})})})},N3=Qe,l5=(e,n,o)=>S(e,n,N3,o),cT=Gs.DOM,Pj=(e,n,o,r)=>{const c=ie.fromTag("iframe");return r.each(u=>Ws(c,"tabindex",u)),Hi(c,o),Hi(c,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:n}),dl(c,"tox-edit-area__iframe"),c},Bj=e=>{let n=tE(e)+"<html><head>";mc(e)!==e.documentBaseUrl&&(n+='<base href="'+e.documentBaseURI.getURI()+'" />'),n+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const o=nE(e),r=Lm(e),c=e.translate(yk(e));return dk(e)&&(n+='<meta http-equiv="Content-Security-Policy" content="'+dk(e)+'" />'),n+=`</head><body id="${o}" class="mce-content-body ${r}" data-id="${e.id}" aria-label="${c}"><br></body></html>`,n},$j=(e,n)=>{const o=rn.browser.isFirefox()?yk(e):"Rich Text Area",r=e.translate(o),c=Sr(ie.fromDom(e.getElement()),"tabindex").bind(Jc),u=Pj(e.id,r,LC(e),c).dom;u.onload=()=>{u.onload=null,e.dispatch("load")},e.contentAreaContainer=n.iframeContainer,e.iframeElement=u,e.iframeHTML=Bj(e),cT.add(n.iframeContainer,u)},u5=e=>{const n=e.iframeElement,o=()=>{e.contentDocument=n.contentDocument,M3(e)};if(mD(e)||rn.browser.isFirefox()){const r=e.getDoc();r.open(),r.write(e.iframeHTML),r.close(),o()}else{const r=l5(ie.fromDom(n),"load",()=>{r.unbind(),o()});n.srcdoc=e.iframeHTML}},d5=(e,n)=>{$j(e,n),n.editorContainer&&(n.editorContainer.style.display=e.orgDisplay,e.hidden=cT.isHidden(n.editorContainer)),e.getElement().style.display="none",cT.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,u5(e)},f5=Gs.DOM,Ij=(e,n,o)=>{const r=Mv.get(o),c=Mv.urls[o]||e.documentBaseUrl.replace(/\/$/,"");if(o=ut.trim(o),r&&ut.inArray(n,o)===-1){if(e.plugins[o])return;try{const u=r(e,c)||{};e.plugins[o]=u,ue(u.init)&&(u.init(e,c),n.push(o))}catch(u){R7(e,o,u)}}},P3=e=>e.replace(/^\-/,""),iT=e=>{const n=[];te(b1(e),o=>{Ij(e,n,P3(o))})},lT=e=>{const n=ut.trim(Sa(e)),o=e.ui.registry.getAll().icons,r={...ax.get("default").icons,...ax.get(n).icons};mt(r,(c,u)=>{fn(o,u)||e.ui.registry.addIcon(u,c)})},Tp=e=>{const n=Um(e);if(ae(n)){const o=Oh.get(n);e.theme=o(e,Oh.urls[n])||{},ue(e.theme.init)&&e.theme.init(e,Oh.urls[n]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}},uT=e=>{const n=p1(e),o=Rv.get(n);e.model=o(e,Rv.urls[n])},n0=e=>{const n=e.theme.renderUI;return n?n():B3(e)},m5=e=>{const n=e.getElement(),r=Um(e)(e,n);return r.editorContainer.nodeType&&(r.editorContainer.id=r.editorContainer.id||e.id+"_parent"),r.iframeContainer&&r.iframeContainer.nodeType&&(r.iframeContainer.id=r.iframeContainer.id||e.id+"_iframecontainer"),r.height=r.iframeHeight?r.iframeHeight:n.offsetHeight,r},g5=(e,n)=>({editorContainer:e,iframeContainer:n,api:{}}),Fj=e=>{const n=f5.create("div");return f5.insertAfter(n,e),g5(n,n)},B3=e=>{const n=e.getElement();return e.inline?g5(null):Fj(n)},Lj=e=>{const n=e.getElement();return e.orgDisplay=n.style.display,ae(Um(e))?n0(e):ue(Um(e))?m5(e):B3(e)},$3=(e,n)=>{const o={show:$.from(n.show).getOr(ze),hide:$.from(n.hide).getOr(ze),isEnabled:$.from(n.isEnabled).getOr(Qe),setEnabled:r=>{e.mode.isReadOnly()||$.from(n.setEnabled).each(c=>c(r))}};e.ui={...e.ui,...o}},dT=async e=>{e.dispatch("ScriptsLoaded"),lT(e),Tp(e),uT(e),iT(e);const n=await Lj(e);$3(e,$.from(n.api).getOr({})),e.editorContainer=n.editorContainer,ps(e),e.inline?M3(e):d5(e,{editorContainer:n.editorContainer,iframeContainer:n.iframeContainer})},Wu=Gs.DOM,Zh=e=>e.charAt(0)==="-",p5=(e,n)=>{const o=Vm(n),r=m1(n);if(!qa.hasCode(o)&&o!=="en"){const c=So(r)?r:`${n.editorManager.baseURL}/langs/${o}.js`;e.add(c).catch(()=>{z7(n,c,o)})}},Hj=(e,n)=>{const o=Um(e);if(ae(o)&&!Zh(o)&&!fn(Oh.urls,o)){const r=fk(e),c=r?e.documentBaseURI.toAbsolute(r):`themes/${o}/theme${n}.js`;Oh.load(o,c).catch(()=>{O7(e,c,o)})}},Vj=(e,n)=>{const o=p1(e);if(o!=="plugin"&&!fn(Rv.urls,o)){const r=qC(e),c=ae(r)?e.documentBaseURI.toAbsolute(r):`models/${o}/model${n}.js`;Rv.load(o,c).catch(()=>{D7(e,c,o)})}},Uj=e=>$.from(xa(e)).filter(So).map(n=>({url:n,name:$.none()})),h5=(e,n,o)=>$.from(n).filter(r=>So(r)&&!ax.has(r)).map(r=>({url:`${e.editorManager.baseURL}/icons/${r}/icons${o}.js`,name:$.some(r)})),jj=(e,n,o)=>{const r=h5(n,"default",o),c=Uj(n).orThunk(()=>h5(n,Sa(n),""));te(rc([r,c]),u=>{e.add(u.url).catch(()=>{YN(n,u.url,u.name.getOrUndefined())})})},Wj=(e,n)=>{const o=(r,c)=>{Mv.load(r,c).catch(()=>{A7(e,c,r)})};mt(fE(e),(r,c)=>{o(c,r),e.options.set("plugins",b1(e).concat(c))}),te(b1(e),r=>{r=ut.trim(r),r&&!Mv.urls[r]&&!Zh(r)&&o(r,`plugins/${r}/plugin${n}.js`)})},y5=e=>{const n=Um(e);return!ae(n)||Ne(Oh.get(n))},Zj=e=>{const n=p1(e);return Ne(Rv.get(n))},qj=(e,n)=>{const o=dd.ScriptLoader,r=()=>{!e.removed&&y5(e)&&Zj(e)&&dT(e)};Hj(e,n),Vj(e,n),p5(o,e),jj(o,e,n),Wj(e,n),o.loadQueue().then(r,r)},Gj=(e,n)=>Ds.forElement(e,{contentCssCors:gk(n),referrerPolicy:f1(n)}),bq=e=>{const n=e.id;qa.setCode(Vm(e));const o=()=>{Wu.unbind(window,"ready",o),e.render()};if(!Sm.Event.domLoaded){Wu.bind(window,"ready",o);return}if(!e.getElement())return;const r=ie.fromDom(e.getElement()),c=du(r);e.on("remove",()=>{Te(r.dom.attributes,m=>xr(r,m.name)),Hi(r,c)}),e.ui.styleSheetLoader=Gj(r,e),wy(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const u=e.getElement().form||Wu.getParent(n,"form");u&&(e.formElement=u,iE(e)&&!ar(e.getElement())&&(Wu.insertAfter(Wu.create("input",{type:"hidden",name:n}),n),e.hasHiddenInput=!0),e.formEventDelegate=m=>{e.dispatch(m.type,m)},Wu.bind(u,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),h1(e)&&!u.submit.nodeType&&!u.submit.length&&!u._mceOldSubmit&&(u._mceOldSubmit=u.submit,u.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),u._mceOldSubmit(u)))),e.windowManager=GN(e),e.notificationManager=qN(e),jm(e)&&e.on("GetContent",m=>{m.save&&(m.content=Wu.encode(m.content))}),lE(e)&&e.on("submit",()=>{e.initialized&&e.save()}),YC(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),qj(e,e.suffix)},Kj=(e,n)=>{e._editableRoot!==n&&(e._editableRoot=n,e.readonly||(e.getBody().contentEditable=String(e.hasEditableRoot()),e.nodeChanged()),ZS(e,n))},I3=e=>e._editableRoot,Yj=(e,n)=>({sections:Me(e),options:Me(n)}),b5=ft().deviceType,F3=b5.isPhone(),Xj=b5.isTablet(),o0=e=>{if(gn(e))return[];{const n=bt(e)?e:e.split(/[ ,]/),o=Qt(n,Dr);return be(o,So)}},Jj=(e,n)=>{const o=Kr(n,(r,c)=>jt(e,c));return Yj(o.t,o.f)},L3=(e,n,o={})=>{const r=e.sections(),c=Uo(r,n).getOr({});return ut.extend({},o,c)},H3=(e,n)=>fn(e.sections(),n),Qj=(e,n)=>H3(e,n)?e.sections()[n]:{},eW=(e,n)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:Uo(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...n?{menubar:!1}:{}}),tW=(e,n)=>{var o;const r=(o=n.external_plugins)!==null&&o!==void 0?o:{};return e&&e.external_plugins?ut.extend({},e.external_plugins,r):r},v5=(e,n)=>[...o0(e),...o0(n)],V3=(e,n,o,r)=>e&&H3(n,"mobile")?r:o,k5=(e,n,o,r)=>{const c=o0(o.forced_plugins),u=o0(r.plugins),m=Qj(n,"mobile"),y=m.plugins?o0(m.plugins):u,v=V3(e,n,u,y),T=v5(c,v);return ut.extend(r,{forced_plugins:c,plugins:T})},U3=(e,n)=>e&&H3(n,"mobile"),nW=(e,n,o,r,c)=>{var u;const m=e?{mobile:eW((u=c.mobile)!==null&&u!==void 0?u:{},n)}:{},y=Jj(["mobile"],su(m,c)),v=ut.extend(o,r,y.options(),U3(e,y)?L3(y,"mobile"):{},{external_plugins:tW(r,y.options())});return k5(e,y,r,v)},vq=(e,n)=>{const o=Wv(n);return nW(F3||Xj,F3,o,e,o)},kq=(e,n)=>q6(e,n),oW=e=>{const n=(r,c)=>{e.formatter.toggle(r,c),e.nodeChanged()},o=r=>()=>{te("left,center,right,justify".split(","),c=>{r!==c&&e.formatter.remove("align"+c)}),r!=="none"&&n("align"+r)};e.editorCommands.addCommands({JustifyLeft:o("left"),JustifyCenter:o("center"),JustifyRight:o("right"),JustifyFull:o("justify"),JustifyNone:o("none")})},w5=e=>{const n=o=>()=>{const r=e.selection,c=r.isCollapsed()?[e.dom.getParent(r.getNode(),e.dom.isBlock)]:r.getSelectedBlocks();return jn(c,u=>Ne(e.formatter.matchNode(u,o)))};e.editorCommands.addCommands({JustifyLeft:n("alignleft"),JustifyCenter:n("aligncenter"),JustifyRight:n("alignright"),JustifyFull:n("alignjustify")},"state")},sW=e=>{oW(e),w5(e)},rW=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":n=>{const o=e.getDoc();let r;try{o.execCommand(n)}catch{r=!0}if(n==="paste"&&!o.queryCommandEnabled(n)&&(r=!0),r||!o.queryCommandSupported(n)){let c=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(rn.os.isMacOS()||rn.os.isiOS())&&(c=c.replace(/Ctrl\+/g,"⌘+")),e.notificationManager.open({text:c,type:"error"})}}})},aW=(e,n,o,r)=>{const c=ie.fromDom(e.getRoot());return fw(c,Ue.fromRangeStart(n),r)?o=o.replace(/^ /,"&nbsp;"):o=o.replace(/^&nbsp;/," "),hv(c,Ue.fromRangeEnd(n),r)?o=o.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):o=o.replace(/&nbsp;(<br( \/)?>)?$/," "),o},wq=e=>{if(typeof e!="string"){const n=ut.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:n}}return{content:e,details:{}}},_q=(e,n)=>{const o=e.selection,r=e.dom;return/^ | $/.test(n)?aW(r,o.getRng(),n,e.schema):n},Z_=(e,n)=>{if(e.selection.isEditable()){const{content:o,details:r}=wq(n);G2(e,{...r,content:_q(e,o),format:"html",set:!1,selection:!0}).each(c=>{const u=W6(e,c.content,r);Mz(e,u,c),e.addVisual()})}},_5=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const n=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(n)},insertImage:(n,o,r)=>{Z_(e,e.dom.createHTML("img",{src:r}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(n,o,r)=>{Z_(e,e.dom.encode(r))},insertHTML:(n,o,r)=>{Z_(e,r)},mceInsertContent:(n,o,r)=>{Z_(e,r)},mceSetContent:(n,o,r)=>{e.setContent(r)},mceReplaceContent:(n,o,r)=>{e.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent(oS(e))}})},cW={"font-size":"size","font-family":"face"},iW=cc("font"),lW=(e,n,o)=>{const r=u=>$a(u,e).orThunk(()=>iW(u)?Uo(cW,e).bind(m=>Sr(u,m)):$.none()),c=u=>Qn(ie.fromDom(n),u);return Aw(ie.fromDom(o),u=>r(u),c)},Cq=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),Sq=(e,n)=>$.from(Gs.DOM.getStyle(n,e,!0)),uW=e=>(n,o)=>$.from(o).map(ie.fromDom).filter(Ua).bind(r=>lW(e,n,r.dom).or(Sq(e,r.dom))).getOr(""),dW=uW("font-size"),xq=C(Cq,uW("font-family")),fW=e=>Ec(e.getBody()).bind(n=>{const o=n.container();return $.from(ct(o)?o.parentNode:o)}),kb=e=>$.from(e.selection.getRng()).bind(n=>{const o=e.getBody();return n.startContainer===o&&n.startOffset===0?$.none():$.from(e.selection.getStart(!0))}),j3=(e,n)=>kb(e).orThunk(he(fW,e)).map(ie.fromDom).filter(Ua).bind(n),s0=(e,n)=>j3(e,Ge($.some,n)),W3=(e,n)=>{if(/^[0-9.]+$/.test(n)){const o=parseInt(n,10);if(o>=1&&o<=7){const r=wk(e),c=yE(e);return c.length>0?c[o-1]||n:r[o-1]||n}else return n}else return n},C5=e=>{const n=e.split(/\s*,\s*/);return Qt(n,o=>o.indexOf(" ")!==-1&&!(ns(o,'"')||ns(o,"'"))?`'${o}'`:o).join(",")},S5=(e,n)=>{const o=W3(e,n);e.formatter.toggle("fontname",{value:C5(o)}),e.nodeChanged()},mW=e=>s0(e,n=>xq(e.getBody(),n.dom)).getOr(""),gW=(e,n)=>{e.formatter.toggle("fontsize",{value:W3(e,n)}),e.nodeChanged()},pW=e=>s0(e,n=>dW(e.getBody(),n.dom)).getOr(""),hW=e=>s0(e,n=>{const o=ie.fromDom(e.getBody()),r=Aw(n,u=>$a(u,"line-height"),he(Qn,o)),c=()=>{const u=parseFloat(Wr(n,"line-height")),m=parseFloat(Wr(n,"font-size"));return String(u/m)};return r.getOrThunk(c)}).getOr(""),yW=(e,n)=>{e.formatter.toggle("lineheight",{value:String(n)}),e.nodeChanged()},bW=e=>{const n=(o,r)=>{e.formatter.toggle(o,r),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>{n(o)},"ForeColor,HiliteColor":(o,r,c)=>{n(o,{value:c})},BackColor:(o,r,c)=>{n("hilitecolor",{value:c})},FontName:(o,r,c)=>{S5(e,c)},FontSize:(o,r,c)=>{gW(e,c)},LineHeight:(o,r,c)=>{yW(e,c)},Lang:(o,r,c)=>{var u;n(o,{value:c.code,customValue:(u=c.customCode)!==null&&u!==void 0?u:null})},RemoveFormat:o=>{e.formatter.remove(o)},mceBlockQuote:()=>{n("blockquote")},FormatBlock:(o,r,c)=>{n(ae(c)?c:"p")},mceToggleFormat:(o,r,c)=>{n(c)}})},qh=e=>{const n=o=>e.formatter.match(o);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>n(o),mceBlockQuote:()=>n("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>mW(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>pW(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>hW(e))},vW=e=>{bW(e),qh(e)},x5=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},kW=e=>{e.editorCommands.addCommands({Indent:()=>{Ih(e)},Outdent:()=>{Q4(e)}}),e.editorCommands.addCommands({Outdent:()=>$h(e)},"state")},fT=e=>{const n=(o,r,c)=>{const u=ae(c)?{href:c}:c,m=e.dom.getParent(e.selection.getNode(),"a");wt(u)&&ae(u.href)&&(u.href=u.href.replace(/ /g,"%20"),(!m||!u.href)&&e.formatter.remove("link"),u.href&&e.formatter.apply("link",u,m))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){const o=e.dom.getParent(e.selection.getStart(),"a");o&&e.dom.remove(o,!0);return}e.formatter.remove("link")}},mceInsertLink:n,createLink:n})},wW=(e,n,o,r)=>{const c=e.dom,u=y=>c.isBlock(y)&&y.parentElement===o,m=u(n)?n:c.getParent(r,u,o);return $.from(m).map(ie.fromDom)},T5=(e,n)=>{const o=e.dom,r=e.selection.getRng(),c=n?e.selection.getStart():e.selection.getEnd(),u=n?r.startContainer:r.endContainer,m=O_(o,u);if(!m||!m.isContentEditable)return;const y=n?uc:Zc,v=Sc(e);wW(e,c,m,u).each(T=>{const R=i$(e,u,T.dom,m,!1,v);y(T,ie.fromDom(R)),e.selection.setCursorLocation(R,0),e.dispatch("NewBlock",{newBlock:R}),hb(e,"insertParagraph")})},_W=e=>T5(e,!0),E5=e=>T5(e,!1),CW=e=>{e.editorCommands.addCommands({InsertNewBlockBefore:()=>{_W(e)},InsertNewBlockAfter:()=>{E5(e)}})},SW=e=>{e.editorCommands.addCommands({insertParagraph:()=>{Gv(y$,e)},mceInsertNewLine:(n,o,r)=>{T$(e,r)},InsertLineBreak:(n,o,r)=>{Gv(v$,e)}})},xW=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(n,o,r)=>{let c=0;e.dom.getParent(e.selection.getNode(),u=>Nt(u)&&c++===r?(e.selection.select(u),!1):!0,e.getBody())},mceSelectNode:(n,o,r)=>{e.selection.select(r)},selectAll:()=>{const n=e.dom.getParent(e.selection.getStart(),Ke);if(n){const o=e.dom.createRng();o.selectNodeContents(n),e.selection.setRng(o)}}})},TW=e=>{e.editorCommands.addCommands({mceRemoveNode:(n,o,r)=>{const c=r??e.selection.getNode();if(c!==e.getBody()){const u=e.selection.getBookmark();e.dom.remove(c,!0),e.selection.moveToBookmark(u)}},mcePrint:()=>{e.getWin().print()},mceFocus:(n,o,r)=>{dF(e,r===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},Z3=e=>{sW(e),rW(e),x5(e),xW(e),_5(e),fT(e),kW(e),CW(e),SW(e),vW(e),TW(e)},EW=["toggleview"],A5=e=>jt(EW,e.toLowerCase());class Fa{constructor(n){this.commands={state:{},exec:{},value:{}},this.editor=n}execCommand(n,o=!1,r,c){const u=this.editor,m=n.toLowerCase(),y=c==null?void 0:c.skip_focus;if(u.removed||(m!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(m)&&!y?u.focus():xD(u)),u.dispatch("BeforeExecCommand",{command:n,ui:o,value:r}).isDefaultPrevented()))return!1;const T=this.commands.exec[m];return ue(T)?(T(m,o,r),u.dispatch("ExecCommand",{command:n,ui:o,value:r}),!0):!1}queryCommandState(n){if(!A5(n)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const o=n.toLowerCase(),r=this.commands.state[o];return ue(r)?r(o):!1}queryCommandValue(n){if(!A5(n)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const o=n.toLowerCase(),r=this.commands.value[o];return ue(r)?r(o):""}addCommands(n,o="exec"){const r=this.commands;mt(n,(c,u)=>{te(u.toLowerCase().split(","),m=>{r[o][m]=c})})}addCommand(n,o,r){const c=n.toLowerCase();this.commands.exec[c]=(u,m,y)=>o.call(r??this.editor,m,y)}queryCommandSupported(n){const o=n.toLowerCase();return!!this.commands.exec[o]}addQueryStateHandler(n,o,r){this.commands.state[n.toLowerCase()]=()=>o.call(r??this.editor)}addQueryValueHandler(n,o,r){this.commands.value[n.toLowerCase()]=()=>o.call(r??this.editor)}}const wb="data-mce-contenteditable",AW=(e,n,o)=>{Bl(e,n)&&!o?gu(e,n):o&&dl(e,n)},q_=(e,n,o)=>{try{e.getDoc().execCommand(n,!1,String(o))}catch{}},G_=(e,n)=>{e.dom.contentEditable=n?"true":"false"},q3=e=>{te(dc(e,'*[contenteditable="true"]'),n=>{Ws(n,wb,"true"),G_(n,!1)})},zW=e=>{te(dc(e,`*[${wb}="true"]`),n=>{xr(n,wb),G_(n,!0)})},OW=e=>{$.from(e.selection.getNode()).each(n=>{n.removeAttribute("data-mce-selected")})},DW=e=>{e.selection.setRng(e.selection.getRng())},RW=(e,n)=>{const o=ie.fromDom(e.getBody());AW(o,"mce-content-readonly",n),n?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),OW(e),e.readonly=!0,G_(o,!1),q3(o)):(e.readonly=!1,e.hasEditableRoot()&&G_(o,!0),zW(o),q_(e,"StyleWithCSS",!1),q_(e,"enableInlineTableEditing",!1),q_(e,"enableObjectResizing",!1),ID(e)&&e.focus(),DW(e),e.nodeChanged())},_b=e=>e.readonly,z5=e=>{e.parser.addAttributeFilter("contenteditable",n=>{_b(e)&&te(n,o=>{o.attr(wb,o.attr("contenteditable")),o.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(wb,n=>{_b(e)&&te(n,o=>{o.attr("contenteditable",o.attr(wb))})}),e.serializer.addTempAttr(wb)},MW=e=>{e.serializer?z5(e):e.on("PreInit",()=>{z5(e)})},NW=e=>e.type==="click",r0=["copy"],om=e=>jt(r0,e.type),PW=(e,n)=>Ll(n,"a",r=>Qn(r,ie.fromDom(e.getBody()))).bind(r=>Sr(r,"href")),BW=(e,n)=>{if(NW(n)&&!it.metaKeyPressed(n)){const o=ie.fromDom(n.target);PW(e,o).each(r=>{if(n.preventDefault(),/^#/.test(r)){const c=e.dom.select(`${r},[name="${Ns(r,"#")}"]`);c.length&&e.selection.scrollIntoView(c[0],!0)}else window.open(r,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else om(n)&&e.dispatch(n.type,n)},$W=e=>{e.on("ShowCaret",n=>{_b(e)&&n.preventDefault()}),e.on("ObjectSelected",n=>{_b(e)&&n.preventDefault()})},IW=ut.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class G3{static isNative(n){return!!IW[n.toLowerCase()]}constructor(n){this.bindings={},this.settings=n||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||we}fire(n,o){return this.dispatch(n,o)}dispatch(n,o){const r=n.toLowerCase(),c=x0(r,o??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(c);const u=this.bindings[r];if(u)for(let m=0,y=u.length;m<y;m++){const v=u[m];if(!v.removed){if(v.once&&this.off(r,v.func),c.isImmediatePropagationStopped())return c;if(v.func.call(this.scope,c)===!1)return c.preventDefault(),c}}return c}on(n,o,r,c){if(o===!1&&(o=we),o){const u={func:o,removed:!1};c&&ut.extend(u,c);const m=n.toLowerCase().split(" ");let y=m.length;for(;y--;){const v=m[y];let T=this.bindings[v];T||(T=[],this.toggleEvent(v,!0)),r?T=[u,...T]:T=[...T,u],this.bindings[v]=T}}return this}off(n,o){if(n){const r=n.toLowerCase().split(" ");let c=r.length;for(;c--;){const u=r[c];let m=this.bindings[u];if(!u)return mt(this.bindings,(y,v)=>{this.toggleEvent(v,!1),delete this.bindings[v]}),this;if(m){if(!o)m.length=0;else{const y=xe(m,v=>v.func===o);m=y.fail,this.bindings[u]=m,te(y.pass,v=>{v.removed=!0})}m.length||(this.toggleEvent(n,!1),delete this.bindings[u])}}}else mt(this.bindings,(r,c)=>{this.toggleEvent(c,!1)}),this.bindings={};return this}once(n,o,r){return this.on(n,o,r,{once:!0})}has(n){n=n.toLowerCase();const o=this.bindings[n];return!(!o||o.length===0)}}const K_=e=>(e._eventDispatcher||(e._eventDispatcher=new G3({scope:e,toggleEvent:(n,o)=>{G3.isNative(n)&&e.toggleNativeEvent&&e.toggleNativeEvent(n,o)}})),e._eventDispatcher),K3={fire(e,n,o){return this.dispatch(e,n,o)},dispatch(e,n,o){const r=this;if(r.removed&&e!=="remove"&&e!=="detach")return x0(e.toLowerCase(),n??{},r);const c=K_(r).dispatch(e,n);if(o!==!1&&r.parent){let u=r.parent();for(;u&&!c.isPropagationStopped();)u.dispatch(e,c,!1),u=u.parent?u.parent():void 0}return c},on(e,n,o){return K_(this).on(e,n,o)},off(e,n){return K_(this).off(e,n)},once(e,n){return K_(this).once(e,n)},hasEventListeners(e){return K_(this).has(e)}},mT=Gs.DOM;let Cb;const Y3=(e,n)=>{if(n==="selectionchange")return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(n))return e.getDoc().documentElement;const o=gd(e);return o?(e.eventRoot||(e.eventRoot=mT.select(o)[0]),e.eventRoot):e.getBody()},FW=e=>!e.hidden&&!_b(e),O5=(e,n,o)=>{FW(e)?e.dispatch(n,o):_b(e)&&BW(e,o)},D5=(e,n)=>{if(e.delegates||(e.delegates={}),e.delegates[n]||e.removed)return;const o=Y3(e,n);if(gd(e)){if(Cb||(Cb={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||Cb&&(mt(Cb,(c,u)=>{e.dom.unbind(Y3(e,u))}),Cb=null)})),Cb[n])return;const r=c=>{const u=c.target,m=e.editorManager.get();let y=m.length;for(;y--;){const v=m[y].getBody();(v===u||mT.isChildOf(u,v))&&O5(m[y],n,c)}};Cb[n]=r,mT.bind(o,n,r)}else{const r=c=>{O5(e,n,c)};mT.bind(o,n,r),e.delegates[n]=r}},R5={...K3,bindPendingEventDelegates(){const e=this;ut.each(e._pendingNativeEvents,n=>{D5(e,n)})},toggleNativeEvent(e,n){const o=this;e==="focus"||e==="blur"||o.removed||(n?o.initialized?D5(o,e):o._pendingNativeEvents?o._pendingNativeEvents.push(e):o._pendingNativeEvents=[e]:o.initialized&&o.delegates&&(o.dom.unbind(Y3(o,e),e,o.delegates[e]),delete o.delegates[e]))},unbindAllNativeEvents(){const e=this,n=e.getBody(),o=e.dom;e.delegates&&(mt(e.delegates,(r,c)=>{e.dom.unbind(Y3(e,c),c,r)}),delete e.delegates),!e.inline&&n&&o&&(n.onload=null,o.unbind(e.getWin()),o.unbind(e.getDoc())),o&&(o.unbind(n),o.unbind(e.getContainer()))}},LW=e=>ae(e)?{value:e.split(/[ ,]/),valid:!0}:Ae(e,ae)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},HW=e=>{const n=(()=>{switch(e){case"array":return bt;case"boolean":return zt;case"function":return ue;case"number":return Wo;case"object":return wt;case"string":return ae;case"string[]":return LW;case"object[]":return o=>Ae(o,wt);case"regexp":return o=>en(o,RegExp);default:return Qe}})();return o=>X3(o,n,`The value must be a ${e}.`)},Tq=e=>ae(e.processor),M5=(e,n)=>{const o=ca(n.message)?"":`. ${n.message}`;return e+o},N5=e=>e.valid,X3=(e,n,o="")=>{const r=n(e);return zt(r)?r?{value:e,valid:!0}:{valid:!1,message:o}:r},VW=(e,n,o)=>{if(!go(n)){const r=X3(n,o);if(N5(r))return r.value;console.error(M5(`Invalid default value passed for the "${e}" option`,r))}},UW=(e,n,o=n)=>{const r={},c={},u=(W,X,q)=>{const ee=X3(X,q);return N5(ee)?(c[W]=ee.value,!0):(console.warn(M5(`Invalid value passed for the ${W} option`,ee)),!1)},m=(W,X)=>{const q=Tq(X)?HW(X.processor):X.processor,ee=VW(W,X.default,q);r[W]={...X,default:ee,processor:q},Uo(c,W).orThunk(()=>Uo(n,W)).each(_e=>u(W,_e,q))},y=W=>fn(r,W);return{register:m,isRegistered:y,get:W=>Uo(c,W).orThunk(()=>Uo(r,W).map(X=>X.default)).getOrUndefined(),set:(W,X)=>{if(y(W)){const q=r[W];return q.immutable?(console.error(`"${W}" is an immutable option and cannot be updated`),!1):u(W,X,q.processor)}else return console.warn(`"${W}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:W=>{const X=y(W);return X&&delete c[W],X},isSet:W=>fn(c,W),debug:()=>{try{console.log(JSON.parse(JSON.stringify(o,(W,X)=>zt(X)||Wo(X)||ae(X)||Z(X)||bt(X)||ur(X)?X:Object.prototype.toString.call(X))))}catch(W){console.error(W)}}}},jW=["design","readonly"],P5=(e,n,o,r)=>{const c=o[n.get()],u=o[r];try{u.activate()}catch(m){console.error(`problem while activating editor mode ${r}:`,m);return}c.deactivate(),c.editorReadOnly!==u.editorReadOnly&&RW(e,u.editorReadOnly),n.set(r),FE(e,r)},WW=(e,n,o,r)=>{if(r!==o.get()){if(!fn(n,r))throw new Error(`Editor mode '${r}' is invalid`);e.initialized?P5(e,o,n,r):e.on("init",()=>P5(e,o,n,r))}},ZW=(e,n,o)=>{if(jt(jW,n))throw new Error(`Cannot override default mode ${n}`);return{...e,[n]:{...o,deactivate:()=>{try{o.deactivate()}catch(r){console.error(`problem while deactivating editor mode ${n}:`,r)}}}}},qW=e=>{const n=Ee("design"),o=Ee({design:{activate:ze,deactivate:ze,editorReadOnly:!1},readonly:{activate:ze,deactivate:ze,editorReadOnly:!0}});return MW(e),$W(e),{isReadOnly:()=>_b(e),set:r=>WW(e,o.get(),n,r),get:()=>n.get(),register:(r,c)=>{o.set(ZW(o.get(),r,c))}}},J3=ut.each,Q3=ut.explode,GW={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},B5=ut.makeMap("alt,ctrl,shift,meta,access"),KW=e=>e in B5,YW=e=>{const n={},o=rn.os.isMacOS()||rn.os.isiOS();J3(Q3(e.toLowerCase(),"+"),u=>{KW(u)?n[u]=!0:/^[0-9]{2,}$/.test(u)?n.keyCode=parseInt(u,10):(n.charCode=u.charCodeAt(0),n.keyCode=GW[u]||u.toUpperCase().charCodeAt(0))});const r=[n.keyCode];let c;for(c in B5)n[c]?r.push(c):n[c]=!1;return n.id=r.join(","),n.access&&(n.alt=!0,o?n.ctrl=!0:n.shift=!0),n.meta&&(o?n.meta=!0:(n.ctrl=!0,n.meta=!1)),n};class eD{constructor(n){this.shortcuts={},this.pendingPatterns=[],this.editor=n;const o=this;n.on("keyup keypress keydown",r=>{(o.hasModifier(r)||o.isFunctionKey(r))&&!r.isDefaultPrevented()&&(J3(o.shortcuts,c=>{o.matchShortcut(r,c)&&(o.pendingPatterns=c.subpatterns.slice(0),r.type==="keydown"&&o.executeShortcutAction(c))}),o.matchShortcut(r,o.pendingPatterns[0])&&(o.pendingPatterns.length===1&&r.type==="keydown"&&o.executeShortcutAction(o.pendingPatterns[0]),o.pendingPatterns.shift()))})}add(n,o,r,c){const u=this,m=u.normalizeCommandFunc(r);return J3(Q3(ut.trim(n)),y=>{const v=u.createShortcut(y,o,m,c);u.shortcuts[v.id]=v}),!0}remove(n){const o=this.createShortcut(n);return this.shortcuts[o.id]?(delete this.shortcuts[o.id],!0):!1}normalizeCommandFunc(n){const o=this,r=n;return typeof r=="string"?()=>{o.editor.execCommand(r,!1,null)}:ut.isArray(r)?()=>{o.editor.execCommand(r[0],r[1],r[2])}:r}createShortcut(n,o,r,c){const u=ut.map(Q3(n,">"),YW);return u[u.length-1]=ut.extend(u[u.length-1],{func:r,scope:c||this.editor}),ut.extend(u[0],{desc:this.editor.translate(o),subpatterns:u.slice(1)})}hasModifier(n){return n.altKey||n.ctrlKey||n.metaKey}isFunctionKey(n){return n.type==="keydown"&&n.keyCode>=112&&n.keyCode<=123}matchShortcut(n,o){return!o||o.ctrl!==n.ctrlKey||o.meta!==n.metaKey||o.alt!==n.altKey||o.shift!==n.shiftKey?!1:n.keyCode===o.keyCode||n.charCode&&n.charCode===o.charCode?(n.preventDefault(),!0):!1}executeShortcutAction(n){return n.func?n.func.call(n.scope):null}}const XW=()=>{const e={},n={},o={},r={},c={},u={},m={},y={},v=(R,M)=>(B,W)=>{R[B.toLowerCase()]={...W,type:M}},T=(R,M)=>r[R.toLowerCase()]=M;return{addButton:v(e,"button"),addGroupToolbarButton:v(e,"grouptoolbarbutton"),addToggleButton:v(e,"togglebutton"),addMenuButton:v(e,"menubutton"),addSplitButton:v(e,"splitbutton"),addMenuItem:v(n,"menuitem"),addNestedMenuItem:v(n,"nestedmenuitem"),addToggleMenuItem:v(n,"togglemenuitem"),addAutocompleter:v(o,"autocompleter"),addContextMenu:v(c,"contextmenu"),addContextToolbar:v(u,"contexttoolbar"),addContextForm:v(u,"contextform"),addSidebar:v(m,"sidebar"),addView:v(y,"views"),addIcon:T,getAll:()=>({buttons:e,menuItems:n,icons:r,popups:o,contextMenus:c,contextToolbars:u,sidebars:m,views:y})}},JW=()=>{const e=XW();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,getAll:e.getAll}},Sb=Gs.DOM,$5=ut.extend,QW=ut.each;class gT{constructor(n,o,r){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=r,this.documentBaseUrl=r.documentBaseURL,$5(this,R5);const c=this;this.id=n,this.hidden=!1;const u=vq(r.defaultOptions,o);this.options=UW(c,u,o),FC(c);const m=this.options.get;m("deprecation_warnings")&&h7(o,u);const y=m("suffix");y&&(r.suffix=y),this.suffix=r.suffix;const v=m("base_url");v&&r._setBaseUrl(v),this.baseUri=r.baseURI;const T=f1(c);T&&(dd.ScriptLoader._setReferrerPolicy(T),Gs.DOM.styleSheetLoader._setReferrerPolicy(T));const R=gk(c);Ne(R)&&Gs.DOM.styleSheetLoader._setContentCssCors(R),si.languageLoad=m("language_load"),si.baseURL=r.baseURL,this.setDirty(!1),this.documentBaseURI=new mi(mc(c),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=wy(c),this.hasVisual=ui(c),this.shortcuts=new eD(this),this.editorCommands=new Fa(this),Z3(this);const M=m("cache_suffix");M&&(rn.cacheSuffix=M.replace(/^[\?\&]+/,"")),this.ui={registry:JW(),styleSheetLoader:void 0,show:ze,hide:ze,setEnabled:ze,isEnabled:Qe},this.mode=qW(c),r.dispatch("SetupEditor",{editor:this});const B=v1(c);ue(B)&&B.call(c,c)}render(){bq(this)}focus(n){this.execCommand("mceFocus",!1,n)}hasFocus(){return mp(this)}translate(n){return qa.translate(n)}getParam(n,o,r){const c=this.options;return c.isRegistered(n)||(Ne(r)?c.register(n,{processor:r,default:o}):c.register(n,{processor:Qe,default:o})),!c.isSet(n)&&!go(o)?o:c.get(n)}hasPlugin(n,o){return jt(b1(this),n)?o?Mv.get(n)!==void 0:!0:!1}nodeChanged(n){this._nodeChangeDispatcher.nodeChanged(n)}addCommand(n,o,r){this.editorCommands.addCommand(n,o,r)}addQueryStateHandler(n,o,r){this.editorCommands.addQueryStateHandler(n,o,r)}addQueryValueHandler(n,o,r){this.editorCommands.addQueryValueHandler(n,o,r)}addShortcut(n,o,r,c){this.shortcuts.add(n,o,r,c)}execCommand(n,o,r,c){return this.editorCommands.execCommand(n,o,r,c)}queryCommandState(n){return this.editorCommands.queryCommandState(n)}queryCommandValue(n){return this.editorCommands.queryCommandValue(n)}queryCommandSupported(n){return this.editorCommands.queryCommandSupported(n)}show(){const n=this;n.hidden&&(n.hidden=!1,n.inline?n.getBody().contentEditable="true":(Sb.show(n.getContainer()),Sb.hide(n.id)),n.load(),n.dispatch("show"))}hide(){const n=this;n.hidden||(n.save(),n.inline?(n.getBody().contentEditable="false",n===n.editorManager.focusedEditor&&(n.editorManager.focusedEditor=null)):(Sb.hide(n.getContainer()),Sb.setStyle(n.id,"display",n.orgDisplay)),n.hidden=!0,n.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(n,o){this.dispatch("ProgressState",{state:n,time:o})}load(n={}){const o=this,r=o.getElement();if(o.removed)return"";if(r){const c={...n,load:!0},u=ar(r)?r.value:r.innerHTML,m=o.setContent(u,c);return c.no_events||o.dispatch("LoadContent",{...c,element:r}),m}else return""}save(n={}){const o=this;let r=o.getElement();if(!r||!o.initialized||o.removed)return"";const c={...n,save:!0,element:r};let u=o.getContent(c);const m={...c,content:u};if(m.no_events||o.dispatch("SaveContent",m),m.format==="raw"&&o.dispatch("RawSaveContent",m),u=m.content,ar(r))r.value=u;else{(n.is_removing||!o.inline)&&(r.innerHTML=u);const y=Sb.getParent(o.id,"form");y&&QW(y.elements,v=>v.name===o.id?(v.value=u,!1):!0)}return m.element=c.element=r=null,m.set_dirty!==!1&&o.setDirty(!1),u}setContent(n,o){return Dv(this,n,o)}getContent(n){return HN(this,n)}insertContent(n,o){o&&(n=$5({content:n},o)),this.execCommand("mceInsertContent",!1,n)}resetContent(n){n===void 0?Dv(this,this.startContent,{format:"raw"}):Dv(this,n),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(n){const o=!this.isNotDirty;this.isNotDirty=!n,n&&n!==o&&this.dispatch("dirty")}getContainer(){const n=this;return n.container||(n.container=n.editorContainer||Sb.get(n.id+"_parent")),n.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=Sb.get(this.id)),this.targetElm}getWin(){const n=this;if(!n.contentWindow){const o=n.iframeElement;o&&(n.contentWindow=o.contentWindow)}return n.contentWindow}getDoc(){const n=this;if(!n.contentDocument){const o=n.getWin();o&&(n.contentDocument=o.document)}return n.contentDocument}getBody(){var n,o;const r=this.getDoc();return(o=(n=this.bodyElement)!==null&&n!==void 0?n:r==null?void 0:r.body)!==null&&o!==void 0?o:null}convertURL(n,o,r){const c=this,u=c.options.get,m=k1(c);if(ue(m))return m.call(c,n,r,!0,o);if(!u("convert_urls")||r==="link"||wt(r)&&r.nodeName==="LINK"||n.indexOf("file:")===0||n.length===0)return n;const y=new mi(n);return y.protocol!=="http"&&y.protocol!=="https"&&y.protocol!==""?n:u("relative_urls")?c.documentBaseURI.toRelative(n):(n=c.documentBaseURI.toAbsolute(n,u("remove_script_host")),n)}addVisual(n){kq(this,n)}setEditableRoot(n){Kj(this,n)}hasEditableRoot(){return I3(this)}remove(){v7(this)}destroy(n){k7(this,n)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const a0=Gs.DOM,pT=ut.each;let tD=!1,hT,zl=[];const yT=e=>{const n=e.type;pT(Gh.get(),o=>{switch(n){case"scroll":o.dispatch("ScrollWindow",e);break;case"resize":o.dispatch("ResizeWindow",e);break}})},I5=e=>{if(e!==tD){const n=Gs.DOM;e?(n.bind(window,"resize",yT),n.bind(window,"scroll",yT)):(n.unbind(window,"resize",yT),n.unbind(window,"scroll",yT)),tD=e}},F5=e=>{const n=zl;return zl=be(zl,o=>e!==o),Gh.activeEditor===e&&(Gh.activeEditor=zl.length>0?zl[0]:null),Gh.focusedEditor===e&&(Gh.focusedEditor=null),n.length!==zl.length},eZ=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(F5(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},tZ=document.compatMode!=="CSS1Compat",Gh={...K3,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"7",minorVersion:"3.0",releaseDate:"2024-08-07",i18n:qa,activeEditor:null,focusedEditor:null,setup(){const e=this;let n="",o="",r=mi.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/"));const c=window.tinymce||window.tinyMCEPreInit;if(c)n=c.base||c.baseURL,o=c.suffix;else{const u=document.getElementsByTagName("script");for(let m=0;m<u.length;m++){const y=u[m].src||"";if(y==="")continue;const v=y.substring(y.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(y)){v.indexOf(".min")!==-1&&(o=".min"),n=y.substring(0,y.lastIndexOf("/"));break}}if(!n&&document.currentScript){const m=document.currentScript.src;m.indexOf(".min")!==-1&&(o=".min"),n=m.substring(0,m.lastIndexOf("/"))}}e.baseURL=new mi(r).toAbsolute(n),e.documentBaseURL=r,e.baseURI=new mi(e.baseURL),e.suffix=o,RD(e)},overrideDefaults(e){const n=e.base_url;n&&this._setBaseUrl(n);const o=e.suffix;o&&(this.suffix=o),this.defaultOptions=e;const r=e.plugin_base_urls;r!==void 0&&mt(r,(c,u)=>{si.PluginManager.urls[u]=c})},init(e){const n=this;let o;const r=ut.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),c=(R,M)=>R.inline&&M.tagName.toLowerCase()in r,u=R=>{let M=R.id;return M||(M=Uo(R,"name").filter(B=>!a0.get(B)).getOrThunk(a0.uniqueId),R.setAttribute("id",M)),M},m=R=>{const M=e[R];if(M)return M.apply(n,[])},y=R=>rn.browser.isIE()||rn.browser.isEdge()?(l4("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/7/support/#supportedwebbrowsers"),[]):tZ?(l4("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):ae(R.selector)?a0.select(R.selector):Ne(R.target)?[R.target]:[];let v=R=>{o=R};const T=()=>{let R=0;const M=[];let B;const W=(X,q,ee)=>{const de=new gT(X,q,n);M.push(de),de.on("init",()=>{++R===B.length&&v(M)}),de.targetElm=de.targetElm||ee,de.render()};a0.unbind(window,"ready",T),m("onpageload"),B=zr(y(e)),ut.each(B,X=>{eZ(n.get(X.id))}),B=ut.grep(B,X=>!n.get(X.id)),B.length===0?v([]):pT(B,X=>{c(e,X)?l4("Could not initialize inline editor on invalid inline target element",X):W(u(X),e,X)})};return a0.bind(window,"ready",T),new Promise(R=>{o?R(o):v=M=>{R(M)}})},get(e){return arguments.length===0?zl.slice(0):ae(e)?Lt(zl,n=>n.id===e).getOr(null):Wo(e)&&zl[e]?zl[e]:null},add(e){const n=this,o=n.get(e.id);return o===e||(o===null&&zl.push(e),I5(!0),n.activeEditor=e,n.dispatch("AddEditor",{editor:e}),hT||(hT=r=>{const c=n.dispatch("BeforeUnload");if(c.returnValue)return r.preventDefault(),r.returnValue=c.returnValue,c.returnValue},window.addEventListener("beforeunload",hT))),e},createEditor(e,n){return this.add(new gT(e,n,this))},remove(e){const n=this;let o;if(!e){for(let r=zl.length-1;r>=0;r--)n.remove(zl[r]);return}if(ae(e)){pT(a0.select(e),r=>{o=n.get(r.id),o&&n.remove(o)});return}return o=e,Z(n.get(o.id))?null:(F5(o)&&n.dispatch("RemoveEditor",{editor:o}),zl.length===0&&window.removeEventListener("beforeunload",hT),o.remove(),I5(zl.length>0),o)},execCommand(e,n,o){var r;const c=this,u=wt(o)?(r=o.id)!==null&&r!==void 0?r:o.index:o;switch(e){case"mceAddEditor":{if(!c.get(u)){const m=o.options;new gT(u,m,c).render()}return!0}case"mceRemoveEditor":{const m=c.get(u);return m&&m.remove(),!0}case"mceToggleEditor":{const m=c.get(u);return m?(m.isHidden()?m.show():m.hide(),!0):(c.execCommand("mceAddEditor",!1,o),!0)}}return c.activeEditor?c.activeEditor.execCommand(e,n,o):!1},triggerSave:()=>{pT(zl,e=>{e.save()})},addI18n:(e,n)=>{qa.add(e,n)},translate:e=>qa.translate(e),setActive(e){const n=this.activeEditor;this.activeEditor!==e&&(n&&n.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:n})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new mi(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new mi(this.baseURL)}};Gh.setup();const Eq=(()=>{const e=Cc(),n=u=>({items:u,types:oo(u),getType:m=>Uo(u,m).getOrUndefined()}),o=u=>{e.set(u)},r=()=>e.get().getOrUndefined(),c=e.clear;return{FakeClipboardItem:n,write:o,read:r,clear:c}})(),nD=Math.min,c0=Math.max,Y_=Math.round,L5=(e,n,o)=>{let r=n.x,c=n.y;const u=e.w,m=e.h,y=n.w,v=n.h,T=(o||"").split("");return T[0]==="b"&&(c+=v),T[1]==="r"&&(r+=y),T[0]==="c"&&(c+=Y_(v/2)),T[1]==="c"&&(r+=Y_(y/2)),T[3]==="b"&&(c-=m),T[4]==="r"&&(r-=u),T[3]==="c"&&(c-=Y_(m/2)),T[4]==="c"&&(r-=Y_(u/2)),i0(r,c,u,m)},oZ=(e,n,o,r)=>{for(let c=0;c<r.length;c++){const u=L5(e,n,r[c]);if(u.x>=o.x&&u.x+u.w<=o.w+o.x&&u.y>=o.y&&u.y+u.h<=o.h+o.y)return r[c]}return null},sZ=(e,n,o)=>i0(e.x-n,e.y-o,e.w+n*2,e.h+o*2),rZ=(e,n)=>{const o=c0(e.x,n.x),r=c0(e.y,n.y),c=nD(e.x+e.w,n.x+n.w),u=nD(e.y+e.h,n.y+n.h);return c-o<0||u-r<0?null:i0(o,r,c-o,u-r)},aZ=(e,n,o)=>{let r=e.x,c=e.y,u=e.x+e.w,m=e.y+e.h;const y=n.x+n.w,v=n.y+n.h,T=c0(0,n.x-r),R=c0(0,n.y-c),M=c0(0,u-y),B=c0(0,m-v);return r+=T,c+=R,o&&(u+=T,m+=R,r-=M,c-=B),u-=M,m-=B,i0(r,c,u-r,m-c)},i0=(e,n,o,r)=>({x:e,y:n,w:o,h:r}),oD={inflate:sZ,relativePosition:L5,findBestRelativePosition:oZ,intersect:rZ,clamp:aZ,create:i0,fromClientRect:e=>i0(e.left,e.top,e.width,e.height)},cZ=(e,n,o=1e3)=>{let r=!1,c=null;const u=T=>(...R)=>{r||(r=!0,c!==null&&(clearTimeout(c),c=null),T.apply(null,R))},m=u(e),y=u(n);return{start:(...T)=>{!r&&c===null&&(c=setTimeout(()=>y.apply(null,T),o))},resolve:m,reject:y}},lZ=(()=>{const e={},n={},o={};return{load:(v,T)=>{const R=`Script at URL "${T}" failed to load`,M=`Script at URL "${T}" did not call \`tinymce.Resource.add('${v}', data)\` within 1 second`;if(e[v]!==void 0)return e[v];{const B=new Promise((W,X)=>{const q=cZ(W,X);n[v]=q.resolve,dd.ScriptLoader.loadScript(T).then(()=>q.start(M),()=>q.reject(R))});return e[v]=B,B}},add:(v,T)=>{n[v]!==void 0&&(n[v](T),delete n[v]),e[v]=Promise.resolve(T),o[v]=T},has:v=>v in o,get:v=>o[v],unload:v=>{delete e[v],delete o[v]}}})(),uZ=()=>(()=>{let e={},n=[];const o={getItem:r=>{const c=e[r];return c||null},setItem:(r,c)=>{n.push(r),e[r]=String(c)},key:r=>n[r],removeItem:r=>{n=n.filter(c=>c===r),delete e[r]},clear:()=>{n=[],e={}},length:0};return Object.defineProperty(o,"length",{get:()=>n.length,configurable:!1,enumerable:!1}),o})();let X_;try{const e="__storage_test__";X_=window.localStorage,X_.setItem(e,e),X_.removeItem(e)}catch{X_=uZ()}var dZ=X_;const fZ={geom:{Rect:oD},util:{Delay:Pu,Tools:ut,VK:it,URI:mi,EventDispatcher:G3,Observable:K3,I18n:qa,LocalStorage:dZ,ImageUploader:ng},dom:{EventUtils:Sm,TreeWalker:Wa,TextSeeker:jg,DOMUtils:Gs,ScriptLoader:dd,RangeUtils:ht,Serializer:Uc,StyleSheetLoader:Zl,ControlSelection:Hy,BookmarkManager:Ru,Selection:n7,Event:Sm.Event},html:{Styles:C0,Entities:id,Node:sl,Schema:Wd,DomParser:zv,Writer:fA,Serializer:gp},Env:rn,AddOnManager:si,Annotator:ev,Formatter:Qf,UndoManager:$v,EditorCommands:Fa,WindowManager:GN,NotificationManager:qN,EditorObservable:R5,Shortcuts:eD,Editor:gT,FocusManager:TD,EditorManager:Gh,DOM:Gs.DOM,ScriptLoader:dd.ScriptLoader,PluginManager:Mv,ThemeManager:Oh,ModelManager:Rv,IconManager:ax,Resource:lZ,FakeClipboard:Eq,trim:ut.trim,isArray:ut.isArray,is:ut.is,toArray:ut.toArray,makeMap:ut.makeMap,each:ut.each,map:ut.map,grep:ut.grep,inArray:ut.inArray,extend:ut.extend,walk:ut.walk,resolve:ut.resolve,explode:ut.explode,_addCacheSuffix:ut._addCacheSuffix},V5=ut.extend(Gh,fZ),mZ=e=>{try{Oa.exports=e}catch{}};(e=>{window.tinymce=e,window.tinyMCE=e})(V5),mZ(V5)})()})(Wq);var sG=Wq.exports;const cG=oG(sG);tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-code":'<svg width="24" height="24"><path d="m10 22 2-7H6l9-13h2l-2 8h7L12 22h-2ZM6 2h7l-1.4 2H6V2Zm4.2 4H4v2h4.8l1.4-2Zm-2.7 4H2v2h4l1.5-2Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',"math-equation":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 4.8c.1-.5.5-.8 1-.8h10a1 1 0 1 1 0 2h-9.2L8.3 19.2a1 1 0 0 1-1.7.4l-3.4-4.2a1 1 0 0 1 1.6-1.2l2 2.5L9 4.8Zm9.7 5.5c.4.4.4 1 0 1.4L17 13.5l1.8 1.8a1 1 0 1 1-1.4 1.4L15.5 15l-1.8 1.8a1 1 0 0 1-1.4-1.4l1.8-1.8-1.8-1.8a1 1 0 0 1 1.4-1.4l1.8 1.8 1.8-1.8a1 1 0 0 1 1.4 0Z"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"export-pdf":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H7v3H5V5c0-1.1.9-2 2-2Z"/><path d="M2.6 15.2v-1.9h1c.6 0 1-.2 1.4-.5.3-.3.5-.7.5-1.2s-.2-.9-.5-1.2a2 2 0 0 0-1.3-.4H1v5.2h1.6Zm.4-3h-.4v-1.1h.5l.6.1.2.5c0 .1 0 .3-.2.4l-.7.1Zm5.7 3 1-.1c.3 0 .5-.2.7-.4l.5-.8c.2-.3.2-.7.2-1.3v-1l-.5-.8c-.2-.3-.4-.5-.7-.6L8.7 10H6.3v5.2h2.4Zm-.4-1.1H8v-3h.4c.5 0 .8.2 1 .4l.2 1.1-.1 1-.3.3-.8.2Zm5.3 1.2V13h2v-1h-2v-1H16V10h-4v5.2h1.6Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"export-word":'<svg width="24" height="24"><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H5c0-1.1.9-2 2-2ZM15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"import-word":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V15h-2V9h-4V5H5c0-1.1.9-2 2-2Z"/><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M11.4 18.2a1 1 0 0 0 1.2 1.6l1.4-1V22a1 1 0 1 0 2 0v-3.1l1.4 1a1 1 0 0 0 1.2-1.7L15 15.8l-3.6 2.4Z"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"revision-history":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}});(function(){var Oa=tinymce.util.Tools.resolve("tinymce.ModelManager");const nr=(l,f,h)=>{var b;return h(l,f.prototype)?!0:((b=l.constructor)===null||b===void 0?void 0:b.name)===f.name},oa=l=>{const f=typeof l;return l===null?"null":f==="object"&&Array.isArray(l)?"array":f==="object"&&nr(l,String,(h,b)=>b.isPrototypeOf(h))?"string":f},Bs=l=>f=>oa(f)===l,Ms=l=>f=>typeof f===l,Mo=l=>f=>l===f,ks=Bs("string"),on=Bs("object"),Un=Bs("array"),Xn=Mo(null),uo=Ms("boolean"),rs=Mo(void 0),as=l=>l==null,ts=l=>!as(l),lr=Ms("function"),fo=Ms("number"),xt=()=>{},No=(l,f)=>(...h)=>l(f.apply(null,h)),en=(l,f)=>h=>l(f(h)),ae=l=>()=>l,wt=l=>l,ur=(l,f)=>l===f;function bt(l,...f){return(...h)=>{const b=f.concat(h);return l.apply(null,b)}}const Z=l=>f=>!l(f),zt=l=>()=>{throw new Error(l)},go=l=>l(),gn=ae(!1),Ne=ae(!0);class ue{constructor(f,h){this.tag=f,this.value=h}static some(f){return new ue(!0,f)}static none(){return ue.singletonNone}fold(f,h){return this.tag?h(this.value):f()}isSome(){return this.tag}isNone(){return!this.tag}map(f){return this.tag?ue.some(f(this.value)):ue.none()}bind(f){return this.tag?f(this.value):ue.none()}exists(f){return this.tag&&f(this.value)}forall(f){return!this.tag||f(this.value)}filter(f){return!this.tag||f(this.value)?this:ue.none()}getOr(f){return this.tag?this.value:f}or(f){return this.tag?this:f}getOrThunk(f){return this.tag?this.value:f()}orThunk(f){return this.tag?this:f()}getOrDie(f){if(this.tag)return this.value;throw new Error(f??"Called getOrDie on None")}static from(f){return ts(f)?ue.some(f):ue.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(f){this.tag&&f(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ue.singletonNone=new ue(!1);const Wo=Array.prototype.slice,Ae=Array.prototype.indexOf,ze=Array.prototype.push,C=(l,f)=>Ae.call(l,f),Ge=(l,f)=>C(l,f)>-1,Me=(l,f)=>{for(let h=0,b=l.length;h<b;h++){const x=l[h];if(f(x,h))return!0}return!1},Yt=(l,f)=>{const h=[];for(let b=0;b<l;b++)h.push(f(b));return h},Ot=(l,f)=>{const h=l.length,b=new Array(h);for(let x=0;x<h;x++){const O=l[x];b[x]=f(O,x)}return b},he=(l,f)=>{for(let h=0,b=l.length;h<b;h++){const x=l[h];f(x,h)}},ot=(l,f)=>{for(let h=l.length-1;h>=0;h--){const b=l[h];f(b,h)}},Xt=(l,f)=>{const h=[],b=[];for(let x=0,O=l.length;x<O;x++){const I=l[x];(f(I,x)?h:b).push(I)}return{pass:h,fail:b}},vt=(l,f)=>{const h=[];for(let b=0,x=l.length;b<x;b++){const O=l[b];f(O,b)&&h.push(O)}return h},Dn=(l,f,h)=>(ot(l,(b,x)=>{h=f(h,b,x)}),h),we=(l,f,h)=>(he(l,(b,x)=>{h=f(h,b,x)}),h),Qe=(l,f,h)=>{for(let b=0,x=l.length;b<x;b++){const O=l[b];if(f(O,b))return ue.some(O);if(h(O,b))break}return ue.none()},$=(l,f)=>Qe(l,f,gn),Go=(l,f)=>{for(let h=0,b=l.length;h<b;h++){const x=l[h];if(f(x,h))return ue.some(h)}return ue.none()},xn=l=>{const f=[];for(let h=0,b=l.length;h<b;++h){if(!Un(l[h]))throw new Error("Arr.flatten item "+h+" was not an array, input: "+l);ze.apply(f,l[h])}return f},Jn=(l,f)=>xn(Ot(l,f)),Co=(l,f)=>{for(let h=0,b=l.length;h<b;++h){const x=l[h];if(f(x,h)!==!0)return!1}return!0},sa=l=>{const f=Wo.call(l,0);return f.reverse(),f},jt=(l,f)=>{const h={};for(let b=0,x=l.length;b<x;b++){const O=l[b];h[String(O)]=f(O,b)}return h},jn=(l,f)=>{const h=Wo.call(l,0);return h.sort(f),h},Qt=(l,f)=>f>=0&&f<l.length?ue.some(l[f]):ue.none(),te=l=>Qt(l,0),Te=l=>Qt(l,l.length-1),xe=(l,f)=>{for(let h=0;h<l.length;h++){const b=f(l[h],h);if(b.isSome())return b}return ue.none()},be=Object.keys,st=Object.hasOwnProperty,lt=(l,f)=>{const h=be(l);for(let b=0,x=h.length;b<x;b++){const O=h[b],I=l[O];f(I,O)}},Rn=(l,f)=>Lt(l,(h,b)=>({k:b,v:f(h,b)})),Lt=(l,f)=>{const h={};return lt(l,(b,x)=>{const O=f(b,x);h[O.k]=O.v}),h},po=l=>(f,h)=>{l[h]=f},hs=(l,f,h,b)=>{lt(l,(x,O)=>{(f(x,O)?h:b)(x,O)})},co=(l,f)=>{const h={};return hs(l,f,po(h),xt),h},zo=(l,f)=>{const h=[];return lt(l,(b,x)=>{h.push(f(b,x))}),h},ho=l=>zo(l,wt),cs=(l,f)=>eo(l,f)?ue.from(l[f]):ue.none(),eo=(l,f)=>st.call(l,f),Wn=(l,f)=>eo(l,f)&&l[f]!==void 0&&l[f]!==null,Ko=l=>{for(const f in l)if(st.call(l,f))return!1;return!0},wn=typeof window<"u"?window:Function("return this;")(),xo=(l,f)=>{let h=f??wn;for(let b=0;b<l.length&&h!==void 0&&h!==null;++b)h=h[l[b]];return h},is=(l,f)=>{const h=l.split(".");return xo(h,f)},Vo=(l,f)=>is(l,f),zr=(l,f)=>{const h=Vo(l,f);if(h==null)throw new Error(l+" not available on this browser");return h},oo=Object.getPrototypeOf,Da=l=>zr("HTMLElement",l),mt=l=>{const f=is("ownerDocument.defaultView",l);return on(l)&&(Da(f).prototype.isPrototypeOf(l)||/^HTML\w*Element$/.test(oo(l).constructor.name))},to=8,dr=9,mr=11,Gr=1,Kr=3,Io=l=>l.dom.nodeName.toLowerCase(),ha=l=>l.dom.nodeType,Dc=l=>f=>ha(f)===l,Uo=l=>ha(l)===to||Io(l)==="#comment",fn=l=>Ks(l)&&mt(l.dom),Ks=Dc(Gr),nc=Dc(Kr),al=Dc(dr),cl=Dc(mr),ys=l=>f=>Ks(f)&&Io(f)===l,kr=(l,f,h)=>{if(ks(h)||uo(h)||fo(h))l.setAttribute(f,h+"");else throw console.error("Invalid call to Attribute.set. Key ",f,":: Value ",h,":: Element ",l),new Error("Attribute value was not simple")},js=(l,f,h)=>{kr(l.dom,f,h)},Ra=(l,f)=>{const h=l.dom;lt(f,(b,x)=>{kr(h,x,b)})},yi=(l,f)=>{lt(f,(h,b)=>{h.fold(()=>{ne(l,b)},x=>{kr(l.dom,b,x)})})},Or=(l,f)=>{const h=l.dom.getAttribute(f);return h===null?void 0:h},ce=(l,f)=>ue.from(Or(l,f)),ne=(l,f)=>{l.dom.removeAttribute(f)},Pe=l=>we(l.dom.attributes,(f,h)=>(f[h.name]=h.value,f),{}),Ve=(l,f)=>{const b=(f||document).createElement("div");if(b.innerHTML=l,!b.hasChildNodes()||b.childNodes.length>1){const x="HTML does not have a single root node";throw console.error(x,l),new Error(x)}return Bn(b.childNodes[0])},sn=(l,f)=>{const b=(f||document).createElement(l);return Bn(b)},Tn=(l,f)=>{const b=(f||document).createTextNode(l);return Bn(b)},Bn=l=>{if(l==null)throw new Error("Node cannot be null or undefined");return{dom:l}},ge={fromHtml:Ve,fromTag:sn,fromText:Tn,fromDom:Bn,fromPoint:(l,f,h)=>ue.from(l.dom.elementFromPoint(f,h)).map(Bn)},$n=(l,f)=>{const h=l.dom;if(h.nodeType!==Gr)return!1;{const b=h;if(b.matches!==void 0)return b.matches(f);if(b.msMatchesSelector!==void 0)return b.msMatchesSelector(f);if(b.webkitMatchesSelector!==void 0)return b.webkitMatchesSelector(f);if(b.mozMatchesSelector!==void 0)return b.mozMatchesSelector(f);throw new Error("Browser lacks native selectors")}},Ys=l=>l.nodeType!==Gr&&l.nodeType!==dr&&l.nodeType!==mr||l.childElementCount===0,gr=(l,f)=>{const h=f===void 0?document:f.dom;return Ys(h)?[]:Ot(h.querySelectorAll(l),ge.fromDom)},Ma=(l,f)=>{const h=f===void 0?document:f.dom;return Ys(h)?ue.none():ue.from(h.querySelector(l)).map(ge.fromDom)},Zo=(l,f)=>l.dom===f.dom,Ii=(l,f)=>{const h=l.dom,b=f.dom;return h===b?!1:h.contains(b)},Yr=$n,Na=l=>ge.fromDom(l.dom.ownerDocument),Ns=l=>al(l)?l:Na(l),Yo=l=>ge.fromDom(Ns(l).dom.documentElement),ns=l=>ge.fromDom(Ns(l).dom.defaultView),ra=l=>ue.from(l.dom.parentNode).map(ge.fromDom),aa=l=>ue.from(l.dom.parentElement).map(ge.fromDom),Dr=(l,f)=>{const h=lr(f)?f:gn;let b=l.dom;const x=[];for(;b.parentNode!==null&&b.parentNode!==void 0;){const O=b.parentNode,I=ge.fromDom(O);if(x.push(I),h(I)===!0)break;b=O}return x},Xc=l=>ue.from(l.dom.previousSibling).map(ge.fromDom),Rc=l=>ue.from(l.dom.nextSibling).map(ge.fromDom),So=l=>Ot(l.dom.childNodes,ge.fromDom),ca=(l,f)=>{const h=l.dom.childNodes;return ue.from(h[f]).map(ge.fromDom)},Ur=l=>ca(l,0),Jc=(l,f)=>{ra(l).each(b=>{b.dom.insertBefore(f.dom,l.dom)})},oc=(l,f)=>{Rc(l).fold(()=>{ra(l).each(x=>{$s(x,f)})},b=>{Jc(b,f)})},Rr=(l,f)=>{Ur(l).fold(()=>{$s(l,f)},b=>{l.dom.insertBefore(f.dom,b.dom)})},$s=(l,f)=>{l.dom.appendChild(f.dom)},gf=(l,f,h)=>{ca(l,h).fold(()=>{$s(l,f)},b=>{Jc(b,f)})},Wc=(l,f)=>{Jc(l,f),$s(f,l)},jo=(l,f)=>{he(f,(h,b)=>{const x=b===0?l:f[b-1];oc(x,h)})},Pa=(l,f)=>{he(f,h=>{$s(l,h)})},ya=l=>{l.dom.textContent="",he(So(l),f=>{wr(f)})},wr=l=>{const f=l.dom;f.parentNode!==null&&f.parentNode.removeChild(f)},Pl=l=>{const f=So(l);f.length>0&&jo(l,f),wr(l)},Ba=(l,f)=>ge.fromDom(l.dom.cloneNode(f)),Ha=l=>Ba(l,!1),Qc=l=>Ba(l,!0),Mc=(l,f)=>{const h=ge.fromTag(f),b=Pe(l);return Ra(h,b),h},au=(l,f)=>{const h=Mc(l,f),b=So(Qc(l));return Pa(h,b),h},il=(l,f)=>{const h=Mc(l,f);oc(l,h);const b=So(l);return Pa(h,b),wr(l),h},Fi=["tfoot","thead","tbody","colgroup"],sc=l=>Ge(Fi,l),Mr=(l,f)=>({rows:l,columns:f}),cu=(l,f)=>({row:l,column:f}),iu=(l,f,h)=>({element:l,rowspan:f,colspan:h}),lu=(l,f,h,b)=>({element:l,rowspan:f,colspan:h,isNew:b}),uu=(l,f,h,b,x,O)=>({element:l,rowspan:f,colspan:h,row:b,column:x,isLocked:O}),_r=(l,f,h)=>({element:l,cells:f,section:h}),yc=(l,f,h,b)=>({element:l,cells:f,section:h,isNew:b}),U=(l,f,h)=>({element:l,isNew:f,isLocked:h}),se=(l,f,h,b)=>({element:l,cells:f,section:h,isNew:b}),Ce=(l,f,h,b)=>({startRow:l,startCol:f,finishRow:h,finishCol:b}),Ye=(l,f,h)=>({element:l,colspan:f,column:h}),ft=(l,f)=>({element:l,columns:f}),Ht=l=>cl(l)&&ts(l.dom.host),so=l=>ge.fromDom(l.dom.getRootNode()),fs=l=>{const f=so(l);return Ht(f)?ue.some(f):ue.none()},bo=l=>ge.fromDom(l.dom.host),Pt=l=>{if(ts(l.target)){const f=ge.fromDom(l.target);if(Ks(f)&&sr(f)&&l.composed&&l.composedPath){const h=l.composedPath();if(h)return te(h)}}return ue.from(l.target)},sr=l=>ts(l.dom.shadowRoot),rn=l=>{const f=nc(l)?l.dom.parentNode:l.dom;if(f==null||f.ownerDocument===null)return!1;const h=f.ownerDocument;return fs(ge.fromDom(f)).fold(()=>h.body.contains(f),en(rn,bo))},Nr=()=>bi(ge.fromDom(document)),bi=l=>{const f=l.dom.body;if(f==null)throw new Error("Body is not available yet");return ge.fromDom(f)},P=(l,f,h)=>vt(Dr(l,h),f),K=(l,f)=>vt(So(l),f),le=(l,f)=>{let h=[];return he(So(l),b=>{f(b)&&(h=h.concat([b])),h=h.concat(le(b,f))}),h},Oe=(l,f,h)=>P(l,b=>$n(b,f),h),Je=(l,f)=>K(l,h=>$n(h,f)),Ln=(l,f)=>gr(f,l);var _s=(l,f,h,b,x)=>l(h,b)?ue.some(h):lr(x)&&x(h)?ue.none():f(h,b,x);const ls=(l,f,h)=>{let b=l.dom;const x=lr(h)?h:gn;for(;b.parentNode;){b=b.parentNode;const O=ge.fromDom(b);if(f(O))return ue.some(O);if(x(O))break}return ue.none()},ut=(l,f,h)=>_s((x,O)=>O(x),ls,l,f,h),As=(l,f)=>{const h=x=>f(ge.fromDom(x));return $(l.dom.childNodes,h).map(ge.fromDom)},ba=(l,f)=>{const h=b=>{for(let x=0;x<b.childNodes.length;x++){const O=ge.fromDom(b.childNodes[x]);if(f(O))return ue.some(O);const I=h(b.childNodes[x]);if(I.isSome())return I}return ue.none()};return h(l.dom)},rc=(l,f,h)=>ls(l,b=>$n(b,f),h),Zn=(l,f)=>As(l,h=>$n(h,f)),ac=(l,f)=>Ma(f,l),fr=(l,f,h)=>_s((x,O)=>$n(x,O),rc,l,f,h),Yu=(l,f,h=ur)=>l.exists(b=>h(b,f)),Cs=l=>{const f=[],h=b=>{f.push(b)};for(let b=0;b<l.length;b++)l[b].each(h);return f},ll=(l,f)=>l!=null?f(l):ue.none(),am=(l,f)=>l?ue.some(f):ue.none(),Kh=(l,f)=>l.substring(f),Xs=(l,f,h)=>f===""||l.length>=f.length&&l.substr(h,h+f.length)===f,cm=(l,f)=>va(l,f)?Kh(l,f.length):l,Cr=(l,f,h=0,b)=>{const x=l.indexOf(f,h);return x!==-1?rs(b)?!0:x+f.length<=b:!1},va=(l,f)=>Xs(l,f,0),Li=(l,f)=>Xs(l,f,l.length-f.length),Md=(l=>f=>f.replace(l,""))(/^\s+|\s+$/g),Va=l=>l.length>0,vo=l=>{const f=parseFloat(l);return isNaN(f)?ue.none():ue.some(f)},ul=l=>l.style!==void 0&&lr(l.style.getPropertyValue),ki=(l,f,h)=>{if(!ks(h))throw console.error("Invalid call to CSS.set. Property ",f,":: Value ",h,":: Element ",l),new Error("CSS value must be a string: "+h);ul(l)&&l.style.setProperty(f,h)},Yh=(l,f)=>{ul(l)&&l.style.removeProperty(f)},Xr=(l,f,h)=>{const b=l.dom;ki(b,f,h)},Ua=(l,f)=>{const h=l.dom;lt(f,(b,x)=>{ki(h,x,b)})},Jr=(l,f)=>{const h=l.dom,x=window.getComputedStyle(h).getPropertyValue(f);return x===""&&!rn(l)?pg(h,f):x},pg=(l,f)=>ul(l)?l.style.getPropertyValue(f):"",pf=(l,f)=>{const h=l.dom,b=pg(h,f);return ue.from(b).filter(x=>x.length>0)},cc=(l,f)=>{const h=l.dom;Yh(h,f),Yu(ce(l,"style").map(Md),"")&&ne(l,"style")},hg=(l,f)=>{const h=l.dom,b=f.dom;ul(h)&&ul(b)&&(b.style.cssText=h.style.cssText)},Ws=(l,f,h=0)=>ce(l,f).map(b=>parseInt(b,10)).getOr(h),Hi=(l,f)=>Ws(l,f,1),ic=l=>ys("col")(l)?Ws(l,"span",1)>1:Hi(l,"colspan")>1,Sr=l=>Hi(l,"rowspan")>1,bc=(l,f)=>parseInt(Jr(l,f),10),xr=ae(10),yg=ae(10),du=(l,f)=>fu(l,f,Ne),fu=(l,f,h)=>Jn(So(l),b=>$n(b,f)?h(b)?[b]:[]:fu(b,f,h)),hf=(l,f,h=gn)=>{if(h(f))return ue.none();if(Ge(l,Io(f)))return ue.some(f);const b=x=>$n(x,"table")||h(x);return rc(f,l.join(","),b)},mu=(l,f)=>hf(["td","th"],l,f),wi=l=>du(l,"th,td"),yf=l=>$n(l,"colgroup")?Je(l,"col"):Jn(bg(l),f=>Je(f,"col")),Tr=(l,f)=>fr(l,"table",f),bf=l=>du(l,"tr"),bg=l=>Tr(l).fold(ae([]),f=>Je(f,"colgroup")),dl=(l,f)=>Ot(l,h=>{if(Io(h)==="colgroup"){const b=Ot(yf(h),x=>{const O=Ws(x,"span",1);return iu(x,1,O)});return _r(h,b,"colgroup")}else{const b=Ot(wi(h),x=>{const O=Ws(x,"rowspan",1),I=Ws(x,"colspan",1);return iu(x,O,I)});return _r(h,b,f(h))}}),vg=l=>ra(l).map(f=>{const h=Io(f);return sc(h)?h:"tbody"}).getOr("tbody"),gu=l=>{const f=bf(l),b=[...bg(l),...f];return dl(b,vg)},kg=(l,f)=>dl(l,()=>f),Bl=l=>{let f=!1,h;return(...b)=>(f||(f=!0,h=l.apply(null,b)),h)},wg=(l,f,h,b)=>{const x=l.isiOS()&&/ipad/i.test(h)===!0,O=l.isiOS()&&!x,I=l.isiOS()||l.isAndroid(),j=I||b("(pointer:coarse)"),J=x||!O&&I&&b("(min-device-width:768px)"),fe=O||I&&!J,De=f.isSafari()&&l.isiOS()&&/safari/i.test(h)===!1,dt=!fe&&!J&&!De;return{isiPad:ae(x),isiPhone:ae(O),isTablet:ae(J),isPhone:ae(fe),isTouch:ae(j),isAndroid:l.isAndroid,isiOS:l.isiOS,isWebView:ae(De),isDesktop:ae(dt)}},vf=(l,f)=>{for(let h=0;h<l.length;h++){const b=l[h];if(b.test(f))return b}},im=(l,f)=>{const h=vf(l,f);if(!h)return{major:0,minor:0};const b=x=>Number(f.replace(h,"$"+x));return ie(b(1),b(2))},pu=(l,f)=>{const h=String(f).toLowerCase();return l.length===0?lm():im(l,h)},lm=()=>ie(0,0),ie=(l,f)=>({major:l,minor:f}),$l={nu:ie,detect:pu,unknown:lm},fl=(l,f)=>xe(f.brands,h=>{const b=h.brand.toLowerCase();return $(l,x=>{var O;return b===((O=x.brand)===null||O===void 0?void 0:O.toLowerCase())}).map(x=>({current:x.name,version:$l.nu(parseInt(h.version,10),0)}))}),_g=(l,f)=>{const h=String(f).toLowerCase();return $(l,b=>b.search(h))},Xh=(l,f)=>_g(l,f).map(h=>{const b=$l.detect(h.versionRegexes,f);return{current:h.name,version:b}}),hu=(l,f)=>_g(l,f).map(h=>{const b=$l.detect(h.versionRegexes,f);return{current:h.name,version:b}}),Qn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Pr=l=>f=>Cr(f,l),_i=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:l=>Cr(l,"edge/")&&Cr(l,"chrome")&&Cr(l,"safari")&&Cr(l,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Qn],search:l=>Cr(l,"chrome")&&!Cr(l,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:l=>Cr(l,"msie")||Cr(l,"trident")},{name:"Opera",versionRegexes:[Qn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Pr("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Pr("firefox")},{name:"Safari",versionRegexes:[Qn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:l=>(Cr(l,"safari")||Cr(l,"mobile/"))&&Cr(l,"applewebkit")}],yu=[{name:"Windows",search:Pr("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:l=>Cr(l,"iphone")||Cr(l,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Pr("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Pr("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Pr("linux"),versionRegexes:[]},{name:"Solaris",search:Pr("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Pr("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Pr("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],kf={browsers:ae(_i),oses:ae(yu)},Nd="Edge",ja="Chromium",wf="IE",Il="Opera",_f="Firefox",Fl="Safari",vc=()=>Cg({current:void 0,version:$l.unknown()}),Cg=l=>{const f=l.current,h=l.version,b=x=>()=>f===x;return{current:f,version:h,isEdge:b(Nd),isChromium:b(ja),isIE:b(wf),isOpera:b(Il),isFirefox:b(_f),isSafari:b(Fl)}},Pd={unknown:vc,nu:Cg,edge:ae(Nd),chromium:ae(ja),ie:ae(wf),opera:ae(Il),firefox:ae(_f),safari:ae(Fl)},ia="Windows",Nc="iOS",lc="Android",Xu="Linux",Bd="macOS",Sg="Solaris",$d="FreeBSD",Vi="ChromeOS",Cf=()=>Ap({current:void 0,version:$l.unknown()}),Ap=l=>{const f=l.current,h=l.version,b=x=>()=>f===x;return{current:f,version:h,isWindows:b(ia),isiOS:b(Nc),isAndroid:b(lc),isMacOS:b(Bd),isLinux:b(Xu),isSolaris:b(Sg),isFreeBSD:b($d),isChromeOS:b(Vi)}},xg={unknown:Cf,nu:Ap,windows:ae(ia),ios:ae(Nc),android:ae(lc),linux:ae(Xu),macos:ae(Bd),solaris:ae(Sg),freebsd:ae($d),chromeos:ae(Vi)},um={detect:(l,f,h)=>{const b=kf.browsers(),x=kf.oses(),O=f.bind(J=>fl(b,J)).orThunk(()=>Xh(b,l)).fold(Pd.unknown,Pd.nu),I=hu(x,l).fold(xg.unknown,xg.nu),j=wg(I,O,l,h);return{browser:O,os:I,deviceType:j}}},Id=l=>window.matchMedia(l).matches;let Ju=Bl(()=>um.detect(window.navigator.userAgent,ue.from(window.navigator.userAgentData),Id));const Fd=()=>Ju(),Zs=(l,f)=>{const h=(j,J)=>{if(!fo(J)&&!J.match(/^[0-9]+$/))throw new Error(l+".set accepts only positive integer values. Value was "+J);const fe=j.dom;ul(fe)&&(fe.style[l]=J+"px")},b=j=>{const J=f(j);if(J<=0||J===null){const fe=Jr(j,l);return parseFloat(fe)||0}return J},x=b,O=(j,J)=>we(J,(fe,De)=>{const dt=Jr(j,De),Rt=dt===void 0?0:parseInt(dt,10);return isNaN(Rt)?fe:fe+Rt},0);return{set:h,get:b,getOuter:x,aggregate:O,max:(j,J,fe)=>{const De=O(j,fe);return J>De?J-De:0}}},Js=(l,f)=>vo(l).getOr(f),ei=(l,f,h)=>Js(Jr(l,f),h),Qu=(l,f,h,b)=>{const x=ei(l,`padding-${h}`,0),O=ei(l,`padding-${b}`,0),I=ei(l,`border-${h}-width`,0),j=ei(l,`border-${b}-width`,0);return f-x-O-I-j},Tg=(l,f)=>{const h=l.dom,b=h.getBoundingClientRect().width||h.offsetWidth;return f==="border-box"?b:Qu(l,b,"left","right")},jr=l=>ei(l,"height",l.dom.offsetHeight),tn=l=>ei(l,"width",l.dom.offsetWidth),Ll=l=>Tg(l,"content-box"),dm=Zs("width",l=>l.dom.offsetWidth),ka=l=>dm.get(l),os=l=>dm.getOuter(l),bu=Ll,Eg=tn,Ld=(l,f,h)=>{const b=l.cells,x=b.slice(0,f),O=b.slice(f),I=x.concat(h).concat(O);return Wr(l,I)},zp=(l,f,h)=>Ld(l,f,[h]),Vn=(l,f,h)=>{const b=l.cells;b[f]=h},Wr=(l,f)=>se(l.element,f,l.section,l.isNew),ed=(l,f)=>{const h=l.cells,b=Ot(h,f);return se(l.element,b,l.section,l.isNew)},$a=(l,f)=>l.cells[f],kc=(l,f)=>$a(l,f).element,ti=l=>l.cells.length,la=l=>{const f=Xt(l,h=>h.section==="colgroup");return{rows:f.fail,cols:f.pass}},uc=(l,f,h)=>{const b=Ot(l.cells,h);return se(f(l.element),b,l.section,!0)},Zc="data-snooker-locked-cols",fm=l=>ce(l,Zc).bind(f=>ue.from(f.match(/\d+/g))).map(f=>jt(f,Ne)),rr=l=>{const f=we(la(l).rows,(b,x)=>(he(x.cells,(O,I)=>{O.isLocked&&(b[I]=!0)}),b),{}),h=zo(f,(b,x)=>parseInt(x,10));return jn(h)},td=(l,f)=>l+","+f,pr=(l,f,h)=>ue.from(l.access[td(f,h)]),vu=(l,f,h)=>{const b=nd(l,x=>h(f,x.element));return b.length>0?ue.some(b[0]):ue.none()},nd=(l,f)=>{const h=Jn(l.all,b=>b.cells);return vt(h,f)},bs=l=>{const f={};let h=0;return he(l.cells,b=>{const x=b.colspan;Yt(x,O=>{const I=h+O;f[I]=Ye(b.element,x,I)}),h+=x}),f},Ci=l=>{const f={},h=[],x=te(l).map(Et=>Et.element).bind(Tr).bind(fm).getOr({});let O=0,I=0,j=0;const{pass:J,fail:fe}=Xt(l,Et=>Et.section==="colgroup");he(fe,Et=>{const _t=[];he(Et.cells,Gt=>{let rt=0;for(;f[td(j,rt)]!==void 0;)rt++;const ht=Wn(x,rt.toString()),Sn=uu(Gt.element,Gt.rowspan,Gt.colspan,j,rt,ht);for(let An=0;An<Gt.colspan;An++)for(let an=0;an<Gt.rowspan;an++){const cr=j+an,gs=rt+An,Fr=td(cr,gs);f[Fr]=Sn,I=Math.max(I,gs+1)}_t.push(Sn)}),O++,h.push(_r(Et.element,_t,Et.section)),j++});const{columns:De,colgroups:dt}=Te(J).map(Et=>{const _t=bs(Et);return{colgroups:[ft(Et.element,ho(_t))],columns:_t}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:Mr(O,I),access:f,all:h,columns:De,colgroups:dt}},ro={fromTable:l=>{const f=gu(l);return Ci(f)},generate:Ci,getAt:pr,findItem:vu,filterItems:nd,justCells:l=>Jn(l.all,f=>f.cells),justColumns:l=>ho(l.columns),hasColumns:l=>be(l.columns).length>0,getColumnAt:(l,f)=>ue.from(l.columns[f])},od=(l,f=Ne)=>{const h=l.grid,b=Yt(h.columns,wt),x=Yt(h.rows,wt);return Ot(b,O=>Sf(()=>Jn(x,fe=>ro.getAt(l,fe,O).filter(De=>De.column===O).toArray()),fe=>fe.colspan===1&&f(fe.element),()=>ro.getAt(l,0,O)))},Sf=(l,f,h)=>{const b=l();return $(b,f).orThunk(()=>ue.from(b[0]).orThunk(h)).map(I=>I.element)},mm=l=>{const f=l.grid,h=Yt(f.rows,wt),b=Yt(f.columns,wt);return Ot(h,x=>Sf(()=>Jn(b,J=>ro.getAt(l,x,J).filter(fe=>fe.row===x).fold(ae([]),fe=>[fe])),J=>J.rowspan===1,()=>ro.getAt(l,x,0)))},S=(l,f)=>{if(f<0||f>=l.length-1)return ue.none();const h=l[f].fold(()=>{const x=sa(l.slice(0,f));return xe(x,(O,I)=>O.map(j=>({value:j,delta:I+1})))},x=>ue.some({value:x,delta:0})),b=l[f+1].fold(()=>{const x=l.slice(f+1);return xe(x,(O,I)=>O.map(j=>({value:j,delta:I+1})))},x=>ue.some({value:x,delta:1}));return h.bind(x=>b.map(O=>{const I=O.delta+x.delta;return Math.abs(O.value-x.value)/I}))},D=(l,f)=>h=>L(h)==="rtl"?f:l,L=l=>Jr(l,"direction")==="rtl"?"rtl":"ltr",oe=Zs("height",l=>{const f=l.dom;return rn(l)?f.getBoundingClientRect().height:f.offsetHeight}),me=l=>oe.get(l),nt=l=>oe.getOuter(l),bn=jr,qn=(l,f)=>({left:l,top:f,translate:(b,x)=>qn(l+b,f+x)}),_n=qn,vn=l=>{const f=l.getBoundingClientRect();return _n(f.left,f.top)},Os=(l,f)=>l!==void 0?l:f!==void 0?f:0,Er=l=>{const f=l.dom.ownerDocument,h=f.body,b=f.defaultView,x=f.documentElement;if(h===l.dom)return _n(h.offsetLeft,h.offsetTop);const O=Os(b==null?void 0:b.pageYOffset,x.scrollTop),I=Os(b==null?void 0:b.pageXOffset,x.scrollLeft),j=Os(x.clientTop,h.clientTop),J=Os(x.clientLeft,h.clientLeft);return ni(l).translate(I-J,O-j)},ni=l=>{const f=l.dom,b=f.ownerDocument.body;return b===f?_n(b.offsetLeft,b.offsetTop):rn(l)?vn(f):_n(0,0)},Vl=(l,f)=>({row:l,y:f}),xf=(l,f)=>({col:l,x:f}),Ag=l=>Er(l).left+os(l),dc=l=>Er(l).left,zg=(l,f)=>xf(l,dc(f)),Db=(l,f)=>xf(l,Ag(f)),Dp=l=>Er(l).top,Wa=(l,f)=>Vl(l,Dp(f)),Rp=(l,f)=>Vl(l,Dp(f)+nt(f)),Qr=(l,f,h)=>{if(h.length===0)return[];const b=Ot(h.slice(1),(O,I)=>O.map(j=>l(I,j))),x=h[h.length-1].map(O=>f(h.length-1,O));return b.concat([x])},Rb=l=>-l,Bc={delta:wt,positions:l=>Qr(Wa,Rp,l),edge:Dp},gm=D({delta:wt,edge:dc,positions:l=>Qr(zg,Db,l)},{delta:Rb,edge:Ag,positions:l=>Qr(Db,zg,l)}),Og={delta:(l,f)=>gm(f).delta(l,f),positions:(l,f)=>gm(f).positions(l,f),edge:l=>gm(l).edge(l)},Mp={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Jh=(()=>{const l="[0-9]+",h="[eE]"+("[+-]?"+l),b="\\.",x=j=>`(?:${j})?`,I=`[+-]?(?:${["Infinity",l+b+x(l)+x(h),b+l+x(h),l+x(h)].join("|")})`;return new RegExp(`^(${I})(.*)$`)})(),ml=(l,f)=>Me(f,h=>Me(Mp[h],b=>l===b)),wu=(l,f)=>ue.from(Jh.exec(l)).bind(b=>{const x=Number(b[1]),O=b[2];return ml(O,f)?ue.some({value:x,unit:O}):ue.none()}),Hd=/(\d+(\.\d+)?)%/,Nt=/(\d+(\.\d+)?)px|em/,Ui=ys("col"),Np=ys("tr"),Tf=(l,f,h)=>{const b=aa(l).getOrThunk(()=>bi(Na(l)));return f(l)/h(b)*100},gl=(l,f)=>{Xr(l,"width",f+"px")},Dg=(l,f)=>{Xr(l,"width",f+"%")},Vd=(l,f)=>{Xr(l,"height",f+"px")},Ef=l=>{cc(l,"height")},Rg=l=>bn(l)+"px",Ul=(l,f,h,b)=>{const x=Tr(l).map(O=>{const I=h(O);return Math.floor(f/100*I)}).getOr(f);return b(l,x),x},Mb=(l,f,h,b)=>{const x=parseFloat(l);return Li(l,"%")&&Io(f)!=="table"?Ul(f,x,h,b):x},ar=l=>{const f=Rg(l);return f?Mb(f,l,me,Vd):me(l)},ct=(l,f,h)=>{const b=h(l),x=Hi(l,f);return b/x},wc=(l,f)=>pf(l,f).orThunk(()=>ce(l,f).map(h=>h+"px")),jl=l=>wc(l,"width"),wa=l=>wc(l,"height"),pm=l=>Tf(l,ka,bu),ua=l=>Ui(l)?ka(l):Eg(l),Fo=l=>Np(l)?me(l):ct(l,"rowspan",ar),Pp=l=>jl(l).bind(h=>wu(h,["fixed","relative","empty"])),Ke=(l,f,h)=>{Xr(l,"width",f+h)},Lo=l=>ka(l)+"px",Mg=l=>me(l)+"px",ea=l=>Tf(l,ka,bu)+"%",_c=l=>jl(l).exists(f=>Hd.test(f)),Nb=l=>jl(l).exists(f=>Nt.test(f)),xi=l=>jl(l).isNone(),f0=ae(Hd),sd=ys("col"),Pb=l=>jl(l).getOrThunk(()=>ua(l)+"px"),Ti=l=>wa(l).getOrThunk(()=>Fo(l)+"px"),Bo=l=>Ot(ro.justColumns(l),f=>ue.from(f.element)),_u=l=>{const f=Fd().browser,h=f.isChromium()||f.isFirefox();return sd(l)?h:!0},Af=(l,f,h,b,x,O)=>l.filter(b).fold(()=>O(S(h,f)),I=>x(I)),da=(l,f,h,b)=>{const x=od(l),O=ro.hasColumns(l)?Bo(l):x,I=[ue.some(Og.edge(f))].concat(Ot(Og.positions(x,f),J=>J.map(fe=>fe.x))),j=Z(ic);return Ot(O,(J,fe)=>Af(J,fe,I,j,De=>{if(_u(De))return h(De);{const dt=ll(x[fe],wt);return Af(dt,fe,I,j,Rt=>b(ue.some(ka(Rt))),b)}},b))},Bp=l=>l.map(f=>f+"px").getOr(""),Cu=(l,f)=>da(l,f,Pb,Bp),Su=(l,f,h)=>da(l,f,pm,b=>b.fold(()=>h.minCellWidth(),x=>x/h.pixelWidth()*100)),Ps=(l,f,h)=>da(l,f,ua,b=>b.getOrThunk(h.minCellWidth)),hm=(l,f,h,b)=>{const x=mm(l),O=Ot(l.all,j=>ue.some(j.element)),I=[ue.some(Bc.edge(f))].concat(Ot(Bc.positions(x,f),j=>j.map(J=>J.y)));return Ot(O,(j,J)=>Af(j,J,I,Ne,h,b))},Ee=(l,f)=>hm(l,f,Fo,h=>h.getOrThunk(yg)),Ei=(l,f)=>hm(l,f,Ti,Bp),ym=(l,f)=>()=>rn(l)?f(l):parseFloat(pf(l,"width").getOr("0")),Cc=l=>{const f=ym(l,ka),h=ae(0);return{width:f,pixelWidth:f,getWidths:(x,O)=>Ps(x,l,O),getCellDelta:h,singleColumnWidth:ae([0]),minCellWidth:h,setElementWidth:xt,adjustTableWidth:xt,isRelative:!0,label:"none"}},Ai=l=>{const f=ym(l,J=>parseFloat(ea(J))),h=ym(l,ka);return{width:f,pixelWidth:h,getWidths:(J,fe)=>Su(J,l,fe),getCellDelta:J=>J/h()*100,singleColumnWidth:(J,fe)=>[100-J],minCellWidth:()=>xr()/h()*100,setElementWidth:Dg,adjustTableWidth:J=>{const fe=f(),De=J/100*fe,dt=fe+De;Dg(l,dt)},isRelative:!0,label:"percent"}},Br=l=>{const f=ym(l,ka);return{width:f,pixelWidth:f,getWidths:(I,j)=>Ps(I,l,j),getCellDelta:wt,singleColumnWidth:(I,j)=>[Math.max(xr(),I+j)-I],minCellWidth:xr,setElementWidth:gl,adjustTableWidth:I=>{const j=f()+I;gl(l,j)},isRelative:!1,label:"pixel"}},hr=(l,f)=>f0().exec(f)!==null?Ai(l):Br(l),w={getTableSize:l=>jl(l).fold(()=>Cc(l),h=>hr(l,h)),pixelSize:Br,percentageSize:Ai,noneSize:Cc},A=(l,f,h,b,x,O)=>({minRow:l,minCol:f,maxRow:h,maxCol:b,allCells:x,selectedCells:O}),F=(l,f)=>{const h=l.grid.columns;let x=l.grid.rows,O=h,I=0,j=0;const J=[],fe=[];return lt(l.access,De=>{if(J.push(De),f(De)){fe.push(De);const dt=De.row,Rt=dt+De.rowspan-1,Et=De.column,_t=Et+De.colspan-1;dt<x?x=dt:Rt>I&&(I=Rt),Et<O?O=Et:_t>j&&(j=_t)}}),A(x,O,I,j,J,fe)},G=(l,f,h)=>{const b=l[h].element,x=ge.fromTag("td");$s(x,ge.fromTag("br")),(f?$s:Rr)(b,x)},pe=(l,f,h,b)=>{const x=vt(l,j=>j.section!=="colgroup"),O=f.grid.columns,I=f.grid.rows;for(let j=0;j<I;j++){let J=!1;for(let fe=0;fe<O;fe++)j<h.minRow||j>h.maxRow||fe<h.minCol||fe>h.maxCol||(ro.getAt(f,j,fe).filter(b).isNone()?G(x,J,j):J=!0)}},Ze=(l,f,h,b)=>{lt(h.columns,I=>{(I.column<f.minCol||I.column>f.maxCol)&&wr(I.element)});const x=vt(du(l,"tr"),I=>I.dom.childElementCount===0);he(x,wr),(f.minCol===f.maxCol||f.minRow===f.maxRow)&&he(du(l,"th,td"),I=>{ne(I,"rowspan"),ne(I,"colspan")}),ne(l,Zc),ne(l,"data-snooker-col-series"),w.getTableSize(l).adjustTableWidth(b)},yt=(l,f,h,b)=>{if(b.minCol===0&&f.grid.columns===b.maxCol+1)return 0;const x=Ps(f,l,h),O=we(x,(fe,De)=>fe+De,0),J=we(x.slice(b.minCol,b.maxCol+1),(fe,De)=>fe+De,0)/O*h.pixelWidth()-h.pixelWidth();return h.getCellDelta(J)},Wt=(l,f)=>{const h=Rt=>$n(Rt.element,f),b=Qc(l),x=gu(b),O=w.getTableSize(l),I=ro.generate(x),j=F(I,h),J="th:not("+f+"),td:not("+f+")",fe=fu(b,"th,td",Rt=>$n(Rt,J));he(fe,wr),pe(x,I,j,h);const De=ro.fromTable(l),dt=yt(l,De,O,j);return Ze(b,j,I,dt),b},In=" ",Xo=((l,f)=>{const h=O=>{if(!l(O))throw new Error("Can only get "+f+" value of a "+f+" node");return b(O).getOr("")},b=O=>l(O)?ue.from(O.dom.nodeValue):ue.none();return{get:h,getOption:b,set:(O,I)=>{if(!l(O))throw new Error("Can only set raw "+f+" value of a "+f+" node");O.dom.nodeValue=I}}})(nc,"text"),Jo=l=>Xo.get(l),Qs=l=>Xo.getOption(l),zi=(l,f)=>Xo.set(l,f),Za=l=>Io(l)==="img"?1:Qs(l).fold(()=>So(l).length,f=>f.length),Wl=l=>Qs(l).filter(f=>f.trim().length!==0||f.indexOf(In)>-1).isSome(),pl=l=>fn(l)&&Or(l,"contenteditable")==="false",xu=["img","br"],Ng=l=>Wl(l)||Ge(xu,Io(l))||pl(l),ji=l=>ba(l,Ng),bm=l=>$p(l,Ng),$p=(l,f)=>{const h=b=>{const x=So(b);for(let O=x.length-1;O>=0;O--){const I=x[O];if(f(I))return ue.some(I);const j=h(I);if(j.isSome())return j}return ue.none()};return h(l)},Ip={scope:["row","col"]},zf=l=>()=>{const f=ge.fromTag("td",l.dom);return $s(f,ge.fromTag("br",l.dom)),f},_a=l=>()=>ge.fromTag("col",l.dom),Zl=l=>()=>ge.fromTag("colgroup",l.dom),Po=l=>()=>ge.fromTag("tr",l.dom),Ds=(l,f,h)=>{const b=au(l,f);return lt(h,(x,O)=>{x===null?ne(b,O):js(b,O,x)}),b},$c=l=>l,Ar=(l,f,h)=>ji(l).map(x=>{const O=h.join(","),I=Oe(x,O,j=>Zo(j,l));return Dn(I,(j,J)=>{const fe=Ha(J);return $s(j,fe),fe},f)}).getOr(f),Fp=(l,f)=>{lt(Ip,(h,b)=>ce(l,b).filter(x=>Ge(h,x)).each(x=>js(f,b,x)))},Of=(l,f,h)=>{const b=(I,j)=>{hg(I.element,j),cc(j,"height"),I.colspan!==1&&cc(j,"width")},x=I=>{const j=ge.fromTag(Io(I.element),f.dom),J=h.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),fe=J.length>0?Ar(I.element,j,J):j;return $s(fe,ge.fromTag("br")),b(I,j),Fp(I.element,j),l(I.element,j),j};return{col:I=>{const j=ge.fromTag(Io(I.element),f.dom);return b(I,j),l(I.element,j),j},colgroup:Zl(f),row:Po(f),cell:x,replace:Ds,colGap:_a(f),gap:zf(f)}},Df=l=>({col:_a(l),colgroup:Zl(l),row:Po(l),cell:zf(l),replace:$c,colGap:_a(l),gap:zf(l)}),Wi=(l,f)=>{const b=(f||document).createElement("div");return b.innerHTML=l,So(ge.fromDom(b))},rd=l=>Ot(l,ge.fromDom),Ud=l=>f=>f.options.get(l),Tu="100%",Qh=l=>{var f;const h=l.dom,b=(f=h.getParent(l.selection.getStart(),h.isBlock))!==null&&f!==void 0?f:l.getBody();return bu(ge.fromDom(b))+"px"},jd=(l,f)=>ql(l)||!ey(l)?f:Rf(l)?{...f,width:Qh(l)}:{...f,width:Tu},Lp=(l,f)=>ql(l)||ey(l)?f:Rf(l)?{...f,width:Qh(l)}:{...f,width:Tu},Pg=l=>{const f=l.options.register;f("table_clone_elements",{processor:"string[]"}),f("table_use_colgroups",{processor:"boolean",default:!0}),f("table_header_type",{processor:h=>{const b=Ge(["section","cells","sectionCells","auto"],h);return b?{value:h,valid:b}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),f("table_sizing_mode",{processor:"string",default:"auto"}),f("table_default_attributes",{processor:"object",default:{border:"1"}}),f("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),f("table_column_resizing",{processor:h=>{const b=Ge(["preservetable","resizetable"],h);return b?{value:h,valid:b}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),f("table_resize_bars",{processor:"boolean",default:!0}),f("table_style_by_css",{processor:"boolean",default:!0}),f("table_merge_content_on_paste",{processor:"boolean",default:!0})},tC=l=>ue.from(l.options.get("table_clone_elements")),ad=l=>{const f=l.options.get("object_resizing");return Ge(f.split(","),"table")},nC=Ud("table_header_type"),g0=Ud("table_column_resizing"),$r=l=>g0(l)==="preservetable",Bb=l=>g0(l)==="resizetable",cd=Ud("table_sizing_mode"),vm=l=>cd(l)==="relative",Rf=l=>cd(l)==="fixed",ql=l=>cd(l)==="responsive",Gl=Ud("table_resize_bars"),ey=Ud("table_style_by_css"),id=Ud("table_merge_content_on_paste"),Ic=l=>{const f=l.options,h=f.get("table_default_attributes");return f.isSet("table_default_attributes")?h:Lp(l,h)},ty=l=>{const f=l.options,h=f.get("table_default_styles");return f.isSet("table_default_styles")?h:jd(l,h)},p0=Ud("table_use_colgroups"),ny=l=>fr(l,"[contenteditable]"),oy=(l,f=!1)=>rn(l)?l.dom.isContentEditable:ny(l).fold(ae(f),h=>h0(h)==="true"),h0=l=>l.dom.contentEditable,Bg=l=>ge.fromDom(l.getBody()),ld=l=>f=>Zo(f,Bg(l)),oi=l=>{ne(l,"data-mce-style");const f=h=>ne(h,"data-mce-style");he(wi(l),f),he(yf(l),f),he(bf(l),f)},Kl=l=>ge.fromDom(l.selection.getStart()),km=l=>l.getBoundingClientRect().width,y0=l=>l.getBoundingClientRect().height,$g=l=>(f,h)=>{const b=f.dom.getStyle(h,l)||f.dom.getAttrib(h,l);return ue.from(b).filter(Va)},b0=$g("width"),oC=$g("height"),sC=l=>/^(\d+(\.\d+)?)%$/.test(l),rC=l=>/^(\d+(\.\d+)?)px$/.test(l),wm=l=>ut(l,ys("table")).exists(oy),Ig=(l,f)=>{const h=f.column,b=f.column+f.colspan-1,x=f.row,O=f.row+f.rowspan-1;return h<=l.finishCol&&b>=l.startCol&&x<=l.finishRow&&O>=l.startRow},no=(l,f)=>f.column>=l.startCol&&f.column+f.colspan-1<=l.finishCol&&f.row>=l.startRow&&f.row+f.rowspan-1<=l.finishRow,hn=(l,f)=>{let h=!0;const b=bt(no,f);for(let x=f.startRow;x<=f.finishRow;x++)for(let O=f.startCol;O<=f.finishCol;O++)h=h&&ro.getAt(l,x,O).exists(b);return h?ue.some(f):ue.none()},_m=(l,f)=>Ce(Math.min(l.row,f.row),Math.min(l.column,f.column),Math.max(l.row+l.rowspan-1,f.row+f.rowspan-1),Math.max(l.column+l.colspan-1,f.column+f.colspan-1)),sy=(l,f,h)=>{const b=ro.findItem(l,f,Zo),x=ro.findItem(l,h,Zo);return b.bind(O=>x.map(I=>_m(O,I)))},$b=(l,f,h)=>sy(l,f,h).bind(b=>hn(l,b)),v0=(l,f,h,b)=>ro.findItem(l,f,Zo).bind(x=>{const O=h>0?x.row+x.rowspan-1:x.row,I=b>0?x.column+x.colspan-1:x.column;return ro.getAt(l,O+h,I+b).map(J=>J.element)}),Wd=(l,f,h)=>sy(l,f,h).map(b=>{const x=ro.filterItems(l,bt(Ig,b));return Ot(x,O=>O.element)}),Is=(l,f)=>{const h=(b,x)=>Ii(x,b);return ro.findItem(l,f,h).map(b=>b.element)},aC=(l,f,h)=>Tr(l).bind(b=>{const x=Fg(b);return v0(x,l,f,h)}),k0=(l,f,h)=>{const b=Fg(l);return Wd(b,f,h)},w0=(l,f,h,b,x)=>{const O=Fg(l),I=Zo(l,h)?ue.some(f):Is(O,f),j=Zo(l,x)?ue.some(b):Is(O,b);return I.bind(J=>j.bind(fe=>Wd(O,J,fe)))},Xe=(l,f,h)=>{const b=Fg(l);return $b(b,f,h)},Fg=ro.fromTable;var xT=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Cm=()=>{const l=fe=>ge.fromDom(fe.dom.cloneNode(!1)),f=fe=>Ns(fe).dom,h=fe=>Ks(fe)?Io(fe)==="body"?!0:Ge(xT,Io(fe)):!1,b=fe=>Ks(fe)?Ge(["br","img","hr","input"],Io(fe)):!1,x=fe=>Ks(fe)&&Or(fe,"contenteditable")==="false",O=(fe,De)=>fe.dom.compareDocumentPosition(De.dom),I=(fe,De)=>{const dt=Pe(fe);Ra(De,dt)},j=fe=>{const De=Io(fe);return Ge(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],De)},J=fe=>Ks(fe)?ce(fe,"lang"):ue.none();return{up:ae({selector:rc,closest:fr,predicate:ls,all:Dr}),down:ae({selector:Ln,predicate:le}),styles:ae({get:Jr,getRaw:pf,set:Xr,remove:cc}),attrs:ae({get:Or,set:js,remove:ne,copyTo:I}),insert:ae({before:Jc,after:oc,afterAll:jo,append:$s,appendAll:Pa,prepend:Rr,wrap:Wc}),remove:ae({unwrap:Pl,remove:wr}),create:ae({nu:ge.fromTag,clone:l,text:ge.fromText}),query:ae({comparePosition:O,prevSibling:Xc,nextSibling:Rc}),property:ae({children:So,name:Io,parent:ra,document:f,isText:nc,isComment:Uo,isElement:Ks,isSpecial:j,getLanguage:J,getText:Jo,setText:zi,isBoundary:h,isEmptyTag:b,isNonEditable:x}),eq:Zo,is:Yr}};const TT=(l,f,h,b)=>{const x=h[0],O=h.slice(1);return b(l,f,x,O)},Lg=(l,f,h)=>h.length>0?TT(l,f,h,_0):ue.none(),_0=(l,f,h,b)=>{const x=f(l,h);return Dn(b,(O,I)=>{const j=f(l,I);return ud(l,O,j)},x)},ud=(l,f,h)=>f.bind(b=>h.filter(bt(l.eq,b))),C0=(l,f)=>bt(l.eq,f),Hp=(l,f,h,b=gn)=>{const x=[f].concat(l.up().all(f)),O=[h].concat(l.up().all(h)),I=De=>Go(De,b).fold(()=>De,Rt=>De.slice(0,Rt+1)),j=I(x),J=I(O),fe=$(j,De=>Me(J,C0(l,De)));return{firstpath:j,secondpath:J,shared:fe}},qs=Lg,Zd=Hp,S0=Cm(),Eu=(l,f)=>qs(S0,(h,b)=>l(b),f),x0=(l,f,h)=>Zd(S0,l,f,h),ry=l=>rc(l,"table"),Vp=(l,f,h)=>{const b=x=>O=>h!==void 0&&h(O)||Zo(O,x);return Zo(l,f)?ue.some({boxes:ue.some([l]),start:l,finish:f}):ry(l).bind(x=>ry(f).bind(O=>{if(Zo(x,O))return ue.some({boxes:k0(x,l,f),start:l,finish:f});if(Ii(x,O)){const I=Oe(f,"td,th",b(x)),j=I.length>0?I[I.length-1]:f;return ue.some({boxes:w0(x,l,x,f,O),start:l,finish:j})}else if(Ii(O,x)){const I=Oe(l,"td,th",b(O)),j=I.length>0?I[I.length-1]:l;return ue.some({boxes:w0(O,l,x,f,O),start:l,finish:j})}else return x0(l,f).shared.bind(I=>fr(I,"table",h).bind(j=>{const J=Oe(f,"td,th",b(j)),fe=J.length>0?J[J.length-1]:f,De=Oe(l,"td,th",b(j)),dt=De.length>0?De[De.length-1]:l;return ue.some({boxes:w0(j,l,x,f,O),start:dt,finish:fe})}))}))},ay=(l,f)=>{const h=Ln(l,f);return h.length>0?ue.some(h):ue.none()},Zi=(l,f)=>$(l,h=>$n(h,f)),cC=(l,f,h)=>ac(l,f).bind(b=>ac(l,h).bind(x=>Eu(ry,[b,x]).map(O=>({first:b,last:x,table:O})))),cy=(l,f)=>rc(l,"table").bind(h=>ac(h,f).bind(b=>Vp(b,l).bind(x=>x.boxes.map(O=>({boxes:O,start:x.start,finish:x.finish}))))),T0=(l,f,h,b,x)=>Zi(l,x).bind(O=>aC(O,f,h).bind(I=>cy(I,b))),Sm=(l,f)=>ay(l,f),E0=(l,f,h)=>cC(l,f,h).bind(b=>{const x=J=>Zo(l,J),O="thead,tfoot,tbody,table",I=rc(b.first,O,x),j=rc(b.last,O,x);return I.bind(J=>j.bind(fe=>Zo(J,fe)?Xe(b.table,b.first,b.last):ue.none()))}),iC=wt,A0=l=>{const f=(b,x)=>ce(b,x).exists(O=>parseInt(O,10)>1),h=b=>f(b,"rowspan")||f(b,"colspan");return l.length>0&&Co(l,h)?ue.some(l):ue.none()},lC=(l,f,h)=>f.length<=1?ue.none():E0(l,h.firstSelectedSelector,h.lastSelectedSelector).map(b=>({bounds:b,cells:f})),qc="data-mce-selected",qi="td["+qc+"],th["+qc+"]",gt="["+qc+"]",Ib="data-mce-first-selected",fc="td["+Ib+"],th["+Ib+"]",Fb="data-mce-last-selected",uC="td["+Fb+"],th["+Fb+"]",Gs=gt,Mf={selected:qc,selectedSelector:qi,firstSelected:Ib,firstSelectedSelector:fc,lastSelected:Fb,lastSelectedSelector:uC},Lb=(l,f,h)=>({element:h,mergable:lC(f,l,Mf),unmergable:A0(l),selection:iC(l)}),ET=(l,f,h)=>({element:l,clipboard:f,generators:h}),Nf=(l,f,h,b)=>({selection:iC(l),clipboard:h,generators:b}),Hb=l=>Tr(l).bind(f=>Sm(f,Mf.firstSelectedSelector)).fold(ae(l),f=>f[0]),dd=l=>(f,h)=>{const b=Io(f),x=b==="col"||b==="colgroup"?Hb(f):f;return fr(x,l,h)},dC=dd("th,td,caption"),z0=dd("th,td"),Fs=l=>rd(l.model.table.getSelectedCells()),Up=l=>vt(Fs(l),f=>$n(f,Mf.selectedSelector)),yr=l=>Tr(l[0]).map(f=>{const h=Wt(f,Gs);return oi(h),[h]}),fC=(l,f)=>Ot(f,h=>l.selection.serializer.serialize(h.dom,{})).join(""),Gi=l=>Ot(l,f=>f.dom.innerText).join(""),jp=(l,f)=>{l.on("BeforeGetContent",h=>{const b=x=>{h.preventDefault(),yr(x).each(O=>{h.content=h.format==="text"?Gi(O):fC(l,O)})};if(h.selection===!0){const x=Up(l);x.length>=1&&b(x)}}),l.on("BeforeSetContent",h=>{if(h.selection===!0&&h.paste===!0){const b=Fs(l);te(b).each(x=>{Tr(x).each(O=>{const I=vt(Wi(h.content),J=>Io(J)!=="meta"),j=ys("table");if(id(l)&&I.length===1&&j(I[0])){h.preventDefault();const J=ge.fromDom(l.getDoc()),fe=Df(J),De=ET(x,I[0],fe);f.pasteCells(O,De).each(()=>{l.focus()})}})})}})},Ki=(l,f)=>({element:l,offset:f}),AT=(l,f,h)=>l.property().isText(f)&&l.property().getText(f).trim().length===0||l.property().isComment(f)?h(f).bind(b=>AT(l,b,h).orThunk(()=>ue.some(b))):ue.none(),zT=(l,f)=>l.property().isText(f)?l.property().getText(f).length:l.property().children(f).length,OT=(l,f)=>{const h=AT(l,f,l.query().prevSibling).getOr(f);if(l.property().isText(h))return Ki(h,zT(l,h));const b=l.property().children(h);return b.length>0?OT(l,b[b.length-1]):Ki(h,zT(l,h))},DT=OT,qa=Cm(),si=l=>DT(qa,l),iy=(l,f)=>{ic(l)||Pp(l).each(b=>{const x=b.value/2;Ke(l,x,b.unit),Ke(f,x,b.unit)})},xm=l=>Ot(l,ae(0)),O0=(l,f,h,b,x)=>x(l.slice(0,f)).concat(b).concat(x(l.slice(h))),Wp=l=>(f,h,b,x)=>{if(l(b)){const O=Math.max(x,f[h]-Math.abs(b)),I=Math.abs(O-f[h]);return b>=0?I:-I}else return b},qd=Wp(l=>l<0),Zp=Wp(Ne),Hg=()=>{const l=(j,J,fe,De,dt)=>{const Rt=qd(j,J,De,dt);return O0(j,J,fe+1,[Rt,0],xm)},f=(j,J,fe,De)=>{const dt=(100+fe)/100,Rt=Math.max(De,(j[J]+fe)/dt);return Ot(j,(Et,_t)=>(_t===J?Rt:Et/dt)-Et)},h=(j,J,fe,De,dt,Rt)=>Rt?f(j,J,De,dt):l(j,J,fe,De,dt);return{resizeTable:(j,J)=>j(J),clampTableDelta:qd,calcLeftEdgeDeltas:h,calcMiddleDeltas:(j,J,fe,De,dt,Rt,Et)=>h(j,fe,De,dt,Rt,Et),calcRightEdgeDeltas:(j,J,fe,De,dt,Rt)=>{if(Rt)return f(j,fe,De,dt);{const Et=qd(j,fe,De,dt);return xm(j.slice(0,fe)).concat([Et])}},calcRedestributedWidths:(j,J,fe,De)=>{if(De){const Rt=(J+fe)/J,Et=Ot(j,_t=>_t/Rt);return{delta:Rt*100-100,newSizes:Et}}else return{delta:fe,newSizes:j}}}},Tm=()=>{const l=(I,j,J,fe,De)=>{const dt=fe>=0?J:j,Rt=Zp(I,dt,fe,De);return O0(I,j,J+1,[Rt,-Rt],xm)};return{resizeTable:(I,j,J)=>{J&&I(j)},clampTableDelta:(I,j,J,fe,De)=>{if(De){if(J>=0)return J;{const dt=we(I,(Rt,Et)=>Rt+Et-fe,0);return Math.max(-dt,J)}}else return qd(I,j,J,fe)},calcLeftEdgeDeltas:l,calcMiddleDeltas:(I,j,J,fe,De,dt)=>l(I,J,fe,De,dt),calcRightEdgeDeltas:(I,j,J,fe,De,dt)=>{if(dt)return xm(I);{const Rt=fe/I.length;return Ot(I,ae(Rt))}},calcRedestributedWidths:(I,j,J,fe)=>({delta:0,newSizes:I})}},Gd=l=>ro.fromTable(l).grid,Vg=ys("th"),Ug=l=>Co(l,f=>Vg(f.element)),RT=(l,f)=>l&&f?"sectionCells":l?"section":"cells",D0=l=>{const f=l.section==="thead",h=Yu(Vb(l.cells),"th");return l.section==="tfoot"?{type:"footer"}:f||h?{type:"header",subType:RT(f,h)}:{type:"body"}},Vb=l=>{const f=vt(l,h=>Vg(h.element));return f.length===0?ue.some("td"):f.length===l.length?ue.some("th"):ue.none()},mC=l=>{const f=Ot(l,x=>D0(x).type),h=Ge(f,"header"),b=Ge(f,"footer");if(!h&&!b)return ue.some("body");{const x=Ge(f,"body");return h&&!x&&!b?ue.some("header"):!h&&!x&&b?ue.some("footer"):ue.none()}},R0=l=>xe(l.all,f=>{const h=D0(f);return h.type==="header"?ue.from(h.subType):ue.none()}),Ub=(l,f,h)=>U(h(l.element,f),!0,l.isLocked),M0=(l,f)=>l.section!==f?se(l.element,l.cells,f,l.isNew):l,N0=()=>({transformRow:M0,transformCell:(l,f,h)=>{const b=h(l.element,f),x=Io(b)!=="td"?il(b,"td"):b;return U(x,l.isNew,l.isLocked)}}),P0=()=>({transformRow:M0,transformCell:Ub}),ly=()=>({transformRow:(l,f)=>M0(l,f==="thead"?"tbody":f),transformCell:Ub}),uy={getTableSectionType:(l,f)=>{const h=ro.fromTable(l);switch(R0(h).getOr(f)){case"section":return N0();case"sectionCells":return P0();case"cells":return ly()}},section:N0,sectionCells:P0,cells:ly,fallback:()=>({transformRow:wt,transformCell:Ub})},qp=(l,f,h,b)=>{h===b?ne(l,f):js(l,f,h)},Em=(l,f,h)=>{Te(Je(l,f)).fold(()=>Rr(l,h),b=>oc(b,h))},B0=(l,f)=>{const h=Zn(l,f).getOrThunk(()=>{const b=ge.fromTag(f,Na(l).dom);return f==="thead"?Em(l,"caption,colgroup",b):f==="colgroup"?Em(l,"caption",b):$s(l,b),b});return ya(h),h},$0=(l,f)=>{const h=[],b=[],x=Et=>Ot(Et,_t=>{_t.isNew&&h.push(_t.element);const Gt=_t.element;return ya(Gt),he(_t.cells,rt=>{rt.isNew&&b.push(rt.element),qp(rt.element,"colspan",rt.colspan,1),qp(rt.element,"rowspan",rt.rowspan,1),$s(Gt,rt.element)}),Gt}),O=Et=>Jn(Et,_t=>Ot(_t.cells,Gt=>(qp(Gt.element,"span",Gt.colspan,1),Gt.element))),I=(Et,_t)=>{const Gt=B0(l,_t),ht=(_t==="colgroup"?O:x)(Et);Pa(Gt,ht)},j=Et=>{Zn(l,Et).each(wr)},J=(Et,_t)=>{Et.length>0?I(Et,_t):j(_t)},fe=[],De=[],dt=[],Rt=[];return he(f,Et=>{switch(Et.section){case"thead":fe.push(Et);break;case"tbody":De.push(Et);break;case"tfoot":dt.push(Et);break;case"colgroup":Rt.push(Et);break}}),J(Rt,"colgroup"),J(fe,"thead"),J(De,"tbody"),J(dt,"tfoot"),{newRows:h,newCells:b}},gC=l=>Ot(l,f=>{const h=Ha(f.element);return he(f.cells,b=>{const x=Qc(b.element);qp(x,"colspan",b.colspan,1),qp(x,"rowspan",b.rowspan,1),$s(h,x)}),h}),I0=(l,f)=>Ot(l,h=>$a(h,f)),jg=(l,f)=>l[f],MT=(l,f)=>{if(l.length===0)return 0;const h=l[0];return Go(l,x=>!f(h.element,x.element)).getOr(l.length)},F0=(l,f,h,b)=>{const x=jg(l,f),O=x.section==="colgroup",I=MT(x.cells.slice(h),b),j=O?1:MT(I0(l.slice(f),h),b);return{colspan:I,rowspan:j}},Am=(l,f)=>{const h=Ot(l,x=>Ot(x.cells,gn)),b=(x,O,I,j)=>{for(let J=x;J<x+I;J++)for(let fe=O;fe<O+j;fe++)h[J][fe]=!0};return Ot(l,(x,O)=>{const I=Jn(x.cells,(j,J)=>{if(h[O][J]===!1){const fe=F0(l,O,J,f);return b(O,J,fe.rowspan,fe.colspan),[lu(j.element,fe.rowspan,fe.colspan,j.isNew)]}else return[]});return yc(x.element,I,x.section,x.isNew)})},Gp=(l,f,h)=>{const b=[];he(l.colgroups,x=>{const O=[];for(let I=0;I<l.grid.columns;I++){const j=ro.getColumnAt(l,I).map(J=>U(J.element,h,!1)).getOrThunk(()=>U(f.colGap(),!0,!1));O.push(j)}b.push(se(x.element,O,"colgroup",h))});for(let x=0;x<l.grid.rows;x++){const O=[];for(let J=0;J<l.grid.columns;J++){const fe=ro.getAt(l,x,J).map(De=>U(De.element,h,De.isLocked)).getOrThunk(()=>U(f.gap(),!0,!1));O.push(fe)}const I=l.all[x],j=se(I.element,O,I.section,h);b.push(j)}return b},L0=(l,f)=>Gp(l,f,!1),Wb=l=>Am(l,Zo),H0=(l,f)=>xe(l.all,h=>$(h.cells,b=>Zo(f,b.element))),pC=(l,f,h)=>{const b=Ot(f.selection,O=>mu(O).bind(I=>H0(l,I)).filter(h)),x=Cs(b);return am(x.length>0,x)},Fc=(l,f,h,b,x)=>(O,I,j,J)=>{const fe=ro.fromTable(O),De=ue.from(J==null?void 0:J.section).getOrThunk(uy.fallback);return f(fe,I).map(Rt=>{const Et=L0(fe,j),_t=l(Et,Rt,Zo,x(j),De),Gt=rr(_t.grid),rt=Wb(_t.grid);return{info:Rt,grid:rt,cursor:_t.cursor,lockedColumns:Gt}}).bind(Rt=>{const Et=$0(O,Rt.grid),_t=ue.from(J==null?void 0:J.sizing).getOrThunk(()=>w.getTableSize(O)),Gt=ue.from(J==null?void 0:J.resize).getOrThunk(Tm);return h(O,Rt.grid,Rt.info,{sizing:_t,resize:Gt,section:De}),b(O),ne(O,Zc),Rt.lockedColumns.length>0&&js(O,Zc,Rt.lockedColumns.join(",")),ue.some({cursor:Rt.cursor,newRows:Et.newRows,newCells:Et.newCells})})},dD=(l,f)=>mu(f.element).bind(h=>H0(l,h).map(b=>({...b,generators:f.generators,clipboard:f.clipboard}))),V0=(l,f)=>pC(l,f,Ne).map(h=>({cells:h,generators:f.generators,clipboard:f.clipboard})),dy=(l,f)=>f.mergable,NT=(l,f)=>f.unmergable,Yi=(l,f)=>pC(l,f,Ne),Au=(l,f)=>pC(l,f,h=>!h.isLocked),zm=(l,f)=>H0(l,f).exists(h=>!h.isLocked),Wg=(l,f)=>Co(f,h=>zm(l,h)),hC=(l,f)=>dy(l,f).filter(h=>Wg(l,h.cells)),fy=(l,f)=>NT(l,f).filter(h=>Wg(l,h)),Zb=(l,f,h,b)=>{const x=la(l).rows;if(x.length===0)return l;for(let O=f.startRow;O<=f.finishRow;O++)for(let I=f.startCol;I<=f.finishCol;I++){const j=x[O],J=$a(j,I).isLocked;Vn(j,I,U(b(),!1,J))}return l},yC=(l,f,h,b)=>{const x=la(l).rows;let O=!0;for(let I=0;I<x.length;I++)for(let j=0;j<ti(x[0]);j++){const J=x[I],fe=$a(J,j),De=fe.element,dt=h(De,f);dt&&!O?Vn(J,j,U(b(),!0,fe.isLocked)):dt&&(O=!1)}return l},Om=(l,f)=>we(l,(h,b)=>Me(h,x=>f(x.element,b.element))?h:h.concat([b]),[]),Zg=(l,f,h,b)=>(f>0&&f<l[0].cells.length&&he(l,x=>{const O=x.cells[f-1];let I=0;const j=b();for(;x.cells.length>f+I&&h(O.element,x.cells[f+I].element);)Vn(x,f+I,U(j,!0,x.cells[f+I].isLocked)),I++}),l),Yl=(l,f,h,b)=>{const x=la(l).rows;if(f>0&&f<x.length){const O=x[f-1].cells,I=Om(O,h);he(I,j=>{let J=ue.none();for(let fe=f;fe<x.length;fe++)for(let De=0;De<ti(x[0]);De++){const dt=x[fe],Rt=$a(dt,De);h(Rt.element,j.element)&&(J.isNone()&&(J=ue.some(b())),J.each(_t=>{Vn(dt,De,U(_t,!0,Rt.isLocked))}))}})}return l},qb=l=>{const f=O=>O(l),h=ae(l),b=()=>x,x={tag:!0,inner:l,fold:(O,I)=>I(l),isValue:Ne,isError:gn,map:O=>ri.value(O(l)),mapError:b,bind:f,exists:f,forall:f,getOr:h,or:b,getOrThunk:h,orThunk:b,getOrDie:h,each:O=>{O(l)},toOptional:()=>ue.some(l)};return x},Ia=l=>{const f=()=>h,h={tag:!1,inner:l,fold:(b,x)=>b(l),isValue:gn,isError:Ne,map:f,mapError:b=>ri.error(b(l)),bind:f,exists:gn,forall:Ne,getOr:wt,or:wt,getOrThunk:go,orThunk:go,getOrDie:zt(String(l)),each:xt,toOptional:ue.none};return h},ri={value:qb,error:Ia,fromOption:(l,f)=>l.fold(()=>Ia(f),qb)},PT=(l,f,h)=>{if(l.row>=f.length||l.column>ti(f[0]))return ri.error("invalid start address out of table bounds, row: "+l.row+", column: "+l.column);const b=f.slice(l.row),x=b[0].cells.slice(l.column),O=ti(h[0]),I=h.length;return ri.value({rowDelta:b.length-I,colDelta:x.length-O})},bC=(l,f)=>{const h=ti(l[0]),b=ti(f[0]);return{rowDelta:0,colDelta:h-b}},Pf=(l,f)=>{const h=l.length,b=f.length;return{rowDelta:h-b,colDelta:0}},Dm=(l,f,h,b)=>{const x=f.section==="colgroup"?h.col:h.cell;return Yt(l,O=>U(x(),!0,b(O)))},Bf=(l,f,h,b)=>{const x=l[l.length-1];return l.concat(Yt(f,()=>{const O=x.section==="colgroup"?h.colgroup:h.row,I=uc(x,O,wt),j=Dm(I.cells.length,I,h,J=>eo(b,J.toString()));return Wr(I,j)}))},Xi=(l,f,h,b)=>Ot(l,x=>{const O=Dm(f,x,h,gn);return Ld(x,b,O)}),vC=(l,f,h)=>Ot(l,b=>we(h,(x,O)=>{const I=Dm(1,b,f,Ne)[0];return zp(x,O,I)},b)),my=(l,f,h)=>{const b=f.colDelta<0?Xi:wt,x=f.rowDelta<0?Bf:wt,O=rr(l),I=ti(l[0]),j=Me(O,De=>De===I-1),J=b(l,Math.abs(f.colDelta),h,j?I-1:I),fe=rr(J);return x(J,Math.abs(f.rowDelta),h,jt(fe,Ne))},j0=(l,f,h,b)=>{const x=$a(l[f],h),O=bt(b,x.element),I=l[f];return l.length>1&&ti(I)>1&&(h>0&&O(kc(I,h-1))||h<I.cells.length-1&&O(kc(I,h+1))||f>0&&O(kc(l[f-1],h))||f<l.length-1&&O(kc(l[f+1],h)))},Kp=(l,f,h,b,x,O)=>{const I=l.row,j=l.column,J=h.length,fe=ti(h[0]),De=I+J,dt=j+fe+O.length,Rt=jt(O,Ne);for(let Et=I;Et<De;Et++){let _t=0;for(let Gt=j;Gt<dt;Gt++){if(Rt[Gt]){_t++;continue}j0(f,Et,Gt,x)&&yC(f,kc(f[Et],Gt),x,b.cell);const rt=Gt-j-_t,ht=$a(h[Et-I],rt),Sn=ht.element,An=b.replace(Sn);Vn(f[Et],Gt,U(An,!0,ht.isLocked))}}return f},qg=(l,f,h)=>{const b=ti(f[0]),x=la(f).cols.length+l.row,O=Yt(b-l.column,j=>j+l.column),I=$(O,j=>Co(h,J=>J!==j)).getOr(b-1);return{row:x,column:I}},Rm=(l,f,h)=>vt(h,b=>b>=l.column&&b<=ti(f[0])+l.column),Eo=(l,f,h,b,x)=>{const O=rr(f),I=qg(l,f,O),j=la(h).rows,J=Rm(I,j,O);return PT(I,f,j).map(De=>{const dt={...De,colDelta:De.colDelta-J.length},Rt=my(f,dt,b),Et=rr(Rt),_t=Rm(I,j,Et);return Kp(I,Rt,j,b,x,_t)})},Oi=(l,f,h,b,x)=>{Zg(f,l,x,b.cell);const O=Pf(h,f),I=my(h,O,b),j=Pf(f,I),J=my(f,j,b);return Ot(J,(fe,De)=>Ld(fe,l,I[De].cells))},Kd=(l,f,h,b,x)=>{Yl(f,l,x,b.cell);const O=rr(f),I=bC(f,h),j={...I,colDelta:I.colDelta-O.length},J=my(f,j,b),{cols:fe,rows:De}=la(J),dt=rr(J),Rt=bC(h,f),Et={...Rt,colDelta:Rt.colDelta+dt.length},_t=vC(h,b,dt),Gt=my(_t,Et,b);return[...fe,...De.slice(0,l),...Gt,...De.slice(l,De.length)]},Gb=(l,f,h,b)=>uc(l,x=>b(x,h),f),ws=(l,f,h,b,x)=>{const{rows:O,cols:I}=la(l),j=O.slice(0,f),J=O.slice(f),fe=Gb(O[h],(De,dt)=>f>0&&f<O.length&&b(kc(O[f-1],dt),kc(O[f],dt))?$a(O[f],dt):U(x(De.element,b),!0,De.isLocked),b,x);return[...I,...j,fe,...J]},Mm=(l,f,h,b,x,O,I)=>{if(h==="colgroup"||!b){const j=$a(l,x);return U(I(j.element,O),!0,!1)}else return $a(l,f)},Kb=(l,f,h,b,x)=>Ot(l,O=>{const I=f>0&&f<ti(O)&&b(kc(O,f-1),kc(O,f)),j=Mm(O,f,O.section,I,h,b,x);return zp(O,f,j)}),BT=(l,f)=>Jn(l,h=>{const b=h.cells,x=Dn(f,(O,I)=>I>=0&&I<O.length?O.slice(0,I).concat(O.slice(I+1)):O,b);return x.length>0?[se(h.element,x,h.section,h.isNew)]:[]}),$T=(l,f,h)=>{const{rows:b,cols:x}=la(l);return[...x,...b.slice(0,f),...b.slice(h+1)]},gy=(l,f,h,b)=>kc(l[f],h)!==void 0&&f>0&&b(kc(l[f-1],h),kc(l[f],h)),Ls=(l,f,h)=>f>0&&h(kc(l,f-1),kc(l,f)),kC=(l,f,h,b)=>gy(l,f,h,b)||Ls(l[f],h,b),IT=(l,f)=>Co(f,wt)&&Ug(l.cells)?Ne:(b,x,O)=>!(Io(b.element)==="th"&&f[O]),wC=(l,f)=>Co(f,wt)&&Ug(l)?Ne:(b,x,O)=>!(Io(b.element)==="th"&&f[x]),Gg=(l,f,h,b)=>{const x=I=>I==="row"?Sr(f):ic(f),O=I=>x(I)?`${I}group`:I;return l?Vg(f)?O(h):null:b&&Vg(f)?O(h==="row"?"col":"row"):null},Ji=(l,f)=>(h,b,x)=>ue.some(Gg(l,h.element,"col",f[x])),Nm=(l,f)=>(h,b)=>ue.some(Gg(l,h.element,"row",f[b])),W0=(l,f,h)=>U(h(l.element,f),!0,l.isLocked),Vt=(l,f,h,b,x,O,I)=>{const j=J=>Me(f,fe=>h(J.element,fe.element));return Ot(l,(J,fe)=>ed(J,(De,dt)=>{if(j(De)){const Rt=I(De,fe,dt)?x(De,h,b):De;return O(Rt,fe,dt).each(Et=>{yi(Rt.element,{scope:ue.from(Et)})}),Rt}else return De}))},Z0=(l,f,h)=>Jn(l,(b,x)=>kC(l,x,f,h)?[]:[$a(b,f)]),FT=(l,f,h)=>{const b=l[f];return Jn(b.cells,(x,O)=>kC(l,f,O,h)?[]:[x])},_C=(l,f,h,b,x)=>{const O=la(l).rows,I=Jn(f,De=>Z0(O,De,b)),j=Ot(O,De=>Ug(De.cells)),J=wC(I,j),fe=Nm(h,j);return Vt(l,I,b,x,W0,fe,J)},q0=(l,f,h,b,x,O,I)=>{const{cols:j,rows:J}=la(l),fe=J[f[0]],De=Jn(f,rt=>FT(J,rt,x)),dt=Ot(fe.cells,(rt,ht)=>Ug(Z0(J,ht,x))),Rt=[...J];he(f,rt=>{Rt[rt]=I.transformRow(J[rt],h)});const Et=[...j,...Rt],_t=IT(fe,dt),Gt=Ji(b,dt);return Vt(Et,De,x,O,I.transformCell,Gt,_t)},CC=(l,f,h,b)=>{const x=la(l).rows,O=Ot(f,I=>$a(x[I.row],I.column));return Vt(l,O,h,b,W0,ue.none,Ne)},fd={generate:l=>{if(!Un(l))throw new Error("cases must be an array");if(l.length===0)throw new Error("there must be at least one case");const f=[],h={};return he(l,(b,x)=>{const O=be(b);if(O.length!==1)throw new Error("one and only one name per case");const I=O[0],j=b[I];if(h[I]!==void 0)throw new Error("duplicate key detected:"+I);if(I==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Un(j))throw new Error("case arguments must be an array");f.push(I),h[I]=(...J)=>{const fe=J.length;if(fe!==j.length)throw new Error("Wrong number of arguments to case "+I+". Expected "+j.length+" ("+j+"), got "+fe);return{fold:(...dt)=>{if(dt.length!==l.length)throw new Error("Wrong number of arguments to fold. Expected "+l.length+", got "+dt.length);return dt[x].apply(null,J)},match:dt=>{const Rt=be(dt);if(f.length!==Rt.length)throw new Error("Wrong number of arguments to match. Expected: "+f.join(",")+`
Actual: `+Rt.join(","));if(!Co(f,_t=>Ge(Rt,_t)))throw new Error("Not all branches were specified when using match. Specified: "+Rt.join(", ")+`
Required: `+f.join(", "));return dt[I].apply(null,J)},log:dt=>{console.log(dt,{constructors:f,constructor:I,params:J})}}}}),h}},Kg={...fd.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},Yb=(l,f)=>l.length===0?Kg.none():l.length===1?Kg.only(0):f===0?Kg.left(0,1):f===l.length-1?Kg.right(f-1,f):f>0&&f<l.length-1?Kg.middle(f-1,f,f+1):Kg.none(),LT=(l,f,h,b,x)=>{const O=l.slice(0),I=Yb(l,f),j=ae(Ot(O,ae(0))),J=Rt=>b.singleColumnWidth(O[Rt],h),fe=(Rt,Et)=>x.calcLeftEdgeDeltas(O,Rt,Et,h,b.minCellWidth(),b.isRelative),De=(Rt,Et,_t)=>x.calcMiddleDeltas(O,Rt,Et,_t,h,b.minCellWidth(),b.isRelative),dt=(Rt,Et)=>x.calcRightEdgeDeltas(O,Rt,Et,h,b.minCellWidth(),b.isRelative);return I.fold(j,J,fe,De,dt)},hl=(l,f,h)=>{let b=0;for(let x=l;x<f;x++)b+=h[x]!==void 0?h[x]:0;return b},xC=(l,f)=>{const h=ro.justCells(l);return Ot(h,b=>{const x=hl(b.column,b.column+b.colspan,f);return{element:b.element,width:x,colspan:b.colspan}})},G0=(l,f)=>{const h=ro.justColumns(l);return Ot(h,(b,x)=>({element:b.element,width:f[x],colspan:b.colspan}))},TC=(l,f)=>Ot(l.all,(h,b)=>({element:h.element,height:f[b]})),Xb=l=>Dn(l,(f,h)=>f+h,0),HT=(l,f)=>ro.hasColumns(l)?G0(l,f):xC(l,f),Jb=(l,f,h)=>{const b=HT(l,f);he(b,x=>{h.setElementWidth(x.element,x.width)})},K0=(l,f,h,b,x)=>{const O=ro.fromTable(l),I=x.getCellDelta(f),j=x.getWidths(O,x),J=h===O.grid.columns-1,fe=b.clampTableDelta(j,h,I,x.minCellWidth(),J),De=LT(j,h,fe,x,b),dt=Ot(De,(Rt,Et)=>Rt+j[Et]);Jb(O,dt,x),b.resizeTable(x.adjustTableWidth,fe,J)},Y0=(l,f,h)=>{const b=ro.fromTable(l),x=Ee(b,l),O=Ot(x,(J,fe)=>h===fe?Math.max(f+J,yg()):J),I=TC(b,O);he(I,J=>{Vd(J.element,J.height)}),he(ro.justCells(b),J=>{Ef(J.element)});const j=Xb(O);Vd(l,j)},EC=(l,f,h,b,x)=>{const O=ro.generate(f),I=b.getWidths(O,b),j=b.pixelWidth(),{newSizes:J,delta:fe}=x.calcRedestributedWidths(I,j,h.pixelDelta,b.isRelative);Jb(O,J,b),b.adjustTableWidth(fe)},VT=(l,f,h,b)=>{const x=ro.generate(f),O=b.getWidths(x,b);Jb(x,O,b)},Yd=l=>we(l,(h,b)=>Me(h,O=>O.column===b.column)?h:h.concat([b]),[]).sort((h,b)=>h.column-b.column),AC=ys("col"),Yp=ys("colgroup"),Xp=l=>Io(l)==="tr"||Yp(l),zC=l=>{const f=Ws(l,"colspan",1),h=Ws(l,"rowspan",1);return{element:l,colspan:f,rowspan:h}},Qb=(l,f=zC)=>{const h=j=>AC(j.element)?l.col(j):l.cell(j),b=j=>Yp(j.element)?l.colgroup(j):l.row(j),x=j=>{if(Xp(j))return b({element:j});{const J=j,fe=h(f(J));return O=ue.some({item:J,replacement:fe}),fe}};let O=ue.none();return{getOrInit:(j,J)=>O.fold(()=>x(j),fe=>J(j,fe.item)?fe.replacement:x(j))}},X0=l=>f=>{const h=[],b=(I,j)=>$(h,J=>j(J.item,I)),x=I=>{const j=l==="td"?{scope:null}:{},J=f.replace(I,l,j);return h.push({item:I,sub:J}),J};return{replaceOrInit:(I,j)=>{if(Xp(I)||AC(I))return I;{const J=I;return b(J,j).fold(()=>x(J),fe=>j(I,fe.item)?fe.sub:x(J))}}}},e1=l=>ce(l,"scope").map(f=>f.substr(0,3)),ai={modification:Qb,transform:X0,merging:l=>({unmerge:b=>{const x=e1(b);return x.each(O=>js(b,"scope",O)),()=>{const O=l.cell({element:b,colspan:1,rowspan:1});return cc(O,"width"),cc(b,"width"),x.each(I=>js(O,"scope",I)),O}},merge:b=>{const x=()=>{const O=Cs(Ot(b,e1));if(O.length===0)return ue.none();{const I=O[0],j=["row","col"];return Me(O,fe=>fe!==I&&Ge(j,fe))?ue.none():ue.from(I)}};return cc(b[0],"width"),x().fold(()=>ne(b[0],"scope"),O=>js(b[0],"scope",O+"group")),ae(b[0])}})},jT=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],WT=(l,f)=>{const h=l.property().name(f);return Ge(["ol","ul"],h)},Pm=(l,f)=>{const h=l.property().name(f);return Ge(jT,h)},Bm=(l,f)=>Ge(["br","img","hr","input"],l.property().name(f)),$f=Cm(),J0=l=>Pm($f,l),Ue=l=>WT($f,l),t1=l=>Bm($f,l),If=l=>{const f=ys("br"),h=J=>Co(J,fe=>f(fe)||nc(fe)&&Jo(fe).trim().length===0),b=J=>Io(J)==="li"||ls(J,Ue).isSome(),x=J=>Rc(J).map(fe=>J0(fe)?!0:t1(fe)?Io(fe)!=="img":!1).getOr(!1),O=J=>bm(J).bind(fe=>{const De=x(fe);return ra(fe).map(dt=>De===!0||b(dt)||f(fe)||J0(dt)&&!Zo(J,dt)?[]:[ge.fromTag("br")])}).getOr([]),j=(()=>{const J=Jn(l,fe=>{const De=So(fe);return h(De)?[]:De.concat(O(fe))});return J.length===0?[ge.fromTag("br")]:J})();ya(l[0]),Pa(l[0],j)},$m=l=>oy(l,!0),n1=l=>{wi(l).length===0&&wr(l)},Qi=(l,f)=>({grid:l,cursor:f}),Q0=l=>xe(l,f=>xe(f.cells,h=>{const b=h.element;return am($m(b),b)})),ek=(l,f,h)=>{var b,x;const O=la(l).rows;return ue.from((x=(b=O[f])===null||b===void 0?void 0:b.cells[h])===null||x===void 0?void 0:x.element).filter($m).orThunk(()=>Q0(O))},ci=(l,f,h)=>{const b=ek(l,f,h);return Qi(l,b)},Jp=l=>we(l,(h,b)=>Me(h,O=>O.row===b.row)?h:h.concat([b]),[]).sort((h,b)=>h.row-b.row),OC=(l,f,h,b)=>{const x=f[0].row,O=Jp(f),I=Dn(O,(j,J)=>({grid:ws(j.grid,x,J.row+j.delta,h,b.getOrInit),delta:j.delta+1}),{grid:l,delta:0}).grid;return ci(I,x,f[0].column)},DC=(l,f,h,b)=>{const x=Jp(f),O=x[x.length-1],I=O.row+O.rowspan,j=Dn(x,(J,fe)=>ws(J,I,fe.row,h,b.getOrInit),l);return ci(j,I,f[0].column)},ZT=(l,f,h,b)=>{const x=f.details,O=Yd(x),I=O[0].column,j=Dn(O,(J,fe)=>({grid:Kb(J.grid,I,fe.column+J.delta,h,b.getOrInit),delta:J.delta+1}),{grid:l,delta:0}).grid;return ci(j,x[0].row,I)},RC=(l,f,h,b)=>{const x=f.details,O=x[x.length-1],I=O.column+O.colspan,j=Yd(x),J=Dn(j,(fe,De)=>Kb(fe,I,De.column,h,b.getOrInit),l);return ci(J,x[0].row,I)},qT=(l,f,h,b)=>{const x=Yd(f),O=Ot(x,j=>j.column),I=_C(l,O,!0,h,b.replaceOrInit);return ci(I,f[0].row,f[0].column)},MC=(l,f,h,b)=>{const x=CC(l,f,h,b.replaceOrInit);return ci(x,f[0].row,f[0].column)},GT=(l,f,h,b)=>{const x=Yd(f),O=Ot(x,j=>j.column),I=_C(l,O,!1,h,b.replaceOrInit);return ci(I,f[0].row,f[0].column)},KT=(l,f,h,b)=>{const x=CC(l,f,h,b.replaceOrInit);return ci(x,f[0].row,f[0].column)},o1=(l,f)=>(h,b,x,O,I)=>{const j=Jp(b),J=Ot(j,De=>De.row),fe=q0(h,J,l,f,x,O.replaceOrInit,I);return ci(fe,b[0].row,b[0].column)},s1=o1("thead",!0),YT=o1("tbody",!1),NC=o1("tfoot",!1),XT=(l,f,h,b)=>{const x=Yd(f.details),O=BT(l,Ot(x,j=>j.column)),I=O.length>0?O[0].cells.length-1:0;return ci(O,x[0].row,Math.min(x[0].column,I))},tk=(l,f,h,b)=>{const x=Jp(f),O=$T(l,x[0].row,x[x.length-1].row),I=Math.max(la(O).rows.length-1,0);return ci(O,Math.min(f[0].row,I),f[0].column)},br=(l,f,h,b)=>{const x=f.cells;If(x);const O=Zb(l,f.bounds,h,b.merge(x));return Qi(O,ue.from(x[0]))},nk=(l,f,h,b)=>{const O=Dn(f,(I,j)=>yC(I,j,h,b.unmerge(j)),l);return Qi(O,ue.from(f[0]))},PC=(l,f,h,b)=>{const O=((J,fe)=>{const De=ro.fromTable(J);return Gp(De,fe,!0)})(f.clipboard,f.generators),I=cu(f.row,f.column);return Eo(I,l,O,f.generators,h).fold(()=>Qi(l,ue.some(f.element)),J=>ci(J,f.row,f.column))},r1=(l,f,h)=>{const b=kg(l,h.section),x=ro.generate(b);return Gp(x,f,!0)},a1=(l,f,h,b)=>{const x=la(l).rows,O=f.cells[0].column,I=x[f.cells[0].row],j=r1(f.clipboard,f.generators,I),J=Oi(O,l,j,f.generators,h);return ci(J,f.cells[0].row,f.cells[0].column)},Lc=(l,f,h,b)=>{const x=la(l).rows,O=f.cells[f.cells.length-1].column+f.cells[f.cells.length-1].colspan,I=x[f.cells[0].row],j=r1(f.clipboard,f.generators,I),J=Oi(O,l,j,f.generators,h);return ci(J,f.cells[0].row,O)},yl=(l,f,h,b)=>{const x=la(l).rows,O=f.cells[0].row,I=x[O],j=r1(f.clipboard,f.generators,I),J=Kd(O,l,j,f.generators,h);return ci(J,f.cells[0].row,f.cells[0].column)},ok=(l,f,h,b)=>{const x=la(l).rows,O=f.cells[f.cells.length-1].row+f.cells[f.cells.length-1].rowspan,I=x[f.cells[0].row],j=r1(f.clipboard,f.generators,I),J=Kd(O,l,j,f.generators,h);return ci(J,O,f.cells[0].column)},sk=(l,f)=>{const h=ro.fromTable(l);return Yi(h,f).bind(x=>{const O=x[x.length-1],I=x[0].column,j=O.column+O.colspan,J=xn(Ot(h.all,fe=>vt(fe.cells,De=>De.column>=I&&De.column<j)));return Vb(J)}).getOr("")},BC=(l,f)=>{const h=ro.fromTable(l);return Yi(h,f).bind(Vb).getOr("")},rk=(l,f)=>{const h=ro.fromTable(l);return Yi(h,f).bind(x=>{const O=x[x.length-1],I=x[0].row,j=O.row+O.rowspan,J=h.all.slice(I,j);return mC(J)}).getOr("")},hy=(l,f,h,b)=>VT(l,f,h,b.sizing),c1=(l,f,h,b)=>EC(l,f,h,b.sizing,b.resize),$C=(l,f)=>Me(f,h=>h.column===0&&h.isLocked),ii=(l,f)=>Me(f,h=>h.column+h.colspan>=l.grid.columns&&h.isLocked),Im=(l,f)=>{const h=od(l),b=Yd(f);return we(b,(x,O)=>{const j=h[O.column].map(os).getOr(0);return x+j},0)},md=l=>(f,h)=>Yi(f,h).filter(b=>!(l?$C:ii)(f,b)).map(b=>({details:b,pixelDelta:Im(f,b)})),ak=(l,f)=>Au(l,f).map(h=>({details:h,pixelDelta:-Im(l,h)})),er=l=>(f,h)=>V0(f,h).filter(b=>!(l?$C:ii)(f,b.cells)),zu=ai.transform("th"),Fm=ai.transform("td"),JT=Fc(OC,Yi,xt,xt,ai.modification),ck=Fc(DC,Yi,xt,xt,ai.modification),IC=Fc(ZT,md(!0),c1,xt,ai.modification),Yg=Fc(RC,md(!1),c1,xt,ai.modification),Ga=Fc(XT,ak,c1,n1,ai.modification),Ff=Fc(tk,Yi,xt,n1,ai.modification),QT=Fc(qT,Au,xt,xt,zu),ik=Fc(GT,Au,xt,xt,Fm),eE=Fc(s1,Au,xt,xt,zu),i1=Fc(YT,Au,xt,xt,Fm),lk=Fc(NC,Au,xt,xt,Fm),l1=Fc(MC,Au,xt,xt,zu),Ut=Fc(KT,Au,xt,xt,Fm),yy=Fc(br,hC,hy,xt,ai.merging),uk=Fc(nk,fy,hy,xt,ai.merging),FC=Fc(PC,dD,hy,xt,ai.modification),LC=Fc(a1,er(!0),xt,xt,ai.modification),tE=Fc(Lc,er(!1),xt,xt,ai.modification),mc=Fc(yl,V0,xt,xt,ai.modification),nE=Fc(ok,V0,xt,xt,ai.modification),Lm=sk,dk=BC,HC=rk,Sc=(l,f)=>l.dispatch("NewRow",{node:f}),Hm=(l,f)=>l.dispatch("NewCell",{node:f}),Lf=(l,f,h)=>{l.dispatch("TableModified",{...h,table:f})},VC=(l,f,h,b,x)=>{l.dispatch("TableSelectionChange",{cells:f,start:h,finish:b,otherCells:x})},oE=l=>{l.dispatch("TableSelectionClear")},sE=(l,f,h,b,x)=>{l.dispatch("ObjectResizeStart",{target:f,width:h,height:b,origin:x})},Ca=(l,f,h,b,x)=>{l.dispatch("ObjectResized",{target:f,width:h,height:b,origin:x})},Ir={structure:!1,style:!0},ms={structure:!0,style:!1},xc={structure:!0,style:!0},Sa=(l,f)=>vm(l)?w.percentageSize(f):Rf(l)?w.pixelSize(f):w.getTableSize(f),xa=(l,f,h)=>{const b=Gn=>Io(Bg(Gn))==="table",x=Gn=>!b(l)||Gd(Gn).rows>1,O=Gn=>!b(l)||Gd(Gn).columns>1,I=tC(l),j=Bb(l)?xt:iy,J=Gn=>{switch(nC(l)){case"section":return uy.section();case"sectionCells":return uy.sectionCells();case"cells":return uy.cells();default:return uy.getTableSectionType(Gn,"section")}},fe=(Gn,Tl)=>Tl.cursor.fold(()=>{const Nu=wi(Gn);return te(Nu).filter(rn).map(nf=>{h.clearSelectedCells(Gn.dom);const Ta=l.dom.createRng();return Ta.selectNode(nf.dom),l.selection.setRng(Ta),js(nf,"data-mce-selected","1"),Ta})},Nu=>{const nf=si(Nu),Ta=l.dom.createRng();return Ta.setStart(nf.element.dom,nf.offset),Ta.setEnd(nf.element.dom,nf.offset),l.selection.setRng(Ta),h.clearSelectedCells(Gn.dom),ue.some(Ta)}),De=(Gn,Tl,Nu,nf)=>(Ta,$o,sw=!1)=>{oi(Ta);const rw=ge.fromDom(l.getDoc()),lv=Of(Nu,rw,I),t2={sizing:Sa(l,Ta),resize:Bb(l)?Hg():Tm(),section:J(Ta)};return Tl(Ta)?Gn(Ta,$o,lv,t2).bind(qf=>{f.refresh(Ta.dom),he(qf.newRows,bh=>{Sc(l,bh.dom)}),he(qf.newCells,bh=>{Hm(l,bh.dom)});const fp=fe(Ta,qf);return rn(Ta)&&(oi(Ta),sw||Lf(l,Ta.dom,nf)),fp.map(bh=>({rng:bh,effect:nf}))}):ue.none()},dt=De(Ff,x,xt,ms),Rt=De(Ga,O,xt,ms),Et=De(JT,Ne,xt,ms),_t=De(ck,Ne,xt,ms),Gt=De(IC,Ne,j,ms),rt=De(Yg,Ne,j,ms),ht=De(yy,Ne,xt,ms),Sn=De(uk,Ne,xt,ms),An=De(LC,Ne,xt,ms),an=De(tE,Ne,xt,ms),cr=De(mc,Ne,xt,ms),gs=De(nE,Ne,xt,ms),Fr=De(FC,Ne,xt,xc),Sl=De(l1,Ne,xt,ms),zc=De(Ut,Ne,xt,ms),up=De(QT,Ne,xt,ms),dp=De(ik,Ne,xt,ms),us=De(eE,Ne,xt,ms),Ja=De(i1,Ne,xt,ms),di=De(lk,Ne,xt,ms);return{deleteRow:dt,deleteColumn:Rt,insertRowsBefore:Et,insertRowsAfter:_t,insertColumnsBefore:Gt,insertColumnsAfter:rt,mergeCells:ht,unmergeCells:Sn,pasteColsBefore:An,pasteColsAfter:an,pasteRowsBefore:cr,pasteRowsAfter:gs,pasteCells:Fr,makeCellsHeader:Sl,unmakeCellsHeader:zc,makeColumnsHeader:up,unmakeColumnsHeader:dp,makeRowsHeader:us,makeRowsBody:Ja,makeRowsFooter:di,getTableRowType:HC,getTableCellType:dk,getTableColType:Lm}},u1=(l,f,h)=>{const b=Ws(l,f,1);h===1||b<=1?ne(l,f):js(l,f,Math.min(h,b))},d1=(l,f)=>h=>{const b=h.column+h.colspan-1,x=h.column;return b>=l&&x<f},UC=(l,f,h)=>{if(ro.hasColumns(l)){const b=vt(ro.justColumns(l),d1(f,h)),x=Ot(b,I=>{const j=Qc(I.element);return u1(j,"span",h-f),j}),O=ge.fromTag("colgroup");return Pa(O,x),[O]}else return[]},jC=(l,f,h)=>Ot(l.all,b=>{const x=vt(b.cells,d1(f,h)),O=Ot(x,j=>{const J=Qc(j.element);return u1(J,"colspan",h-f),J}),I=ge.fromTag("tr");return Pa(I,O),I}),WC=(l,f)=>{const h=ro.fromTable(l);return Au(h,f).map(x=>{const O=x[x.length-1],I=x[0].column,j=O.column+O.colspan,J=UC(h,I,j),fe=jC(h,I,j);return[...J,...fe]})},f1=(l,f,h)=>{const b=ro.fromTable(l);return Yi(b,f).bind(O=>{const I=Gp(b,h,!1),J=la(I).rows.slice(O[0].row,O[O.length-1].row+O[O.length-1].rowspan),fe=Jn(J,dt=>{const Rt=vt(dt.cells,Et=>!Et.isLocked);return Rt.length>0?[{...dt,cells:Rt}]:[]}),De=Wb(fe);return am(De.length>0,De)}).map(O=>gC(O))},Vm=fd.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),m1=(l,f,h)=>{const b=h.substring(0,h.length-l.length),x=parseFloat(b);return b===x.toString()?f(x):Vm.invalid(h)},Qp={...Vm,from:l=>Li(l,"%")?m1("%",Vm.percent,l):Li(l,"px")?m1("px",Vm.pixels,l):Vm.invalid(l)},aE=(l,f)=>Ot(l,h=>Qp.from(h).fold(()=>h,x=>x/f*100+"%",x=>x+"%")),cE=(l,f,h)=>{const b=h/f;return Ot(l,x=>Qp.from(x).fold(()=>x,I=>I*b+"px",I=>I/100*h+"px"))},Di=(l,f)=>{const h=l.fold(()=>ae(""),b=>{const x=b/f;return ae(x+"px")},()=>{const b=100/f;return ae(b+"%")});return Yt(f,h)},fD=(l,f,h)=>l.fold(()=>f,b=>cE(f,h,b),b=>aE(f,h)),ZC=(l,f,h)=>{const b=Qp.from(h),x=Co(l,O=>O==="0px")?Di(b,l.length):fD(b,l,f);return gd(x)},bl=(l,f)=>l.length===0?f:Dn(l,(h,b)=>Qp.from(b).fold(ae(0),wt,wt)+h,0),g1=(l,f)=>{const h=Math.floor(l);return{value:h+f,remainder:l-h}},by=(l,f)=>Qp.from(l).fold(ae(l),h=>h+f+"px",h=>h+f+"%"),gd=l=>{if(l.length===0)return l;const f=Dn(l,(b,x)=>{const O=Qp.from(x).fold(()=>({value:x,remainder:0}),I=>g1(I,"px"),I=>({value:I+"%",remainder:0}));return{output:[O.value].concat(b.output),remainder:b.remainder+O.remainder}},{output:[],remainder:0}),h=f.output;return h.slice(0,h.length-1).concat([by(h[h.length-1],Math.round(f.remainder))])},li=Qp.from,Um=(l,f,h)=>{he(f,b=>{const x=l.slice(b.column,b.colspan+b.column),O=bl(x,xr());Xr(b.element,"width",O+h)})},fk=(l,f,h)=>{he(f,(b,x)=>{const O=bl([l[x]],xr());Xr(b.element,"width",O+h)})},p1=(l,f,h)=>{he(h,b=>{cc(b.element,"height")}),he(f,(b,x)=>{Xr(b.element,"height",l[x])})},qC=l=>li(l).fold(ae("px"),ae("px"),ae("%")),Hf=(l,f,h)=>{const b=ro.fromTable(l),x=b.all,O=ro.justCells(b),I=ro.justColumns(b);f.each(j=>{const J=qC(j),fe=ka(l),De=Cu(b,l),dt=ZC(De,fe,j);ro.hasColumns(b)?fk(dt,I,J):Um(dt,O,J),Xr(l,"width",j)}),h.each(j=>{const J=me(l),fe=Ei(b,l),De=ZC(fe,J,j);p1(De,x,O),Xr(l,"height",j)})},GC=_c,mk=Nb,KC=xi,vy=l=>{ne(l,"width"),ne(l,"height")},ky=l=>{const f=ea(l);Hf(l,ue.some(f),ue.none()),vy(l)},wy=l=>{const f=Lo(l);Hf(l,ue.some(f),ue.none()),vy(l)},iE=l=>{const f=Mg(l);Hf(l,ue.none(),ue.some(f)),vy(l)},h1=l=>{cc(l,"width");const f=yf(l),h=f.length>0?f:wi(l);he(h,b=>{cc(b,"width"),vy(b)}),vy(l)},lE={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},YC=()=>ge.fromTag("th"),uE=()=>ge.fromTag("td"),y1=()=>ge.fromTag("col"),XC=(l,f,h,b)=>{const x=ge.fromTag("tr");for(let O=0;O<l;O++){const I=b<f||O<h?YC():uE();O<h&&js(I,"scope","row"),b<f&&js(I,"scope","col"),$s(I,ge.fromTag("br")),$s(x,I)}return x},dE=l=>{const f=ge.fromTag("colgroup");return Yt(l,()=>$s(f,y1())),f},gk=(l,f,h,b)=>Yt(l,x=>XC(f,h,b,x)),b1=(l,f,h,b,x,O=lE)=>{const I=ge.fromTag("table"),j=x!=="cells";Ua(I,O.styles),Ra(I,O.attributes),O.colGroups&&$s(I,dE(f));const J=Math.min(l,h);if(j&&h>0){const Et=ge.fromTag("thead");$s(I,Et);const Gt=gk(h,f,x==="sectionCells"?J:0,b);Pa(Et,Gt)}const fe=ge.fromTag("tbody");$s(I,fe);const De=j?l-J:l,Rt=gk(De,f,j?0:h,b);return Pa(fe,Rt),I},fE=l=>l.dom.innerHTML,JC=l=>{const f=ge.fromTag("div"),h=ge.fromDom(l.dom.cloneNode(!0));return $s(f,h),fE(f)},ui=(l,f)=>{l.selection.select(f.dom,!0),l.selection.collapse(!0)},pk=(l,f)=>{ac(f,"td,th").each(bt(ui,l))},hk=(l,f)=>{he(Ln(f,"tr"),h=>{Sc(l,h.dom),he(Ln(h,"th,td"),b=>{Hm(l,b.dom)})})},yk=l=>ks(l)&&l.indexOf("%")!==-1,v1=(l,f,h,b,x)=>{const O=ty(l),I={styles:O,attributes:Ic(l),colGroups:p0(l)};return l.undoManager.ignore(()=>{const j=b1(h,f,x,b,nC(l),I);js(j,"data-mce-id","__mce");const J=JC(j);l.insertContent(J),l.addVisual()}),ac(Bg(l),'table[data-mce-id="__mce"]').map(j=>(Rf(l)?wy(j):ql(l)?h1(j):(vm(l)||yk(O.width))&&ky(j),oi(j),ne(j,"data-mce-id"),hk(l,j),pk(l,j),j.dom)).getOrNull()},mE=(l,f,h,b={})=>{const x=O=>fo(O)&&O>0;if(x(f)&&x(h)){const O=b.headerRows||0,I=b.headerColumns||0;return v1(l,h,f,I,O)}else return console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table."),null};var k1=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const QC="x-tinymce/dom-table-",bk=QC+"rows",vk=QC+"columns",eS=l=>{const f=k1.FakeClipboardItem(l);k1.write([f])},eh=l=>{var f;const h=(f=k1.read())!==null&&f!==void 0?f:[];return xe(h,b=>ue.from(b.getType(l)))},tS=l=>{eh(l).isSome()&&k1.clear()},nS=l=>{l.fold(gE,f=>eS({[bk]:f}))},oS=()=>eh(bk),gE=()=>tS(bk),sS=l=>{l.fold(pE,f=>eS({[vk]:f}))},rS=()=>eh(vk),pE=()=>tS(vk),w1=l=>dC(Kl(l),ld(l)).filter(wm),aS=l=>z0(Kl(l),ld(l)).filter(wm),th=(l,f)=>{const h=ld(l),b=()=>w1(l).each(rt=>{Tr(rt,h).filter(Z(h)).each(ht=>{const Sn=ge.fromText("");if(oc(ht,Sn),wr(ht),l.dom.isEmpty(l.getBody()))l.setContent(""),l.selection.setCursorLocation();else{const An=l.dom.createRng();An.setStart(Sn.dom,0),An.setEnd(Sn.dom,0),l.selection.setRng(An),l.nodeChanged()}})}),x=rt=>w1(l).each(ht=>{ql(l)||Rf(l)||vm(l)||Tr(ht,h).each(An=>{rt==="relative"&&!GC(An)?ky(An):rt==="fixed"&&!mk(An)?wy(An):rt==="responsive"&&!KC(An)&&h1(An),oi(An),Lf(l,An.dom,ms)})}),O=rt=>Tr(rt,h),I=rt=>aS(l).bind(ht=>O(ht).map(Sn=>rt(Sn,ht))),j=(rt,ht)=>{I(Sn=>{l.formatter.toggle("tableclass",{value:ht},Sn.dom),Lf(l,Sn.dom,Ir)})},J=(rt,ht)=>{I(Sn=>{const An=Fs(l),cr=Co(An,gs=>l.formatter.match("tablecellclass",{value:ht},gs.dom))?l.formatter.remove:l.formatter.apply;he(An,gs=>cr("tablecellclass",{value:ht},gs.dom)),Lf(l,Sn.dom,Ir)})},fe=()=>{w1(l).each(rt=>{Tr(rt,h).each(ht=>{Zn(ht,"caption").fold(()=>{const Sn=ge.fromTag("caption");$s(Sn,ge.fromText("Caption")),gf(ht,Sn,0),l.selection.setCursorLocation(Sn.dom,0)},Sn=>{ys("caption")(rt)&&Ma("td",ht).each(An=>l.selection.setCursorLocation(An.dom,0)),wr(Sn)}),Lf(l,ht.dom,ms)})})},De=rt=>{l.focus()},dt=(rt,ht=!1)=>I((Sn,An)=>{const an=Lb(Fs(l),Sn,An);rt(Sn,an,ht).each(De)}),Rt=()=>I((rt,ht)=>{const Sn=Lb(Fs(l),rt,ht),An=Of(xt,ge.fromDom(l.getDoc()),ue.none());return f1(rt,Sn,An)}),Et=()=>I((rt,ht)=>{const Sn=Lb(Fs(l),rt,ht);return WC(rt,Sn)}),_t=(rt,ht)=>ht().each(Sn=>{const An=Ot(Sn,an=>Qc(an));I((an,cr)=>{const gs=Df(ge.fromDom(l.getDoc())),Fr=Nf(Fs(l),cr,An,gs);rt(an,Fr).each(De)})}),Gt=rt=>(ht,Sn)=>cs(Sn,"type").each(An=>{dt(rt(An),Sn.no_events)});lt({mceTableSplitCells:()=>dt(f.unmergeCells),mceTableMergeCells:()=>dt(f.mergeCells),mceTableInsertRowBefore:()=>dt(f.insertRowsBefore),mceTableInsertRowAfter:()=>dt(f.insertRowsAfter),mceTableInsertColBefore:()=>dt(f.insertColumnsBefore),mceTableInsertColAfter:()=>dt(f.insertColumnsAfter),mceTableDeleteCol:()=>dt(f.deleteColumn),mceTableDeleteRow:()=>dt(f.deleteRow),mceTableCutCol:()=>Et().each(rt=>{sS(rt),dt(f.deleteColumn)}),mceTableCutRow:()=>Rt().each(rt=>{nS(rt),dt(f.deleteRow)}),mceTableCopyCol:()=>Et().each(rt=>sS(rt)),mceTableCopyRow:()=>Rt().each(rt=>nS(rt)),mceTablePasteColBefore:()=>_t(f.pasteColsBefore,rS),mceTablePasteColAfter:()=>_t(f.pasteColsAfter,rS),mceTablePasteRowBefore:()=>_t(f.pasteRowsBefore,oS),mceTablePasteRowAfter:()=>_t(f.pasteRowsAfter,oS),mceTableDelete:b,mceTableCellToggleClass:J,mceTableToggleClass:j,mceTableToggleCaption:fe,mceTableSizingMode:(rt,ht)=>x(ht),mceTableCellType:Gt(rt=>rt==="th"?f.makeCellsHeader:f.unmakeCellsHeader),mceTableColType:Gt(rt=>rt==="th"?f.makeColumnsHeader:f.unmakeColumnsHeader),mceTableRowType:Gt(rt=>{switch(rt){case"header":return f.makeRowsHeader;case"footer":return f.makeRowsFooter;default:return f.makeRowsBody}})},(rt,ht)=>l.addCommand(ht,rt)),l.addCommand("mceInsertTable",(rt,ht)=>{mE(l,ht.rows,ht.columns,ht.options)}),l.addCommand("mceTableApplyCellStyle",(rt,ht)=>{const Sn=cr=>"tablecell"+cr.toLowerCase().replace("-","");if(!on(ht))return;const An=vt(Fs(l),wm);if(An.length===0)return;const an=co(ht,(cr,gs)=>l.formatter.has(Sn(gs))&&ks(cr));Ko(an)||(lt(an,(cr,gs)=>{const Fr=Sn(gs);he(An,Sl=>{cr===""?l.formatter.remove(Fr,{value:null},Sl.dom,!0):l.formatter.apply(Fr,{value:cr},Sl.dom)})}),O(An[0]).each(cr=>Lf(l,cr.dom,Ir)))})},cS=(l,f)=>{const h=ld(l),b=x=>z0(Kl(l)).bind(O=>Tr(O,h).map(I=>{const j=Lb(Fs(l),I,O);return x(I,j)})).getOr("");lt({mceTableRowType:()=>b(f.getTableRowType),mceTableCellType:()=>b(f.getTableCellType),mceTableColType:()=>b(f.getTableColType)},(x,O)=>l.addQueryValueHandler(O,x))},kk=fd.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),iS=(l,f,h,b)=>l.fold(f,h,b),hE=l=>l.fold(wt,wt,wt),Ou=kk.before,_1=kk.on,C1=kk.after,Tc={before:Ou,on:_1,after:C1,cata:iS,getStart:hE},vl={create:(l,f)=>({selection:l,kill:f})},wk=(l,f)=>{const h=l.document.createRange();return h.selectNode(f.dom),h},yE=(l,f)=>{const h=l.document.createRange();return jm(h,f),h},jm=(l,f)=>l.selectNodeContents(f.dom),_y=(l,f)=>{f.fold(h=>{l.setStartBefore(h.dom)},(h,b)=>{l.setStart(h.dom,b)},h=>{l.setStartAfter(h.dom)})},bE=(l,f)=>{f.fold(h=>{l.setEndBefore(h.dom)},(h,b)=>{l.setEnd(h.dom,b)},h=>{l.setEndAfter(h.dom)})},lS=(l,f,h)=>{const b=l.document.createRange();return _y(b,f),bE(b,h),b},_k=(l,f,h,b,x)=>{const O=l.document.createRange();return O.setStart(f.dom,h),O.setEnd(b.dom,x),O},uS=l=>({left:l.left,top:l.top,right:l.right,bottom:l.bottom,width:l.width,height:l.height}),S1=l=>{const f=l.getClientRects(),h=f.length>0?f[0]:l.getBoundingClientRect();return h.width>0||h.height>0?ue.some(h).map(uS):ue.none()},Cy=fd.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),dS=(l,f,h)=>f(ge.fromDom(h.startContainer),h.startOffset,ge.fromDom(h.endContainer),h.endOffset),fS=(l,f)=>f.match({domRange:h=>({ltr:ae(h),rtl:ue.none}),relative:(h,b)=>({ltr:Bl(()=>lS(l,h,b)),rtl:Bl(()=>ue.some(lS(l,b,h)))}),exact:(h,b,x,O)=>({ltr:Bl(()=>_k(l,h,b,x,O)),rtl:Bl(()=>ue.some(_k(l,x,O,h,b)))})}),vE=(l,f)=>{const h=f.ltr();return h.collapsed?f.rtl().filter(x=>x.collapsed===!1).map(x=>Cy.rtl(ge.fromDom(x.endContainer),x.endOffset,ge.fromDom(x.startContainer),x.startOffset)).getOrThunk(()=>dS(l,Cy.ltr,h)):dS(l,Cy.ltr,h)},x1=(l,f)=>{const h=fS(l,f);return vE(l,h)},T1=(l,f)=>x1(l,f).match({ltr:(b,x,O,I)=>{const j=l.document.createRange();return j.setStart(b.dom,x),j.setEnd(O.dom,I),j},rtl:(b,x,O,I)=>{const j=l.document.createRange();return j.setStart(O.dom,I),j.setEnd(b.dom,x),j}});Cy.ltr,Cy.rtl;const nh={create:(l,f,h,b)=>({start:l,soffset:f,finish:h,foffset:b})},E1={create:(l,f,h,b)=>({start:Tc.on(l,f),finish:Tc.on(h,b)})},Ck=(l,f)=>{const h=T1(l,f);return nh.create(ge.fromDom(h.startContainer),h.startOffset,ge.fromDom(h.endContainer),h.endOffset)},A1=E1.create,wE=(l,f,h,b,x,O,I)=>Zo(h,x)&&b===O?ue.none():fr(h,"td,th",f).bind(j=>fr(x,"td,th",f).bind(J=>gS(l,f,j,J,I))),gS=(l,f,h,b,x)=>Zo(h,b)?ue.none():Vp(h,b,f).bind(O=>{const I=O.boxes.getOr([]);return I.length>1?(x(l,I,O.start,O.finish),ue.some(vl.create(ue.some(A1(h,0,h,Za(h))),!0))):ue.none()}),Xg=(l,f,h,b,x)=>{const O=I=>(x.clearBeforeUpdate(h),x.selectRange(h,I.boxes,I.start,I.finish),I.boxes);return T0(b,l,f,x.firstSelectedSelector,x.lastSelectedSelector).map(O)},pS=(l,f)=>({item:l,mode:f}),Sy=(l,f,h,b=Wm)=>l.property().parent(f).map(x=>pS(x,b)),Wm=(l,f,h,b=xy)=>h.sibling(l,f).map(x=>pS(x,b)),xy=(l,f,h,b=xy)=>{const x=l.property().children(f);return h.first(x).map(I=>pS(I,b))},hS=[{current:Sy,next:Wm,fallback:ue.none()},{current:Wm,next:xy,fallback:ue.some(Sy)},{current:xy,next:xy,fallback:ue.some(Wm)}],yS=(l,f,h,b,x=hS)=>$(x,I=>I.current===h).bind(I=>I.current(l,f,b,I.next).orThunk(()=>I.fallback.bind(j=>yS(l,f,j,b)))),oh={left:()=>({sibling:(h,b)=>h.query().prevSibling(b),first:h=>h.length>0?ue.some(h[h.length-1]):ue.none()}),right:()=>({sibling:(h,b)=>h.query().nextSibling(b),first:h=>h.length>0?ue.some(h[0]):ue.none()})},Xd=(l,f,h,b,x,O)=>yS(l,f,b,x).bind(j=>O(j.item)?ue.none():h(j.item)?ue.some(j.item):Xd(l,j.item,h,j.mode,x,O)),CE=(l,f,h,b)=>Xd(l,f,h,Wm,oh.left(),b),Sk=(l,f,h,b)=>Xd(l,f,h,Wm,oh.right(),b),bS=l=>f=>l.property().children(f).length===0,vS=(l,f,h)=>xk(l,f,bS(l),h),kS=(l,f,h)=>wS(l,f,bS(l),h),xk=CE,wS=Sk,Zm=Cm(),_S=(l,f)=>vS(Zm,l,f),Jg=(l,f)=>kS(Zm,l,f),qm=(l,f,h)=>xk(Zm,l,f,h),Ty=(l,f,h)=>wS(Zm,l,f,h),sh=(l,f,h)=>ls(l,f,h).isSome(),z1=fd.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),Gm=(l,f,h)=>{const b=l.getRect(f),x=l.getRect(h);return x.right>b.left&&x.left<b.right},kl=l=>fr(l,"tr"),rh={...z1,verify:(l,f,h,b,x,O,I)=>fr(b,"td,th",I).bind(j=>fr(f,"td,th",I).map(J=>Zo(j,J)?Zo(b,j)&&Za(j)===x?O(J):z1.none("in same cell"):Eu(kl,[j,J]).fold(()=>Gm(l,J,j)?z1.success():O(J),fe=>O(J)))).getOr(z1.none("default")),cata:(l,f,h,b,x)=>l.fold(f,h,b,x)},CS=(l,f,h,b)=>({parent:l,children:f,element:h,index:b}),ah=l=>ra(l).bind(f=>{const h=So(f);return ch(h,l).map(b=>CS(f,h,l,b))}),ch=(l,f)=>Go(l,bt(Zo,f)),gc=ys("br"),O1=(l,f,h)=>f(l,h).bind(b=>nc(b)&&Jo(b).trim().length===0?O1(b,f,h):ue.some(b)),Ey=(l,f,h)=>h.traverse(f).orThunk(()=>O1(f,h.gather,l)).map(h.relative),D1=(l,f)=>ca(l,f).filter(gc).orThunk(()=>ca(l,f-1).filter(gc)),SS=(l,f,h,b)=>D1(f,h).bind(x=>b.traverse(x).fold(()=>O1(x,b.gather,l).map(b.relative),O=>ah(O).map(I=>Tc.on(I.parent,I.index)))),Ek=(l,f,h,b)=>(gc(f)?Ey(l,f,b):SS(l,f,h,b)).map(O=>({start:O,finish:O})),R1=l=>rh.cata(l,f=>ue.none(),()=>ue.none(),f=>ue.some(Ki(f,0)),f=>ue.some(Ki(f,Za(f)))),fa=(l,f)=>({left:l.left,top:l.top+f,right:l.right,bottom:l.bottom+f}),M1=(l,f)=>({left:l.left,top:l.top-f,right:l.right,bottom:l.bottom-f}),Jd=(l,f,h)=>({left:l.left+f,top:l.top+h,right:l.right+f,bottom:l.bottom+h}),xS=l=>l.top,Ak=l=>l.bottom,Vf=(l,f,h)=>h>=0&&h<Za(f)?l.getRangedRect(f,h,f,h+1):h>0?l.getRangedRect(f,h-1,f,h):ue.none(),Ay=l=>({left:l.left,top:l.top,right:l.right,bottom:l.bottom}),ih=(l,f)=>ue.some(l.getRect(f)),N1=(l,f,h)=>Ks(f)?ih(l,f).map(Ay):nc(f)?Vf(l,f,h).map(Ay):ue.none(),P1=(l,f)=>Ks(f)?ih(l,f).map(Ay):nc(f)?l.getRangedRect(f,0,f,Za(f)).map(Ay):ue.none(),Km=5,xE=100,el=fd.generate([{none:[]},{retry:["caret"]}]),pd=(l,f)=>l.left<f.left||Math.abs(f.right-l.left)<1||l.left>f.right,zk=(l,f,h)=>ut(f,J0).fold(gn,b=>P1(l,b).exists(x=>pd(h,x))),TS=(l,f,h,b,x)=>{const O=fa(x,Km);return Math.abs(h.bottom-b.bottom)<1||h.top>x.bottom?el.retry(O):h.top===x.bottom?el.retry(fa(x,1)):zk(l,f,x)?el.retry(Jd(O,Km,0)):el.none()},Ok={point:xS,adjuster:(l,f,h,b,x)=>{const O=M1(x,Km);return Math.abs(h.top-b.top)<1||h.bottom<x.top?el.retry(O):h.bottom===x.top?el.retry(M1(x,1)):zk(l,f,x)?el.retry(Jd(O,Km,0)):el.none()},move:M1,gather:_S},Dk={point:Ak,adjuster:TS,move:fa,gather:Jg},AS=(l,f,h)=>l.elementFromPoint(f,h).filter(b=>Io(b)==="table").isSome(),zS=(l,f,h,b,x)=>Ri(l,f,h,f.move(b,Km),x),Ri=(l,f,h,b,x)=>x===0?ue.some(b):AS(l,b.left,f.point(b))?zS(l,f,h,b,x-1):l.situsFromPoint(b.left,f.point(b)).bind(O=>O.start.fold(ue.none,I=>P1(l,I).bind(j=>f.adjuster(l,I,j,h,b).fold(ue.none,J=>Ri(l,f,h,J,x-1))).orThunk(()=>ue.some(b)),ue.none)),Qg=(l,f,h)=>l.point(f)>h.getInnerHeight()?ue.some(l.point(f)-h.getInnerHeight()):l.point(f)<0?ue.some(-l.point(f)):ue.none(),Rk=(l,f,h)=>{const b=l.move(h,Km),x=Ri(f,l,h,b,xE).getOr(b);return Qg(l,x,f).fold(()=>f.situsFromPoint(x.left,l.point(x)),O=>(f.scrollBy(0,O),f.situsFromPoint(x.left,l.point(x)-O)))},Ym={tryUp:bt(Rk,Ok),tryDown:bt(Rk,Dk),getJumpSize:ae(Km)},Mi=20,tl=(l,f,h)=>l.getSelection().bind(b=>Ek(f,b.finish,b.foffset,h).fold(()=>ue.some(Ki(b.finish,b.foffset)),x=>{const O=l.fromSitus(x),I=rh.verify(l,b.finish,b.foffset,O.finish,O.foffset,h.failure,f);return R1(I)})),Ec=(l,f,h,b,x,O)=>O===0?ue.none():Jl(l,f,h,b,x).bind(I=>{const j=l.fromSitus(I),J=rh.verify(l,h,b,j.finish,j.foffset,x.failure,f);return rh.cata(J,()=>ue.none(),()=>ue.some(I),fe=>Zo(h,fe)&&b===0?Xl(l,h,b,M1,x):Ec(l,f,fe,0,x,O-1),fe=>Zo(h,fe)&&b===Za(fe)?Xl(l,h,b,fa,x):Ec(l,f,fe,Za(fe),x,O-1))}),Xl=(l,f,h,b,x)=>N1(l,f,h).bind(O=>B1(l,x,b(O,Ym.getJumpSize()))),B1=(l,f,h)=>{const b=Fd().browser;return b.isChromium()||b.isSafari()||b.isFirefox()?f.retry(l,h):ue.none()},Jl=(l,f,h,b,x)=>N1(l,h,b).bind(O=>B1(l,x,O)),ep=(l,f,h)=>tl(l,f,h).bind(b=>Ec(l,f,b.element,b.offset,h,Mi).map(l.fromSitus)),TE=(l,f)=>sh(l,h=>ra(h).exists(b=>Zo(b,f))),Mk=(l,f,h,b,x)=>fr(b,"td,th",f).bind(O=>fr(O,"table",f).bind(I=>TE(x,I)?ep(l,f,h).bind(j=>fr(j.finish,"td,th",f).map(J=>({start:O,finish:J,range:j}))):ue.none())),EE=(l,f,h,b,x,O)=>O(b,f).orThunk(()=>Mk(l,f,h,b,x).map(I=>{const j=I.range;return vl.create(ue.some(A1(j.start,j.soffset,j.finish,j.foffset)),!0)})),AE=(l,f)=>fr(l,"tr",f).bind(h=>fr(h,"table",f).bind(b=>{const x=Ln(b,"tr");return Zo(h,x[0])?qm(b,O=>bm(O).isSome(),f).map(O=>{const I=Za(O);return vl.create(ue.some(A1(O,I,O,I)),!0)}):ue.none()})),OS=(l,f)=>fr(l,"tr",f).bind(h=>fr(h,"table",f).bind(b=>{const x=Ln(b,"tr");return Zo(h,x[x.length-1])?Ty(b,O=>ji(O).isSome(),f).map(O=>vl.create(ue.some(A1(O,0,O,0)),!0)):ue.none()})),$1=(l,f,h,b,x,O,I)=>Mk(l,h,b,x,O).bind(j=>gS(f,h,j.start,j.finish,I)),I1=l=>{let f=l;return{get:()=>f,set:x=>{f=x}}},Hc=l=>{const f=I1(ue.none()),h=()=>f.get().each(l);return{clear:()=>{h(),f.set(ue.none())},isSet:()=>f.get().isSome(),get:()=>f.get(),set:j=>{h(),f.set(ue.some(j))}}},lh=()=>{const l=Hc(xt);return{...l,on:h=>l.get().each(h)}},uh=(l,f)=>fr(l,"td,th",f),zy=l=>aa(l).exists(oy),Nk=(l,f,h,b)=>{const x=lh(),O=x.clear,I=De=>{x.on(dt=>{b.clearBeforeUpdate(f),uh(De.target,h).each(Rt=>{Vp(dt,Rt,h).each(Et=>{const _t=Et.boxes.getOr([]);if(_t.length===1){const Gt=_t[0],rt=h0(Gt)==="false",ht=Yu(ny(De.target),Gt,Zo);rt&&ht&&b.selectRange(f,_t,Gt,Gt)}else _t.length>1&&(b.selectRange(f,_t,Et.start,Et.finish),l.selectContents(Rt))})})})};return{clearstate:O,mousedown:De=>{b.clear(f),uh(De.target,h).filter(zy).each(x.set)},mouseover:De=>{I(De)},mouseup:De=>{I(De),O()}}},Oy={traverse:Rc,gather:Jg,relative:Tc.before,retry:Ym.tryDown,failure:rh.failedDown},Dy={traverse:Xc,gather:_S,relative:Tc.before,retry:Ym.tryUp,failure:rh.failedUp},tp=l=>f=>f===l,Pk=tp(38),F1=tp(40),Du=l=>l>=37&&l<=40,DS={isBackward:tp(37),isForward:tp(39)},RS={isBackward:tp(39),isForward:tp(37)},Uf=l=>{const f=l!==void 0?l.dom:document,h=f.body.scrollLeft||f.documentElement.scrollLeft,b=f.body.scrollTop||f.documentElement.scrollTop;return _n(h,b)},wl=(l,f,h)=>{const x=(h!==void 0?h.dom:document).defaultView;x&&x.scrollBy(l,f)},Ry=fd.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),np=l=>Ry.exact(l.start,l.soffset,l.finish,l.foffset),Xm=l=>l.match({domRange:f=>ge.fromDom(f.startContainer),relative:(f,h)=>Tc.getStart(f),exact:(f,h,b,x)=>f}),Bk=Ry.domRange,L1=Ry.relative,MS=Ry.exact,zE=l=>{const f=Xm(l);return ns(f)},OE=nh.create,op={domRange:Bk,relative:L1,exact:MS,exactFromRange:np,getWin:zE,range:OE},$k=(l,f,h)=>{var b;return ue.from((b=l.caretPositionFromPoint)===null||b===void 0?void 0:b.call(l,f,h)).bind(x=>{if(x.offsetNode===null)return ue.none();const O=l.createRange();return O.setStart(x.offsetNode,x.offset),O.collapse(),ue.some(O)})},dh=(l,f,h)=>{var b;return ue.from((b=l.caretRangeFromPoint)===null||b===void 0?void 0:b.call(l,f,h))},My=(l,f,h)=>l.caretPositionFromPoint?$k(l,f,h):l.caretRangeFromPoint?dh(l,f,h):ue.none(),DE=(l,f,h)=>{const b=l.document;return My(b,f,h).map(x=>nh.create(ge.fromDom(x.startContainer),x.startOffset,ge.fromDom(x.endContainer),x.endOffset))},H1=(l,f)=>{const h=Io(l);return h==="input"?Tc.after(l):Ge(["br","img"],h)?f===0?Tc.before(l):Tc.after(l):Tc.on(l,f)},Ik=(l,f)=>{const h=l.fold(Tc.before,H1,Tc.after),b=f.fold(Tc.before,H1,Tc.after);return op.relative(h,b)},Fk=(l,f,h,b)=>{const x=H1(l,f),O=H1(h,b);return op.relative(x,O)},V1=(l,f,h,b)=>{const O=Na(l).dom.createRange();return O.setStart(l.dom,f),O.setEnd(h.dom,b),O},Lk=(l,f,h,b)=>{const x=V1(l,f,h,b),O=Zo(l,h)&&f===b;return x.collapsed&&!O},fh=l=>ue.from(l.getSelection()),U1=(l,f)=>{fh(l).each(h=>{h.removeAllRanges(),h.addRange(f)})},j1=(l,f,h,b,x)=>{const O=_k(l,f,h,b,x);U1(l,O)},W1=(l,f,h,b,x,O)=>{f.collapse(h.dom,b),f.extend(x.dom,O)},Z1=(l,f)=>x1(l,f).match({ltr:(h,b,x,O)=>{j1(l,h,b,x,O)},rtl:(h,b,x,O)=>{fh(l).each(I=>{if(I.setBaseAndExtent)I.setBaseAndExtent(h.dom,b,x.dom,O);else if(I.extend)try{W1(l,I,h,b,x,O)}catch{j1(l,x,O,h,b)}else j1(l,x,O,h,b)})}}),Do=(l,f,h,b,x)=>{const O=Fk(f,h,b,x);Z1(l,O)},Qd=(l,f,h)=>{const b=Ik(f,h);Z1(l,b)},sp=l=>{if(l.rangeCount>0){const f=l.getRangeAt(0),h=l.getRangeAt(l.rangeCount-1);return ue.some(nh.create(ge.fromDom(f.startContainer),f.startOffset,ge.fromDom(h.endContainer),h.endOffset))}else return ue.none()},q1=l=>{if(l.anchorNode===null||l.focusNode===null)return sp(l);{const f=ge.fromDom(l.anchorNode),h=ge.fromDom(l.focusNode);return Lk(f,l.anchorOffset,h,l.focusOffset)?ue.some(nh.create(f,l.anchorOffset,h,l.focusOffset)):sp(l)}},G1=(l,f,h=!0)=>{const x=(h?yE:wk)(l,f);U1(l,x)},Jm=l=>fh(l).filter(f=>f.rangeCount>0).bind(q1),K1=l=>Jm(l).map(f=>op.exact(f.start,f.soffset,f.finish,f.foffset)),Hk=(l,f)=>{const h=T1(l,f);return S1(h)},Vk=(l,f,h)=>DE(l,f,h),Uk=l=>{fh(l).each(f=>f.removeAllRanges())},jf=l=>({elementFromPoint:(rt,ht)=>ge.fromPoint(ge.fromDom(l.document),rt,ht),getRect:rt=>rt.dom.getBoundingClientRect(),getRangedRect:(rt,ht,Sn,An)=>{const an=op.exact(rt,ht,Sn,An);return Hk(l,an)},getSelection:()=>K1(l).map(rt=>Ck(l,rt)),fromSitus:rt=>{const ht=op.relative(rt.start,rt.finish);return Ck(l,ht)},situsFromPoint:(rt,ht)=>Vk(l,rt,ht).map(Sn=>E1.create(Sn.start,Sn.soffset,Sn.finish,Sn.foffset)),clearSelection:()=>{Uk(l)},collapseSelection:(rt=!1)=>{K1(l).each(ht=>ht.fold(Sn=>Sn.collapse(rt),(Sn,An)=>{const an=rt?Sn:An;Qd(l,an,an)},(Sn,An,an,cr)=>{const gs=rt?Sn:an,Fr=rt?An:cr;Do(l,gs,Fr,gs,Fr)}))},setSelection:rt=>{Do(l,rt.start,rt.soffset,rt.finish,rt.foffset)},setRelativeSelection:(rt,ht)=>{Qd(l,rt,ht)},selectNode:rt=>{G1(l,rt,!1)},selectContents:rt=>{G1(l,rt)},getInnerHeight:()=>l.innerHeight,getScrollY:()=>Uf(ge.fromDom(l.document)).top,scrollBy:(rt,ht)=>{wl(rt,ht,ge.fromDom(l.document))}}),rp=(l,f)=>({rows:l,cols:f}),NS=(l,f,h,b)=>{const x=jf(l),O=Nk(x,f,h,b);return{clearstate:O.clearstate,mousedown:O.mousedown,mouseover:O.mouseover,mouseup:O.mouseup}},Ny=l=>ut(l,fn).exists(oy),jk=(l,f)=>Ny(l)||Ny(f),Y1=(l,f,h,b)=>{const x=jf(l),O=()=>(b.clear(f),ue.none());return{keydown:(J,fe,De,dt,Rt,Et)=>{const _t=J.raw,Gt=_t.which,rt=_t.shiftKey===!0;return ay(f,b.selectedSelector).fold(()=>(Du(Gt)&&!rt&&b.clearBeforeUpdate(f),Du(Gt)&&rt&&!jk(fe,dt)?ue.none:F1(Gt)&&rt?bt($1,x,f,h,Oy,dt,fe,b.selectRange):Pk(Gt)&&rt?bt($1,x,f,h,Dy,dt,fe,b.selectRange):F1(Gt)?bt(EE,x,h,Oy,dt,fe,OS):Pk(Gt)?bt(EE,x,h,Dy,dt,fe,AE):ue.none),Sn=>{const An=an=>()=>xe(an,gs=>Xg(gs.rows,gs.cols,f,Sn,b)).fold(()=>cC(f,b.firstSelectedSelector,b.lastSelectedSelector).map(gs=>{const Fr=F1(Gt)||Et.isForward(Gt)?Tc.after:Tc.before;return x.setRelativeSelection(Tc.on(gs.first,0),Fr(gs.table)),b.clear(f),vl.create(ue.none(),!0)}),gs=>ue.some(vl.create(ue.none(),!0)));return Du(Gt)&&rt&&!jk(fe,dt)?ue.none:F1(Gt)&&rt?An([rp(1,0)]):Pk(Gt)&&rt?An([rp(-1,0)]):Et.isBackward(Gt)&&rt?An([rp(0,-1),rp(-1,0)]):Et.isForward(Gt)&&rt?An([rp(0,1),rp(1,0)]):Du(Gt)&&!rt?O:ue.none})()},keyup:(J,fe,De,dt,Rt)=>ay(f,b.selectedSelector).fold(()=>{const Et=J.raw,_t=Et.which;return Et.shiftKey===!0&&Du(_t)&&jk(fe,dt)?wE(f,h,fe,De,dt,Rt,b.selectRange):ue.none()},ue.none)}},X1=(l,f,h,b)=>{const x=jf(l);return(O,I)=>{b.clearBeforeUpdate(f),Vp(O,I,h).each(j=>{const J=j.boxes.getOr([]);b.selectRange(f,J,j.start,j.finish),x.selectContents(I),x.collapseSelection()})}},Wk=(l,f)=>{const h=Or(l,f);return h===void 0||h===""?[]:h.split(" ")},PS=(l,f,h)=>{const x=Wk(l,f).concat([h]);return js(l,f,x.join(" ")),!0},Wf=(l,f,h)=>{const b=vt(Wk(l,f),x=>x!==h);return b.length>0?js(l,f,b.join(" ")):ne(l,f),!1},J1=l=>l.dom.classList!==void 0,BS=l=>Wk(l,"class"),Ql=(l,f)=>PS(l,"class",f),Ka=(l,f)=>Wf(l,"class",f),Zf=(l,f)=>{J1(l)?l.dom.classList.add(f):Ql(l,f)},Zk=l=>{(J1(l)?l.dom.classList:BS(l)).length===0&&ne(l,"class")},RE=(l,f)=>{J1(l)?l.dom.classList.remove(f):Ka(l,f),Zk(l)},Q1=(l,f)=>J1(l)&&l.dom.classList.contains(f),qk=(l,f)=>{he(f,h=>{RE(l,h)})},mh=l=>f=>{Zf(f,l)},$S=l=>f=>{qk(f,l)},NE={byClass:l=>{const f=mh(l.selected),h=$S([l.selected,l.lastSelected,l.firstSelected]),b=O=>{const I=Ln(O,l.selectedSelector);he(I,h)};return{clearBeforeUpdate:b,clear:b,selectRange:(O,I,j,J)=>{b(O),he(I,f),Zf(j,l.firstSelected),Zf(J,l.lastSelected)},selectedSelector:l.selectedSelector,firstSelectedSelector:l.firstSelectedSelector,lastSelectedSelector:l.lastSelectedSelector}},byAttr:(l,f,h)=>{const b=J=>{ne(J,l.selected),ne(J,l.firstSelected),ne(J,l.lastSelected)},x=J=>{js(J,l.selected,"1")},O=J=>{I(J),h()},I=J=>{const fe=Ln(J,`${l.selectedSelector},${l.firstSelectedSelector},${l.lastSelectedSelector}`);he(fe,b)};return{clearBeforeUpdate:I,clear:O,selectRange:(J,fe,De,dt)=>{O(J),he(fe,x),js(De,l.firstSelected,"1"),js(dt,l.lastSelected,"1"),f(fe,De,dt)},selectedSelector:l.selectedSelector,firstSelectedSelector:l.firstSelectedSelector,lastSelectedSelector:l.lastSelectedSelector}}},IS=(l,f,h,b)=>{switch(l.tag){case"none":return f();case"single":return b(l.element);case"multiple":return h(l.elements)}},FS=()=>({tag:"none"}),It=l=>({tag:"multiple",elements:l}),Ya=l=>({tag:"single",element:l}),Py=(l,f,h)=>({get:()=>Sm(l(),h).fold(()=>f().fold(FS,Ya),It)}),Xa=(l,f)=>{const h=l.slice(0,f[f.length-1].row+1),b=Wb(h);return Jn(b,x=>{const O=x.cells.slice(0,f[f.length-1].column+1);return Ot(O,I=>I.element)})},eu=(l,f)=>{const h=l.slice(f[0].row+f[0].rowspan-1,l.length),b=Wb(h);return Jn(b,x=>{const O=x.cells.slice(f[0].column+f[0].colspan-1,x.cells.length);return Ot(O,I=>I.element)})},Gk=(l,f,h)=>{const b=ro.fromTable(l);return Yi(b,f).map(O=>{const I=Gp(b,h,!1),{rows:j}=la(I),J=Xa(j,O),fe=eu(j,O);return{upOrLeftCells:J,downOrRightCells:fe}})},ap=(l,f,h,b,x,O,I)=>({target:l,x:f,y:h,stop:b,prevent:x,kill:O,raw:I}),By=l=>{const f=ge.fromDom(Pt(l).getOr(l.target)),h=()=>l.stopPropagation(),b=()=>l.preventDefault(),x=No(b,h);return ap(f,l.clientX,l.clientY,h,b,x,l)},cp=(l,f)=>h=>{l(h)&&f(By(h))},$y=(l,f,h,b,x)=>{const O=cp(h,b);return l.dom.addEventListener(f,O,x),{unbind:bt(PE,l,f,O,x)}},LS=(l,f,h,b)=>$y(l,f,h,b,!1),PE=(l,f,h,b)=>{l.dom.removeEventListener(f,h,b)},BE=Ne,gh=(l,f,h)=>LS(l,f,BE,h),ip=By,Kk=l=>!Q1(ge.fromDom(l.target),"ephox-snooker-resizer-bar"),Yk=(l,f)=>{const h=Py(()=>ge.fromDom(l.getBody()),()=>z0(Kl(l),ld(l)),Mf.selectedSelector),b=(J,fe,De)=>{Tr(fe).each(Rt=>{const Et=Ot(J,Sn=>Sn.dom),_t=tC(l),Gt=Of(xt,ge.fromDom(l.getDoc()),_t),rt=Fs(l),ht=Gk(Rt,{selection:rt},Gt).map(Sn=>Rn(Sn,An=>Ot(An,an=>an.dom))).getOrUndefined();VC(l,Et,fe.dom,De.dom,ht)})},x=()=>oE(l),O=NE.byAttr(Mf,b,x);return l.on("init",J=>{const fe=l.getWin(),De=Bg(l),dt=ld(l),Rt=()=>{const us=l.selection,Ja=ge.fromDom(us.getStart()),di=ge.fromDom(us.getEnd());Eu(Tr,[Ja,di]).fold(()=>O.clear(De),xt)},Et=NS(fe,De,dt,O),_t=Y1(fe,De,dt,O),Gt=X1(fe,De,dt,O),rt=us=>us.raw.shiftKey===!0;l.on("TableSelectorChange",us=>Gt(us.start,us.finish));const ht=(us,Ja)=>{rt(us)&&(Ja.kill&&us.kill(),Ja.selection.each(di=>{const Mu=op.relative(di.start,di.finish),xl=T1(fe,Mu);l.selection.setRng(xl)}))},Sn=us=>{const Ja=ip(us);if(Ja.raw.shiftKey&&Du(Ja.raw.which)){const di=l.selection.getRng(),Mu=ge.fromDom(di.startContainer),xl=ge.fromDom(di.endContainer);_t.keyup(Ja,Mu,di.startOffset,xl,di.endOffset).each(yh=>{ht(Ja,yh)})}},An=us=>{const Ja=ip(us);f.hide();const di=l.selection.getRng(),Mu=ge.fromDom(di.startContainer),xl=ge.fromDom(di.endContainer),yh=D(DS,RS)(ge.fromDom(l.selection.getStart()));_t.keydown(Ja,Mu,di.startOffset,xl,di.endOffset,yh).each(Gn=>{ht(Ja,Gn)}),f.show()},an=us=>us.button===0,cr=us=>us.buttons===void 0?!0:(us.buttons&1)!==0,gs=us=>{Et.clearstate()},Fr=us=>{an(us)&&Kk(us)&&Et.mousedown(ip(us))},Sl=us=>{cr(us)&&Kk(us)&&Et.mouseover(ip(us))},zc=us=>{an(us)&&Kk(us)&&Et.mouseup(ip(us))},dp=(()=>{const us=I1(ge.fromDom(De)),Ja=I1(0);return{touchEnd:Mu=>{const xl=ge.fromDom(Mu.target);if(ys("td")(xl)||ys("th")(xl)){const yh=us.get(),Gn=Ja.get();Zo(yh,xl)&&Mu.timeStamp-Gn<300&&(Mu.preventDefault(),Gt(xl,xl))}us.set(xl),Ja.set(Mu.timeStamp)}}})();l.on("dragstart",gs),l.on("mousedown",Fr),l.on("mouseover",Sl),l.on("mouseup",zc),l.on("touchend",dp.touchEnd),l.on("keyup",Sn),l.on("keydown",An),l.on("NodeChange",Rt)}),l.on("PreInit",()=>{l.serializer.addTempAttr(Mf.firstSelected),l.serializer.addTempAttr(Mf.lastSelected)}),{getSelectedCells:()=>IS(h.get(),ae([]),J=>Ot(J,fe=>fe.dom),J=>[J.dom]),clearSelectedCells:J=>O.clear(ge.fromDom(J))}},nl=l=>{let f=[];return{bind:O=>{if(O===void 0)throw new Error("Event bind error: undefined handler");f.push(O)},unbind:O=>{f=vt(f,I=>I!==O)},trigger:(...O)=>{const I={};he(l,(j,J)=>{I[j]=O[J]}),he(f,j=>{j(I)})}}},ef=l=>{const f=Rn(l,b=>({bind:b.bind,unbind:b.unbind})),h=Rn(l,b=>b.trigger);return{registry:f,trigger:h}},ev=(l,f)=>{let h=null;const b=()=>{Xn(h)||(clearTimeout(h),h=null)};return{cancel:b,throttle:(...O)=>{b(),h=setTimeout(()=>{h=null,l.apply(null,O)},f)}}},Ru=l=>l.slice(0).sort(),tv=(l,f)=>{throw new Error("All required keys ("+Ru(l).join(", ")+") were not specified. Specified keys were: "+Ru(f).join(", ")+".")},$E=l=>{throw new Error("Unsupported keys for object: "+Ru(l).join(", "))},nv=(l,f)=>{if(!Un(f))throw new Error("The "+l+" fields must be an array. Was: "+f+".");he(f,h=>{if(!ks(h))throw new Error("The value "+h+" in the "+l+" fields was not a string.")})},ov=(l,f)=>{throw new Error("All values need to be of type: "+f+". Keys ("+Ru(l).join(", ")+") were not.")},IE=l=>{const f=Ru(l);$(f,(b,x)=>x<f.length-1&&b===f[x+1]).each(b=>{throw new Error("The field: "+b+" occurs more than once in the combined fields: ["+f.join(", ")+"].")})},FE=(l,f)=>LE(l,f,{validate:lr,label:"function"}),LE=(l,f,h)=>{if(f.length===0)throw new Error("You must specify at least one required field.");return nv("required",f),IE(f),b=>{const x=be(b);Co(f,j=>Ge(x,j))||tv(f,x),l(f,x);const I=vt(f,j=>!h.validate(b[j],j));return I.length>0&&ov(I,h.label),b}},HE=(l,f)=>{const h=vt(f,b=>!Ge(l,b));h.length>0&&$E(h)},sv=l=>FE(HE,l),HS=sv(["compare","extract","mutate","sink"]),VE=sv(["element","start","stop","destroy"]),rv=sv(["forceDrop","drop","move","delayDrop"]),Ac=()=>{let l=ue.none();const f=()=>{l=ue.none()},h=(O,I)=>{const j=l.map(J=>O.compare(J,I));return l=ue.some(I),j},b=(O,I)=>{I.extract(O).each(J=>{h(I,J).each(De=>{x.trigger.move(De)})})},x=ef({move:nl(["info"])});return{onEvent:b,reset:f,events:x.registry}},tu=()=>{const l=ef({move:nl(["info"])});return{onEvent:xt,reset:xt,events:l.registry}},_l=()=>{const l=tu(),f=Ac();let h=l;return{on:()=>{h.reset(),h=f},off:()=>{h.reset(),h=l},isOn:()=>h===f,onEvent:(j,J)=>{h.onEvent(j,J)},events:f.events}},av=(l,f,h)=>{let b=!1;const x=ef({start:nl([]),stop:nl([])}),O=_l(),I=()=>{_t.stop(),O.isOn()&&(O.off(),x.trigger.stop())},j=ev(I,200),J=rt=>{_t.start(rt),O.on(),x.trigger.start()},fe=rt=>{j.cancel(),O.onEvent(rt,f)};O.events.move.bind(rt=>{f.mutate(l,rt.info)});const De=()=>{b=!0},dt=()=>{b=!1},Rt=()=>b,Et=rt=>(...ht)=>{b&&rt.apply(null,ht)},_t=f.sink(rv({forceDrop:I,drop:Et(I),move:Et(fe),delayDrop:Et(j.throttle)}),h),Gt=()=>{_t.destroy()};return{element:_t.element,go:J,on:De,off:dt,isActive:Rt,destroy:Gt,events:x.registry}},Iy=l=>{const f=l.replace(/\./g,"-");return{resolve:b=>f+"-"+b}},Fy=Iy("ephox-dragster").resolve,UE=l=>{const f={layerClass:Fy("blocker"),...l},h=ge.fromTag("div");return js(h,"role","presentation"),Ua(h,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),Zf(h,Fy("blocker")),Zf(h,f.layerClass),{element:ae(h),destroy:()=>{wr(h)}}};var WS=HS({compare:(l,f)=>_n(f.left-l.left,f.top-l.top),extract:l=>ue.some(_n(l.x,l.y)),sink:(l,f)=>{const h=UE(f),b=gh(h.element(),"mousedown",l.forceDrop),x=gh(h.element(),"mouseup",l.drop),O=gh(h.element(),"mousemove",l.move),I=gh(h.element(),"mouseout",l.delayDrop),j=()=>{h.destroy(),x.unbind(),O.unbind(),I.unbind(),b.unbind()},J=De=>{$s(De,h.element())},fe=()=>{wr(h.element())};return VE({element:h.element,start:J,stop:fe,destroy:j})},mutate:(l,f)=>{l.mutate(f.left,f.top)}});const cv=(l,f={})=>{var h;const b=(h=f.mode)!==null&&h!==void 0?h:WS;return av(l,b,f)},it=Iy("ephox-snooker").resolve,Cl=()=>{const l=ef({drag:nl(["xDelta","yDelta"])});return{mutate:(h,b)=>{l.trigger.drag(h,b)},events:l.registry}},qS=()=>{const l=ef({drag:nl(["xDelta","yDelta","target"])});let f=ue.none();const h=Cl();return h.events.drag.bind(O=>{f.each(I=>{l.trigger.drag(O.xDelta,O.yDelta,I)})}),{assign:O=>{f=ue.some(O)},get:()=>f,mutate:h.mutate,events:l.registry}},Xk=(l,f,h,b,x)=>{const O=ge.fromTag("div");return Ua(O,{position:"absolute",left:f-b/2+"px",top:h+"px",height:x+"px",width:b+"px"}),Ra(O,{"data-column":l,role:"presentation"}),O},Ly=(l,f,h,b,x)=>{const O=ge.fromTag("div");return Ua(O,{position:"absolute",left:f+"px",top:h-x/2+"px",height:x+"px",width:b+"px"}),Ra(O,{"data-row":l,role:"presentation"}),O},lp=it("resizer-bar"),Jk=it("resizer-rows"),Hy=it("resizer-cols"),GS=7,WE=(l,f)=>Jn(l.all,(h,b)=>f(h.element)?[b]:[]),Qk=(l,f)=>{const h=[];return Yt(l.grid.columns,b=>{ro.getColumnAt(l,b).map(O=>O.element).forall(f)&&h.push(b)}),vt(h,b=>{const x=ro.filterItems(l,O=>O.column===b);return Co(x,O=>f(O.element))})},Vy=l=>{const f=Ln(l.parent(),"."+lp);he(f,wr)},Qm=(l,f,h)=>{const b=l.origin();he(f,x=>{x.each(O=>{const I=h(b,O);Zf(I,lp),$s(l.parent(),I)})})},KS=(l,f,h,b)=>{Qm(l,f,(x,O)=>{const I=Xk(O.col,O.x-x.left,h.top-x.top,GS,b);return Zf(I,Hy),I})},YS=(l,f,h,b)=>{Qm(l,f,(x,O)=>{const I=Ly(O.row,h.left-x.left,O.y-x.top,b,GS);return Zf(I,Jk),I})},ZE=(l,f,h,b,x)=>{const O=Er(h),I=f.isResizable,j=b.length>0?Bc.positions(b,h):[],J=j.length>0?WE(l,I):[],fe=vt(j,(Et,_t)=>Me(J,Gt=>_t===Gt));YS(f,fe,O,os(h));const De=x.length>0?Og.positions(x,h):[],dt=De.length>0?Qk(l,I):[],Rt=vt(De,(Et,_t)=>Me(dt,Gt=>_t===Gt));KS(f,Rt,O,nt(h))},ew=(l,f)=>{if(Vy(l),l.isResizable(f)){const h=ro.fromTable(f),b=mm(h),x=od(h);ZE(h,l,f,b,x)}},qE=(l,f)=>{const h=Ln(l.parent(),"."+lp);he(h,f)},ol=l=>{qE(l,f=>{Xr(f,"display","none")})},Gc=l=>{qE(l,f=>{Xr(f,"display","block")})},ph=l=>Q1(l,Jk),yD=l=>Q1(l,Hy),GE=it("resizer-bar-dragging"),tw=l=>{const f=qS(),h=cv(f,{});let b=ue.none();const x=(_t,Gt)=>ue.from(Or(_t,Gt));f.events.drag.bind(_t=>{x(_t.target,"data-row").each(Gt=>{const rt=bc(_t.target,"top");Xr(_t.target,"top",rt+_t.yDelta+"px")}),x(_t.target,"data-column").each(Gt=>{const rt=bc(_t.target,"left");Xr(_t.target,"left",rt+_t.xDelta+"px")})});const O=(_t,Gt)=>{const rt=bc(_t,Gt),ht=Ws(_t,"data-initial-"+Gt,0);return rt-ht};h.events.stop.bind(()=>{f.get().each(_t=>{b.each(Gt=>{x(_t,"data-row").each(rt=>{const ht=O(_t,"top");ne(_t,"data-initial-top"),Et.trigger.adjustHeight(Gt,ht,parseInt(rt,10))}),x(_t,"data-column").each(rt=>{const ht=O(_t,"left");ne(_t,"data-initial-left"),Et.trigger.adjustWidth(Gt,ht,parseInt(rt,10))}),ew(l,Gt)})})});const I=(_t,Gt)=>{Et.trigger.startAdjust(),f.assign(_t),js(_t,"data-initial-"+Gt,bc(_t,Gt)),Zf(_t,GE),Xr(_t,"opacity","0.2"),h.go(l.parent())},j=gh(l.parent(),"mousedown",_t=>{ph(_t.target)&&I(_t.target,"top"),yD(_t.target)&&I(_t.target,"left")}),J=_t=>Zo(_t,l.view()),fe=_t=>fr(_t,"table",J).filter(oy),De=gh(l.view(),"mouseover",_t=>{fe(_t.target).fold(()=>{rn(_t.target)&&Vy(l)},Gt=>{h.isActive()&&(b=ue.some(Gt),ew(l,Gt))})}),dt=()=>{j.unbind(),De.unbind(),h.destroy(),Vy(l)},Rt=_t=>{ew(l,_t)},Et=ef({adjustHeight:nl(["table","delta","row"]),adjustWidth:nl(["table","delta","column"]),startAdjust:nl([])});return{destroy:dt,refresh:Rt,on:h.on,off:h.off,hideBars:bt(ol,l),showBars:bt(Gc,l),events:Et.registry}},KE={create:(l,f,h)=>{const b=Bc,x=Og,O=tw(l),I=ef({beforeResize:nl(["table","type"]),afterResize:nl(["table","type"]),startDrag:nl([])});return O.events.adjustHeight.bind(j=>{const J=j.table;I.trigger.beforeResize(J,"row");const fe=b.delta(j.delta,J);Y0(J,fe,j.row),I.trigger.afterResize(J,"row")}),O.events.startAdjust.bind(j=>{I.trigger.startDrag()}),O.events.adjustWidth.bind(j=>{const J=j.table;I.trigger.beforeResize(J,"col");const fe=x.delta(j.delta,J),De=h(J);K0(J,fe,j.column,f,De),I.trigger.afterResize(J,"col")}),{on:O.on,off:O.off,refreshBars:O.refresh,hideBars:O.hideBars,showBars:O.showBars,destroy:O.destroy,events:I.registry}}},tf={only:(l,f)=>{const h=al(l)?Yo(l):l;return{parent:ae(h),view:ae(l),origin:ae(_n(0,0)),isResizable:f}},detached:(l,f,h)=>{const b=()=>Er(f);return{parent:ae(f),view:ae(l),origin:b,isResizable:h}},body:(l,f,h)=>({parent:ae(f),view:ae(l),origin:ae(_n(0,0)),isResizable:h})},iv=()=>{const l=ge.fromTag("div");return Ua(l,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),$s(Nr(),l),l},XE=(l,f)=>l.inline?tf.body(ge.fromDom(l.getBody()),iv(),f):tf.only(ge.fromDom(l.getDoc()),f),JE=(l,f)=>{l.inline&&wr(f.parent())},JS=l=>ts(l)&&l.nodeName==="TABLE",Uy="bar-",nw=l=>Or(l,"data-mce-resize")!=="false",QS=l=>{const f=ro.fromTable(l);ro.hasColumns(f)||he(wi(l),h=>{const b=Jr(h,"width");Xr(h,"width",b),ne(h,"width")})},vD=l=>va(l,"corner-"),hh=l=>cm(l,"corner-"),ow=l=>{const f=lh(),h=lh(),b=lh();let x,O,I,j;const J=ht=>Sa(l,ht),fe=()=>$r(l)?Tm():Hg(),De=ht=>Gd(ht).columns,dt=ht=>Gd(ht).rows,Rt=(ht,Sn,An,an)=>{const cr=hh(Sn),gs=Li(cr,"e"),Fr=va(cr,"n");if(O===""&&ky(ht),j===""&&iE(ht),An!==x&&O!==""){Xr(ht,"width",O);const Sl=fe(),zc=J(ht),up=$r(l)||gs?De(ht)-1:0;K0(ht,An-x,up,Sl,zc)}else if(sC(O)){const Sl=parseFloat(O.replace("%","")),zc=An*Sl/x;Xr(ht,"width",zc+"%")}if(rC(O)&&QS(ht),an!==I&&j!==""){Xr(ht,"height",j);const Sl=Fr?0:dt(ht)-1;Y0(ht,an-I,Sl)}},Et=()=>{h.on(ht=>{ht.destroy()}),b.on(ht=>{JE(l,ht)})};return l.on("init",()=>{const ht=XE(l,nw);if(b.set(ht),ad(l)&&Gl(l)){const Sn=fe(),An=KE.create(ht,Sn,J);An.on(),An.events.startDrag.bind(an=>{f.set(l.selection.getRng())}),An.events.beforeResize.bind(an=>{const cr=an.table.dom;sE(l,cr,km(cr),y0(cr),Uy+an.type)}),An.events.afterResize.bind(an=>{const cr=an.table,gs=cr.dom;oi(cr),f.on(Fr=>{l.selection.setRng(Fr),l.focus()}),Ca(l,gs,km(gs),y0(gs),Uy+an.type),l.undoManager.add()}),h.set(An)}}),l.on("ObjectResizeStart",ht=>{const Sn=ht.target;if(JS(Sn)){const An=ge.fromDom(Sn);he(l.dom.select(".mce-clonedresizable"),an=>{l.dom.addClass(an,"mce-"+g0(l)+"-columns")}),!mk(An)&&Rf(l)?wy(An):!GC(An)&&vm(l)&&ky(An),KC(An)&&va(ht.origin,Uy)&&ky(An),x=ht.width,O=ql(l)?"":b0(l,Sn).getOr(""),I=ht.height,j=oC(l,Sn).getOr("")}}),l.on("ObjectResized",ht=>{const Sn=ht.target;if(JS(Sn)){const An=ge.fromDom(Sn),an=ht.origin;vD(an)&&Rt(An,an,ht.width,ht.height),oi(An),Lf(l,An.dom,Ir)}}),l.on("SwitchMode",()=>{h.on(ht=>{l.mode.isReadOnly()?ht.hideBars():ht.showBars()})}),l.on("dragstart dragend",ht=>{h.on(Sn=>{ht.type==="dragstart"?(Sn.hideBars(),Sn.off()):(Sn.on(),Sn.showBars())})}),l.on("remove",()=>{Et()}),{refresh:ht=>{h.on(Sn=>Sn.refreshBars(ge.fromDom(ht)))},hide:()=>{h.on(ht=>ht.hideBars())},show:()=>{h.on(ht=>ht.showBars())}}},kD=l=>{Pg(l);const f=ow(l),h=Yk(l,f),b=xa(l,f,h);return th(l,b),cS(l,b),jp(l,b),{getSelectedCells:h.getSelectedCells,clearSelectedCells:h.clearSelectedCells}},e2=l=>({table:kD(l)});var QE=()=>{Oa.add("dom",e2)};QE()})();(function(){const Oa=Object.getPrototypeOf,nr=(t,s,a)=>{var i;return a(t,s.prototype)?!0:((i=t.constructor)===null||i===void 0?void 0:i.name)===s.name},oa=t=>{const s=typeof t;return t===null?"null":s==="object"&&Array.isArray(t)?"array":s==="object"&&nr(t,String,(a,i)=>i.isPrototypeOf(a))?"string":s},Bs=t=>s=>oa(s)===t,Ms=t=>s=>typeof s===t,Mo=t=>s=>t===s,ks=(t,s)=>Un(t)&&nr(t,s,(a,i)=>Oa(a)===i),on=Bs("string"),Un=Bs("object"),Xn=t=>ks(t,Object),uo=Bs("array"),rs=Mo(null),as=Ms("boolean"),ts=Mo(void 0),lr=t=>t==null,fo=t=>!lr(t),xt=Ms("function"),No=Ms("number"),en=(t,s)=>{if(uo(t)){for(let a=0,i=t.length;a<i;++a)if(!s(t[a]))return!1;return!0}return!1},ae=()=>{},wt=t=>()=>t(),ur=(t,s)=>(...a)=>t(s.apply(null,a)),bt=(t,s)=>a=>t(s(a)),Z=t=>()=>t,zt=t=>t,go=(t,s)=>t===s;function gn(t,...s){return(...a)=>{const i=s.concat(a);return t.apply(null,i)}}const Ne=t=>s=>!t(s),ue=t=>()=>{throw new Error(t)},Wo=t=>t(),Ae=Z(!1),ze=Z(!0);class C{constructor(s,a){this.tag=s,this.value=a}static some(s){return new C(!0,s)}static none(){return C.singletonNone}fold(s,a){return this.tag?a(this.value):s()}isSome(){return this.tag}isNone(){return!this.tag}map(s){return this.tag?C.some(s(this.value)):C.none()}bind(s){return this.tag?s(this.value):C.none()}exists(s){return this.tag&&s(this.value)}forall(s){return!this.tag||s(this.value)}filter(s){return!this.tag||s(this.value)?this:C.none()}getOr(s){return this.tag?this.value:s}or(s){return this.tag?this:s}getOrThunk(s){return this.tag?this.value:s()}orThunk(s){return this.tag?this:s()}getOrDie(s){if(this.tag)return this.value;throw new Error(s??"Called getOrDie on None")}static from(s){return fo(s)?C.some(s):C.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(s){this.tag&&s(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}C.singletonNone=new C(!1);const Ge=Array.prototype.slice,Me=Array.prototype.indexOf,Yt=Array.prototype.push,Ot=(t,s)=>Me.call(t,s),he=(t,s)=>{const a=Ot(t,s);return a===-1?C.none():C.some(a)},ot=(t,s)=>Ot(t,s)>-1,Xt=(t,s)=>{for(let a=0,i=t.length;a<i;a++){const d=t[a];if(s(d,a))return!0}return!1},vt=(t,s)=>{const a=[];for(let i=0;i<t;i++)a.push(s(i));return a},Dn=(t,s)=>{const a=[];for(let i=0;i<t.length;i+=s){const d=Ge.call(t,i,i+s);a.push(d)}return a},we=(t,s)=>{const a=t.length,i=new Array(a);for(let d=0;d<a;d++){const g=t[d];i[d]=s(g,d)}return i},Qe=(t,s)=>{for(let a=0,i=t.length;a<i;a++){const d=t[a];s(d,a)}},$=(t,s)=>{for(let a=t.length-1;a>=0;a--){const i=t[a];s(i,a)}},Go=(t,s)=>{const a=[],i=[];for(let d=0,g=t.length;d<g;d++){const p=t[d];(s(p,d)?a:i).push(p)}return{pass:a,fail:i}},xn=(t,s)=>{const a=[];for(let i=0,d=t.length;i<d;i++){const g=t[i];s(g,i)&&a.push(g)}return a},Jn=(t,s,a)=>($(t,(i,d)=>{a=s(a,i,d)}),a),Co=(t,s,a)=>(Qe(t,(i,d)=>{a=s(a,i,d)}),a),sa=(t,s,a)=>{for(let i=0,d=t.length;i<d;i++){const g=t[i];if(s(g,i))return C.some(g);if(a(g,i))break}return C.none()},jt=(t,s)=>sa(t,s,Ae),jn=(t,s)=>{for(let a=0,i=t.length;a<i;a++){const d=t[a];if(s(d,a))return C.some(a)}return C.none()},Qt=t=>{const s=[];for(let a=0,i=t.length;a<i;++a){if(!uo(t[a]))throw new Error("Arr.flatten item "+a+" was not an array, input: "+t);Yt.apply(s,t[a])}return s},te=(t,s)=>Qt(we(t,s)),Te=(t,s)=>{for(let a=0,i=t.length;a<i;++a){const d=t[a];if(s(d,a)!==!0)return!1}return!0},xe=t=>{const s=Ge.call(t,0);return s.reverse(),s},be=(t,s)=>xn(t,a=>!ot(s,a)),st=(t,s)=>{const a={};for(let i=0,d=t.length;i<d;i++){const g=t[i];a[String(g)]=s(g,i)}return a},lt=t=>[t],Rn=(t,s)=>{const a=Ge.call(t,0);return a.sort(s),a},Lt=(t,s)=>s>=0&&s<t.length?C.some(t[s]):C.none(),po=t=>Lt(t,0),hs=t=>Lt(t,t.length-1),co=xt(Array.from)?Array.from:t=>Ge.call(t),zo=(t,s)=>{for(let a=0;a<t.length;a++){const i=s(t[a],a);if(i.isSome())return i}return C.none()},ho=Object.keys,cs=Object.hasOwnProperty,eo=(t,s)=>{const a=ho(t);for(let i=0,d=a.length;i<d;i++){const g=a[i],p=t[g];s(p,g)}},Wn=(t,s)=>Ko(t,(a,i)=>({k:i,v:s(a,i)})),Ko=(t,s)=>{const a={};return eo(t,(i,d)=>{const g=s(i,d);a[g.k]=g.v}),a},wn=t=>(s,a)=>{t[a]=s},xo=(t,s,a,i)=>{eo(t,(d,g)=>{(s(d,g)?a:i)(d,g)})},is=(t,s)=>{const a={},i={};return xo(t,s,wn(a),wn(i)),{t:a,f:i}},Vo=(t,s)=>{const a={};return xo(t,s,wn(a),ae),a},zr=(t,s)=>{const a=[];return eo(t,(i,d)=>{a.push(s(i,d))}),a},oo=(t,s)=>{const a=ho(t);for(let i=0,d=a.length;i<d;i++){const g=a[i],p=t[g];if(s(p,g,t))return C.some(p)}return C.none()},Da=t=>zr(t,zt),mt=(t,s)=>to(t,s)?C.from(t[s]):C.none(),to=(t,s)=>cs.call(t,s),dr=(t,s)=>to(t,s)&&t[s]!==void 0&&t[s]!==null,mr=(t,s,a=go)=>t.exists(i=>a(i,s)),Gr=(t,s,a=go)=>ha(t,s,a).getOr(t.isNone()&&s.isNone()),Kr=t=>{const s=[],a=i=>{s.push(i)};for(let i=0;i<t.length;i++)t[i].each(a);return s},Io=t=>{const s=[];for(let a=0;a<t.length;a++){const i=t[a];if(i.isSome())s.push(i.getOrDie());else return C.none()}return C.some(s)},ha=(t,s,a)=>t.isSome()&&s.isSome()?C.some(a(t.getOrDie(),s.getOrDie())):C.none(),Dc=(t,s,a,i)=>t.isSome()&&s.isSome()&&a.isSome()?C.some(i(t.getOrDie(),s.getOrDie(),a.getOrDie())):C.none(),Uo=(t,s)=>t!=null?C.some(s(t)):C.none(),fn=(t,s)=>t?C.some(s):C.none(),Ks=(t,s)=>t+s,nc=(t,s)=>t.substring(s),al=(t,s,a)=>s===""||t.length>=s.length&&t.substr(a,a+s.length)===s,cl=(t,s)=>js(t,s)?nc(t,s.length):t,ys=(t,s)=>Ra(t,s)?t:Ks(t,s),kr=(t,s,a=0,i)=>{const d=t.indexOf(s,a);return d!==-1?ts(i)?!0:d+s.length<=i:!1},js=(t,s)=>al(t,s,0),Ra=(t,s)=>al(t,s,t.length-s.length),Or=(t=>s=>s.replace(t,""))(/^\s+|\s+$/g),ce=t=>t.length>0,ne=t=>!ce(t),Pe=t=>t.style!==void 0&&xt(t.style.getPropertyValue),Ve=(t,s)=>{const i=(s||document).createElement("div");if(i.innerHTML=t,!i.hasChildNodes()||i.childNodes.length>1){const d="HTML does not have a single root node";throw console.error(d,t),new Error(d)}return Bn(i.childNodes[0])},sn=(t,s)=>{const i=(s||document).createElement(t);return Bn(i)},Tn=(t,s)=>{const i=(s||document).createTextNode(t);return Bn(i)},Bn=t=>{if(t==null)throw new Error("Node cannot be null or undefined");return{dom:t}},ge={fromHtml:Ve,fromTag:sn,fromText:Tn,fromDom:Bn,fromPoint:(t,s,a)=>C.from(t.dom.elementFromPoint(s,a)).map(Bn)},$n=typeof window<"u"?window:Function("return this;")(),Ys=(t,s)=>{let a=s??$n;for(let i=0;i<t.length&&a!==void 0&&a!==null;++i)a=a[t[i]];return a},gr=(t,s)=>{const a=t.split(".");return Ys(a,s)},Ma=(t,s)=>gr(t,s),Zo=(t,s)=>{const a=Ma(t,s);if(a==null)throw new Error(t+" not available on this browser");return a},Ii=Object.getPrototypeOf,Yr=t=>Zo("HTMLElement",t),Na=t=>{const s=gr("ownerDocument.defaultView",t);return Un(t)&&(Yr(s).prototype.isPrototypeOf(t)||/^HTML\w*Element$/.test(Ii(t).constructor.name))},Ns=9,Yo=11,ns=1,ra=3,aa=t=>t.dom.nodeName.toLowerCase(),Dr=t=>t.dom.nodeType,Xc=t=>s=>Dr(s)===t,Rc=t=>So(t)&&Na(t.dom),So=Xc(ns),ca=Xc(ra),Ur=Xc(Ns),Jc=Xc(Yo),oc=t=>s=>So(s)&&aa(s)===t,Rr=(t,s)=>{const a=t.dom;if(a.nodeType!==ns)return!1;{const i=a;if(i.matches!==void 0)return i.matches(s);if(i.msMatchesSelector!==void 0)return i.msMatchesSelector(s);if(i.webkitMatchesSelector!==void 0)return i.webkitMatchesSelector(s);if(i.mozMatchesSelector!==void 0)return i.mozMatchesSelector(s);throw new Error("Browser lacks native selectors")}},$s=t=>t.nodeType!==ns&&t.nodeType!==Ns&&t.nodeType!==Yo||t.childElementCount===0,gf=(t,s)=>{const a=s===void 0?document:s.dom;return $s(a)?[]:we(a.querySelectorAll(t),ge.fromDom)},Wc=(t,s)=>{const a=s===void 0?document:s.dom;return $s(a)?C.none():C.from(a.querySelector(t)).map(ge.fromDom)},jo=(t,s)=>t.dom===s.dom,Pa=(t,s)=>{const a=t.dom,i=s.dom;return a===i?!1:a.contains(i)},ya=t=>ge.fromDom(t.dom.ownerDocument),wr=t=>Ur(t)?t:ya(t),Pl=t=>ge.fromDom(wr(t).dom.documentElement),Ba=t=>ge.fromDom(wr(t).dom.defaultView),Ha=t=>C.from(t.dom.parentNode).map(ge.fromDom),Qc=t=>Ha(t),Mc=t=>C.from(t.dom.parentElement).map(ge.fromDom),au=(t,s)=>{const a=xt(s)?s:Ae;let i=t.dom;const d=[];for(;i.parentNode!==null&&i.parentNode!==void 0;){const g=i.parentNode,p=ge.fromDom(g);if(d.push(p),a(p)===!0)break;i=g}return d},il=t=>C.from(t.dom.offsetParent).map(ge.fromDom),Fi=t=>C.from(t.dom.nextSibling).map(ge.fromDom),sc=t=>we(t.dom.childNodes,ge.fromDom),Mr=(t,s)=>{const a=t.dom.childNodes;return C.from(a[s]).map(ge.fromDom)},cu=t=>Mr(t,0),iu=(t,s)=>({element:t,offset:s}),lu=(t,s)=>{const a=sc(t);return a.length>0&&s<a.length?iu(a[s],0):iu(t,s)},uu=t=>Jc(t)&&fo(t.dom.host),_r=t=>ge.fromDom(t.dom.getRootNode()),yc=t=>uu(t)?t:ge.fromDom(wr(t).dom.body),U=t=>se(t).isSome(),se=t=>{const s=_r(t);return uu(s)?C.some(s):C.none()},Ce=t=>ge.fromDom(t.dom.host),Ye=t=>{if(fo(t.target)){const s=ge.fromDom(t.target);if(So(s)&&ft(s)&&t.composed&&t.composedPath){const a=t.composedPath();if(a)return po(a)}}return C.from(t.target)},ft=t=>fo(t.dom.shadowRoot),Ht=t=>{const s=ca(t)?t.dom.parentNode:t.dom;if(s==null||s.ownerDocument===null)return!1;const a=s.ownerDocument;return se(ge.fromDom(s)).fold(()=>a.body.contains(s),bt(Ht,Ce))},so=()=>fs(ge.fromDom(document)),fs=t=>{const s=t.dom.body;if(s==null)throw new Error("Body is not available yet");return ge.fromDom(s)},bo=(t,s,a)=>{if(on(a)||as(a)||No(a))t.setAttribute(s,a+"");else throw console.error("Invalid call to Attribute.set. Key ",s,":: Value ",a,":: Element ",t),new Error("Attribute value was not simple")},Pt=(t,s,a)=>{bo(t.dom,s,a)},sr=(t,s)=>{const a=t.dom;eo(s,(i,d)=>{bo(a,d,i)})},rn=(t,s)=>{const a=t.dom.getAttribute(s);return a===null?void 0:a},Nr=(t,s)=>C.from(rn(t,s)),bi=(t,s)=>{const a=t.dom;return a&&a.hasAttribute?a.hasAttribute(s):!1},P=(t,s)=>{t.dom.removeAttribute(s)},K=t=>Co(t.dom.attributes,(s,a)=>(s[a.name]=a.value,s),{}),le=(t,s,a)=>{if(!on(a))throw console.error("Invalid call to CSS.set. Property ",s,":: Value ",a,":: Element ",t),new Error("CSS value must be a string: "+a);Pe(t)&&t.style.setProperty(s,a)},Oe=(t,s)=>{Pe(t)&&t.style.removeProperty(s)},Je=(t,s,a)=>{const i=t.dom;le(i,s,a)},Ln=(t,s)=>{const a=t.dom;eo(s,(i,d)=>{le(a,d,i)})},_s=(t,s)=>{const a=t.dom;eo(s,(i,d)=>{i.fold(()=>{Oe(a,d)},g=>{le(a,d,g)})})},ls=(t,s)=>{const a=t.dom,d=window.getComputedStyle(a).getPropertyValue(s);return d===""&&!Ht(t)?ut(a,s):d},ut=(t,s)=>Pe(t)?t.style.getPropertyValue(s):"",As=(t,s)=>{const a=t.dom,i=ut(a,s);return C.from(i).filter(d=>d.length>0)},ba=t=>{const s={},a=t.dom;if(Pe(a))for(let i=0;i<a.style.length;i++){const d=a.style.item(i);s[d]=a.style[d]}return s},rc=(t,s,a)=>{const i=ge.fromTag(t);return Je(i,s,a),As(i,s).isSome()},Zn=(t,s)=>{const a=t.dom;Oe(a,s),mr(Nr(t,"style").map(Or),"")&&P(t,"style")},ac=t=>t.dom.offsetWidth,fr=(t,s)=>{const a=(k,_)=>{if(!No(_)&&!_.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+_);const E=k.dom;Pe(E)&&(E.style[t]=_+"px")},i=k=>{const _=s(k);if(_<=0||_===null){const E=ls(k,t);return parseFloat(E)||0}return _},d=i,g=(k,_)=>Co(_,(E,z)=>{const N=ls(k,z),H=N===void 0?0:parseInt(N,10);return isNaN(H)?E:E+H},0);return{set:a,get:i,getOuter:d,aggregate:g,max:(k,_,E)=>{const z=g(k,E);return _>z?_-z:0}}},Yu=fr("height",t=>{const s=t.dom;return Ht(t)?s.getBoundingClientRect().height:s.offsetHeight}),Cs=t=>Yu.get(t),ll=t=>Yu.getOuter(t),am=(t,s)=>{const a=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],i=Yu.max(t,s,a);Je(t,"max-height",i+"px")},Kh=(t,s)=>({left:t,top:s,translate:(i,d)=>Kh(t+i,s+d)}),Xs=Kh,cm=t=>{const s=t.getBoundingClientRect();return Xs(s.left,s.top)},Cr=(t,s)=>t!==void 0?t:s!==void 0?s:0,va=t=>{const s=t.dom.ownerDocument,a=s.body,i=s.defaultView,d=s.documentElement;if(a===t.dom)return Xs(a.offsetLeft,a.offsetTop);const g=Cr(i==null?void 0:i.pageYOffset,d.scrollTop),p=Cr(i==null?void 0:i.pageXOffset,d.scrollLeft),k=Cr(d.clientTop,a.clientTop),_=Cr(d.clientLeft,a.clientLeft);return Li(t).translate(p-_,g-k)},Li=t=>{const s=t.dom,i=s.ownerDocument.body;return i===s?Xs(i.offsetLeft,i.offsetTop):Ht(t)?cm(s):Xs(0,0)},vi=fr("width",t=>t.dom.offsetWidth),Md=(t,s)=>vi.set(t,s),Va=t=>vi.get(t),vo=t=>vi.getOuter(t),ul=(t,s)=>{const a=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],i=vi.max(t,s,a);Je(t,"max-width",i+"px")},ki=t=>{let s=!1,a;return(...i)=>(s||(s=!0,a=t.apply(null,i)),a)},Yh=(t,s,a,i)=>{const d=t.isiOS()&&/ipad/i.test(a)===!0,g=t.isiOS()&&!d,p=t.isiOS()||t.isAndroid(),k=p||i("(pointer:coarse)"),_=d||!g&&p&&i("(min-device-width:768px)"),E=g||p&&!_,z=s.isSafari()&&t.isiOS()&&/safari/i.test(a)===!1,N=!E&&!_&&!z;return{isiPad:Z(d),isiPhone:Z(g),isTablet:Z(_),isPhone:Z(E),isTouch:Z(k),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:Z(z),isDesktop:Z(N)}},Xr=(t,s)=>{for(let a=0;a<t.length;a++){const i=t[a];if(i.test(s))return i}},Ua=(t,s)=>{const a=Xr(t,s);if(!a)return{major:0,minor:0};const i=d=>Number(s.replace(a,"$"+d));return pf(i(1),i(2))},Jr=(t,s)=>{const a=String(s).toLowerCase();return t.length===0?pg():Ua(t,a)},pg=()=>pf(0,0),pf=(t,s)=>({major:t,minor:s}),cc={nu:pf,detect:Jr,unknown:pg},hg=(t,s)=>zo(s.brands,a=>{const i=a.brand.toLowerCase();return jt(t,d=>{var g;return i===((g=d.brand)===null||g===void 0?void 0:g.toLowerCase())}).map(d=>({current:d.name,version:cc.nu(parseInt(a.version,10),0)}))}),Ws=(t,s)=>{const a=String(s).toLowerCase();return jt(t,i=>i.search(a))},Hi=(t,s)=>Ws(t,s).map(a=>{const i=cc.detect(a.versionRegexes,s);return{current:a.name,version:i}}),ic=(t,s)=>Ws(t,s).map(a=>{const i=cc.detect(a.versionRegexes,s);return{current:a.name,version:i}}),Sr=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,bc=t=>s=>kr(s,t),xr=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:t=>kr(t,"edge/")&&kr(t,"chrome")&&kr(t,"safari")&&kr(t,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Sr],search:t=>kr(t,"chrome")&&!kr(t,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:t=>kr(t,"msie")||kr(t,"trident")},{name:"Opera",versionRegexes:[Sr,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:bc("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:bc("firefox")},{name:"Safari",versionRegexes:[Sr,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:t=>(kr(t,"safari")||kr(t,"mobile/"))&&kr(t,"applewebkit")}],yg=[{name:"Windows",search:bc("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:t=>kr(t,"iphone")||kr(t,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:bc("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:bc("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:bc("linux"),versionRegexes:[]},{name:"Solaris",search:bc("sunos"),versionRegexes:[]},{name:"FreeBSD",search:bc("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:bc("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],du={browsers:Z(xr),oses:Z(yg)},fu="Edge",hf="Chromium",mu="IE",wi="Opera",yf="Firefox",Tr="Safari",bf=()=>bg({current:void 0,version:cc.unknown()}),bg=t=>{const s=t.current,a=t.version,i=d=>()=>s===d;return{current:s,version:a,isEdge:i(fu),isChromium:i(hf),isIE:i(mu),isOpera:i(wi),isFirefox:i(yf),isSafari:i(Tr)}},dl={unknown:bf,nu:bg,edge:Z(fu),chromium:Z(hf),ie:Z(mu),opera:Z(wi),firefox:Z(yf),safari:Z(Tr)},vg="Windows",gu="iOS",kg="Android",Bl="Linux",wg="macOS",vf="Solaris",im="FreeBSD",pu="ChromeOS",lm=()=>ie({current:void 0,version:cc.unknown()}),ie=t=>{const s=t.current,a=t.version,i=d=>()=>s===d;return{current:s,version:a,isWindows:i(vg),isiOS:i(gu),isAndroid:i(kg),isMacOS:i(wg),isLinux:i(Bl),isSolaris:i(vf),isFreeBSD:i(im),isChromeOS:i(pu)}},$l={unknown:lm,nu:ie,windows:Z(vg),ios:Z(gu),android:Z(kg),linux:Z(Bl),macos:Z(wg),solaris:Z(vf),freebsd:Z(im),chromeos:Z(pu)},_g={detect:(t,s,a)=>{const i=du.browsers(),d=du.oses(),g=s.bind(_=>hg(i,_)).orThunk(()=>Hi(i,t)).fold(dl.unknown,dl.nu),p=ic(d,t).fold($l.unknown,$l.nu),k=Yh(p,g,t,a);return{browser:g,os:p,deviceType:k}}},Xh=t=>window.matchMedia(t).matches;let hu=ki(()=>_g.detect(window.navigator.userAgent,C.from(window.navigator.userAgentData),Xh));const Qn=()=>hu(),Pr=(t,s,a,i,d,g,p)=>({target:t,x:s,y:a,stop:i,prevent:d,kill:g,raw:p}),_i=t=>{const s=ge.fromDom(Ye(t).getOr(t.target)),a=()=>t.stopPropagation(),i=()=>t.preventDefault(),d=ur(i,a);return Pr(s,t.clientX,t.clientY,a,i,d,t)},yu=(t,s)=>a=>{t(a)&&s(_i(a))},kf=(t,s,a,i,d)=>{const g=yu(a,i);return t.dom.addEventListener(s,g,d),{unbind:gn(wf,t,s,g,d)}},Nd=(t,s,a,i)=>kf(t,s,a,i,!1),ja=(t,s,a,i)=>kf(t,s,a,i,!0),wf=(t,s,a,i)=>{t.dom.removeEventListener(s,a,i)},Il=(t,s)=>{Ha(t).each(i=>{i.dom.insertBefore(s.dom,t.dom)})},_f=(t,s)=>{Fi(t).fold(()=>{Ha(t).each(d=>{vc(d,s)})},i=>{Il(i,s)})},Fl=(t,s)=>{cu(t).fold(()=>{vc(t,s)},i=>{t.dom.insertBefore(s.dom,i.dom)})},vc=(t,s)=>{t.dom.appendChild(s.dom)},Cg=(t,s,a)=>{Mr(t,a).fold(()=>{vc(t,s)},i=>{Il(i,s)})},Pd=(t,s)=>{Qe(s,a=>{vc(t,a)})},ia=t=>{t.dom.textContent="",Qe(sc(t),s=>{Nc(s)})},Nc=t=>{const s=t.dom;s.parentNode!==null&&s.parentNode.removeChild(s)},lc=t=>{const s=t!==void 0?t.dom:document,a=s.body.scrollLeft||s.documentElement.scrollLeft,i=s.body.scrollTop||s.documentElement.scrollTop;return Xs(a,i)},Xu=(t,s,a)=>{const d=(a!==void 0?a.dom:document).defaultView;d&&d.scrollTo(t,s)},Bd=t=>{const s=t===void 0?window:t;return Qn().browser.isFirefox()?C.none():C.from(s.visualViewport)},Sg=(t,s,a,i)=>({x:t,y:s,width:a,height:i,right:t+a,bottom:s+i}),$d=t=>{const s=t===void 0?window:t,a=s.document,i=lc(ge.fromDom(a));return Bd(s).fold(()=>{const d=s.document.documentElement,g=d.clientWidth,p=d.clientHeight;return Sg(i.left,i.top,g,p)},d=>Sg(Math.max(d.pageLeft,i.left),Math.max(d.pageTop,i.top),d.width,d.height))},Vi=()=>ge.fromDom(document),Cf=(t,s)=>t.view(s).fold(Z([]),i=>{const d=t.owner(i),g=Cf(t,d);return[i].concat(g)}),Ap=(t,s)=>{const a=s.owner(t),i=Cf(s,a);return C.some(i)};var um=Object.freeze({__proto__:null,view:t=>{var s;return(t.dom===document?C.none():C.from((s=t.dom.defaultView)===null||s===void 0?void 0:s.frameElement)).map(ge.fromDom)},owner:t=>ya(t)});const Id=t=>{const s=Vi(),a=lc(s);return Ap(t,um).fold(gn(va,t),d=>{const g=Li(t),p=Jn(d,(k,_)=>{const E=Li(_);return{left:k.left+E.left,top:k.top+E.top}},{left:0,top:0});return Xs(p.left+g.left+a.left,p.top+g.top+a.top)})},Ju=(t,s,a)=>({point:t,width:s,height:a}),Fd=(t,s,a,i)=>({x:t,y:s,width:a,height:i}),Zs=(t,s,a,i)=>({x:t,y:s,width:a,height:i,right:t+a,bottom:s+i}),Js=t=>{const s=va(t),a=vo(t),i=ll(t);return Zs(s.left,s.top,a,i)},ei=t=>{const s=Id(t),a=vo(t),i=ll(t);return Zs(s.left,s.top,a,i)},Qu=(t,s)=>{const a=Math.max(t.x,s.x),i=Math.max(t.y,s.y),d=Math.min(t.right,s.right),g=Math.min(t.bottom,s.bottom),p=d-a,k=g-i;return Zs(a,i,p,k)},Tg=(t,s)=>Co(s,(a,i)=>Qu(a,i),t),jr=()=>$d(window),tn=t=>{let s=t;return{get:()=>s,set:d=>{s=d}}},Ll=t=>{const s=tn(C.none()),a=()=>s.get().each(t);return{clear:()=>{a(),s.set(C.none())},isSet:()=>s.get().isSome(),get:()=>s.get(),set:k=>{a(),s.set(C.some(k))}}},dm=()=>Ll(t=>t.destroy()),ka=()=>Ll(t=>t.unbind()),os=()=>{const t=Ll(ae);return{...t,on:a=>t.get().each(a)}};var bu=tinymce.util.Tools.resolve("tinymce.ThemeManager");const Eg=t=>{const s=g=>g(t),a=Z(t),i=()=>d,d={tag:!0,inner:t,fold:(g,p)=>p(t),isValue:ze,isError:Ae,map:g=>Vn.value(g(t)),mapError:i,bind:s,exists:s,forall:s,getOr:a,or:i,getOrThunk:a,orThunk:i,getOrDie:a,each:g=>{g(t)},toOptional:()=>C.some(t)};return d},Ld=t=>{const s=()=>a,a={tag:!1,inner:t,fold:(i,d)=>i(t),isValue:Ae,isError:ze,map:s,mapError:i=>Vn.error(i(t)),bind:s,exists:Ae,forall:ze,getOr:zt,or:zt,getOrThunk:Wo,orThunk:Wo,getOrDie:ue(String(t)),each:ae,toOptional:C.none};return a},Vn={value:Eg,error:Ld,fromOption:(t,s)=>t.fold(()=>Ld(s),Eg)};var Wr;(function(t){t[t.Error=0]="Error",t[t.Value=1]="Value"})(Wr||(Wr={}));const ed=(t,s,a)=>t.stype===Wr.Error?s(t.serror):a(t.svalue),$a=t=>{const s=[],a=[];return Qe(t,i=>{ed(i,d=>a.push(d),d=>s.push(d))}),{values:s,errors:a}},kc=(t,s)=>t.stype===Wr.Error?{stype:Wr.Error,serror:s(t.serror)}:t,ti=(t,s)=>t.stype===Wr.Value?{stype:Wr.Value,svalue:s(t.svalue)}:t,la=(t,s)=>t.stype===Wr.Value?s(t.svalue):t,uc=(t,s)=>t.stype===Wr.Error?s(t.serror):t,Zc=t=>({stype:Wr.Value,svalue:t}),fm=t=>({stype:Wr.Error,serror:t}),pr={fromResult:t=>t.fold(fm,Zc),toResult:t=>ed(t,Vn.error,Vn.value),svalue:Zc,partition:$a,serror:fm,bind:la,bindError:uc,map:ti,mapError:kc,fold:ed},vu=(t,s,a,i)=>({tag:"field",key:t,newKey:s,presence:a,prop:i}),nd=(t,s)=>({tag:"custom",newKey:t,instantiator:s}),bs=(t,s,a)=>{switch(t.tag){case"field":return s(t.key,t.newKey,t.presence,t.prop);case"custom":return a(t.newKey,t.instantiator)}},Ci=(t,s)=>s,Op=(t,s)=>Xn(t)&&Xn(s)?zs(t,s):s,Hl=t=>(...s)=>{if(s.length===0)throw new Error("Can't merge zero objects");const a={};for(let i=0;i<s.length;i++){const d=s[i];for(const g in d)to(d,g)&&(a[g]=t(a[g],d[g]))}return a},zs=Hl(Op),ku=Hl(Ci),Pc=()=>({tag:"required",process:{}}),ro=t=>({tag:"defaultedThunk",process:t}),od=t=>ro(Z(t)),Sf=()=>({tag:"option",process:{}}),mm=t=>({tag:"mergeWithThunk",process:t}),S=t=>mm(Z(t)),D=(t,s)=>t.length>0?pr.svalue(zs(s,ku.apply(void 0,t))):pr.svalue(s),L=t=>ur(pr.serror,Qt)(t),nt={consolidateObj:(t,s)=>{const a=pr.partition(t);return a.errors.length>0?L(a.errors):D(a.values,s)},consolidateArr:t=>{const s=pr.partition(t);return s.errors.length>0?L(s.errors):pr.svalue(s.values)}},bn=t=>Un(t)&&ho(t).length>100?" removed due to size":JSON.stringify(t,null,2),qn=t=>{const s=t.length>10?t.slice(0,10).concat([{path:[],getErrorInfo:Z("... (only showing first ten failures)")}]):t;return we(s,a=>"Failed path: ("+a.path.join(" > ")+`)
`+a.getErrorInfo())},_n=(t,s)=>pr.serror([{path:t,getErrorInfo:s}]),vn=(t,s,a)=>_n(t,()=>'Could not find valid *required* value for "'+s+'" in '+bn(a)),Os=(t,s)=>_n(t,()=>'Choice schema did not contain choice key: "'+s+'"'),Er=(t,s,a)=>_n(t,()=>'The chosen schema: "'+a+'" did not exist in branches: '+bn(s)),ni=(t,s)=>_n(t,()=>"There are unsupported fields: ["+s.join(", ")+"] specified"),Vl=(t,s)=>_n(t,Z(s)),xf=t=>{const s=(i,d)=>pr.bindError(t(d),g=>Vl(i,g)),a=Z("val");return{extract:s,toString:a}},Ag=xf(pr.svalue),dc=(t,s,a,i)=>mt(s,a).fold(()=>vn(t,a,s),i),zg=(t,s,a,i)=>{const d=mt(t,s).getOrThunk(()=>a(t));return i(d)},Db=(t,s,a)=>a(mt(t,s)),Dp=(t,s,a,i)=>{const d=mt(t,s).map(g=>g===!0?a(t):g);return i(d)},Wa=(t,s,a,i,d)=>{const g=k=>d.extract(s.concat([i]),k),p=k=>k.fold(()=>pr.svalue(C.none()),_=>{const E=d.extract(s.concat([i]),_);return pr.map(E,C.some)});switch(t.tag){case"required":return dc(s,a,i,g);case"defaultedThunk":return zg(a,i,t.process,g);case"option":return Db(a,i,p);case"defaultedOptionThunk":return Dp(a,i,t.process,p);case"mergeWithThunk":return zg(a,i,Z({}),k=>{const _=zs(t.process(a),k);return g(_)})}},Rp=(t,s,a)=>{const i={},d=[];for(const g of a)bs(g,(p,k,_,E)=>{const z=Wa(_,t,s,p,E);pr.fold(z,N=>{d.push(...N)},N=>{i[k]=N})},(p,k)=>{i[p]=k(s)});return d.length>0?pr.serror(d):pr.svalue(i)},Qr=t=>({extract:(i,d)=>t().extract(i,d),toString:()=>t().toString()}),Rb=t=>ho(Vo(t,fo)),Bc=t=>{const s=kn(t),a=Jn(t,(d,g)=>bs(g,p=>zs(d,{[p]:!0}),Z(d)),{});return{extract:(d,g)=>{const p=as(g)?[]:Rb(g),k=xn(p,_=>!dr(a,_));return k.length===0?s.extract(d,g):ni(d,k)},toString:s.toString}},kn=t=>({extract:(i,d)=>Rp(i,d,t),toString:()=>`obj{
`+we(t,d=>bs(d,(g,p,k,_)=>g+" -> "+_.toString(),(g,p)=>"state("+g+")")).join(`
`)+"}"}),Si=t=>({extract:(i,d)=>{const g=we(d,(p,k)=>t.extract(i.concat(["["+k+"]"]),p));return nt.consolidateArr(g)},toString:()=>"array("+t.toString()+")"}),gm=(t,s)=>{const a=s!==void 0?s:zt;return{extract:(g,p)=>{const k=[];for(const _ of t){const E=_.extract(g,p);if(E.stype===Wr.Value)return{stype:Wr.Value,svalue:a(E.svalue)};k.push(E)}return nt.consolidateArr(k)},toString:()=>"oneOf("+we(t,g=>g.toString()).join(", ")+")"}},Og=(t,s)=>{const a=(g,p)=>Si(xf(t)).extract(g,p);return{extract:(g,p)=>{const k=ho(p),_=a(g,k);return pr.bind(_,E=>{const z=we(E,N=>vu(N,N,Pc(),s));return kn(z).extract(g,p)})},toString:()=>"setOf("+s.toString()+")"}},Mp=(t,s)=>{const a=ki(s);return{extract:(g,p)=>a().extract(g,p),toString:()=>a().toString()}},Jh=ur(Si,kn),ml=Z(Ag),wu=(t,s)=>xf(a=>{const i=typeof a;return t(a)?pr.svalue(a):pr.serror(`Expected type: ${s} but got: ${i}`)}),Hd=wu(No,"number"),Nt=wu(on,"string"),Ui=wu(as,"boolean"),Np=wu(xt,"function"),Tf=t=>{if(Object(t)!==t)return!0;switch({}.toString.call(t).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(t).every(s=>Tf(t[s]));default:return!1}},gl=xf(t=>Tf(t)?pr.svalue(t):pr.serror("Expected value to be acceptable for sending via postMessage")),Dg=(t,s,a,i)=>mt(a,i).fold(()=>Er(t,a,i),g=>g.extract(t.concat(["branch: "+i]),s)),Vd=(t,s)=>({extract:(d,g)=>mt(g,t).fold(()=>Os(d,t),k=>Dg(d,g,s,k)),toString:()=>"chooseOn("+t+"). Possible values: "+ho(s)}),Ef=()=>Si(Ag),Rg=t=>xf(s=>t(s).fold(pr.serror,pr.svalue)),Ul=(t,s)=>Og(a=>pr.fromResult(t(a)),s),Mb=(t,s,a)=>{const i=s.extract([t],a);return pr.mapError(i,d=>({input:a,errors:d}))},ar=(t,s,a)=>pr.toResult(Mb(t,s,a)),ct=t=>t.fold(s=>{throw new Error(jl(s))},zt),wc=(t,s,a)=>ct(ar(t,s,a)),jl=t=>`Errors: 
`+qn(t.errors).join(`
`)+`

Input object: `+bn(t.input),wa=(t,s)=>Vd(t,Wn(s,kn)),pm=(t,s)=>Mp(t,s),ua=vu,Fo=nd,Pp=t=>Rg(s=>ot(t,s)?Vn.value(s):Vn.error(`Unsupported value: "${s}", choose one of "${t.join(", ")}".`)),Ke=t=>ua(t,t,Pc(),ml()),Lo=(t,s)=>ua(t,t,Pc(),s),Mg=t=>Lo(t,Hd),ea=t=>Lo(t,Nt),_c=(t,s)=>ua(t,t,Pc(),Pp(s)),Nb=t=>Lo(t,Ui),xi=t=>Lo(t,Np),f0=(t,s)=>ua(t,t,Sf(),xf(a=>pr.serror("The field: "+t+" is forbidden. "+s))),sd=(t,s)=>ua(t,t,Pc(),kn(s)),Pb=(t,s)=>ua(t,t,Pc(),Jh(s)),Ti=(t,s)=>ua(t,t,Pc(),Si(s)),Bo=t=>ua(t,t,Sf(),ml()),_u=(t,s)=>ua(t,t,Sf(),s),Af=t=>_u(t,Hd),da=t=>_u(t,Nt),Bp=(t,s)=>_u(t,Pp(s)),Cu=t=>_u(t,Np),Su=(t,s)=>_u(t,Si(s)),Ps=(t,s)=>_u(t,kn(s)),hm=(t,s)=>_u(t,Bc(s)),Ee=(t,s)=>ua(t,t,od(s),ml()),Ei=(t,s,a)=>ua(t,t,od(s),a),ym=(t,s)=>Ei(t,s,Hd),Cc=(t,s)=>Ei(t,s,Nt),Ai=(t,s,a)=>Ei(t,s,Pp(a)),Br=(t,s)=>Ei(t,s,Ui),hr=(t,s)=>Ei(t,s,Np),m0=(t,s)=>Ei(t,s,gl),w=(t,s,a)=>Ei(t,s,Si(a)),A=(t,s,a)=>Ei(t,s,kn(a)),G={generate:t=>{if(!uo(t))throw new Error("cases must be an array");if(t.length===0)throw new Error("there must be at least one case");const s=[],a={};return Qe(t,(i,d)=>{const g=ho(i);if(g.length!==1)throw new Error("one and only one name per case");const p=g[0],k=i[p];if(a[p]!==void 0)throw new Error("duplicate key detected:"+p);if(p==="cata")throw new Error("cannot have a case named cata (sorry)");if(!uo(k))throw new Error("case arguments must be an array");s.push(p),a[p]=(..._)=>{const E=_.length;if(E!==k.length)throw new Error("Wrong number of arguments to case "+p+". Expected "+k.length+" ("+k+"), got "+E);return{fold:(...N)=>{if(N.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+N.length);return N[d].apply(null,_)},match:N=>{const H=ho(N);if(s.length!==H.length)throw new Error("Wrong number of arguments to match. Expected: "+s.join(",")+`
Actual: `+H.join(","));if(!Te(s,Y=>ot(H,Y)))throw new Error("Not all branches were specified when using match. Specified: "+H.join(", ")+`
Required: `+s.join(", "));return N[p].apply(null,_)},log:N=>{console.log(N,{constructors:s,constructor:p,params:_})}}}}),a}};G.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const pe=t=>{const s=[],a=[];return Qe(t,i=>{i.fold(d=>{s.push(d)},d=>{a.push(d)})}),{errors:s,values:a}},Ze=(t,s)=>{const a={};return eo(t,(i,d)=>{ot(s,d)||(a[d]=i)}),a},yt=(t,s)=>({[t]:s}),Wt=t=>{const s={};return Qe(t,a=>{s[a.key]=a.value}),s},In=(t,s)=>Ze(t,s),Yn=(t,s)=>yt(t,s),Xo=t=>Wt(t),Jo=(t,s)=>t.length===0?Vn.value(s):Vn.value(zs(s,ku.apply(void 0,t))),Qs=t=>Vn.error(Qt(t)),zi=(t,s)=>{const a=pe(t);return a.errors.length>0?Qs(a.errors):Jo(a.values,s)},Za=t=>xt(t)?t:Ae,Wl=(t,s,a)=>{let i=t.dom;const d=Za(a);for(;i.parentNode;){i=i.parentNode;const g=ge.fromDom(i),p=s(g);if(p.isSome())return p;if(d(g))break}return C.none()},pl=(t,s,a)=>{const i=s(t),d=Za(a);return i.orThunk(()=>d(t)?C.none():Wl(t,s,d))},xu=(t,s)=>jo(t.element,s.event.target),Ng={can:ze,abort:Ae,run:ae},ji=t=>{if(!dr(t,"can")&&!dr(t,"abort")&&!dr(t,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(t,null,2)+" does not have can, abort, or run!");return{...Ng,...t}},bm=(t,s)=>(...a)=>Co(t,(i,d)=>i&&s(d).apply(void 0,a),!0),$p=(t,s)=>(...a)=>Co(t,(i,d)=>i||s(d).apply(void 0,a),!1),Ip=t=>xt(t)?{can:ze,abort:Ae,run:t}:t,zf=t=>{const s=bm(t,d=>d.can),a=$p(t,d=>d.abort);return{can:s,abort:a,run:(...d)=>{Qe(t,g=>{g.run.apply(void 0,d)})}}},_a=Z,Zl=_a("touchstart"),Po=_a("touchmove"),Ds=_a("touchend"),$c=_a("touchcancel"),Ar=_a("mousedown"),Fp=_a("mousemove"),Of=_a("mouseout"),Df=_a("mouseup"),Wi=_a("mouseover"),rd=_a("focusin"),Ud=_a("focusout"),Tu=_a("keydown"),Qh=_a("keyup"),jd=_a("input"),Lp=_a("change"),Pg=_a("click"),tC=_a("transitioncancel"),ad=_a("transitionend"),nC=_a("transitionstart"),g0=_a("selectstart"),$r=t=>Z("alloy."+t),Bb={tap:$r("tap")},cd=$r("focus"),vm=$r("blur.post"),Rf=$r("paste.post"),ql=$r("receive"),Gl=$r("execute"),ey=$r("focus.item"),id=Bb.tap,Ic=$r("longpress"),ty=$r("sandbox.close"),p0=$r("typeahead.cancel"),ny=$r("system.init"),oy=$r("system.touchmove"),h0=$r("system.touchend"),Bg=$r("system.scroll"),ld=$r("system.resize"),oi=$r("system.attached"),Kl=$r("system.detached"),km=$r("system.dismissRequested"),y0=$r("system.repositionRequested"),$g=$r("focusmanager.shifted"),b0=$r("slotcontainer.visibility"),oC=$r("system.external.element.scroll"),sC=$r("change.tab"),rC=$r("dismiss.tab"),wm=$r("highlight"),Ig=$r("dehighlight"),no=(t,s)=>{$b(t,t.element,s,{})},hn=(t,s,a)=>{$b(t,t.element,s,a)},_m=t=>{no(t,Gl())},sy=(t,s,a)=>{$b(t,s,a,{})},$b=(t,s,a,i)=>{const d={target:s,...i};t.getSystem().triggerEvent(a,s,d)},v0=(t,s,a,i)=>{const d={...i,target:s};t.getSystem().triggerEvent(a,s,d)},Wd=(t,s,a,i)=>{t.getSystem().triggerEvent(a,s,i.event)},Is=t=>Xo(t),aC=(t,s)=>({key:t,value:ji({abort:s})}),k0=(t,s)=>({key:t,value:ji({can:s})}),w0=t=>({key:t,value:ji({run:(s,a)=>{a.event.prevent()}})}),Xe=(t,s)=>({key:t,value:ji({run:s})}),Fg=(t,s,a)=>({key:t,value:ji({run:(i,d)=>{s.apply(void 0,[i,d].concat(a))}})}),xT=t=>s=>Xe(t,s),Cm=t=>s=>({key:t,value:ji({run:(a,i)=>{xu(a,i)&&s(a,i)}})}),TT=(t,s)=>Xe(t,(a,i)=>{a.getSystem().getByUid(s).each(d=>{Wd(d,d.element,t,i)})}),Lg=(t,s,a)=>{const i=s.partUids[a];return TT(t,i)},_0=(t,s)=>Xe(t,(a,i)=>{const d=i.event,g=a.getSystem().getByDom(d.target).getOrThunk(()=>pl(d.target,k=>a.getSystem().getByDom(k).toOptional(),Ae).getOr(a));s(a,g,i)}),ud=t=>Xe(t,(s,a)=>{a.cut()}),C0=t=>Xe(t,(s,a)=>{a.stop()}),Hp=(t,s)=>Cm(t)(s),qs=Cm(oi()),Zd=Cm(Kl()),S0=Cm(ny()),Eu=xT(Gl()),x0=(t,s,a)=>{const i=a.toString(),d=i.indexOf(")")+1,g=i.indexOf("("),p=i.substring(g+1,d-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:s,parameters:ry(p.slice(0,1).concat(p.slice(3)))}),t},ry=t=>we(t,s=>Ra(s,"/*")?s.substring(0,s.length-2):s),Vp=(t,s)=>{const a=t.toString(),i=a.indexOf(")")+1,d=a.indexOf("("),g=a.substring(d+1,i-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:s,parameters:ry(g)}),t},ay=(t,s)=>{const a=s.toString(),i=a.indexOf(")")+1,d=a.indexOf("("),g=a.substring(d+1,i-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:ry(g.slice(1))}),t},Zi=t=>({classes:ts(t.classes)?[]:t.classes,attributes:ts(t.attributes)?{}:t.attributes,styles:ts(t.styles)?{}:t.styles}),cC=(t,s)=>({...t,attributes:{...t.attributes,...s.attributes},styles:{...t.styles,...s.styles},classes:t.classes.concat(s.classes)}),cy=(t,s,a)=>Eu(i=>{a(i,t,s)}),T0=(t,s,a)=>S0((i,d)=>{a(i,t,s)}),Sm=(t,s,a,i,d,g)=>{const p=Bc(t),k=Ps(s,[hm("config",t)]);return lC(p,k,s,a,i,d,g)},E0=(t,s,a,i,d,g)=>{const p=t,k=Ps(s,[_u("config",t)]);return lC(p,k,s,a,i,d,g)},iC=(t,s,a)=>x0((d,...g)=>{const p=[d].concat(g);return d.config({name:Z(t)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+t+". Using API: "+a)},k=>{const _=Array.prototype.slice.call(p,1);return s.apply(void 0,[d,k.config,k.state].concat(_))})},a,s),A0=t=>({key:t,value:void 0}),lC=(t,s,a,i,d,g,p)=>{const k=N=>dr(N,a)?N[a]():C.none(),_=Wn(d,(N,H)=>iC(a,N,H)),z={...Wn(g,(N,H)=>Vp(N,H)),..._,revoke:gn(A0,a),config:N=>{const H=wc(a+"-config",t,N);return{key:a,value:{config:H,me:z,configAsRaw:ki(()=>wc(a+"-config",t,N)),initialConfig:N,state:p}}},schema:Z(s),exhibit:(N,H)=>ha(k(N),mt(i,"exhibit"),(V,Y)=>Y(H,V.config,V.state)).getOrThunk(()=>Zi({})),name:Z(a),handlers:N=>k(N).map(H=>mt(i,"events").getOr(()=>({}))(H.config,H.state)).getOr({})};return z},qc={init:()=>qi({readState:Z("No State required")})},qi=t=>t,gt=t=>Xo(t),Ib=Bc([Ke("fields"),Ke("name"),Ee("active",{}),Ee("apis",{}),Ee("state",qc),Ee("extra",{})]),fc=t=>{const s=wc("Creating behaviour: "+t.name,Ib,t);return Sm(s.fields,s.name,s.active,s.apis,s.extra,s.state)},Fb=Bc([Ke("branchKey"),Ke("branches"),Ke("name"),Ee("active",{}),Ee("apis",{}),Ee("state",qc),Ee("extra",{})]),uC=t=>{const s=wc("Creating behaviour: "+t.name,Fb,t);return E0(wa(s.branchKey,s.branches),s.name,s.active,s.apis,s.extra,s.state)},Gs=Z(void 0),Mf=(t,s)=>{const a=rn(t,s);return a===void 0||a===""?[]:a.split(" ")},Lb=(t,s,a)=>{const d=Mf(t,s).concat([a]);return Pt(t,s,d.join(" ")),!0},ET=(t,s,a)=>{const i=xn(Mf(t,s),d=>d!==a);return i.length>0?Pt(t,s,i.join(" ")):P(t,s),!1},Nf=t=>t.dom.classList!==void 0,Hb=t=>Mf(t,"class"),dd=(t,s)=>Lb(t,"class",s),dC=(t,s)=>ET(t,"class",s),z0=(t,s)=>ot(Hb(t),s)?dC(t,s):dd(t,s),Fs=(t,s)=>{Nf(t)?t.dom.classList.add(s):dd(t,s)},Up=t=>{(Nf(t)?t.dom.classList:Hb(t)).length===0&&P(t,"class")},yr=(t,s)=>{Nf(t)?t.dom.classList.remove(s):dC(t,s),Up(t)},fC=(t,s)=>{const a=Nf(t)?t.dom.classList.toggle(s):z0(t,s);return Up(t),a},Gi=(t,s)=>Nf(t)&&t.dom.classList.contains(s),jp=(t,s)=>{Qe(s,a=>{Fs(t,a)})},Ki=(t,s)=>{Qe(s,a=>{yr(t,a)})},AT=(t,s)=>{Qe(s,a=>{fC(t,a)})},zT=(t,s)=>Te(s,a=>Gi(t,a)),OT=t=>{const s=t.dom.classList,a=new Array(s.length);for(let i=0;i<s.length;i++){const d=s.item(i);d!==null&&(a[i]=d)}return a},DT=t=>Nf(t)?OT(t):Hb(t),qa=(t,s,a,i,d)=>{const g=p=>p+"px";return{position:t,left:s.map(g),top:a.map(g),right:i.map(g),bottom:d.map(g)}},si=t=>({...t,position:C.some(t.position)}),iy=(t,s)=>{_s(t,si(s))},xm=t=>(mr(As(t,"position"),"fixed")?C.none():il(t)).orThunk(()=>{const i=ge.fromTag("span");return Ha(t).bind(d=>{vc(d,i);const g=il(i);return Nc(i),g})}),O0=t=>xm(t).map(va).getOrThunk(()=>Xs(0,0)),Wp=(t,s)=>{const a=t.element;Fs(a,s.transitionClass),yr(a,s.fadeOutClass),Fs(a,s.fadeInClass),s.onShow(t)},qd=(t,s)=>{const a=t.element;Fs(a,s.transitionClass),yr(a,s.fadeInClass),Fs(a,s.fadeOutClass),s.onHide(t)},Zp=(t,s)=>t.y<s.bottom&&t.bottom>s.y,Hg=(t,s)=>t.y>=s.y,Tm=(t,s)=>t.bottom<=s.bottom,Gd=(t,s,a)=>({location:"top",leftX:s,topY:a.bounds.y-t.y}),Vg=(t,s,a)=>({location:"bottom",leftX:s,bottomY:t.bottom-a.bounds.bottom}),Ug=t=>t.box.x-t.win.x,RT=(t,s,a)=>{const i=s.win,d=s.box,g=Ug(s);return zo(t,p=>{switch(p){case"bottom":return Tm(d,a.bounds)?C.none():C.some(Vg(i,g,a));case"top":return Hg(d,a.bounds)?C.none():C.some(Gd(i,g,a));default:return C.none()}}).getOr({location:"no-dock"})},D0=(t,s,a)=>Te(t,i=>{switch(i){case"bottom":return Tm(s,a.bounds);case"top":return Hg(s,a.bounds)}}),Vb=(t,s)=>{const a=s.optScrollEnv.fold(Z(t.bounds.y),i=>i.scrollElmTop+(t.bounds.y-i.currentScrollTop));return Xs(t.bounds.x,a)},mC=(t,s)=>{const a=s.optScrollEnv.fold(Z(t.y),i=>t.y+i.currentScrollTop-i.scrollElmTop);return Xs(t.x,a)},R0=(t,s,a)=>a.getInitialPos().map(i=>{const d=Vb(i,s);return{box:Zs(d.left,d.top,Va(t),Cs(t)),location:i.location}}),Ub=(t,s,a,i,d)=>{const g=mC(s,a),p=Zs(g.left,g.top,s.width,s.height);i.setInitialPos({style:ba(t),position:ls(t,"position")||"static",bounds:p,location:d.location})},M0=(t,s,a,i,d)=>{i.getInitialPos().fold(()=>Ub(t,s,a,i,d),()=>ae)},N0=(t,s,a)=>a.getInitialPos().bind(i=>{var d;switch(a.clearInitialPos(),i.position){case"static":return C.some({morph:"static"});case"absolute":const g=xm(t).getOr(so()),p=Js(g),k=(d=g.dom.scrollTop)!==null&&d!==void 0?d:0;return C.some({morph:"absolute",positionCss:qa("absolute",mt(i.style,"left").map(_=>s.x-p.x),mt(i.style,"top").map(_=>s.y-p.y+k),mt(i.style,"right").map(_=>p.right-s.right),mt(i.style,"bottom").map(_=>p.bottom-s.bottom))});default:return C.none()}}),P0=(t,s,a)=>R0(t,s,a).filter(({box:i})=>D0(a.getModes(),i,s)).bind(({box:i})=>N0(t,i,a)),ly=t=>{switch(t.location){case"top":return C.some({morph:"fixed",positionCss:qa("fixed",C.some(t.leftX),C.some(t.topY),C.none(),C.none())});case"bottom":return C.some({morph:"fixed",positionCss:qa("fixed",C.some(t.leftX),C.none(),C.none(),C.some(t.bottomY))});default:return C.none()}},jb=(t,s,a)=>{const i=Js(t),d=jr(),g=RT(a.getModes(),{win:d,box:i},s);return g.location==="top"||g.location==="bottom"?(Ub(t,i,s,a,g),ly(g)):C.none()},uD=(t,s,a)=>P0(t,s,a).orThunk(()=>s.optScrollEnv.bind(i=>R0(t,s,a)).bind(({box:i,location:d})=>{const g=jr(),p=Ug({win:g,box:i}),k=d==="top"?Gd(g,p,s):Vg(g,p,s);return ly(k)})),uy=(t,s,a)=>{const i=t.element;return mr(As(i,"position"),"fixed")?uD(i,s,a):jb(i,s,a)},qp=(t,s,a)=>{const i=t.element;return R0(i,s,a).bind(({box:d})=>N0(i,d,a))},Em=(t,s,a,i)=>{const d=Js(t),g=jr(),p=Ug({win:g,box:d}),k=i(g,p,s);return k.location==="bottom"||k.location==="top"?(M0(t,d,s,a,k),ly(k)):C.none()},B0=(t,s,a)=>{a.setDocked(!1),Qe(["left","right","top","bottom","position"],i=>Zn(t.element,i)),s.onUndocked(t)},$0=(t,s,a,i)=>{const d=i.position==="fixed";a.setDocked(d),iy(t.element,i),(d?s.onDocked:s.onUndocked)(t)},gC=(t,s,a,i,d=!1)=>{s.contextual.each(g=>{g.lazyContext(t).each(p=>{const k=Zp(p,i.bounds);k!==a.isVisible()&&(a.setVisible(k),d&&!k?(jp(t.element,[g.fadeOutClass]),g.onHide(t)):(k?Wp:qd)(t,g))})})},I0=(t,s,a,i,d)=>{gC(t,s,a,i,!0),$0(t,s,a,d.positionCss)},jg=(t,s,a,i,d)=>{switch(d.morph){case"static":return B0(t,s,a);case"absolute":return $0(t,s,a,d.positionCss);case"fixed":return I0(t,s,a,i,d)}},MT=(t,s,a)=>{const i=s.lazyViewport(t);gC(t,s,a,i),uy(t,i,a).each(d=>{jg(t,s,a,i,d)})},F0=(t,s,a)=>{const i=t.element;a.setDocked(!1);const d=s.lazyViewport(t);qp(t,d,a).each(g=>{switch(g.morph){case"static":{B0(t,s,a);break}case"absolute":{$0(t,s,a,g.positionCss);break}}}),a.setVisible(!0),s.contextual.each(g=>{Ki(i,[g.fadeInClass,g.fadeOutClass,g.transitionClass]),g.onShow(t)}),Am(t,s,a)},Am=(t,s,a)=>{t.getSystem().isConnected()&&MT(t,s,a)},Gp=(t,s,a)=>{a.isDocked()&&F0(t,s,a)},L0=t=>(s,a,i)=>{const d=a.lazyViewport(s);Em(s.element,d,i,t).each(p=>{I0(s,a,i,d,p)})},Wb=L0(Gd),H0=L0(Vg);var V0=Object.freeze({__proto__:null,refresh:Am,reset:Gp,isDocked:(t,s,a)=>a.isDocked(),getModes:(t,s,a)=>a.getModes(),setModes:(t,s,a,i)=>a.setModes(i),forceDockToTop:Wb,forceDockToBottom:H0}),NT=Object.freeze({__proto__:null,events:(t,s)=>Is([Hp(ad(),(a,i)=>{t.contextual.each(d=>{Gi(a.element,d.transitionClass)&&(Ki(a.element,[d.transitionClass,d.fadeInClass]),(s.isVisible()?d.onShown:d.onHidden)(a)),i.stop()})}),Xe(Bg(),(a,i)=>{Am(a,t,s)}),Xe(oC(),(a,i)=>{Am(a,t,s)}),Xe(ld(),(a,i)=>{Gp(a,t,s)})])});const Yi=(t,s)=>{const i=(s||document).createElement("div");return i.innerHTML=t,sc(ge.fromDom(i))},Au=t=>t.dom.innerHTML,zm=(t,s)=>{const i=ya(t).dom,d=ge.fromDom(i.createDocumentFragment()),g=Yi(s,i);Pd(d,g),ia(t),vc(t,d)},Wg=t=>{const s=ge.fromTag("div"),a=ge.fromDom(t.dom.cloneNode(!0));return vc(s,a),Au(s)},hC=(t,s)=>ge.fromDom(t.dom.cloneNode(s)),fy=t=>hC(t,!1),Zb=t=>hC(t,!0),yC=t=>{if(uu(t))return"#shadow-root";{const s=fy(t);return Wg(s)}},Om=t=>yC(t),Zg="unknown";var Yl;(function(t){t[t.STOP=0]="STOP",t[t.NORMAL=1]="NORMAL",t[t.LOGGING=2]="LOGGING"})(Yl||(Yl={}));const qb=tn({}),Ia=(t,s)=>{const a=[],i=new Date().getTime();return{logEventCut:(d,g,p)=>{a.push({outcome:"cut",target:g,purpose:p})},logEventStopped:(d,g,p)=>{a.push({outcome:"stopped",target:g,purpose:p})},logNoParent:(d,g,p)=>{a.push({outcome:"no-parent",target:g,purpose:p})},logEventNoHandlers:(d,g)=>{a.push({outcome:"no-handlers-left",target:g})},logEventResponse:(d,g,p)=>{a.push({outcome:"response",purpose:p,target:g})},write:()=>{const d=new Date().getTime();ot(["mousemove","mouseover","mouseout",ny()],t)||console.log(t,{event:t,time:d-i,target:s.dom,sequence:we(a,g=>ot(["cut","stopped","response"],g.outcome)?"{"+g.purpose+"} "+g.outcome+" at ("+Om(g.target)+")":g.outcome)})}}},U0=(t,s,a)=>{switch(mt(qb.get(),t).orThunk(()=>{const d=ho(qb.get());return zo(d,g=>t.indexOf(g)>-1?C.some(qb.get()[g]):C.none())}).getOr(Yl.NORMAL)){case Yl.NORMAL:return a(Dm());case Yl.LOGGING:{const d=Ia(t,s),g=a(d);return d.write(),g}case Yl.STOP:return!0}},ri=["alloy/data/Fields","alloy/debugging/Debugging"],PT=()=>{const t=new Error;if(t.stack!==void 0){const s=t.stack.split(`
`);return jt(s,a=>a.indexOf("alloy")>0&&!Xt(ri,i=>a.indexOf(i)>-1)).getOr(Zg)}else return Zg},bC={logEventCut:ae,logEventStopped:ae,logNoParent:ae,logEventNoHandlers:ae,logEventResponse:ae,write:ae},Pf=(t,s,a)=>U0(t,s,a),Dm=Z(bC),Bf=Z([Ke("menu"),Ke("selectedMenu")]),Xi=Z([Ke("item"),Ke("selectedItem")]);Z(kn(Xi().concat(Bf())));const vC=Z(kn(Xi())),my=sd("initSize",[Ke("numColumns"),Ke("numRows")]),j0=()=>Lo("markers",vC()),Kp=()=>sd("markers",[Ke("backgroundMenu")].concat(Bf()).concat(Xi())),qg=t=>sd("markers",we(t,Ke)),Rm=(t,s,a)=>(PT(),ua(s,s,a,Rg(i=>Vn.value((...d)=>i.apply(void 0,d))))),Eo=t=>Rm("onHandler",t,od(ae)),Oi=t=>Rm("onKeyboardHandler",t,od(C.none)),Kd=t=>Rm("onHandler",t,Pc()),Gb=t=>Rm("onKeyboardHandler",t,Pc()),ws=(t,s)=>Fo(t,Z(s)),Mm=t=>Fo(t,zt),Kb=Z(my);var BT=[Ps("contextual",[ea("fadeInClass"),ea("fadeOutClass"),ea("transitionClass"),xi("lazyContext"),Eo("onShow"),Eo("onShown"),Eo("onHide"),Eo("onHidden")]),hr("lazyViewport",()=>({bounds:jr(),optScrollEnv:C.none()})),w("modes",["top","bottom"],Nt),Eo("onDocked"),Eo("onUndocked")],gy=Object.freeze({__proto__:null,init:t=>{const s=tn(!1),a=tn(!0),i=os(),d=tn(t.modes),g=()=>`docked:  ${s.get()}, visible: ${a.get()}, modes: ${d.get().join(",")}`;return qi({isDocked:s.get,setDocked:s.set,getInitialPos:i.get,setInitialPos:i.set,clearInitialPos:i.clear,isVisible:a.get,setVisible:a.set,getModes:d.get,setModes:d.set,readState:g})}});const Ls=fc({fields:BT,name:"docking",active:NT,apis:V0,state:gy}),kC=(t,s,a)=>jo(s,t.element)&&!jo(s,a),IT=Is([k0(cd(),(t,s)=>{const a=s.event,i=a.originator,d=a.target;return kC(t,i,d)?(console.warn(cd()+` did not get interpreted by the desired target. 
Originator: `+Om(i)+`
Target: `+Om(d)+`
Check the `+cd()+" event handlers"),!1):!0})]);var wC=Object.freeze({__proto__:null,events:IT});const Gg=(t,s,a,i)=>{const d=t+s;return d>i?a:d<a?i:d},Ji=(t,s,a)=>Math.min(Math.max(t,s),a),Nm=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let W0=0;const Vt=t=>{const a=new Date().getTime(),i=Math.floor(Nm()*1e9);return W0++,t+"_"+i+W0+String(a)},Z0=Z("alloy-id-"),FT=Z("data-alloy-id"),_C=Z0(),q0=FT(),CC=(t,s)=>{const a=Vt(_C+t);return SC(s,a),a},SC=(t,s)=>{Object.defineProperty(t.dom,q0,{value:s,writable:!0})},fd=t=>{const s=So(t)?t.dom[q0]:null;return C.from(s)},py=t=>Vt(t),Kg=zt,Yb=t=>{const s=d=>`The component must be in a context to execute: ${d}`+(t?`
`+Om(t().element)+" is not in context.":""),a=d=>()=>{throw new Error(s(d))},i=d=>()=>{console.warn(s(d))};return{debugInfo:Z("fake"),triggerEvent:i("triggerEvent"),triggerFocus:i("triggerFocus"),triggerEscape:i("triggerEscape"),broadcast:i("broadcast"),broadcastOn:i("broadcastOn"),broadcastEvent:i("broadcastEvent"),build:a("build"),buildOrPatch:a("buildOrPatch"),addToWorld:a("addToWorld"),removeFromWorld:a("removeFromWorld"),addToGui:a("addToGui"),removeFromGui:a("removeFromGui"),getByUid:a("getByUid"),getByDom:a("getByDom"),isConnected:Ae}},LT=Yb(),hl=Vt("alloy-premade"),xC=t=>(Object.defineProperty(t.element.dom,hl,{value:t.uid,writable:!0}),Yn(hl,t)),G0=t=>to(t.dom,hl),TC=t=>mt(t,hl),Xb=t=>ay((s,...a)=>t(s.getApis(),s,...a),t),HT=(t,s)=>{const a=we(s,d=>Ps(d.name(),[Ke("config"),Ee("state",qc)])),i=ar("component.behaviours",kn(a),t.behaviours).fold(d=>{throw new Error(jl(d)+`
Complete spec:
`+JSON.stringify(t,null,2))},zt);return{list:s,data:Wn(i,d=>{const g=d.map(p=>({config:p.config,state:p.state.init(p.config)}));return Z(g)})}},Jb=t=>t.list,K0=t=>t.data,Y0=(t,s)=>{const a={};return eo(t,(i,d)=>{eo(i,(g,p)=>{const k=mt(a,p).getOr([]);a[p]=k.concat([s(d,g)])})}),a},EC=(t,s,a,i)=>{const d={...s};Qe(a,z=>{d[z.name()]=z.exhibit(t,i)});const g=Y0(d,(z,N)=>({name:z,modification:N})),p=z=>Jn(z,(N,H)=>({...H.modification,...N}),{}),k=Jn(g.classes,(z,N)=>N.modification.concat(z),[]),_=p(g.attributes),E=p(g.styles);return Zi({classes:k,attributes:_,styles:E})},VT=(t,s,a,i)=>{try{const d=Rn(a,(g,p)=>{const k=g[s],_=p[s],E=i.indexOf(k),z=i.indexOf(_);if(E===-1)throw new Error("The ordering for "+t+" does not have an entry for "+k+`.
Order specified: `+JSON.stringify(i,null,2));if(z===-1)throw new Error("The ordering for "+t+" does not have an entry for "+_+`.
Order specified: `+JSON.stringify(i,null,2));return E<z?-1:z<E?1:0});return Vn.value(d)}catch(d){return Vn.error([d])}},Yd=(t,s)=>({handler:t,purpose:s}),AC=(t,s)=>({cHandler:t,purpose:s}),Yp=(t,s)=>AC(gn.apply(void 0,[t.handler].concat(s)),t.purpose),Xp=t=>t.cHandler,zC=(t,s)=>({name:t,handler:s}),Qb=(t,s)=>{const a={};return Qe(t,i=>{a[i.name()]=i.handlers(s)}),a},X0=(t,s,a)=>{const i={...a,...Qb(s,t)};return Y0(i,zC)},e1=(t,s,a,i)=>{const d=X0(t,a,i);return WT(d,s)},UT=t=>{const s=Ip(t);return(a,i,...d)=>{const g=[a,i].concat(d);s.abort.apply(void 0,g)?i.stop():s.can.apply(void 0,g)&&s.run.apply(void 0,g)}},ai=(t,s)=>Vn.error(["The event ("+t+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(we(s,a=>a.name),null,2)]),jT=(t,s,a)=>{const i=s[a];return i?VT("Event: "+a,"name",t,i).map(d=>{const g=we(d,p=>p.handler);return zf(g)}):ai(a,t)},WT=(t,s)=>{const a=zr(t,(i,d)=>(i.length===1?Vn.value(i[0].handler):jT(i,s,d)).map(p=>{const k=UT(p),_=i.length>1?xn(s[d],E=>Xt(i,z=>z.name===E)).join(" > "):i[0].name;return Yn(d,Yd(k,_))}));return zi(a,{})},Pm="alloy.base.behaviour",Bm=kn([ua("dom","dom",Pc(),kn([Ke("tag"),Ee("styles",{}),Ee("classes",[]),Ee("attributes",{}),Bo("value"),Bo("innerHtml")])),Ke("components"),Ke("uid"),Ee("events",{}),Ee("apis",{}),ua("eventOrder","eventOrder",S({[Gl()]:["disabling",Pm,"toggling","typeaheadevents"],[cd()]:[Pm,"focusing","keying"],[ny()]:[Pm,"disabling","toggling","representing","tooltipping"],[jd()]:[Pm,"representing","streaming","invalidating"],[Kl()]:[Pm,"representing","item-events","toolbar-button-events","tooltipping"],[Ar()]:["focusing",Pm,"item-type-events"],[Zl()]:["focusing",Pm,"item-type-events"],[Wi()]:["item-type-events","tooltipping"],[ql()]:["receiving","reflecting","tooltipping"]}),ml()),Bo("domModification")]),$f=t=>ar("custom.definition",Bm,t),J0=t=>({...t.dom,uid:t.uid,domChildren:we(t.components,s=>s.element)}),Ue=t=>t.domModification.fold(()=>Zi({}),Zi),t1=t=>t.events,If=t=>t.dom.value,$m=(t,s)=>{if(s===void 0)throw new Error("Value.set was undefined");t.dom.value=s},n1=(t,s,a)=>Mr(t,s).map(d=>{if(a.exists(p=>!jo(p,d))){const p=a.map(aa).getOr("span"),k=ge.fromTag(p);return Il(d,k),k}else return d}),Qi=(t,s,a)=>{a.fold(()=>vc(t,s),i=>{jo(i,s)||(Il(i,s),Nc(i))})},Q0=(t,s,a)=>{const i=we(s,a),d=sc(t);return Qe(d.slice(i.length),Nc),i},ek=(t,s,a,i)=>{const d=Mr(t,s),g=i(a,d),p=n1(t,s,d);return Qi(t,g.element,p),g},ci=(t,s,a)=>Q0(t,s,(i,d)=>ek(t,d,i,a)),Jp=(t,s)=>Q0(t,s,(a,i)=>{const d=Mr(t,i);return Qi(t,a,d),a}),OC=(t,s)=>{const a=ho(t),i=ho(s),d=be(i,a),g=is(t,(p,k)=>!to(s,k)||p!==s[k]).t;return{toRemove:d,toSet:g}},DC=(t,s)=>{const{class:a,style:i,...d}=K(s),{toSet:g,toRemove:p}=OC(t.attributes,d),k=()=>{Qe(p,ve=>P(s,ve)),sr(s,g)},_=ba(s),{toSet:E,toRemove:z}=OC(t.styles,_),N=()=>{Qe(z,ve=>Zn(s,ve)),Ln(s,E)},H=DT(s),V=be(H,t.classes),Y=be(t.classes,H),Q=()=>{jp(s,Y),Ki(s,V)},Se=ve=>{zm(s,ve)},re=()=>{const ve=t.domChildren;Jp(s,ve)},ye=()=>{const ve=s,qe=t.value.getOrUndefined();qe!==If(ve)&&$m(ve,qe??"")};return k(),Q(),N(),t.innerHtml.fold(re,Se),ye(),s},ZT=t=>{const s=ge.fromTag(t.tag);sr(s,t.attributes),jp(s,t.classes),Ln(s,t.styles),t.innerHtml.each(i=>zm(s,i));const a=t.domChildren;return Pd(s,a),t.value.each(i=>{$m(s,i)}),s},RC=(t,s)=>{try{const a=DC(t,s);return C.some(a)}catch{return C.none()}},qT=t=>t.innerHtml.isSome()&&t.domChildren.length>0,MC=(t,s)=>{const a=d=>aa(d)===t.tag&&!qT(t)&&!G0(d),i=s.filter(a).bind(d=>RC(t,d)).getOrThunk(()=>ZT(t));return SC(i,t.uid),i},GT=t=>{const s=mt(t,"behaviours").getOr({});return te(ho(s),a=>{const i=s[a];return fo(i)?[i.me]:[]})},KT=(t,s)=>HT(t,s),o1=t=>{const s=GT(t);return KT(t,s)},s1=(t,s,a)=>{const i=J0(t),d=Ue(t),g={"alloy.base.modification":d},p=s.length>0?EC(a,g,s,i):d;return cC(i,p)},YT=(t,s,a)=>{const i={"alloy.base.behaviour":t1(t)};return e1(a,t.eventOrder,s,i).getOrDie()},NC=(t,s)=>{const a=()=>ve,i=tn(LT),d=ct($f(t)),g=o1(t),p=Jb(g),k=K0(g),_=s1(d,p,k),E=MC(_,s),z=YT(d,p,k),N=tn(d.components),H=qe=>{i.set(qe)},V=()=>{i.set(Yb(a))},Y=()=>{const qe=sc(E),He=te(qe,At=>i.get().getByDom(At).fold(()=>[],lt));N.set(He)},Q=qe=>{const He=k;return(xt(He[qe.name()])?He[qe.name()]:()=>{throw new Error("Could not find "+qe.name()+" in "+JSON.stringify(t,null,2))})()},Se=qe=>xt(k[qe.name()]),re=()=>d.apis,ye=qe=>k[qe]().map(He=>He.state.readState()).getOr("not enabled"),ve={uid:t.uid,getSystem:i.get,config:Q,hasConfigured:Se,spec:t,readState:ye,getApis:re,connect:H,disconnect:V,element:E,syncComponents:Y,components:N.get,events:z};return ve},XT=(t,s)=>{const a=mt(t,"components").getOr([]);return s.fold(()=>we(a,Lc),i=>we(a,(d,g)=>a1(d,Mr(i,g))))},tk=(t,s)=>{const{events:a,...i}=Kg(t),d=XT(i,s),g={...i,events:{...wC,...a},components:d};return Vn.value(NC(g,s))},br=t=>{const s=ge.fromText(t);return nk({element:s})},nk=t=>{const s=wc("external.component",Bc([Ke("element"),Bo("uid")]),t),a=tn(Yb()),i=k=>{a.set(k)},d=()=>{a.set(Yb(()=>p))},g=s.uid.getOrThunk(()=>py("external"));SC(s.element,g);const p={uid:g,getSystem:a.get,config:C.none,hasConfigured:Ae,connect:i,disconnect:d,getApis:()=>({}),element:s.element,spec:t,readState:Z("No state"),syncComponents:ae,components:Z([]),events:{}};return xC(p)},PC=py,r1=t=>to(t,"uid"),a1=(t,s)=>TC(t).getOrThunk(()=>{const a=r1(t)?t:{uid:PC(""),...t};return tk(a,s).getOrDie()}),Lc=t=>a1(t,C.none()),yl=xC;var ok=(t,s,a,i,d)=>t(a,i)?C.some(a):xt(d)&&d(a)?C.none():s(a,i,d);const sk=(t,s,a)=>{let i=t.dom;const d=xt(a)?a:Ae;for(;i.parentNode;){i=i.parentNode;const g=ge.fromDom(i);if(s(g))return C.some(g);if(d(g))break}return C.none()},BC=(t,s,a)=>ok((d,g)=>g(d),sk,t,s,a),rk=(t,s)=>{const a=t.dom;return a.parentNode?hy(ge.fromDom(a.parentNode),i=>!jo(t,i)&&s(i)):C.none()},hy=(t,s)=>{const a=d=>s(ge.fromDom(d));return jt(t.dom.childNodes,a).map(ge.fromDom)},c1=(t,s)=>{const a=i=>{for(let d=0;d<i.childNodes.length;d++){const g=ge.fromDom(i.childNodes[d]);if(s(g))return C.some(g);const p=a(i.childNodes[d]);if(p.isSome())return p}return C.none()};return a(t.dom)},$C=(t,s,a)=>BC(t,s,a).isSome(),ii=t=>Wc(t),Im=(t,s,a)=>sk(t,i=>Rr(i,s),a),md=(t,s)=>rk(t,a=>Rr(a,s)),ak=(t,s)=>hy(t,a=>Rr(a,s)),er=(t,s)=>Wc(s,t),zu=(t,s,a)=>ok((d,g)=>Rr(d,g),Im,t,s,a),Fm="aria-controls",JT=t=>BC(t,a=>{if(!So(a))return!1;const i=rn(a,"id");return i!==void 0&&i.indexOf(Fm)>-1}).bind(a=>{const i=rn(a,"id"),d=_r(a);return er(d,`[${Fm}="${i}"]`)}),ck=()=>{const t=Vt(Fm);return{id:t,link:i=>{Pt(i,Fm,t)},unlink:i=>{P(i,Fm)}}},IC=(t,s)=>JT(s).exists(a=>Yg(t,a)),Yg=(t,s)=>$C(s,a=>jo(a,t.element),Ae)||IC(t,s),Ga=(t,s,a,i,d,g,p,k=!1)=>({x:t,y:s,bubble:a,direction:i,placement:d,restriction:g,label:`${p}-${d}`,alwaysFit:k}),Ff=G.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),QT=(t,s,a,i,d,g,p,k,_)=>t.fold(s,a,i,d,g,p,k,_),ik=(t,s,a,i)=>t.fold(s,s,i,i,s,i,a,a),eE=(t,s,a,i)=>t.fold(s,i,s,i,a,a,s,i),i1=Ff.southeast,lk=Ff.southwest,l1=Ff.northeast,Ut=Ff.northwest,yy=Ff.south,uk=Ff.north,FC=Ff.east,LC=Ff.west,tE=(t,s)=>{switch(s){case 1:return t.x;case 0:return t.x+t.width;case 2:return t.y;case 3:return t.y+t.height}},mc=(t,s)=>st(["left","right","top","bottom"],a=>mt(s,a).map(i=>tE(t,i))),nE=(t,s,a)=>{const i=(_,E)=>s[_].map(z=>{const N=_==="top"||_==="bottom",H=N?a.top:a.left,Y=(_==="left"||_==="top"?Math.max:Math.min)(z,E)+H;return N?Ji(Y,t.y,t.bottom):Ji(Y,t.x,t.right)}).getOr(E),d=i("left",t.x),g=i("top",t.y),p=i("right",t.right),k=i("bottom",t.bottom);return Zs(d,g,p-d,k-g)},Lm="layout",dk=t=>t.x,HC=(t,s)=>t.x+t.width/2-s.width/2,Sc=(t,s)=>t.x+t.width-s.width,Hm=(t,s)=>t.y-s.height,Lf=t=>t.y+t.height,VC=(t,s)=>t.y+t.height/2-s.height/2,oE=t=>t.x+t.width,sE=(t,s)=>t.x-s.width,Ca=(t,s,a)=>Ga(dk(t),Lf(t),a.southeast(),i1(),"southeast",mc(t,{left:1,top:3}),Lm),Ir=(t,s,a)=>Ga(Sc(t,s),Lf(t),a.southwest(),lk(),"southwest",mc(t,{right:0,top:3}),Lm),ms=(t,s,a)=>Ga(dk(t),Hm(t,s),a.northeast(),l1(),"northeast",mc(t,{left:1,bottom:2}),Lm),xc=(t,s,a)=>Ga(Sc(t,s),Hm(t,s),a.northwest(),Ut(),"northwest",mc(t,{right:0,bottom:2}),Lm),Sa=(t,s,a)=>Ga(HC(t,s),Hm(t,s),a.north(),uk(),"north",mc(t,{bottom:2}),Lm),xa=(t,s,a)=>Ga(HC(t,s),Lf(t),a.south(),yy(),"south",mc(t,{top:3}),Lm),u1=(t,s,a)=>Ga(oE(t),VC(t,s),a.east(),FC(),"east",mc(t,{left:0}),Lm),d1=(t,s,a)=>Ga(sE(t,s),VC(t,s),a.west(),LC(),"west",mc(t,{right:1}),Lm),UC=()=>[Ca,Ir,ms,xc,xa,Sa,u1,d1],jC=()=>[Ir,Ca,xc,ms,xa,Sa,u1,d1],WC=()=>[ms,xc,Ca,Ir,Sa,xa],f1=()=>[xc,ms,Ir,Ca,Sa,xa],Vm=()=>[Ca,Ir,ms,xc,xa,Sa],m1=()=>[Ir,Ca,xc,ms,xa,Sa],rE=(t,s)=>s.universal?t:xn(t,a=>ot(s.channels,a));var aE=Object.freeze({__proto__:null,events:t=>Is([Xe(ql(),(s,a)=>{const i=t.channels,d=ho(i),g=a,p=rE(d,g);Qe(p,k=>{const _=i[k],E=_.schema,z=wc("channel["+k+`] data
Receiver: `+Om(s.element),E,g.data);_.onReceive(s,z)})})])}),cE=[Lo("channels",Ul(Vn.value,Bc([Kd("onReceive"),Ee("schema",ml())])))];const Di=fc({fields:cE,name:"receiving",active:aE});var ZC=Object.freeze({__proto__:null,exhibit:(t,s)=>Zi({classes:[],styles:s.useFixed()?{}:{position:"relative"}})});const bl=(t,s=!1)=>t.dom.focus({preventScroll:s}),g1=t=>t.dom.blur(),by=t=>{const s=_r(t).dom;return t.dom===s.activeElement},gd=(t=Vi())=>C.from(t.dom.activeElement).map(ge.fromDom),li=t=>gd(_r(t)).filter(s=>t.dom.contains(s.dom)),Um=(t,s)=>{const a=_r(s),i=gd(a).bind(g=>{const p=k=>jo(g,k);return p(s)?C.some(s):c1(s,p)}),d=t(s);return i.each(g=>{gd(a).filter(p=>jo(p,g)).fold(()=>{bl(g)},ae)}),d},fk=G.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),p1=(t,s,a,i,d,g)=>{const p=s.rect,k=p.x-a,_=p.y-i,E=p.width,z=p.height,N=d-(k+E),H=g-(_+z),V=C.some(k),Y=C.some(_),Q=C.some(N),Se=C.some(H),re=C.none();return QT(s.direction,()=>qa(t,V,Y,re,re),()=>qa(t,re,Y,Q,re),()=>qa(t,V,re,re,Se),()=>qa(t,re,re,Q,Se),()=>qa(t,V,Y,re,re),()=>qa(t,V,re,re,Se),()=>qa(t,V,Y,re,re),()=>qa(t,re,Y,Q,re))},qC=(t,s)=>t.fold(()=>{const a=s.rect;return qa("absolute",C.some(a.x),C.some(a.y),C.none(),C.none())},(a,i,d,g)=>p1("absolute",s,a,i,d,g),(a,i,d,g)=>p1("fixed",s,a,i,d,g)),Hf=(t,s)=>{const a=gn(Id,s),i=t.fold(a,a,()=>{const p=lc();return Id(s).translate(-p.left,-p.top)}),d=vo(s),g=ll(s);return Zs(i.left,i.top,d,g)},GC=(t,s)=>s.fold(()=>t.fold(jr,jr,Zs),a=>t.fold(Z(a),Z(a),()=>{const i=mk(t,a.x,a.y);return Zs(i.left,i.top,a.width,a.height)})),mk=(t,s,a)=>{const i=Xs(s,a),d=()=>{const g=lc();return i.translate(-g.left,-g.top)};return t.fold(Z(i),Z(i),d)},KC=(t,s,a,i)=>t.fold(s,a,i);fk.none;const vy=fk.relative,ky=fk.fixed,wy=(t,s)=>({anchorBox:t,origin:s}),iE=(t,s)=>wy(t,s),h1="data-alloy-placement",lE=(t,s)=>{Pt(t,h1,s)},YC=t=>Nr(t,h1),uE=t=>P(t,h1),y1=G.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),XC=(t,s)=>{const{x:a,y:i,right:d,bottom:g}=s,{x:p,y:k,right:_,bottom:E,width:z,height:N}=t,H=p>=a&&p<=d,V=k>=i&&k<=g,Y=H&&V,Q=_<=d&&_>=a,Se=E<=g&&E>=i,re=Q&&Se,ye=Math.min(z,p>=a?d-p:_-a),ve=Math.min(N,k>=i?g-k:E-i);return{originInBounds:Y,sizeInBounds:re,visibleW:ye,visibleH:ve}},dE=(t,s)=>{const{x:a,y:i,right:d,bottom:g}=s,{x:p,y:k,width:_,height:E}=t,z=Math.max(a,d-_),N=Math.max(i,g-E),H=Ji(p,a,z),V=Ji(k,i,N),Y=Math.min(H+_,d)-H,Q=Math.min(V+E,g)-V;return Zs(H,V,Y,Q)},gk=(t,s,a)=>{const i=Z(s.bottom-a.y),d=Z(a.bottom-s.y),g=ik(t,d,d,i),p=Z(s.right-a.x),k=Z(a.right-s.x);return{maxWidth:eE(t,k,k,p),maxHeight:g}},b1=(t,s,a,i)=>{const d=t.bubble,g=d.offset,p=nE(i,t.restriction,g),k=t.x+g.left,_=t.y+g.top,E=Zs(k,_,s,a),{originInBounds:z,sizeInBounds:N,visibleW:H,visibleH:V}=XC(E,p),Y=z&&N,Q=Y?E:dE(E,p),Se=Q.width>0&&Q.height>0,{maxWidth:re,maxHeight:ye}=gk(t.direction,Q,i),ve={rect:Q,maxHeight:ye,maxWidth:re,direction:t.direction,placement:t.placement,classes:{on:d.classesOn,off:d.classesOff},layout:t.label,testY:_};return Y||t.alwaysFit?y1.fit(ve):y1.nofit(ve,H,V,Se)},fE=(t,s,a,i,d,g)=>{const p=i.width,k=i.height,_=(z,N,H,V,Y)=>{const Q=z(a,i,d,t,g),Se=b1(Q,p,k,g);return Se.fold(Z(Se),(re,ye,ve,qe)=>(Y===qe?ve>V||ye>H:!Y&&qe)?Se:y1.nofit(N,H,V,Y))};return Co(s,(z,N)=>{const H=gn(_,N);return z.fold(Z(z),H)},y1.nofit({rect:a,maxHeight:i.height,maxWidth:i.width,direction:i1(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:a.y},-1,-1,!1)).fold(zt,zt)},JC=ze,ui=(t,s,a)=>Nd(t,s,JC,a),pk=(t,s,a)=>ja(t,s,JC,a),hk=_i,yk=["top","bottom","right","left"],v1="data-alloy-transition-timer",mE=(t,s)=>zT(t,s.classes),k1=(t,s,a)=>a.exists(i=>{const d=t.mode;return d==="all"?!0:i[d]!==s[d]}),QC=(t,s)=>{const a=i=>parseFloat(i).toFixed(3);return oo(s,(i,d)=>{const g=t[d].map(a),p=i.map(a);return!Gr(g,p)}).isSome()},bk=t=>{const s=g=>{const k=ls(t,g).split(/\s*,\s*/);return xn(k,ce)},a=g=>{if(on(g)&&/^[\d.]+/.test(g)){const p=parseFloat(g);return Ra(g,"ms")?p:p*1e3}else return 0},i=s("transition-delay"),d=s("transition-duration");return Co(d,(g,p,k)=>{const _=a(i[k])+a(p);return Math.max(g,_)},0)},vk=(t,s)=>{const a=ka(),i=ka();let d;const g=E=>{var z;const N=(z=E.raw.pseudoElement)!==null&&z!==void 0?z:"";return jo(E.target,t)&&ne(N)&&ot(yk,E.raw.propertyName)},p=E=>{if(lr(E)||g(E)){a.clear(),i.clear();const z=E==null?void 0:E.raw.type;(lr(z)||z===ad())&&(clearTimeout(d),P(t,v1),Ki(t,s.classes))}},k=ui(t,nC(),E=>{g(E)&&(k.unbind(),a.set(ui(t,ad(),p)),i.set(ui(t,tC(),p)))}),_=bk(t);requestAnimationFrame(()=>{d=setTimeout(p,_+17),Pt(t,v1,d)})},eS=(t,s)=>{jp(t,s.classes),Nr(t,v1).each(a=>{clearTimeout(parseInt(a,10)),P(t,v1)}),vk(t,s)},eh=(t,s,a,i,d,g)=>{const p=k1(i,d,g);if(p||mE(t,i)){Je(t,"position",a.position);const k=Hf(s,t),_=qC(s,{...d,rect:k}),E=st(yk,z=>_[z]);QC(a,E)&&(_s(t,E),p&&eS(t,i),ac(t))}else Ki(t,i.classes)},tS=t=>({width:vo(t),height:ll(t)}),nS=(t,s,a,i)=>{Zn(s,"max-height"),Zn(s,"max-width");const d=tS(s);return fE(s,i.preference,t,d,a,i.bounds)},oS=(t,s)=>{const a=s.classes;Ki(t,a.off),jp(t,a.on)},gE=(t,s,a)=>{const i=a.maxHeightFunction;i(t,s.maxHeight)},sS=(t,s,a)=>{const i=a.maxWidthFunction;i(t,s.maxWidth)},rS=(t,s,a)=>{const i=qC(a.origin,s);a.transition.each(d=>{eh(t,a.origin,i,d,s,a.lastPlacement)}),iy(t,i)},pE=(t,s)=>{lE(t,s.placement)},w1=(t,s)=>{am(t,Math.floor(s))},aS=Z((t,s)=>{w1(t,s),Ln(t,{"overflow-x":"hidden","overflow-y":"auto"})}),th=Z((t,s)=>{w1(t,s)}),cS=(t,s,a)=>t[s]===void 0?a:t[s],kk=(t,s,a,i,d,g,p,k)=>{const _=cS(p,"maxHeightFunction",aS()),E=cS(p,"maxWidthFunction",ae),z=t.anchorBox,N=t.origin,H={bounds:GC(N,g),origin:N,preference:i,maxHeightFunction:_,maxWidthFunction:E,lastPlacement:d,transition:k};return iS(z,s,a,H)},iS=(t,s,a,i)=>{const d=nS(t,s,a,i);return rS(s,d,i),pE(s,d),oS(s,d),gE(s,d,i),sS(s,d,i),{layout:d.layout,placement:d.placement}},hE=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],Ou=(t,s,a,i=1)=>{const d=t*i,g=s*i,p=_=>mt(a,_).getOr([]),k=(_,E,z)=>{const N=be(hE,z);return{offset:Xs(_,E),classesOn:te(z,p),classesOff:te(N,p)}};return{southeast:()=>k(-t,s,["top","alignLeft"]),southwest:()=>k(t,s,["top","alignRight"]),south:()=>k(-t/2,s,["top","alignCentre"]),northeast:()=>k(-t,-s,["bottom","alignLeft"]),northwest:()=>k(t,-s,["bottom","alignRight"]),north:()=>k(-t/2,-s,["bottom","alignCentre"]),east:()=>k(t,-s/2,["valignCentre","left"]),west:()=>k(-t,-s/2,["valignCentre","right"]),insetNortheast:()=>k(d,g,["top","alignLeft","inset"]),insetNorthwest:()=>k(-d,g,["top","alignRight","inset"]),insetNorth:()=>k(-d/2,g,["top","alignCentre","inset"]),insetSoutheast:()=>k(d,-g,["bottom","alignLeft","inset"]),insetSouthwest:()=>k(-d,-g,["bottom","alignRight","inset"]),insetSouth:()=>k(-d/2,-g,["bottom","alignCentre","inset"]),insetEast:()=>k(-d,-g/2,["valignCentre","right","inset"]),insetWest:()=>k(d,-g/2,["valignCentre","left","inset"])}},_1=()=>Ou(0,0,{}),C1=zt,Tc=(t,s)=>a=>mD(a)==="rtl"?s:t,mD=t=>ls(t,"direction")==="rtl"?"rtl":"ltr";var vl;(function(t){t.TopToBottom="toptobottom",t.BottomToTop="bottomtotop"})(vl||(vl={}));const wk="data-alloy-vertical-dir",yE=t=>$C(t,s=>So(s)&&rn(s,"data-alloy-vertical-dir")===vl.BottomToTop),jm=()=>Ps("layouts",[Ke("onLtr"),Ke("onRtl"),Bo("onBottomLtr"),Bo("onBottomRtl")]),_y=(t,s,a,i,d,g,p)=>{const k=p.map(yE).getOr(!1),_=s.layouts.map(V=>V.onLtr(t)),E=s.layouts.map(V=>V.onRtl(t)),z=k?s.layouts.bind(V=>V.onBottomLtr.map(Y=>Y(t))).or(_).getOr(d):_.getOr(a),N=k?s.layouts.bind(V=>V.onBottomRtl.map(Y=>Y(t))).or(E).getOr(g):E.getOr(i);return Tc(z,N)(t)},bE=(t,s,a)=>{const i=s.hotspot,d=Hf(a,i.element),g=_y(t.element,s,Vm(),m1(),WC(),f1(),C.some(s.hotspot.element));return C.some(C1({anchorBox:d,bubble:s.bubble.getOr(_1()),overrides:s.overrides,layouts:g}))};var lS=[Ke("hotspot"),Bo("bubble"),Ee("overrides",{}),jm(),ws("placement",bE)];const _k=(t,s,a)=>{const i=mk(a,s.x,s.y),d=Zs(i.left,i.top,s.width,s.height),g=_y(t.element,s,UC(),jC(),UC(),jC(),C.none());return C.some(C1({anchorBox:d,bubble:s.bubble,overrides:s.overrides,layouts:g}))};var uS=[Ke("x"),Ke("y"),Ee("height",0),Ee("width",0),Ee("bubble",_1()),Ee("overrides",{}),jm(),ws("placement",_k)];const S1=G.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),Cy=t=>t.fold(zt,(s,a,i)=>s.translate(-a,-i)),dS=t=>t.fold(zt,zt),fS=t=>Co(t,(s,a)=>s.translate(a.left,a.top),Xs(0,0)),vE=t=>{const s=we(t,Cy);return fS(s)},x1=t=>{const s=we(t,dS);return fS(s)},T1=S1.screen,kE=S1.absolute,nh=(t,s,a)=>{const i=Ba(a.root).dom,d=g=>{const p=ya(g),k=ya(t.element);return jo(p,k)};return C.from(i.frameElement).map(ge.fromDom).filter(d).map(va)},mS=(t,s,a)=>{const i=ya(t.element),d=lc(i),g=nh(t,s,a).getOr(d);return kE(g,d.left,d.top)},E1=(t,s,a,i)=>{const d=T1(Xs(t,s));return C.some(Ju(d,a,i))},Ck=(t,s,a,i,d)=>t.map(g=>{const p=[s,g.point],k=KC(i,()=>x1(p),()=>x1(p),()=>vE(p)),_=Fd(k.left,k.top,g.width,g.height),E=a.showAbove?WC():Vm(),z=a.showAbove?f1():m1(),N=_y(d,a,E,z,E,z,C.none());return C1({anchorBox:_,bubble:a.bubble.getOr(_1()),overrides:a.overrides,layouts:N})}),A1=(t,s,a)=>{const i=mS(t,a,s);return s.node.filter(Ht).bind(d=>{const g=d.dom.getBoundingClientRect(),p=E1(g.left,g.top,g.width,g.height),k=s.node.getOr(t.element);return Ck(p,i,s,a,k)})};var wE=[Ke("node"),Ke("root"),Bo("bubble"),jm(),Ee("overrides",{}),Ee("showAbove",!1),ws("placement",A1)];const gS="\uFEFF",Xg=" ",Sy={create:(t,s,a,i)=>({start:t,soffset:s,finish:a,foffset:i})},Wm=G.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),xy=(t,s,a,i)=>t.fold(s,a,i),hS=t=>t.fold(zt,zt,zt),yS=Wm.before,gD=Wm.on,_E=Wm.after,oh={before:yS,on:gD,after:_E,cata:xy,getStart:hS},Xd=G.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),CE=t=>Xd.exact(t.start,t.soffset,t.finish,t.foffset),Sk=t=>t.match({domRange:s=>ge.fromDom(s.startContainer),relative:(s,a)=>oh.getStart(s),exact:(s,a,i,d)=>s}),bS=Xd.domRange,vS=Xd.relative,kS=Xd.exact,xk=t=>{const s=Sk(t);return Ba(s)},wS=Sy.create,Zm={domRange:bS,relative:vS,exact:kS,exactFromRange:CE,getWin:xk,range:wS},_S=(t,s)=>{s.fold(a=>{t.setStartBefore(a.dom)},(a,i)=>{t.setStart(a.dom,i)},a=>{t.setStartAfter(a.dom)})},Jg=(t,s)=>{s.fold(a=>{t.setEndBefore(a.dom)},(a,i)=>{t.setEnd(a.dom,i)},a=>{t.setEndAfter(a.dom)})},qm=(t,s,a)=>{const i=t.document.createRange();return _S(i,s),Jg(i,a),i},Ty=(t,s,a,i,d)=>{const g=t.document.createRange();return g.setStart(s.dom,a),g.setEnd(i.dom,d),g},sh=t=>({left:t.left,top:t.top,right:t.right,bottom:t.bottom,width:t.width,height:t.height}),z1=t=>{const s=t.getClientRects(),a=s.length>0?s[0]:t.getBoundingClientRect();return a.width>0||a.height>0?C.some(a).map(sh):C.none()},Gm=t=>{const s=t.getBoundingClientRect();return s.width>0||s.height>0?C.some(s).map(sh):C.none()},kl=G.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Tk=(t,s,a)=>s(ge.fromDom(a.startContainer),a.startOffset,ge.fromDom(a.endContainer),a.endOffset),SE=(t,s)=>s.match({domRange:a=>({ltr:Z(a),rtl:C.none}),relative:(a,i)=>({ltr:ki(()=>qm(t,a,i)),rtl:ki(()=>C.some(qm(t,i,a)))}),exact:(a,i,d,g)=>({ltr:ki(()=>Ty(t,a,i,d,g)),rtl:ki(()=>C.some(Ty(t,d,g,a,i)))})}),rh=(t,s)=>{const a=s.ltr();return a.collapsed?s.rtl().filter(d=>d.collapsed===!1).map(d=>kl.rtl(ge.fromDom(d.endContainer),d.endOffset,ge.fromDom(d.startContainer),d.startOffset)).getOrThunk(()=>Tk(t,kl.ltr,a)):Tk(t,kl.ltr,a)},CS=(t,s)=>{const a=SE(t,s);return rh(t,a)},ah=(t,s)=>CS(t,s).match({ltr:(i,d,g,p)=>{const k=t.document.createRange();return k.setStart(i.dom,d),k.setEnd(g.dom,p),k},rtl:(i,d,g,p)=>{const k=t.document.createRange();return k.setStart(g.dom,p),k.setEnd(i.dom,d),k}});kl.ltr,kl.rtl;const ch=(t,s,a)=>xn(au(t,a),s),gc=(t,s)=>gf(s,t),O1=(t,s,a,i)=>{const g=ya(t).dom.createRange();return g.setStart(t.dom,s),g.setEnd(a.dom,i),g},Ey=(t,s,a,i)=>{const d=O1(t,s,a,i),g=jo(t,a)&&s===i;return d.collapsed&&!g},D1=t=>C.from(t.getSelection()),SS=t=>{if(t.rangeCount>0){const s=t.getRangeAt(0),a=t.getRangeAt(t.rangeCount-1);return C.some(Sy.create(ge.fromDom(s.startContainer),s.startOffset,ge.fromDom(a.endContainer),a.endOffset))}else return C.none()},Ek=t=>{if(t.anchorNode===null||t.focusNode===null)return SS(t);{const s=ge.fromDom(t.anchorNode),a=ge.fromDom(t.focusNode);return Ey(s,t.anchorOffset,a,t.focusOffset)?C.some(Sy.create(s,t.anchorOffset,a,t.focusOffset)):SS(t)}},R1=t=>D1(t).filter(s=>s.rangeCount>0).bind(Ek),fa=(t,s)=>{const a=ah(t,s);return z1(a)},M1=(t,s)=>{const a=ah(t,s);return Gm(a)},xS=((t,s)=>{const a=g=>{if(!t(g))throw new Error("Can only get "+s+" value of a "+s+" node");return i(g).getOr("")},i=g=>t(g)?C.from(g.dom.nodeValue):C.none();return{get:a,getOption:i,set:(g,p)=>{if(!t(g))throw new Error("Can only set raw "+s+" value of a "+s+" node");g.dom.nodeValue=p}}})(ca,"text"),Ak=t=>xS.get(t),Vf=(t,s)=>({element:t,offset:s}),Ay=(t,s)=>{const a=sc(t);if(a.length===0)return Vf(t,s);if(s<a.length)return Vf(a[s],0);{const i=a[a.length-1],d=ca(i)?Ak(i).length:sc(i).length;return Vf(i,d)}},ih=(t,s)=>ca(t)?Vf(t,s):Ay(t,s),N1=t=>t.foffset!==void 0,P1=(t,s)=>s.getSelection.getOrThunk(()=>()=>R1(t))().map(i=>{if(N1(i)){const d=ih(i.start,i.soffset),g=ih(i.finish,i.foffset);return Zm.range(d.element,d.offset,g.element,g.offset)}else return i}),Km=(t,s,a)=>{const i=Ba(s.root).dom,d=mS(t,a,s),g=P1(i,s).bind(_=>{if(N1(_))return M1(i,Zm.exactFromRange(_)).orThunk(()=>{const z=ge.fromText(gS);Il(_.start,z);const N=fa(i,Zm.exact(z,0,z,1));return Nc(z),N}).bind(z=>E1(z.left,z.top,z.width,z.height));{const E=Wn(_,N=>N.dom.getBoundingClientRect()),z={left:Math.min(E.firstCell.left,E.lastCell.left),right:Math.max(E.firstCell.right,E.lastCell.right),top:Math.min(E.firstCell.top,E.lastCell.top),bottom:Math.max(E.firstCell.bottom,E.lastCell.bottom)};return E1(z.left,z.top,z.right-z.left,z.bottom-z.top)}}),k=P1(i,s).bind(_=>N1(_)?So(_.start)?C.some(_.start):Mc(_.start):C.some(_.firstCell)).getOr(t.element);return Ck(g,d,s,a,k)};var xE=[Bo("getSelection"),Ke("root"),Bo("bubble"),jm(),Ee("overrides",{}),Ee("showAbove",!1),ws("placement",Km)];const el="link-layout",pd=t=>t.x+t.width,zk=(t,s)=>t.x-s.width,TS=(t,s)=>t.y-s.height+t.height,ES=t=>t.y,Ok=(t,s,a)=>Ga(pd(t),ES(t),a.southeast(),i1(),"southeast",mc(t,{left:0,top:2}),el),Dk=(t,s,a)=>Ga(zk(t,s),ES(t),a.southwest(),lk(),"southwest",mc(t,{right:1,top:2}),el),AS=(t,s,a)=>Ga(pd(t),TS(t,s),a.northeast(),l1(),"northeast",mc(t,{left:0,bottom:3}),el),zS=(t,s,a)=>Ga(zk(t,s),TS(t,s),a.northwest(),Ut(),"northwest",mc(t,{right:1,bottom:3}),el),Ri=()=>[Ok,Dk,AS,zS],Qg=()=>[Dk,Ok,zS,AS],Rk=(t,s,a)=>{const i=Hf(a,s.item.element),d=_y(t.element,s,Ri(),Qg(),Ri(),Qg(),C.none());return C.some(C1({anchorBox:i,bubble:_1(),overrides:s.overrides,layouts:d}))};var Ym=[Ke("item"),jm(),Ee("overrides",{}),ws("placement",Rk)],Mi=wa("type",{selection:xE,node:wE,hotspot:lS,submenu:Ym,makeshift:uS});const tl=[Ti("classes",Nt),Ai("mode","all",["all","layout","placement"])],Ec=[Ee("useFixed",Ae),Bo("getBounds")],Xl=[Lo("anchor",Mi),Ps("transition",tl)],B1=()=>{const t=document.documentElement;return ky(0,0,t.clientWidth,t.clientHeight)},Jl=t=>{const s=va(t.element),a=t.element.dom.getBoundingClientRect();return vy(s.left,s.top,a.width,a.height)},ep=(t,s,a,i,d,g)=>{const p=iE(s.anchorBox,t);return kk(p,i.element,s.bubble,s.layouts,d,a,s.overrides,g)},TE=(t,s,a,i,d)=>{const g=C.none();Mk(t,s,a,i,d,g)},Mk=(t,s,a,i,d,g)=>{const p=wc("placement.info",kn(Xl),d),k=p.anchor,_=i.element,E=a.get(i.uid);Um(()=>{Je(_,"position","fixed");const z=As(_,"visibility");Je(_,"visibility","hidden");const N=s.useFixed()?B1():Jl(t);k.placement(t,k,N).each(H=>{const V=g.orThunk(()=>s.getBounds.map(Wo)),Y=ep(N,H,V,i,E,p.transition);a.set(i.uid,Y)}),z.fold(()=>{Zn(_,"visibility")},H=>{Je(_,"visibility",H)}),As(_,"left").isNone()&&As(_,"top").isNone()&&As(_,"right").isNone()&&As(_,"bottom").isNone()&&mr(As(_,"position"),"fixed")&&Zn(_,"position")},_)};var OS=Object.freeze({__proto__:null,position:TE,positionWithinBounds:Mk,getMode:(t,s,a)=>s.useFixed()?"fixed":"absolute",reset:(t,s,a,i)=>{const d=i.element;Qe(["position","left","right","top","bottom"],g=>Zn(d,g)),uE(d),a.clear(i.uid)}}),I1=Object.freeze({__proto__:null,init:()=>{let t={};return qi({readState:()=>t,clear:d=>{fo(d)?delete t[d]:t={}},set:(d,g)=>{t[d]=g},get:d=>mt(t,d)})}});const Hc=fc({fields:Ec,name:"positioning",active:ZC,apis:OS,state:I1}),lh=t=>t.getSystem().isConnected(),uh=t=>{no(t,Kl());const s=t.components();Qe(s,uh)},zy=t=>{const s=t.components();Qe(s,zy),no(t,oi())},Nk=(t,s)=>{t.getSystem().addToWorld(s),Ht(t.element)&&zy(s)},Oy=t=>{uh(t),t.getSystem().removeFromWorld(t)},Dy=(t,s)=>{vc(t.element,s.element)},tp=t=>{Qe(t.components(),s=>Nc(s.element)),ia(t.element),t.syncComponents()},Pk=(t,s,a)=>{const i=t.components();tp(t);const d=a(s),g=be(i,d);Qe(g,p=>{uh(p),t.getSystem().removeFromWorld(p)}),Qe(d,p=>{lh(p)?Dy(t,p):(t.getSystem().addToWorld(p),Dy(t,p),Ht(t.element)&&zy(p))}),t.syncComponents()},F1=(t,s,a)=>{const i=t.components(),d=te(s,k=>TC(k).toArray());Qe(i,k=>{ot(d,k)||Oy(k)});const g=a(s),p=be(i,g);Qe(p,k=>{lh(k)&&Oy(k)}),Qe(g,k=>{lh(k)||Nk(t,k)}),t.syncComponents()},Du=(t,s)=>{DS(t,s,vc)},DS=(t,s,a)=>{t.getSystem().addToWorld(s),a(t.element,s.element),Ht(t.element)&&zy(s),t.syncComponents()},RS=t=>{uh(t),Nc(t.element),t.getSystem().removeFromWorld(t)},Uf=t=>{const s=Ha(t.element).bind(a=>t.getSystem().getByDom(a).toOptional());RS(t),s.each(a=>{a.syncComponents()})},wl=t=>{const s=t.components();Qe(s,RS),ia(t.element),t.syncComponents()},Ry=(t,s)=>{Xm(t,s,vc)},np=(t,s)=>{Xm(t,s,_f)},Xm=(t,s,a)=>{a(t,s.element);const i=sc(s.element);Qe(i,d=>{s.getByDom(d).each(zy)})},Bk=t=>{const s=sc(t.element);Qe(s,a=>{t.getByDom(a).each(uh)}),Nc(t.element)},L1=(t,s,a,i)=>{a.get().each(p=>{wl(t)});const d=s.getAttachPoint(t);Du(d,t);const g=t.getSystem().build(i);return Du(t,g),a.set(g),g},MS=(t,s,a,i)=>{const d=L1(t,s,a,i);return s.onOpen(t,d),d},zE=(t,s,a,i)=>a.get().map(()=>L1(t,s,a,i)),OE=(t,s,a,i,d)=>{Ik(t,s),MS(t,s,a,i),d(),V1(t,s)},op=(t,s,a)=>{a.get().each(i=>{wl(t),Uf(t),s.onClose(t,i),a.clear()})},$k=(t,s,a)=>a.isOpen(),dh=(t,s,a,i)=>$k(t,s,a)&&a.get().exists(d=>s.isPartOf(t,d,i)),My=(t,s,a)=>a.get(),DE=(t,s,a,i)=>{As(t.element,s).fold(()=>{P(t.element,a)},d=>{Pt(t.element,a,d)}),Je(t.element,s,i)},H1=(t,s,a)=>{Nr(t.element,a).fold(()=>Zn(t.element,s),i=>Je(t.element,s,i))},Ik=(t,s,a)=>{const i=s.getAttachPoint(t);Je(t.element,"position",Hc.getMode(i)),DE(t,"visibility",s.cloakVisibilityAttr,"hidden")},Fk=t=>Xt(["top","left","right","bottom"],s=>As(t,s).isSome()),V1=(t,s,a)=>{Fk(t.element)||Zn(t.element,"position"),H1(t,"visibility",s.cloakVisibilityAttr)};var Lk=Object.freeze({__proto__:null,cloak:Ik,decloak:V1,open:MS,openWhileCloaked:OE,close:op,isOpen:$k,isPartOf:dh,getState:My,setContent:zE}),U1=Object.freeze({__proto__:null,events:(t,s)=>Is([Xe(ty(),(a,i)=>{op(a,t,s)})])}),j1=[Eo("onOpen"),Eo("onClose"),Ke("isPartOf"),Ke("getAttachPoint"),Ee("cloakVisibilityAttr","data-precloak-visibility")],Z1=Object.freeze({__proto__:null,init:()=>{const t=os(),s=Z("not-implemented");return qi({readState:s,isOpen:t.isSet,clear:t.clear,set:t.set,get:t.get})}});const Do=fc({fields:j1,name:"sandboxing",active:U1,apis:Lk,state:Z1}),Qd=Z("dismiss.popups"),sp=Z("reposition.popups"),q1=Z("mouse.released"),G1=Bc([Ee("isExtraPart",Ae),Ps("fireEventInstead",[Ee("event",km())])]),Jm=t=>{const s=wc("Dismissal",G1,t);return{[Qd()]:{schema:Bc([Ke("target")]),onReceive:(a,i)=>{Do.isOpen(a)&&(Do.isPartOf(a,i.target)||s.isExtraPart(a,i.target)||s.fireEventInstead.fold(()=>Do.close(a),g=>no(a,g.event)))}}}},K1=Bc([Ps("fireEventInstead",[Ee("event",y0())]),xi("doReposition")]),Hk=t=>{const s=wc("Reposition",K1,t);return{[sp()]:{onReceive:a=>{Do.isOpen(a)&&s.fireEventInstead.fold(()=>s.doReposition(a),i=>no(a,i.event))}}}},Vk=(t,s,a)=>{s.store.manager.onLoad(t,s,a)},Uk=(t,s,a)=>{s.store.manager.onUnload(t,s,a)};var Ny=Object.freeze({__proto__:null,onLoad:Vk,onUnload:Uk,setValue:(t,s,a,i)=>{s.store.manager.setValue(t,s,a,i)},getValue:(t,s,a)=>s.store.manager.getValue(t,s,a),getState:(t,s,a)=>a}),Y1=Object.freeze({__proto__:null,events:(t,s)=>{const a=t.resetOnDom?[qs((i,d)=>{Vk(i,t,s)}),Zd((i,d)=>{Uk(i,t,s)})]:[T0(t,s,Vk)];return Is(a)}});const X1=()=>{const t=tn(null),s=()=>({mode:"memory",value:t.get()}),a=()=>t.get()===null,i=()=>{t.set(null)};return qi({set:t.set,get:t.get,isNotSet:a,clear:i,readState:s})},Wk=()=>qi({readState:ae}),PS=()=>{const t=tn({}),s=tn({});return qi({readState:()=>({mode:"dataset",dataByValue:t.get(),dataByText:s.get()}),lookup:p=>mt(t.get(),p).orThunk(()=>mt(s.get(),p)),update:p=>{const k=t.get(),_=s.get(),E={},z={};Qe(p,N=>{E[N.value]=N,mt(N,"meta").each(H=>{mt(H,"text").each(V=>{z[V]=N})})}),t.set({...k,...E}),s.set({..._,...z})},clear:()=>{t.set({}),s.set({})}})};var J1=Object.freeze({__proto__:null,memory:X1,dataset:PS,manual:Wk,init:t=>t.store.manager.state(t)});const BS=(t,s,a,i)=>{const d=s.store;a.update([i]),d.setValue(t,i),s.onSetValue(t,i)},Ql=(t,s,a)=>{const i=s.store,d=i.getDataKey(t);return a.lookup(d).getOrThunk(()=>i.getFallbackEntry(d))},Ka=(t,s,a)=>{s.store.initialValue.each(d=>{BS(t,s,a,d)})},Zf=(t,s,a)=>{a.clear()};var Zk=[Bo("initialValue"),Ke("getFallbackEntry"),Ke("getDataKey"),Ke("setValue"),ws("manager",{setValue:BS,getValue:Ql,onLoad:Ka,onUnload:Zf,state:PS})];const RE=(t,s,a)=>s.store.getValue(t),Q1=(t,s,a,i)=>{s.store.setValue(t,i),s.onSetValue(t,i)},qk=(t,s,a)=>{s.store.initialValue.each(i=>{s.store.setValue(t,i)})};var mh=[Ke("getValue"),Ee("setValue",ae),Bo("initialValue"),ws("manager",{setValue:Q1,getValue:RE,onLoad:qk,onUnload:ae,state:qc.init})];const $S=(t,s,a,i)=>{a.set(i),s.onSetValue(t,i)},ME=(t,s,a)=>a.get(),pD=(t,s,a)=>{s.store.initialValue.each(i=>{a.isNotSet()&&a.set(i)})},NE=(t,s,a)=>{a.clear()};var IS=[Bo("initialValue"),ws("manager",{setValue:$S,getValue:ME,onLoad:pD,onUnload:NE,state:X1})],FS=[Ei("store",{mode:"memory"},wa("mode",{memory:IS,manual:mh,dataset:Zk})),Eo("onSetValue"),Ee("resetOnDom",!1)];const It=fc({fields:FS,name:"representing",active:Y1,apis:Ny,extra:{setValueFrom:(t,s)=>{const a=It.getValue(s);It.setValue(t,a)}},state:J1}),Ya=(t,s)=>A(t,{},we(s,a=>f0(a.name(),"Cannot configure "+a.name()+" for "+t)).concat([Fo("dump",zt)])),Py=t=>t.dump,Xa=(t,s)=>({...gt(s),...t.dump}),eu={field:Ya,augment:Xa,get:Py},Gk="placeholder",ap=G.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),By=t=>to(t,"uiType"),cp=(t,s,a,i)=>t.exists(d=>d!==a.owner)?ap.single(!0,Z(a)):mt(i,a.name).fold(()=>{throw new Error("Unknown placeholder component: "+a.name+`
Known: [`+ho(i)+`]
Namespace: `+t.getOr("none")+`
Spec: `+JSON.stringify(a,null,2))},d=>d.replace()),$y=(t,s,a,i)=>By(a)&&a.uiType===Gk?cp(t,s,a,i):ap.single(!1,Z(a)),LS=(t,s,a,i)=>$y(t,s,a,i).fold((g,p)=>{const k=By(a)?p(s,a.config,a.validated):p(s),_=mt(k,"components").getOr([]),E=te(_,z=>LS(t,s,z,i));return[{...k,components:E}]},(g,p)=>{if(By(a)){const k=p(s,a.config,a.validated);return a.validated.preprocess.getOr(zt)(k)}else return p(s)}),PE=(t,s,a,i)=>te(a,d=>LS(t,s,d,i)),BE=(t,s)=>{let a=!1;const i=()=>a,d=()=>{if(a)throw new Error("Trying to use the same placeholder more than once: "+t);return a=!0,s},g=()=>s.fold((p,k)=>p,(p,k)=>p);return{name:Z(t),required:g,used:i,replace:d}},gh=(t,s,a,i)=>{const d=Wn(i,(p,k)=>BE(k,p)),g=PE(t,s,a,d);return eo(d,p=>{if(p.used()===!1&&p.required())throw new Error("Placeholder: "+p.name()+` was not found in components list
Namespace: `+t.getOr("none")+`
Components: `+JSON.stringify(s.components,null,2))}),g},ip=ap.single,Kk=ap.multiple,Yk=Z(Gk),nl=G.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),ef=Ee("factory",{sketch:zt}),ev=Ee("schema",[]),Ru=Ke("name"),tv=ua("pname","pname",ro(t=>"<alloy."+Vt(t.name)+">"),ml()),$E=Fo("schema",()=>[Bo("preprocess")]),nv=Ee("defaults",Z({})),ov=Ee("overrides",Z({})),IE=kn([ef,ev,Ru,tv,nv,ov]),FE=kn([ef,ev,Ru,nv,ov]),LE=kn([ef,ev,Ru,tv,nv,ov]),HE=kn([ef,$E,Ru,Ke("unit"),tv,nv,ov]),sv=t=>t.fold(C.some,C.none,C.some,C.some),HS=t=>{const s=a=>a.name;return t.fold(s,s,s,s)},VE=t=>t.fold(zt,zt,zt,zt),rv=(t,s)=>a=>{const i=wc("Converting part type",s,a);return t(i)},Ac=rv(nl.required,IE),tu=rv(nl.external,FE),_l=rv(nl.optional,LE),av=rv(nl.group,HE),Iy=Z("entirety");var hD=Object.freeze({__proto__:null,required:Ac,external:tu,optional:_l,group:av,asNamedPart:sv,name:HS,asCommon:VE,original:Iy});const Fy=(t,s,a,i)=>zs(s.defaults(t,a,i),a,{uid:t.partUids[s.name]},s.overrides(t,a,i)),UE=(t,s,a)=>{const i={},d={};return Qe(a,g=>{g.fold(p=>{i[p.pname]=ip(!0,(k,_,E)=>p.factory.sketch(Fy(k,p,_,E)))},p=>{const k=s.parts[p.name];d[p.name]=Z(p.factory.sketch(Fy(s,p,k[Iy()]),k))},p=>{i[p.pname]=ip(!1,(k,_,E)=>p.factory.sketch(Fy(k,p,_,E)))},p=>{i[p.pname]=Kk(!0,(k,_,E)=>{const z=k[p.name];return we(z,N=>p.factory.sketch(zs(p.defaults(k,N,E),N,p.overrides(k,N))))})})}),{internals:Z(i),externals:Z(d)}},VS=(t,s)=>{const a={};return Qe(s,i=>{sv(i).each(d=>{const g=US(t,d.pname);a[d.name]=p=>{const k=wc("Part: "+d.name+" in "+t,kn(d.schema),p);return{...g,config:p,validated:k}}})}),a},US=(t,s)=>({uiType:Yk(),owner:t,name:s}),jS=(t,s,a)=>({uiType:Yk(),owner:t,name:s,config:a,validated:{}}),jE=t=>te(t,s=>s.fold(C.none,C.some,C.none,C.none).map(a=>sd(a.name,a.schema.concat([Mm(Iy())]))).toArray()),WS=t=>we(t,HS),cv=(t,s,a)=>UE(t,s,a),ZS=(t,s,a)=>gh(C.some(t),s,s.components,a),it=(t,s,a)=>{const i=s.partUids[a];return t.getSystem().getByUid(i).toOptional()},Cl=(t,s,a)=>it(t,s,a).getOrDie("Could not find part: "+a),qS=(t,s,a)=>{const i={},d=s.partUids,g=t.getSystem();return Qe(a,p=>{i[p]=Z(g.getByUid(d[p]))}),i},Xk=(t,s)=>{const a=t.getSystem();return Wn(s.partUids,(i,d)=>Z(a.getByUid(i)))},Ly=t=>ho(t.partUids),lp=(t,s,a)=>{const i={},d=s.partUids,g=t.getSystem();return Qe(a,p=>{i[p]=Z(g.getByUid(d[p]).getOrDie())}),i},Jk=(t,s)=>{const a=WS(s);return Xo(we(a,i=>({key:i,value:t+"-"+i})))},Hy=t=>ua("partUids","partUids",mm(s=>Jk(s.uid,t)),ml());var GS=Object.freeze({__proto__:null,generate:VS,generateOne:jS,schemas:jE,names:WS,substitutes:cv,components:ZS,defaultUids:Jk,defaultUidsSchema:Hy,getAllParts:Xk,getAllPartNames:Ly,getPart:it,getPartOrDie:Cl,getParts:qS,getPartsOrDie:lp});const WE=(t,s)=>(t.length>0?[sd("parts",t)]:[]).concat([Ke("uid"),Ee("dom",{}),Ee("components",[]),Mm("originalSpec"),Ee("debug.sketcher",{})]).concat(s),Qk=(t,s,a,i,d)=>{const g=WE(i,d);return wc(t+" [SpecSchema]",Bc(g.concat(s)),a)},Vy=(t,s,a,i)=>{const d=YS(i),g=Qk(t,s,d,[],[]);return a(g,d)},Qm=(t,s,a,i,d)=>{const g=YS(d),p=jE(a),k=Hy(a),_=Qk(t,s,g,p,[k]),E=cv(t,_,a),z=ZS(t,_,E.internals());return i(_,z,g,E.externals())},KS=t=>to(t,"uid"),YS=t=>KS(t)?t:{...t,uid:py("uid")},ZE=t=>t.uid!==void 0,ew=Bc([Ke("name"),Ke("factory"),Ke("configFields"),Ee("apis",{}),Ee("extraApis",{})]),qE=Bc([Ke("name"),Ke("factory"),Ke("configFields"),Ke("partFields"),Ee("apis",{}),Ee("extraApis",{})]),ol=t=>{const s=wc("Sketcher for "+t.name,ew,t),a=g=>Vy(s.name,s.configFields,s.factory,g),i=Wn(s.apis,Xb),d=Wn(s.extraApis,(g,p)=>Vp(g,p));return{name:s.name,configFields:s.configFields,sketch:a,...i,...d}},Gc=t=>{const s=wc("Sketcher for "+t.name,qE,t),a=p=>Qm(s.name,s.configFields,s.partFields,s.factory,p),i=VS(s.name,s.partFields),d=Wn(s.apis,Xb),g=Wn(s.extraApis,(p,k)=>Vp(p,k));return{name:s.name,partFields:s.partFields,configFields:s.configFields,sketch:a,parts:i,...d,...g}},ph=t=>oc("input")(t)&&rn(t,"type")!=="radio"||oc("textarea")(t);var GE=Object.freeze({__proto__:null,getCurrent:(t,s,a)=>s.find(t)});const tw=[Ke("find")],Ro=fc({fields:tw,name:"composing",apis:GE}),KE=["input","button","textarea","select"],YE=(t,s,a)=>{(s.disabled()?Uy:nw)(t,s)},XS=(t,s)=>s.useNative===!0&&ot(KE,aa(t.element)),bD=t=>bi(t.element,"disabled"),tf=t=>{Pt(t.element,"disabled","disabled")},iv=t=>{P(t.element,"disabled")},XE=t=>rn(t.element,"aria-disabled")==="true",JE=t=>{Pt(t.element,"aria-disabled","true")},JS=t=>{Pt(t.element,"aria-disabled","false")},Uy=(t,s,a)=>{s.disableClass.each(d=>{Fs(t.element,d)}),(XS(t,s)?tf:JE)(t),s.onDisabled(t)},nw=(t,s,a)=>{s.disableClass.each(d=>{yr(t.element,d)}),(XS(t,s)?iv:JS)(t),s.onEnabled(t)},QS=(t,s)=>XS(t,s)?bD(t):XE(t);var hh=Object.freeze({__proto__:null,enable:nw,disable:Uy,isDisabled:QS,onLoad:YE,set:(t,s,a,i)=>{(i?Uy:nw)(t,s)}}),e2=Object.freeze({__proto__:null,exhibit:(t,s)=>Zi({classes:s.disabled()?s.disableClass.toArray():[]}),events:(t,s)=>Is([aC(Gl(),(a,i)=>QS(a,t)),T0(t,s,YE)])}),QE=[hr("disabled",Ae),Ee("useNative",!0),Bo("disableClass"),Eo("onDisabled"),Eo("onEnabled")];const l=fc({fields:QE,name:"disabling",active:e2,apis:hh}),f=(t,s,a,i)=>{const d=gc(t.element,"."+s.highlightClass);Qe(d,g=>{Xt(i,k=>jo(k.element,g))||(yr(g,s.highlightClass),t.getSystem().getByDom(g).each(k=>{s.onDehighlight(t,k),no(k,Ig())}))})},h=(t,s,a)=>f(t,s,a,[]),b=(t,s,a,i)=>{fe(t,s,a,i)&&(yr(i.element,s.highlightClass),s.onDehighlight(t,i),no(i,Ig()))},x=(t,s,a,i)=>{f(t,s,a,[i]),fe(t,s,a,i)||(Fs(i.element,s.highlightClass),s.onHighlight(t,i),no(i,wm()))},O=(t,s,a)=>{Rt(t,s).each(i=>{x(t,s,a,i)})},I=(t,s,a)=>{Et(t,s).each(i=>{x(t,s,a,i)})},j=(t,s,a,i)=>{dt(t,s,a,i).fold(d=>{throw d},d=>{x(t,s,a,d)})},J=(t,s,a,i)=>{const d=ht(t,s);jt(d,i).each(p=>{x(t,s,a,p)})},fe=(t,s,a,i)=>Gi(i.element,s.highlightClass),De=(t,s,a)=>er(t.element,"."+s.highlightClass).bind(i=>t.getSystem().getByDom(i).toOptional()),dt=(t,s,a,i)=>{const d=gc(t.element,"."+s.itemClass);return C.from(d[i]).fold(()=>Vn.error(new Error("No element found with index "+i)),t.getSystem().getByDom)},Rt=(t,s,a)=>er(t.element,"."+s.itemClass).bind(i=>t.getSystem().getByDom(i).toOptional()),Et=(t,s,a)=>{const i=gc(t.element,"."+s.itemClass);return(i.length>0?C.some(i[i.length-1]):C.none()).bind(g=>t.getSystem().getByDom(g).toOptional())},_t=(t,s,a,i)=>{const d=gc(t.element,"."+s.itemClass);return jn(d,p=>Gi(p,s.highlightClass)).bind(p=>{const k=Gg(p,i,0,d.length-1);return t.getSystem().getByDom(d[k]).toOptional()})},Gt=(t,s,a)=>_t(t,s,a,-1),rt=(t,s,a)=>_t(t,s,a,1),ht=(t,s,a)=>{const i=gc(t.element,"."+s.itemClass);return Kr(we(i,d=>t.getSystem().getByDom(d).toOptional()))};var Sn=Object.freeze({__proto__:null,dehighlightAll:h,dehighlight:b,highlight:x,highlightFirst:O,highlightLast:I,highlightAt:j,highlightBy:J,isHighlighted:fe,getHighlighted:De,getFirst:Rt,getLast:Et,getPrevious:Gt,getNext:rt,getCandidates:ht}),An=[Ke("highlightClass"),Ke("itemClass"),Eo("onHighlight"),Eo("onDehighlight")];const an=fc({fields:An,name:"highlighting",apis:Sn}),cr=[8],gs=[9],Fr=[13],Sl=[27],zc=[32],up=[37],dp=[38],us=[39],Ja=[40],di=(t,s,a)=>{const i=xe(t.slice(0,s)),d=xe(t.slice(s+1));return jt(i.concat(d),a)},Mu=(t,s,a)=>{const i=xe(t.slice(0,s));return jt(i,a)},xl=(t,s,a)=>{const i=t.slice(0,s),d=t.slice(s+1);return jt(d.concat(i),a)},yh=(t,s,a)=>{const i=t.slice(s+1);return jt(i,a)},Gn=t=>s=>{const a=s.raw;return ot(t,a.which)},Tl=t=>s=>Te(t,a=>a(s)),Nu=t=>t.raw.shiftKey===!0,nf=t=>t.raw.ctrlKey===!0,Ta=Ne(Nu),$o=(t,s)=>({matches:t,classification:s}),sw=(t,s)=>jt(t,i=>i.matches(s)).map(i=>i.classification),rw=(t,s,a)=>{s.exists(d=>a.exists(g=>jo(g,d)))||hn(t,$g(),{prevFocus:s,newFocus:a})},lv=()=>{const t=a=>li(a.element);return{get:t,set:(a,i)=>{const d=t(a);a.getSystem().triggerFocus(i,a.element);const g=t(a);rw(a,d,g)}}},t2=()=>{const t=a=>an.getHighlighted(a).map(i=>i.element);return{get:t,set:(a,i)=>{const d=t(a);a.getSystem().getByDom(i).fold(ae,p=>{an.highlight(a,p)});const g=t(a);rw(a,d,g)}}};var qf;(function(t){t.OnFocusMode="onFocus",t.OnEnterOrSpaceMode="onEnterOrSpace",t.OnApiMode="onApi"})(qf||(qf={}));const fp=(t,s,a,i,d)=>{const g=()=>t.concat([Ee("focusManager",lv()),Ei("focusInside","onFocus",Rg(E=>ot(["onFocus","onEnterOrSpace","onApi"],E)?Vn.value(E):Vn.error("Invalid value for focusInside"))),ws("handler",_),ws("state",s),ws("sendFocusIn",d)]),p=(E,z,N,H,V)=>{const Y=N(E,z,H,V);return sw(Y,z.event).bind(Q=>Q(E,z,H,V))},_={schema:g,processKey:p,toEvents:(E,z)=>{const N=E.focusInside!==qf.OnFocusMode?C.none():d(E).map(Y=>Xe(cd(),(Q,Se)=>{Y(Q,E,z),Se.stop()})),H=(Y,Q)=>{const Se=Gn(zc.concat(Fr))(Q.event);E.focusInside===qf.OnEnterOrSpaceMode&&Se&&xu(Y,Q)&&d(E).each(re=>{re(Y,E,z),Q.stop()})},V=[Xe(Tu(),(Y,Q)=>{p(Y,Q,a,E,z).fold(()=>{H(Y,Q)},Se=>{Q.stop()})}),Xe(Qh(),(Y,Q)=>{p(Y,Q,i,E,z).each(Se=>{Q.stop()})})];return Is(N.toArray().concat(V))}};return _},bh=t=>{const s=[Bo("onEscape"),Bo("onEnter"),Ee("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),Ee("firstTabstop",0),Ee("useTabstopAt",ze),Bo("visibilitySelector")].concat([t]),a=(re,ye)=>{const ve=re.visibilitySelector.bind(qe=>zu(ye,qe)).getOr(ye);return Cs(ve)>0},i=(re,ye)=>{const ve=gc(re.element,ye.selector),qe=xn(ve,He=>a(ye,He));return C.from(qe[ye.firstTabstop])},d=(re,ye)=>ye.focusManager.get(re).bind(ve=>zu(ve,ye.selector)),g=(re,ye)=>a(re,ye)&&re.useTabstopAt(ye),p=(re,ye,ve)=>{i(re,ye).each(qe=>{ye.focusManager.set(re,qe)})},k=(re,ye,ve,qe,He)=>He(ye,ve,At=>g(qe,At)).fold(()=>qe.cyclic?C.some(!0):C.none(),At=>(qe.focusManager.set(re,At),C.some(!0))),_=(re,ye,ve,qe)=>{const He=gc(re.element,ve.selector);return d(re,ve).bind(At=>jn(He,gn(jo,At)).bind(We=>k(re,He,We,ve,qe)))},E=(re,ye,ve)=>{const qe=ve.cyclic?di:Mu;return _(re,ye,ve,qe)},z=(re,ye,ve)=>{const qe=ve.cyclic?xl:yh;return _(re,ye,ve,qe)},N=re=>Qc(re).bind(cu).exists(ye=>jo(ye,re)),H=(re,ye,ve)=>d(re,ve).filter(qe=>!ve.useTabstopAt(qe)).bind(qe=>(N(qe)?E:z)(re,ye,ve)),V=(re,ye,ve)=>ve.onEnter.bind(qe=>qe(re,ye)),Y=(re,ye,ve)=>ve.onEscape.bind(qe=>qe(re,ye)),Q=Z([$o(Tl([Nu,Gn(gs)]),E),$o(Gn(gs),z),$o(Tl([Ta,Gn(Fr)]),V)]),Se=Z([$o(Gn(Sl),Y),$o(Gn(gs),H)]);return fp(s,qc.init,Q,Se,()=>C.some(p))};var J5=bh(Fo("cyclic",Ae)),Q5=bh(Fo("cyclic",ze));const aw=(t,s,a)=>(sy(t,a,Gl()),C.some(!0)),uv=(t,s,a)=>ph(a)&&Gn(zc)(s.event)?C.none():aw(t,s,a),jy=(t,s)=>C.some(!0),eA=[Ee("execute",uv),Ee("useSpace",!1),Ee("useEnter",!0),Ee("useControlEnter",!1),Ee("useDown",!1)],wD=(t,s,a)=>a.execute(t,s,t.element),_D=(t,s,a,i)=>{const d=a.useSpace&&!ph(t.element)?zc:[],g=a.useEnter?Fr:[],p=a.useDown?Ja:[],k=d.concat(g).concat(p);return[$o(Gn(k),wD)].concat(a.useControlEnter?[$o(Tl([nf,Gn(Fr)]),wD)]:[])},eF=(t,s,a,i)=>a.useSpace&&!ph(t.element)?[$o(Gn(zc),jy)]:[];var CD=fp(eA,qc.init,_D,eF,()=>C.none());const tA=()=>{const t=os();return qi({readState:()=>t.get().map(d=>({numRows:String(d.numRows),numColumns:String(d.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(d,g)=>{t.set({numRows:d,numColumns:g})},getNumRows:()=>t.get().map(d=>d.numRows),getNumColumns:()=>t.get().map(d=>d.numColumns)})};var tF=Object.freeze({__proto__:null,flatgrid:tA,init:t=>t.state(t)});const SD=t=>(s,a,i,d)=>{const g=t(s.element);return cw(g,s,a,i,d)},nA=(t,s)=>{const a=Tc(t,s);return SD(a)},oA=(t,s)=>{const a=Tc(s,t);return SD(a)},sA=t=>(s,a,i,d)=>cw(t,s,a,i,d),cw=(t,s,a,i,d)=>i.focusManager.get(s).bind(p=>t(s.element,p,i,d)).map(p=>(i.focusManager.set(s,p),!0)),n2=sA,xD=sA,rA=sA,TD=t=>t.offsetWidth<=0&&t.offsetHeight<=0,ED=t=>!TD(t.dom),nF=(t,s)=>jn(t,s).map(a=>({index:a,candidates:t})),Pu=(t,s,a)=>{const i=p=>jo(p,s),d=gc(t,a),g=xn(d,ED);return nF(g,i)},AD=(t,s)=>jn(t,a=>jo(s,a)),zD=(t,s,a,i)=>{const d=Math.floor(s/a),g=s%a;return i(d,g).bind(p=>{const k=p.row*a+p.column;return k>=0&&k<t.length?C.some(t[k]):C.none()})},OD=(t,s,a,i,d)=>zD(t,s,i,(g,p)=>{const _=g===a-1?t.length-g*i:i,E=Gg(p,d,0,_-1);return C.some({row:g,column:E})}),DD=(t,s,a,i,d)=>zD(t,s,i,(g,p)=>{const k=Gg(g,d,0,a-1),E=k===a-1?t.length-k*i:i,z=Ji(p,0,E-1);return C.some({row:k,column:z})}),oF=(t,s,a,i)=>OD(t,s,a,i,1),dv=(t,s,a,i)=>OD(t,s,a,i,-1),aA=(t,s,a,i)=>DD(t,s,a,i,-1),sF=(t,s,a,i)=>DD(t,s,a,i,1),cA=[Ke("selector"),Ee("execute",uv),Oi("onEscape"),Ee("captureTab",!1),Kb()],o2=(t,s,a)=>{er(t.element,s.selector).each(i=>{s.focusManager.set(t,i)})},iA=(t,s)=>s.focusManager.get(t).bind(a=>zu(a,s.selector)),rF=(t,s,a,i)=>iA(t,a).bind(d=>a.execute(t,s,d)),s2=t=>(s,a,i,d)=>Pu(s,a,i.selector).bind(g=>t(g.candidates,g.index,d.getNumRows().getOr(i.initSize.numRows),d.getNumColumns().getOr(i.initSize.numColumns))),RD=(t,s,a)=>a.captureTab?C.some(!0):C.none(),aF=(t,s,a)=>a.onEscape(t,s),MD=s2(dv),ND=s2(oF),cF=s2(aA),PD=s2(sF),r2=Z([$o(Gn(up),nA(MD,ND)),$o(Gn(us),oA(MD,ND)),$o(Gn(dp),n2(cF)),$o(Gn(Ja),xD(PD)),$o(Tl([Nu,Gn(gs)]),RD),$o(Tl([Ta,Gn(gs)]),RD),$o(Gn(zc.concat(Fr)),rF)]),iF=Z([$o(Gn(Sl),aF),$o(Gn(zc),jy)]);var lF=fp(cA,tA,r2,iF,()=>C.some(o2));const BD=(t,s,a,i,d)=>{const g=k=>aa(k)==="button"&&rn(k,"disabled")==="disabled",p=(k,_,E)=>d(k,_,i,0,E.length-1,E[_],z=>g(E[z])?p(k,z,E):C.from(E[z]));return Pu(t,a,s).bind(k=>{const _=k.index,E=k.candidates;return p(_,_,E)})},$D=(t,s,a,i)=>BD(t,s,a,i,(d,g,p,k,_,E,z)=>{const N=Ji(g+p,k,_);return N===d?C.from(E):z(N)}),mp=(t,s,a,i)=>BD(t,s,a,i,(d,g,p,k,_,E,z)=>{const N=Gg(g,p,k,_);return N===d?C.none():z(N)}),ID=[Ke("selector"),Ee("getInitial",C.none),Ee("execute",uv),Oi("onEscape"),Ee("executeOnMove",!1),Ee("allowVertical",!0),Ee("allowHorizontal",!0),Ee("cycles",!0)],uF=(t,s)=>s.focusManager.get(t).bind(a=>zu(a,s.selector)),iw=(t,s,a)=>uF(t,a).bind(i=>a.execute(t,s,i)),dF=(t,s,a)=>{s.getInitial(t).orThunk(()=>er(t.element,s.selector)).each(i=>{s.focusManager.set(t,i)})},lA=(t,s,a)=>(a.cycles?mp:$D)(t,a.selector,s,-1),uA=(t,s,a)=>(a.cycles?mp:$D)(t,a.selector,s,1),dA=t=>(s,a,i,d)=>t(s,a,i,d).bind(()=>i.executeOnMove?iw(s,a,i):C.some(!0)),FD=(t,s,a)=>a.onEscape(t,s),LD=(t,s,a,i)=>{const d=[...a.allowHorizontal?up:[]].concat(a.allowVertical?dp:[]),g=[...a.allowHorizontal?us:[]].concat(a.allowVertical?Ja:[]);return[$o(Gn(d),dA(nA(lA,uA))),$o(Gn(g),dA(oA(lA,uA))),$o(Gn(Fr),iw),$o(Gn(zc),iw)]},fF=Z([$o(Gn(zc),jy),$o(Gn(Sl),FD)]);var mF=fp(ID,qc.init,LD,fF,()=>C.some(dF));const a2=(t,s,a)=>C.from(t[s]).bind(i=>C.from(i[a]).map(d=>({rowIndex:s,columnIndex:a,cell:d}))),c2=(t,s,a,i)=>{const g=t[s].length,p=Gg(a,i,0,g-1);return a2(t,s,p)},HD=(t,s,a,i)=>{const d=Gg(a,i,0,t.length-1),g=t[d].length,p=Ji(s,0,g-1);return a2(t,d,p)},lw=(t,s,a,i)=>{const g=t[s].length,p=Ji(a+i,0,g-1);return a2(t,s,p)},VD=(t,s,a,i)=>{const d=Ji(a+i,0,t.length-1),g=t[d].length,p=Ji(s,0,g-1);return a2(t,d,p)},UD=(t,s,a)=>c2(t,s,a,1),sl=(t,s,a)=>c2(t,s,a,-1),gF=(t,s,a)=>HD(t,a,s,-1),jD=(t,s,a)=>HD(t,a,s,1),WD=(t,s,a)=>lw(t,s,a,-1),pF=(t,s,a)=>lw(t,s,a,1),ZD=(t,s,a)=>VD(t,a,s,-1),qD=(t,s,a)=>VD(t,a,s,1),hF=[sd("selectors",[Ke("row"),Ke("cell")]),Ee("cycles",!0),Ee("previousSelector",C.none),Ee("execute",uv)],yF=(t,s,a)=>{s.previousSelector(t).orThunk(()=>{const d=s.selectors;return er(t.element,d.cell)}).each(d=>{s.focusManager.set(t,d)})},bF=(t,s,a)=>li(t.element).bind(i=>a.execute(t,s,i)),vF=(t,s)=>we(t,a=>gc(a,s.selectors.cell)),uw=(t,s)=>(a,i,d)=>{const g=d.cycles?t:s;return zu(i,d.selectors.row).bind(p=>{const k=gc(p,d.selectors.cell);return AD(k,i).bind(_=>{const E=gc(a,d.selectors.row);return AD(E,p).bind(z=>{const N=vF(E,d);return g(N,z,_).map(H=>H.cell)})})})},GD=uw(sl,WD),KD=uw(UD,pF),YD=uw(gF,ZD),XD=uw(jD,qD),JD=Z([$o(Gn(up),nA(GD,KD)),$o(Gn(us),oA(GD,KD)),$o(Gn(dp),n2(YD)),$o(Gn(Ja),xD(XD)),$o(Gn(zc.concat(Fr)),bF)]),kF=Z([$o(Gn(zc),jy)]);var wF=fp(hF,qc.init,JD,kF,()=>C.some(yF));const _F=[Ke("selector"),Ee("execute",uv),Ee("moveOnTab",!1)],QD=(t,s,a)=>a.focusManager.get(t).bind(i=>a.execute(t,s,i)),eR=(t,s,a)=>{er(t.element,s.selector).each(i=>{s.focusManager.set(t,i)})},fA=(t,s,a)=>mp(t,a.selector,s,-1),gp=(t,s,a)=>mp(t,a.selector,s,1),tR=(t,s,a,i)=>a.moveOnTab?rA(fA)(t,s,a,i):C.none(),nR=(t,s,a,i)=>a.moveOnTab?rA(gp)(t,s,a,i):C.none(),oR=Z([$o(Gn(dp),rA(fA)),$o(Gn(Ja),rA(gp)),$o(Tl([Nu,Gn(gs)]),tR),$o(Tl([Ta,Gn(gs)]),nR),$o(Gn(Fr),QD),$o(Gn(zc),QD)]),CF=Z([$o(Gn(zc),jy)]);var fv=fp(_F,qc.init,oR,CF,()=>C.some(eR));const SF=[Oi("onSpace"),Oi("onEnter"),Oi("onShiftEnter"),Oi("onLeft"),Oi("onRight"),Oi("onTab"),Oi("onShiftTab"),Oi("onUp"),Oi("onDown"),Oi("onEscape"),Ee("stopSpaceKeyup",!1),Bo("focusIn")],xF=(t,s,a)=>[$o(Gn(zc),a.onSpace),$o(Tl([Ta,Gn(Fr)]),a.onEnter),$o(Tl([Nu,Gn(Fr)]),a.onShiftEnter),$o(Tl([Nu,Gn(gs)]),a.onShiftTab),$o(Tl([Ta,Gn(gs)]),a.onTab),$o(Gn(dp),a.onUp),$o(Gn(Ja),a.onDown),$o(Gn(up),a.onLeft),$o(Gn(us),a.onRight),$o(Gn(zc),a.onSpace)],sR=(t,s,a)=>[...a.stopSpaceKeyup?[$o(Gn(zc),jy)]:[],$o(Gn(Sl),a.onEscape)];var TF=fp(SF,qc.init,xF,sR,t=>t.focusIn);const EF=J5.schema(),AF=Q5.schema(),rR=mF.schema(),mA=lF.schema(),gA=wF.schema(),zF=CD.schema(),vh=fv.schema(),aR=TF.schema();var cR=Object.freeze({__proto__:null,acyclic:EF,cyclic:AF,flow:rR,flatgrid:mA,matrix:gA,execution:zF,menu:vh,special:aR});const OF=t=>dr(t,"setGridSize"),pn=uC({branchKey:"mode",branches:cR,name:"keying",active:{events:(t,s)=>t.handler.toEvents(t,s)},apis:{focusIn:(t,s,a)=>{s.sendFocusIn(s).fold(()=>{t.getSystem().triggerFocus(t.element,t.element)},i=>{i(t,s,a)})},setGridSize:(t,s,a,i,d)=>{OF(a)?a.setGridSize(i,d):console.error("Layout does not support setGridSize")}},state:tF}),mv=(t,s)=>{Um(()=>{Pk(t,s,()=>we(s,t.getSystem().build))},t.element)},gv=(t,s)=>{Um(()=>{F1(t,s,()=>ci(t.element,s,t.getSystem().buildOrPatch))},t.element)},iR=(t,s,a,i)=>{Oy(s);const d=ek(t.element,a,i,t.getSystem().buildOrPatch);Nk(t,d),t.syncComponents()},dw=(t,s,a)=>{const i=t.getSystem().build(a);DS(t,i,s)},kh=(t,s,a,i)=>{Uf(s),dw(t,(d,g)=>Cg(d,g,a),i)},wh=(t,s,a,i)=>(s.reuseDom?gv:mv)(t,i),DF=(t,s,a,i)=>{dw(t,vc,i)},RF=(t,s,a,i)=>{dw(t,Fl,i)},lR=(t,s,a,i)=>{const d=of(t);jt(d,p=>jo(i.element,p.element)).each(Uf)},of=(t,s)=>t.components(),i2=(t,s,a,i,d)=>{const g=of(t);return C.from(g[i]).map(p=>(d.fold(()=>Uf(p),k=>{(s.reuseDom?iR:kh)(t,p,i,k)}),p))};var uR=Object.freeze({__proto__:null,append:DF,prepend:RF,remove:lR,replaceAt:i2,replaceBy:(t,s,a,i,d)=>{const g=of(t);return jn(g,i).bind(p=>i2(t,s,a,p,d))},set:wh,contents:of});const Nn=fc({fields:[Br("reuseDom",!0)],name:"replacing",apis:uR}),dR=(t,s)=>{const a=Is(s);return fc({fields:[Ke("enabled")],name:t,active:{events:Z(a)}})},Kn=(t,s)=>{const a=dR(t,s);return{key:t,value:{config:{},me:a,configAsRaw:Z({}),initialConfig:{},state:qc}}},pA=(t,s)=>{s.ignore||(bl(t.element),s.onFocus(t))};var MF=Object.freeze({__proto__:null,focus:pA,blur:(t,s)=>{s.ignore||g1(t.element)},isFocused:t=>by(t.element)}),l2=Object.freeze({__proto__:null,exhibit:(t,s)=>{const a=s.ignore?{}:{attributes:{tabindex:"-1"}};return Zi(a)},events:t=>Is([Xe(cd(),(s,a)=>{pA(s,t),a.stop()})].concat(t.stopMousedown?[Xe(Ar(),(s,a)=>{a.event.prevent()})]:[]))}),mR=[Eo("onFocus"),Ee("stopMousedown",!1),Ee("ignore",!1)];const zn=fc({fields:mR,name:"focusing",active:l2,apis:MF}),gR=t=>({init:()=>{const a=tn(t);return{get:()=>a.get(),set:k=>a.set(k),clear:()=>a.set(t),readState:()=>a.get()}}}),pR=(t,s,a)=>{const i=s.aria;i.update(t,i,a.get())},hR=(t,s,a)=>{s.toggleClass.each(i=>{a.get()?Fs(t.element,i):yr(t.element,i)})},pv=(t,s,a,i)=>{const d=a.get();a.set(i),hR(t,s,a),pR(t,s,a),d!==i&&s.onToggled(t,i)},yR=(t,s,a)=>{pv(t,s,a,!a.get())},yA=(t,s,a)=>{pv(t,s,a,!0)},NF=(t,s,a)=>{pv(t,s,a,!1)},PF=(t,s,a)=>a.get(),bR=(t,s,a)=>{pv(t,s,a,s.selected)};var BF=Object.freeze({__proto__:null,onLoad:bR,toggle:yR,isOn:PF,on:yA,off:NF,set:pv}),IF=Object.freeze({__proto__:null,exhibit:()=>Zi({}),events:(t,s)=>{const a=cy(t,s,yR),i=T0(t,s,bR);return Is(Qt([t.toggleOnExecute?[a]:[],[i]]))}});const vR=(t,s,a)=>{Pt(t.element,"aria-pressed",a),s.syncWithExpanded&&hv(t,s,a)},fw=(t,s,a)=>{Pt(t.element,"aria-selected",a)},FF=(t,s,a)=>{Pt(t.element,"aria-checked",a)},hv=(t,s,a)=>{Pt(t.element,"aria-expanded",a)};var bA=[Ee("selected",!1),Bo("toggleClass"),Ee("toggleOnExecute",!0),Eo("onToggled"),Ei("aria",{mode:"none"},wa("mode",{pressed:[Ee("syncWithExpanded",!1),ws("update",vR)],checked:[ws("update",FF)],expanded:[ws("update",hv)],selected:[ws("update",fw)],none:[ws("update",ae)]}))];const ao=fc({fields:bA,name:"toggling",active:IF,apis:BF,state:gR(!1)}),vA=()=>{const t=(s,a)=>{a.stop(),_m(s)};return[Xe(Pg(),t),Xe(id(),t),ud(Zl()),ud(Ar())]},u2=t=>{const s=a=>Eu((i,d)=>{a(i),d.stop()});return Is(Qt([t.map(s).toArray(),vA()]))},kR="alloy.item-hover",kA="alloy.item-focus",wR="alloy.item-toggled",wA=t=>{(li(t.element).isNone()||zn.isFocused(t))&&(zn.isFocused(t)||zn.focus(t),hn(t,kR,{item:t}))},_R=t=>{hn(t,kA,{item:t})},LF=(t,s)=>{hn(t,wR,{item:t,state:s})},_A=Z(kR),d2=Z(kA),CA=Z(wR),SA=t=>t.role.fold(()=>t.toggling.map(s=>s.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),zt),HF=(t,s)=>({aria:{mode:s?"selected":"checked"},...Vo(t,(a,i)=>i!=="exclusive"),onToggled:(a,i)=>{xt(t.onToggled)&&t.onToggled(a,i),LF(a,i)}}),VF=t=>({dom:t.dom,domModification:{...t.domModification,attributes:{role:SA(t),...t.domModification.attributes,"aria-haspopup":t.hasSubmenu,...t.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:eu.augment(t.itemBehaviours,[t.toggling.fold(ao.revoke,s=>ao.config(HF(s,t.role.exists(a=>a==="option")))),zn.config({ignore:t.ignoreFocus,stopMousedown:t.ignoreFocus,onFocus:s=>{_R(s)}}),pn.config({mode:"execution"}),It.config({store:{mode:"memory",initialValue:t.data}}),Kn("item-type-events",[...vA(),Xe(Wi(),wA),Xe(ey(),zn.focus)])]),components:t.components,eventOrder:t.eventOrder}),UF=[Ke("data"),Ke("components"),Ke("dom"),Ee("hasSubmenu",!1),Bo("toggling"),Bo("role"),eu.field("itemBehaviours",[ao,zn,pn,It]),Ee("ignoreFocus",!1),Ee("domModification",{}),ws("builder",VF),Ee("eventOrder",{})],jF=t=>({dom:t.dom,components:t.components,events:Is([C0(ey())])}),CR=[Ke("dom"),Ke("components"),ws("builder",jF)],f2=Z("item-widget"),xA=Z([Ac({name:"widget",overrides:t=>({behaviours:gt([It.config({store:{mode:"manual",getValue:s=>t.data,setValue:ae}})])})})]),WF=t=>{const s=cv(f2(),t,xA()),a=ZS(f2(),t,s.internals()),i=g=>it(g,t,"widget").map(p=>(pn.focusIn(p),p)),d=(g,p)=>ph(p.event.target)?C.none():(()=>(t.autofocus&&p.setSource(g.element),C.none()))();return{dom:t.dom,components:a,domModification:t.domModification,events:Is([Eu((g,p)=>{i(g).each(k=>{p.stop()})}),Xe(Wi(),wA),Xe(ey(),(g,p)=>{t.autofocus?i(g):zn.focus(g)})]),behaviours:eu.augment(t.widgetBehaviours,[It.config({store:{mode:"memory",initialValue:t.data}}),zn.config({ignore:t.ignoreFocus,onFocus:g=>{_R(g)}}),pn.config({mode:"special",focusIn:t.autofocus?g=>{i(g)}:Gs(),onLeft:d,onRight:d,onEscape:(g,p)=>!zn.isFocused(g)&&!t.autofocus?(zn.focus(g),C.some(!0)):(t.autofocus&&p.setSource(g.element),C.none())})])}},ZF=[Ke("uid"),Ke("data"),Ke("components"),Ke("dom"),Ee("autofocus",!1),Ee("ignoreFocus",!1),eu.field("widgetBehaviours",[It,zn,pn]),Ee("domModification",{}),Hy(xA()),ws("builder",WF)],qF=wa("type",{widget:ZF,item:UF,separator:CR}),GF=(t,s)=>({mode:"flatgrid",selector:"."+t.markers.item,initSize:{numColumns:s.initSize.numColumns,numRows:s.initSize.numRows},focusManager:t.focusManager}),KF=(t,s)=>({mode:"matrix",selectors:{row:s.rowSelector,cell:"."+t.markers.item},previousSelector:s.previousSelector,focusManager:t.focusManager}),SR=(t,s)=>({mode:"menu",selector:"."+t.markers.item,moveOnTab:s.moveOnTab,focusManager:t.focusManager}),YF=Z([av({factory:{sketch:t=>{const s=wc("menu.spec item",qF,t);return s.builder(s)}},name:"items",unit:"item",defaults:(t,s)=>to(s,"uid")?s:{...s,uid:py("item")},overrides:(t,s)=>({type:s.type,ignoreFocus:t.fakeFocus,domModification:{classes:[t.markers.item]}})})]),XF=Z([da("role"),Ke("value"),Ke("items"),Ke("dom"),Ke("components"),Ee("eventOrder",{}),Ya("menuBehaviours",[an,It,Ro,pn]),Ei("movement",{mode:"menu",moveOnTab:!0},wa("mode",{grid:[Kb(),ws("config",GF)],matrix:[ws("config",KF),Ke("rowSelector"),Ee("previousSelector",C.none)],menu:[Ee("moveOnTab",!0),ws("config",SR)]})),j0(),Ee("fakeFocus",!1),Ee("focusManager",lv()),Eo("onHighlight"),Eo("onDehighlight"),Ee("showMenuRole",!0)]),xR=Z("alloy.menu-focus"),JF=(t,s)=>{const a=gc(t.element,'[role="menuitemradio"][aria-checked="true"]');Qe(a,i=>{jo(i,s.element)||t.getSystem().getByDom(i).each(d=>{ao.off(d)})})},QF=(t,s,a,i)=>({uid:t.uid,dom:t.dom,markers:t.markers,behaviours:Xa(t.menuBehaviours,[an.config({highlightClass:t.markers.selectedItem,itemClass:t.markers.item,onHighlight:t.onHighlight,onDehighlight:t.onDehighlight}),It.config({store:{mode:"memory",initialValue:t.value}}),Ro.config({find:C.some}),pn.config(t.movement.config(t,t.movement))]),events:Is([Xe(d2(),(d,g)=>{const p=g.event;d.getSystem().getByDom(p.target).each(k=>{an.highlight(d,k),g.stop(),hn(d,xR(),{menu:d,item:k})})}),Xe(_A(),(d,g)=>{const p=g.event.item;an.highlight(d,p)}),Xe(CA(),(d,g)=>{const{item:p,state:k}=g.event;k&&rn(p.element,"role")==="menuitemradio"&&JF(d,p)})]),components:s,eventOrder:t.eventOrder,...t.showMenuRole?{domModification:{attributes:{role:t.role.getOr("menu")}}}:{}}),hd=Gc({name:"Menu",configFields:XF(),partFields:YF(),factory:QF}),eL=t=>Ko(t,(s,a)=>({k:s,v:a})),TR=(t,s,a,i)=>mt(a,i).bind(d=>mt(t,d).bind(g=>{const p=TR(t,s,a,g);return C.some([g].concat(p))})).getOr([]),Wy=(t,s)=>{const a={};eo(t,(p,k)=>{Qe(p,_=>{a[_]=k})});const i=s,d=eL(s),g=Wn(d,(p,k)=>[k].concat(TR(a,i,d,k)));return Wn(a,p=>mt(g,p).getOr([p]))},ER=()=>{const t=tn({}),s=tn({}),a=tn({}),i=os(),d=tn({}),g=()=>{t.set({}),s.set({}),a.set({}),i.clear()},p=()=>i.get().isNone(),k=(He,At)=>{s.set({...s.get(),[He]:{type:"prepared",menu:At}})},_=(He,At,Ft,We)=>{i.set(He),t.set(Ft),s.set(At),d.set(We);const qt=Wy(We,Ft);a.set(qt)},E=He=>oo(t.get(),(At,Ft)=>At===He),z=(He,At,Ft)=>Q(He).bind(We=>E(He).bind(qt=>At(qt).map(Tt=>({triggeredMenu:We,triggeringItem:Tt,triggeringPath:Ft})))),N=(He,At)=>{const Ft=xn(re(He).toArray(),We=>Q(We).isSome());return mt(a.get(),He).bind(We=>{const qt=xe(Ft.concat(We)),Tt=te(qt,(Jt,yo)=>z(Jt,At,qt.slice(0,yo+1)).fold(()=>mr(i.get(),Jt)?[]:[C.none()],Us=>[C.some(Us)]));return Io(Tt)})},H=He=>mt(t.get(),He).map(At=>{const Ft=mt(a.get(),He).getOr([]);return[At].concat(Ft)}),V=He=>mt(a.get(),He).bind(At=>At.length>1?C.some(At.slice(1)):C.none()),Y=He=>mt(a.get(),He),Q=He=>Se(He).bind(AR),Se=He=>mt(s.get(),He),re=He=>mt(t.get(),He);return{setMenuBuilt:k,setContents:_,expand:H,refresh:Y,collapse:V,lookupMenu:Se,lookupItem:re,otherMenus:He=>{const At=d.get();return be(ho(At),He)},getPrimary:()=>i.get().bind(Q),getMenus:()=>s.get(),clear:g,isClear:p,getTriggeringPath:N}},AR=t=>t.type==="prepared"?C.some(t.menu):C.none(),pp={init:ER,extractPreparedMenu:AR},zR=Vt("tiered-menu-item-highlight"),OR=Vt("tiered-menu-item-dehighlight");var Zr;(function(t){t[t.HighlightMenuAndItem=0]="HighlightMenuAndItem",t[t.HighlightJustMenu=1]="HighlightJustMenu",t[t.HighlightNone=2]="HighlightNone"})(Zr||(Zr={}));const DR=(t,s)=>{const a=os(),i=(at,Dt,On)=>Wn(On,(Cn,mn)=>{const Hn=()=>hd.sketch({...Cn,value:mn,markers:t.markers,fakeFocus:t.fakeFocus,onHighlight:(Es,es)=>{hn(Es,zR,{menuComp:Es,itemComp:es})},onDehighlight:(Es,es)=>{hn(Es,OR,{menuComp:Es,itemComp:es})},focusManager:t.fakeFocus?t2():lv()});return mn===Dt?{type:"prepared",menu:at.getSystem().build(Hn())}:{type:"notbuilt",nbMenu:Hn}}),d=pp.init(),g=at=>{const Dt=i(at,t.data.primary,t.data.menus),On=_();return d.setContents(t.data.primary,Dt,t.data.expansions,On),d.getPrimary()},p=at=>It.getValue(at).value,k=(at,Dt,On)=>zo(Dt,Cn=>{if(!Cn.getSystem().isConnected())return C.none();const mn=an.getCandidates(Cn);return jt(mn,Hn=>p(Hn)===On)}),_=at=>Wn(t.data.menus,(Dt,On)=>te(Dt.items,Cn=>Cn.type==="separator"?[]:[Cn.data.value])),E=an.highlight,z=(at,Dt)=>{E(at,Dt),an.getHighlighted(Dt).orThunk(()=>an.getFirst(Dt)).each(On=>{t.fakeFocus?an.highlight(Dt,On):sy(at,On.element,ey())})},N=(at,Dt)=>Kr(we(Dt,On=>at.lookupMenu(On).bind(Cn=>Cn.type==="prepared"?C.some(Cn.menu):C.none()))),H=(at,Dt,On)=>{const Cn=N(Dt,Dt.otherMenus(On));Qe(Cn,mn=>{Ki(mn.element,[t.markers.backgroundMenu]),t.stayInDom||Nn.remove(at,mn)})},V=at=>a.get().getOrThunk(()=>{const Dt={},On=gc(at.element,`.${t.markers.item}`),Cn=xn(On,mn=>rn(mn,"aria-haspopup")==="true");return Qe(Cn,mn=>{at.getSystem().getByDom(mn).each(Hn=>{const Es=p(Hn);Dt[Es]=Hn})}),a.set(Dt),Dt}),Y=(at,Dt)=>{const On=V(at);eo(On,(Cn,mn)=>{const Hn=ot(Dt,mn);Pt(Cn.element,"aria-expanded",Hn)})},Q=(at,Dt,On)=>C.from(On[0]).bind(Cn=>Dt.lookupMenu(Cn).bind(mn=>{if(mn.type==="notbuilt")return C.none();{const Hn=mn.menu,Es=N(Dt,On.slice(1));return Qe(Es,es=>{Fs(es.element,t.markers.backgroundMenu)}),Ht(Hn.element)||Nn.append(at,yl(Hn)),Ki(Hn.element,[t.markers.backgroundMenu]),z(at,Hn),H(at,Dt,On),C.some(Hn)}}));let Se;(function(at){at[at.HighlightSubmenu=0]="HighlightSubmenu",at[at.HighlightParent=1]="HighlightParent"})(Se||(Se={}));const re=(at,Dt,On)=>{if(On.type==="notbuilt"){const Cn=at.getSystem().build(On.nbMenu());return d.setMenuBuilt(Dt,Cn),Cn}else return On.menu},ye=(at,Dt,On=Se.HighlightSubmenu)=>{if(Dt.hasConfigured(l)&&l.isDisabled(Dt))return C.some(Dt);{const Cn=p(Dt);return d.expand(Cn).bind(mn=>(Y(at,mn),C.from(mn[0]).bind(Hn=>d.lookupMenu(Hn).bind(Es=>{const es=re(at,Hn,Es);return Ht(es.element)||Nn.append(at,yl(es)),t.onOpenSubmenu(at,Dt,es,xe(mn)),On===Se.HighlightSubmenu?(an.highlightFirst(es),Q(at,d,mn)):(an.dehighlightAll(es),C.some(Dt))}))))}},ve=(at,Dt)=>{const On=p(Dt);return d.collapse(On).bind(Cn=>(Y(at,Cn),Q(at,d,Cn).map(mn=>(t.onCollapseMenu(at,Dt,mn),mn))))},qe=(at,Dt)=>{const On=p(Dt);return d.refresh(On).bind(Cn=>(Y(at,Cn),Q(at,d,Cn)))},He=(at,Dt)=>ph(Dt.element)?C.none():ye(at,Dt,Se.HighlightSubmenu),At=(at,Dt)=>ph(Dt.element)?C.none():ve(at,Dt),Ft=(at,Dt)=>ve(at,Dt).orThunk(()=>t.onEscape(at,Dt).map(()=>at)),We=at=>(Dt,On)=>zu(On.getSource(),`.${t.markers.item}`).bind(Cn=>Dt.getSystem().getByDom(Cn).toOptional().bind(mn=>at(Dt,mn).map(ze))),qt=Is([Xe(xR(),(at,Dt)=>{const On=Dt.event.item;d.lookupItem(p(On)).each(()=>{const Cn=Dt.event.menu;an.highlight(at,Cn);const mn=p(Dt.event.item);d.refresh(mn).each(Hn=>H(at,d,Hn))})}),Eu((at,Dt)=>{const On=Dt.event.target;at.getSystem().getByDom(On).each(Cn=>{p(Cn).indexOf("collapse-item")===0&&ve(at,Cn),ye(at,Cn,Se.HighlightSubmenu).fold(()=>{t.onExecute(at,Cn)},ae)})}),qs((at,Dt)=>{g(at).each(On=>{Nn.append(at,yl(On)),t.onOpenMenu(at,On),t.highlightOnOpen===Zr.HighlightMenuAndItem?z(at,On):t.highlightOnOpen===Zr.HighlightJustMenu&&E(at,On)})}),Xe(zR,(at,Dt)=>{t.onHighlightItem(at,Dt.event.menuComp,Dt.event.itemComp)}),Xe(OR,(at,Dt)=>{t.onDehighlightItem(at,Dt.event.menuComp,Dt.event.itemComp)}),...t.navigateOnHover?[Xe(_A(),(at,Dt)=>{const On=Dt.event.item;qe(at,On),ye(at,On,Se.HighlightParent),t.onHover(at,On)})]:[]]),Tt=at=>an.getHighlighted(at).bind(an.getHighlighted),Jt=at=>{Tt(at).each(Dt=>{ve(at,Dt)})},yo=at=>{d.getPrimary().each(Dt=>{z(at,Dt)})},Us=at=>C.from(at.components()[0]).filter(Dt=>rn(Dt.element,"role")==="menu"),Kt={collapseMenu:Jt,highlightPrimary:yo,repositionMenus:at=>{d.getPrimary().bind(On=>Tt(at).bind(Cn=>{const mn=p(Cn),Hn=Da(d.getMenus()),Es=Kr(we(Hn,pp.extractPreparedMenu));return d.getTriggeringPath(mn,es=>k(at,Es,es))}).map(Cn=>({primary:On,triggeringPath:Cn}))).fold(()=>{Us(at).each(On=>{t.onRepositionMenu(at,On,[])})},({primary:On,triggeringPath:Cn})=>{t.onRepositionMenu(at,On,Cn)})}};return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:Xa(t.tmenuBehaviours,[pn.config({mode:"special",onRight:We(He),onLeft:We(At),onEscape:We(Ft),focusIn:(at,Dt)=>{d.getPrimary().each(On=>{sy(at,On.element,ey())})}}),an.config({highlightClass:t.markers.selectedMenu,itemClass:t.markers.menu}),Ro.config({find:at=>an.getHighlighted(at)}),Nn.config({})]),eventOrder:t.eventOrder,apis:Kt,events:qt}},RR=Z("collapse-item"),MR=(t,s,a)=>({primary:t,menus:s,expansions:a}),tL=(t,s)=>({primary:t,menus:Yn(t,s),expansions:{}}),m2=t=>({value:Vt(RR()),meta:{text:t}}),_h=ol({name:"TieredMenu",configFields:[Gb("onExecute"),Gb("onEscape"),Kd("onOpenMenu"),Kd("onOpenSubmenu"),Eo("onRepositionMenu"),Eo("onCollapseMenu"),Ee("highlightOnOpen",Zr.HighlightMenuAndItem),sd("data",[Ke("primary"),Ke("menus"),Ke("expansions")]),Ee("fakeFocus",!1),Eo("onHighlightItem"),Eo("onDehighlightItem"),Eo("onHover"),Kp(),Ke("dom"),Ee("navigateOnHover",!0),Ee("stayInDom",!1),Ya("tmenuBehaviours",[pn,an,Ro,Nn]),Ee("eventOrder",{})],apis:{collapseMenu:(t,s)=>{t.collapseMenu(s)},highlightPrimary:(t,s)=>{t.highlightPrimary(s)},repositionMenus:(t,s)=>{t.repositionMenus(s)}},factory:DR,extraApis:{tieredData:MR,singleData:tL,collapseItem:m2}}),nL=(t,s,a,i,d)=>{const g=()=>t.lazySink(s),p=i.type==="horizontal"?{layouts:{onLtr:()=>Vm(),onRtl:()=>m1()}}:{},k=E=>E.length===2,_=E=>k(E)?p:{};return _h.sketch({dom:{tag:"div"},data:i.data,markers:i.menu.markers,highlightOnOpen:i.menu.highlightOnOpen,fakeFocus:i.menu.fakeFocus,onEscape:()=>(Do.close(s),t.onEscape.map(E=>E(s)),C.some(!0)),onExecute:()=>C.some(!0),onOpenMenu:(E,z)=>{Hc.positionWithinBounds(g().getOrDie(),z,a,d())},onOpenSubmenu:(E,z,N,H)=>{const V=g().getOrDie();Hc.position(V,N,{anchor:{type:"submenu",item:z,..._(H)}})},onRepositionMenu:(E,z,N)=>{const H=g().getOrDie();Hc.positionWithinBounds(H,z,a,d()),Qe(N,V=>{const Y=_(V.triggeringPath);Hc.position(H,V.triggeredMenu,{anchor:{type:"submenu",item:V.triggeringItem,...Y}})})}})},oL=(t,s)=>{const a=(H,V)=>t.getRelated(H).exists(Q=>Yg(Q,V)),i=(H,V)=>{Do.setContent(H,V)},d=(H,V,Y)=>{const Q=C.none;g(H,V,Y,Q)},g=(H,V,Y,Q)=>{const Se=t.lazySink(H).getOrDie();Do.openWhileCloaked(H,V,()=>Hc.positionWithinBounds(Se,H,Y,Q())),It.setValue(H,C.some({mode:"position",config:Y,getBounds:Q}))},p=(H,V,Y)=>{k(H,V,Y,C.none)},k=(H,V,Y,Q)=>{const Se=nL(t,H,V,Y,Q);Do.open(H,Se),It.setValue(H,C.some({mode:"menu",menu:Se}))},_=H=>{Do.isOpen(H)&&(It.setValue(H,C.none()),Do.close(H))},E=H=>Do.getState(H),z=H=>{Do.isOpen(H)&&It.getValue(H).each(V=>{switch(V.mode){case"menu":Do.getState(H).each(_h.repositionMenus);break;case"position":const Y=t.lazySink(H).getOrDie();Hc.positionWithinBounds(Y,H,V.config,V.getBounds());break}})},N={setContent:i,showAt:d,showWithinBounds:g,showMenuAt:p,showMenuWithinBounds:k,hide:_,getContent:E,reposition:z,isOpen:Do.isOpen};return{uid:t.uid,dom:t.dom,behaviours:Xa(t.inlineBehaviours,[Do.config({isPartOf:(H,V,Y)=>Yg(V,Y)||a(H,Y),getAttachPoint:H=>t.lazySink(H).getOrDie(),onOpen:H=>{t.onShow(H)},onClose:H=>{t.onHide(H)}}),It.config({store:{mode:"memory",initialValue:C.none()}}),Di.config({channels:{...Jm({isExtraPart:s.isExtraPart,...t.fireDismissalEventInstead.map(H=>({fireEventInstead:{event:H.event}})).getOr({})}),...Hk({...t.fireRepositionEventInstead.map(H=>({fireEventInstead:{event:H.event}})).getOr({}),doReposition:z})}})]),eventOrder:t.eventOrder,apis:N}},tr=ol({name:"InlineView",configFields:[Ke("lazySink"),Eo("onShow"),Eo("onHide"),Cu("onEscape"),Ya("inlineBehaviours",[Do,It,Di]),Ps("fireDismissalEventInstead",[Ee("event",km())]),Ps("fireRepositionEventInstead",[Ee("event",y0())]),Ee("getRelated",C.none),Ee("isExtraPart",Ae),Ee("eventOrder",C.none)],factory:oL,apis:{showAt:(t,s,a,i)=>{t.showAt(s,a,i)},showWithinBounds:(t,s,a,i,d)=>{t.showWithinBounds(s,a,i,d)},showMenuAt:(t,s,a,i)=>{t.showMenuAt(s,a,i)},showMenuWithinBounds:(t,s,a,i,d)=>{t.showMenuWithinBounds(s,a,i,d)},hide:(t,s)=>{t.hide(s)},isOpen:(t,s)=>t.isOpen(s),getContent:(t,s)=>t.getContent(s),setContent:(t,s,a)=>{t.setContent(s,a)},reposition:(t,s)=>{t.reposition(s)}}});var yv=tinymce.util.Tools.resolve("tinymce.util.Delay"),Zy=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),NR=tinymce.util.Tools.resolve("tinymce.EditorManager"),qy=tinymce.util.Tools.resolve("tinymce.Env"),yd;(function(t){t.default="wrap",t.floating="floating",t.sliding="sliding",t.scrolling="scrolling"})(yd||(yd={}));var Gy;(function(t){t.auto="auto",t.top="top",t.bottom="bottom"})(Gy||(Gy={}));const Rs=t=>s=>s.options.get(t),mw=t=>s=>C.from(t(s)),PR=t=>{const s=qy.deviceType.isPhone(),a=qy.deviceType.isTablet()||s,i=t.options.register,d=p=>on(p)||p===!1,g=p=>on(p)||No(p);i("skin",{processor:p=>on(p)||p===!1,default:"oxide"}),i("skin_url",{processor:"string"}),i("height",{processor:g,default:Math.max(t.getElement().offsetHeight,400)}),i("width",{processor:g,default:Zy.DOM.getStyle(t.getElement(),"width")}),i("min_height",{processor:"number",default:100}),i("min_width",{processor:"number"}),i("max_height",{processor:"number"}),i("max_width",{processor:"number"}),i("style_formats",{processor:"object[]"}),i("style_formats_merge",{processor:"boolean",default:!1}),i("style_formats_autohide",{processor:"boolean",default:!1}),i("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),i("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),i("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),i("font_size_input_default_unit",{processor:"string",default:"pt"}),i("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),i("content_langs",{processor:"object[]"}),i("removed_menuitems",{processor:"string",default:""}),i("menubar",{processor:p=>on(p)||as(p),default:!s}),i("menu",{processor:"object",default:{}}),i("toolbar",{processor:p=>as(p)||on(p)||uo(p)?{value:p,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),vt(9,p=>{i("toolbar"+(p+1),{processor:"string"})}),i("toolbar_mode",{processor:"string",default:a?"scrolling":"floating"}),i("toolbar_groups",{processor:"object",default:{}}),i("toolbar_location",{processor:"string",default:Gy.auto}),i("toolbar_persist",{processor:"boolean",default:!1}),i("toolbar_sticky",{processor:"boolean",default:t.inline}),i("toolbar_sticky_offset",{processor:"number",default:0}),i("fixed_toolbar_container",{processor:"string",default:""}),i("fixed_toolbar_container_target",{processor:"object"}),i("ui_mode",{processor:"string",default:"combined"}),i("file_picker_callback",{processor:"function"}),i("file_picker_validator_handler",{processor:"function"}),i("file_picker_types",{processor:"string"}),i("typeahead_urls",{processor:"boolean",default:!0}),i("anchor_top",{processor:d,default:"#top"}),i("anchor_bottom",{processor:d,default:"#bottom"}),i("draggable_modal",{processor:"boolean",default:!1}),i("statusbar",{processor:"boolean",default:!0}),i("elementpath",{processor:"boolean",default:!0}),i("branding",{processor:"boolean",default:!0}),i("promotion",{processor:"boolean",default:!0}),i("resize",{processor:p=>p==="both"||as(p),default:!qy.deviceType.isTouch()}),i("sidebar_show",{processor:"string"}),i("help_accessibility",{processor:"boolean",default:t.hasPlugin("help")}),i("default_font_stack",{processor:"string[]",default:[]})},BR=Rs("readonly"),gw=Rs("height"),TA=Rs("width"),Ky=mw(Rs("min_width")),bv=mw(Rs("min_height")),pw=mw(Rs("max_width")),g2=mw(Rs("max_height")),$R=mw(Rs("style_formats")),IR=Rs("style_formats_merge"),FR=Rs("style_formats_autohide"),LR=Rs("content_langs"),p2=Rs("removed_menuitems"),Yy=Rs("toolbar_mode"),EA=Rs("toolbar_groups"),hw=Rs("toolbar_location"),sL=Rs("fixed_toolbar_container"),HR=Rs("fixed_toolbar_container_target"),VR=Rs("toolbar_persist"),UR=Rs("toolbar_sticky_offset"),jR=Rs("menubar"),yw=Rs("toolbar"),WR=Rs("file_picker_callback"),ZR=Rs("file_picker_validator_handler"),h2=Rs("font_size_input_default_unit"),AA=Rs("file_picker_types"),zA=Rs("typeahead_urls"),qR=Rs("anchor_top"),y2=Rs("anchor_bottom"),GR=Rs("draggable_modal"),KR=Rs("statusbar"),YR=Rs("elementpath"),OA=Rs("branding"),XR=Rs("resize"),DA=Rs("paste_as_text"),b2=Rs("sidebar_show"),JR=Rs("promotion"),bw=Rs("help_accessibility"),QR=Rs("default_font_stack"),RA=t=>t.options.get("skin")===!1,v2=t=>t.options.get("menubar")!==!1,MA=t=>{const s=t.options.get("skin_url");if(RA(t))return s;if(s)return t.documentBaseURI.toAbsolute(s);{const a=t.options.get("skin");return NR.baseURL+"/skins/ui/"+a}},k2=t=>C.from(t.options.get("skin_url")),eM=t=>t.options.get("line_height_formats").split(" "),vw=t=>{const s=yw(t),a=on(s),i=uo(s)&&s.length>0;return!kw(t)&&(i||a||s===!0)},NA=t=>{const s=vt(9,i=>t.options.get("toolbar"+(i+1))),a=xn(s,on);return fn(a.length>0,a)},kw=t=>NA(t).fold(()=>{const s=yw(t);return en(s,on)&&s.length>0},ze),ww=t=>hw(t)===Gy.bottom,Ch=t=>{var s;if(!t.inline)return C.none();const a=(s=sL(t))!==null&&s!==void 0?s:"";if(a.length>0)return er(so(),a);const i=HR(t);return fo(i)?C.some(ge.fromDom(i)):C.none()},vv=t=>t.inline&&Ch(t).isSome(),PA=t=>Ch(t).getOrThunk(()=>yc(_r(ge.fromDom(t.getElement())))),_w=t=>t.inline&&!v2(t)&&!vw(t)&&!kw(t),Xy=t=>(t.options.get("toolbar_sticky")||t.inline)&&!vv(t)&&!_w(t),Sh=t=>!vv(t)&&t.options.get("ui_mode")==="split",tM=t=>{const s=t.options.get("menu");return Wn(s,a=>({...a,items:a.items}))};var nM=Object.freeze({__proto__:null,get ToolbarMode(){return yd},get ToolbarLocation(){return Gy},register:PR,getSkinUrl:MA,getSkinUrlOption:k2,isReadOnly:BR,isSkinDisabled:RA,getHeightOption:gw,getWidthOption:TA,getMinWidthOption:Ky,getMinHeightOption:bv,getMaxWidthOption:pw,getMaxHeightOption:g2,getUserStyleFormats:$R,shouldMergeStyleFormats:IR,shouldAutoHideStyleFormats:FR,getLineHeightFormats:eM,getContentLanguages:LR,getRemovedMenuItems:p2,isMenubarEnabled:v2,isMultipleToolbars:kw,isToolbarEnabled:vw,isToolbarPersist:VR,getMultipleToolbarsOption:NA,getUiContainer:PA,useFixedContainer:vv,isSplitUiMode:Sh,getToolbarMode:Yy,isDraggableModal:GR,isDistractionFree:_w,isStickyToolbar:Xy,getStickyToolbarOffset:UR,getToolbarLocation:hw,isToolbarLocationBottom:ww,getToolbarGroups:EA,getMenus:tM,getMenubar:jR,getToolbar:yw,getFilePickerCallback:WR,getFilePickerTypes:AA,useTypeaheadUrls:zA,getAnchorTop:qR,getAnchorBottom:y2,getFilePickerValidatorHandler:ZR,getFontSizeInputDefaultUnit:h2,useStatusBar:KR,useElementPath:YR,promotionEnabled:JR,useBranding:OA,getResize:XR,getPasteAsText:DA,getSidebarShow:b2,useHelpAccessibility:bw,getDefaultFontStack:QR});const rL=["visible","hidden","clip"],BA=t=>Or(t).length>0&&!ot(rL,t),$A=t=>{if(Rc(t)){const s=ls(t,"overflow-x"),a=ls(t,"overflow-y");return BA(s)||BA(a)}else return!1},IA=t=>t.plugins.fullscreen&&t.plugins.fullscreen.isFullscreen(),aL=(t,s)=>{const a=ch(s,$A),i=a.length===0?se(s).map(Ce).map(d=>ch(d,$A)).getOr([]):a;return po(i).map(d=>({element:d,others:i.slice(1),isFullscreen:()=>IA(t)}))},hp=(t,s)=>Sh(t)?aL(t,s):C.none(),Jy=t=>{const s=[...we(t.others,Js),jr()];return t.isFullscreen()?jr():Tg(Js(t.element),s)},Vc=ol({name:"Button",factory:t=>{const s=u2(t.action),a=t.dom.tag,i=g=>mt(t.dom,"attributes").bind(p=>mt(p,g)),d=()=>{if(a==="button"){const g=i("type").getOr("button"),p=i("role").map(k=>({role:k})).getOr({});return{type:g,...p}}else return{role:t.role.getOr(i("role").getOr("button"))}};return{uid:t.uid,dom:t.dom,components:t.components,events:s,behaviours:eu.augment(t.buttonBehaviours,[zn.config({}),pn.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:d()},eventOrder:t.eventOrder}},configFields:[Ee("uid",void 0),Ke("dom"),Ee("components",[]),eu.field("buttonBehaviours",[zn,pn]),Bo("action"),Bo("role"),Ee("eventOrder",{})]}),cL=t=>{const s=t.dom.attributes!==void 0?t.dom.attributes:[];return Co(s,(a,i)=>i.name==="class"?a:{...a,[i.name]:i.value},{})},FA=t=>Array.prototype.slice.call(t.dom.classList,0),Gf=t=>{const s=ge.fromHtml(t),a=sc(s),i=cL(s),d=FA(s),g=a.length===0?{}:{innerHtml:Au(s)};return{tag:aa(s),classes:d,attributes:i,...g}},Qo=t=>{const s=ZE(t)&&dr(t,"uid")?t.uid:py("memento");return{get:g=>g.getSystem().getByUid(s).getOrDie(),getOpt:g=>g.getSystem().getByUid(s).toOptional(),asSpec:()=>({...t,uid:s})}};var iL=Object.freeze({__proto__:null,exhibit:(t,s)=>Zi({attributes:Xo([{key:s.tabAttr,value:"true"}])})}),lL=[Ee("tabAttr","data-alloy-tabstop")];const Hs=fc({fields:lL,name:"tabstopping",active:iL}),sM=Vt("tooltip.exclusive"),Cw=Vt("tooltip.show"),Sw=Vt("tooltip.hide"),xw=Vt("tooltip.immediateHide"),Tw=Vt("tooltip.immediateShow"),rM=(t,s,a)=>{t.getSystem().broadcastOn([sM],{})};var uL=Object.freeze({__proto__:null,hideAllExclusive:rM,immediateOpenClose:(t,s,a,i)=>no(t,i?Tw:xw),isEnabled:(t,s,a)=>a.isEnabled(),setComponents:(t,s,a,i)=>{a.getTooltip().each(d=>{d.getSystem().isConnected()&&Nn.set(d,i)})},setEnabled:(t,s,a,i)=>a.setEnabled(i)}),LA=Object.freeze({__proto__:null,events:(t,s)=>{const a=p=>{s.getTooltip().each(k=>{k.getSystem().isConnected()&&(Uf(k),t.onHide(p,k),s.clearTooltip())}),s.clearTimer()},i=p=>{if(!s.isShowing()&&s.isEnabled()){rM(p);const k=t.lazySink(p).getOrDie(),_=p.getSystem().build({dom:t.tooltipDom,components:t.tooltipComponents,events:Is(t.mode==="normal"?[Xe(Wi(),E=>{no(p,Cw)}),Xe(Of(),E=>{no(p,Sw)})]:[]),behaviours:gt([Nn.config({})])});s.setTooltip(_),Du(k,_),t.onShow(p,_),Hc.position(k,_,{anchor:t.anchor(p)})}},d=p=>{s.getTooltip().each(k=>{const _=t.lazySink(p).getOrDie();Hc.position(_,k,{anchor:t.anchor(p)})})},g=()=>{switch(t.mode){case"normal":return[Xe(rd(),p=>{no(p,Tw)}),Xe(vm(),p=>{no(p,xw)}),Xe(Wi(),p=>{no(p,Cw)}),Xe(Of(),p=>{no(p,Sw)})];case"follow-highlight":return[Xe(wm(),(p,k)=>{no(p,Cw)}),Xe(Ig(),p=>{no(p,Sw)})];case"children-normal":return[Xe(rd(),(p,k)=>{li(p.element).each(_=>{Rr(k.event.target,"[data-mce-tooltip]")&&s.getTooltip().fold(()=>{no(p,Tw)},E=>{s.isShowing()&&(t.onShow(p,E),d(p))})})}),Xe(vm(),p=>{li(p.element).fold(()=>{no(p,xw)},ae)}),Xe(Wi(),p=>{er(p.element,"[data-mce-tooltip]:hover").each(k=>{s.getTooltip().fold(()=>{no(p,Cw)},_=>{s.isShowing()&&(t.onShow(p,_),d(p))})})}),Xe(Of(),p=>{er(p.element,"[data-mce-tooltip]:hover").fold(()=>{no(p,Sw)},ae)})];default:return[Xe(rd(),(p,k)=>{li(p.element).each(_=>{Rr(k.event.target,"[data-mce-tooltip]")&&s.getTooltip().fold(()=>{no(p,Tw)},E=>{s.isShowing()&&(t.onShow(p,E),d(p))})})}),Xe(vm(),p=>{li(p.element).fold(()=>{no(p,xw)},ae)})]}};return Is(Qt([[S0(p=>{t.onSetup(p)}),Xe(Cw,p=>{s.resetTimer(()=>{i(p)},t.delayForShow())}),Xe(Sw,p=>{s.resetTimer(()=>{a(p)},t.delayForHide())}),Xe(Tw,p=>{s.resetTimer(()=>{i(p)},0)}),Xe(xw,p=>{s.resetTimer(()=>{a(p)},0)}),Xe(ql(),(p,k)=>{const _=k;_.universal||ot(_.channels,sM)&&a(p)}),Zd(p=>{a(p)})],g()]))}}),dL=[Ke("lazySink"),Ke("tooltipDom"),Ee("exclusive",!0),Ee("tooltipComponents",[]),hr("delayForShow",Z(300)),hr("delayForHide",Z(300)),hr("onSetup",ae),Ai("mode","normal",["normal","follow-highlight","children-keyboard-focus","children-normal"]),Ee("anchor",t=>({type:"hotspot",hotspot:t,layouts:{onLtr:Z([xa,Sa,Ca,ms,Ir,xc]),onRtl:Z([xa,Sa,Ca,ms,Ir,xc])},bubble:Ou(0,-2,{})})),Eo("onHide"),Eo("onShow")],fL=Object.freeze({__proto__:null,init:()=>{const t=tn(!0),s=os(),a=os(),i=()=>{s.on(clearTimeout)},d=(p,k)=>{i(),s.set(setTimeout(p,k))},g=Z("not-implemented");return qi({getTooltip:a.get,isShowing:a.isSet,setTooltip:a.set,clearTooltip:a.clear,clearTimer:i,resetTimer:d,readState:g,isEnabled:()=>t.get(),setEnabled:p=>t.set(p)})}});const Lr=fc({fields:dL,name:"tooltipping",active:LA,state:fL,apis:uL}),{entries:aM,setPrototypeOf:cM,isFrozen:mL,getPrototypeOf:gL,getOwnPropertyDescriptor:pL}=Object;let{freeze:nu,seal:bd,create:hL}=Object,{apply:HA,construct:VA}=typeof Reflect<"u"&&Reflect;HA||(HA=function(s,a,i){return s.apply(a,i)}),nu||(nu=function(s){return s}),bd||(bd=function(s){return s}),VA||(VA=function(s,a){return new s(...a)});const yL=sf(Array.prototype.forEach),bL=sf(Array.prototype.pop),Ew=sf(Array.prototype.push),_2=sf(String.prototype.toLowerCase),UA=sf(String.prototype.toString),vL=sf(String.prototype.match),Kf=sf(String.prototype.replace),kL=sf(String.prototype.indexOf),wL=sf(String.prototype.trim),vd=sf(RegExp.prototype.test),xh=jA(TypeError);function sf(t){return function(s){for(var a=arguments.length,i=new Array(a>1?a-1:0),d=1;d<a;d++)i[d-1]=arguments[d];return HA(t,s,i)}}function jA(t){return function(){for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return VA(t,a)}}function Ss(t,s,a){var i;a=(i=a)!==null&&i!==void 0?i:_2,cM&&cM(t,null);let d=s.length;for(;d--;){let g=s[d];if(typeof g=="string"){const p=a(g);p!==g&&(mL(s)||(s[d]=p),g=p)}t[g]=!0}return t}function kv(t){const s=hL(null);for(const[a,i]of aM(t))s[a]=i;return s}function C2(t,s){for(;t!==null;){const i=pL(t,s);if(i){if(i.get)return sf(i.get);if(typeof i.value=="function")return sf(i.value)}t=gL(t)}function a(i){return console.warn("fallback value for",i),null}return a}const WA=nu(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),ZA=nu(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Aw=nu(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),qA=nu(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),S2=nu(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),GA=nu(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),zw=nu(["#text"]),KA=nu(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),rf=nu(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),x2=nu(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),T2=nu(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),_L=bd(/\{\{[\w\W]*|[\w\W]*\}\}/gm),CL=bd(/<%[\w\W]*|[\w\W]*%>/gm),SL=bd(/\${[\w\W]*}/gm),Ow=bd(/^data-[\-\w.\u00B7-\uFFFF]/),xL=bd(/^aria-[\-\w]+$/),YA=bd(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),XA=bd(/^(?:\w+script|data):/i),TL=bd(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),E2=bd(/^html$/i);var A2=Object.freeze({__proto__:null,MUSTACHE_EXPR:_L,ERB_EXPR:CL,TMPLIT_EXPR:SL,DATA_ATTR:Ow,ARIA_ATTR:xL,IS_ALLOWED_URI:YA,IS_SCRIPT_OR_DATA:XA,ATTR_WHITESPACE:TL,DOCTYPE_NAME:E2});const EL=()=>typeof window>"u"?null:window,iM=function(s,a){if(typeof s!="object"||typeof s.createPolicy!="function")return null;let i=null;const d="data-tt-policy-suffix";a&&a.hasAttribute(d)&&(i=a.getAttribute(d));const g="dompurify"+(i?"#"+i:"");try{return s.createPolicy(g,{createHTML(p){return p},createScriptURL(p){return p}})}catch{return console.warn("TrustedTypes policy "+g+" could not be created."),null}};function JA(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:EL();const s=Ao=>JA(Ao);if(s.version="3.0.5",s.removed=[],!t||!t.document||t.document.nodeType!==9)return s.isSupported=!1,s;const a=t.document,i=a.currentScript;let{document:d}=t;const{DocumentFragment:g,HTMLTemplateElement:p,Node:k,Element:_,NodeFilter:E,NamedNodeMap:z=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:N,DOMParser:H,trustedTypes:V}=t,Y=_.prototype,Q=C2(Y,"cloneNode"),Se=C2(Y,"nextSibling"),re=C2(Y,"childNodes"),ye=C2(Y,"parentNode");if(typeof p=="function"){const Ao=d.createElement("template");Ao.content&&Ao.content.ownerDocument&&(d=Ao.content.ownerDocument)}let ve,qe="";const{implementation:He,createNodeIterator:At,createDocumentFragment:Ft,getElementsByTagName:We}=d,{importNode:qt}=a;let Tt={};s.isSupported=typeof aM=="function"&&typeof ye=="function"&&He&&He.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Jt,ERB_EXPR:yo,TMPLIT_EXPR:Us,DATA_ATTR:qo,ARIA_ATTR:Kt,IS_SCRIPT_OR_DATA:at,ATTR_WHITESPACE:Dt}=A2;let{IS_ALLOWED_URI:On}=A2,Cn=null;const mn=Ss({},[...WA,...ZA,...Aw,...S2,...zw]);let Hn=null;const Es=Ss({},[...KA,...rf,...x2,...T2]);let es=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),hi=null,Gu=null,rm=!0,Yc=!0,Ku=!1,Rd=!0,Rl=!1,fg=!1,Eb=!1,cD=!1,d0=!1,kT=!1,q5=!1,zq=!0,Oq=!1;const qq="user-content-";let hZ=!0,iD=!1,wT={},_T=null;const Dq=Ss({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Rq=null;const Mq=Ss({},["audio","video","img","source","image","track"]);let yZ=null;const Nq=Ss({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),G5="http://www.w3.org/1998/Math/MathML",K5="http://www.w3.org/2000/svg",Ab="http://www.w3.org/1999/xhtml";let CT=Ab,bZ=!1,vZ=null;const Gq=Ss({},[G5,K5,Ab],UA);let Q_;const Kq=["application/xhtml+xml","text/html"],Yq="text/html";let Ml,ST=null;const Xq=d.createElement("form"),Pq=function(Le){return Le instanceof RegExp||Le instanceof Function},kZ=function(Le){if(!(ST&&ST===Le)){if((!Le||typeof Le!="object")&&(Le={}),Le=kv(Le),Q_=Kq.indexOf(Le.PARSER_MEDIA_TYPE)===-1?Q_=Yq:Q_=Le.PARSER_MEDIA_TYPE,Ml=Q_==="application/xhtml+xml"?UA:_2,Cn="ALLOWED_TAGS"in Le?Ss({},Le.ALLOWED_TAGS,Ml):mn,Hn="ALLOWED_ATTR"in Le?Ss({},Le.ALLOWED_ATTR,Ml):Es,vZ="ALLOWED_NAMESPACES"in Le?Ss({},Le.ALLOWED_NAMESPACES,UA):Gq,yZ="ADD_URI_SAFE_ATTR"in Le?Ss(kv(Nq),Le.ADD_URI_SAFE_ATTR,Ml):Nq,Rq="ADD_DATA_URI_TAGS"in Le?Ss(kv(Mq),Le.ADD_DATA_URI_TAGS,Ml):Mq,_T="FORBID_CONTENTS"in Le?Ss({},Le.FORBID_CONTENTS,Ml):Dq,hi="FORBID_TAGS"in Le?Ss({},Le.FORBID_TAGS,Ml):{},Gu="FORBID_ATTR"in Le?Ss({},Le.FORBID_ATTR,Ml):{},wT="USE_PROFILES"in Le?Le.USE_PROFILES:!1,rm=Le.ALLOW_ARIA_ATTR!==!1,Yc=Le.ALLOW_DATA_ATTR!==!1,Ku=Le.ALLOW_UNKNOWN_PROTOCOLS||!1,Rd=Le.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Rl=Le.SAFE_FOR_TEMPLATES||!1,fg=Le.WHOLE_DOCUMENT||!1,d0=Le.RETURN_DOM||!1,kT=Le.RETURN_DOM_FRAGMENT||!1,q5=Le.RETURN_TRUSTED_TYPE||!1,cD=Le.FORCE_BODY||!1,zq=Le.SANITIZE_DOM!==!1,Oq=Le.SANITIZE_NAMED_PROPS||!1,hZ=Le.KEEP_CONTENT!==!1,iD=Le.IN_PLACE||!1,On=Le.ALLOWED_URI_REGEXP||YA,CT=Le.NAMESPACE||Ab,es=Le.CUSTOM_ELEMENT_HANDLING||{},Le.CUSTOM_ELEMENT_HANDLING&&Pq(Le.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(es.tagNameCheck=Le.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Le.CUSTOM_ELEMENT_HANDLING&&Pq(Le.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(es.attributeNameCheck=Le.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Le.CUSTOM_ELEMENT_HANDLING&&typeof Le.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(es.allowCustomizedBuiltInElements=Le.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Rl&&(Yc=!1),kT&&(d0=!0),wT&&(Cn=Ss({},[...zw]),Hn=[],wT.html===!0&&(Ss(Cn,WA),Ss(Hn,KA)),wT.svg===!0&&(Ss(Cn,ZA),Ss(Hn,rf),Ss(Hn,T2)),wT.svgFilters===!0&&(Ss(Cn,Aw),Ss(Hn,rf),Ss(Hn,T2)),wT.mathMl===!0&&(Ss(Cn,S2),Ss(Hn,x2),Ss(Hn,T2))),Le.ADD_TAGS&&(Cn===mn&&(Cn=kv(Cn)),Ss(Cn,Le.ADD_TAGS,Ml)),Le.ADD_ATTR&&(Hn===Es&&(Hn=kv(Hn)),Ss(Hn,Le.ADD_ATTR,Ml)),Le.ADD_URI_SAFE_ATTR&&Ss(yZ,Le.ADD_URI_SAFE_ATTR,Ml),Le.FORBID_CONTENTS&&(_T===Dq&&(_T=kv(_T)),Ss(_T,Le.FORBID_CONTENTS,Ml)),hZ&&(Cn["#text"]=!0),fg&&Ss(Cn,["html","head","body"]),Cn.table&&(Ss(Cn,["tbody"]),delete hi.tbody),Le.TRUSTED_TYPES_POLICY){if(typeof Le.TRUSTED_TYPES_POLICY.createHTML!="function")throw xh('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Le.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw xh('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');ve=Le.TRUSTED_TYPES_POLICY,qe=ve.createHTML("")}else ve===void 0&&(ve=iM(V,i)),ve!==null&&typeof qe=="string"&&(qe=ve.createHTML(""));nu&&nu(Le),ST=Le}},Bq=Ss({},["mi","mo","mn","ms","mtext"]),$q=Ss({},["foreignobject","desc","title","annotation-xml"]),Jq=Ss({},["title","style","font","a","script"]),Y5=Ss({},ZA);Ss(Y5,Aw),Ss(Y5,qA);const wZ=Ss({},S2);Ss(wZ,GA);const Qq=function(Le){let ln=ye(Le);(!ln||!ln.tagName)&&(ln={namespaceURI:CT,tagName:"template"});const Fn=_2(Le.tagName),za=_2(ln.tagName);return vZ[Le.namespaceURI]?Le.namespaceURI===K5?ln.namespaceURI===Ab?Fn==="svg":ln.namespaceURI===G5?Fn==="svg"&&(za==="annotation-xml"||Bq[za]):!!Y5[Fn]:Le.namespaceURI===G5?ln.namespaceURI===Ab?Fn==="math":ln.namespaceURI===K5?Fn==="math"&&$q[za]:!!wZ[Fn]:Le.namespaceURI===Ab?ln.namespaceURI===K5&&!$q[za]||ln.namespaceURI===G5&&!Bq[za]?!1:!wZ[Fn]&&(Jq[Fn]||!Y5[Fn]):!!(Q_==="application/xhtml+xml"&&vZ[Le.namespaceURI]):!1},eC=function(Le){Ew(s.removed,{element:Le});try{Le.parentNode.removeChild(Le)}catch{Le.remove()}},lD=function(Le,ln){try{Ew(s.removed,{attribute:ln.getAttributeNode(Le),from:ln})}catch{Ew(s.removed,{attribute:null,from:ln})}if(ln.removeAttribute(Le),Le==="is"&&!Hn[Le])if(d0||kT)try{eC(ln)}catch{}else try{ln.setAttribute(Le,"")}catch{}},Iq=function(Le){let ln,Fn;if(cD)Le="<remove></remove>"+Le;else{const mg=vL(Le,/^[\r\n\t ]+/);Fn=mg&&mg[0]}Q_==="application/xhtml+xml"&&CT===Ab&&(Le='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Le+"</body></html>");const za=ve?ve.createHTML(Le):Le;if(CT===Ab)try{ln=new H().parseFromString(za,Q_)}catch{}if(!ln||!ln.documentElement){ln=He.createDocument(CT,"template",null);try{ln.documentElement.innerHTML=bZ?qe:za}catch{}}const Nl=ln.body||ln.documentElement;return Le&&Fn&&Nl.insertBefore(d.createTextNode(Fn),Nl.childNodes[0]||null),CT===Ab?We.call(ln,fg?"html":"body")[0]:fg?ln.documentElement:Nl},Fq=function(Le){return At.call(Le.ownerDocument||Le,Le,E.SHOW_ELEMENT|E.SHOW_COMMENT|E.SHOW_TEXT,null,!1)},eG=function(Le){return Le instanceof N&&(typeof Le.nodeName!="string"||typeof Le.textContent!="string"||typeof Le.removeChild!="function"||!(Le.attributes instanceof z)||typeof Le.removeAttribute!="function"||typeof Le.setAttribute!="function"||typeof Le.namespaceURI!="string"||typeof Le.insertBefore!="function"||typeof Le.hasChildNodes!="function")},X5=function(Le){return typeof k=="object"?Le instanceof k:Le&&typeof Le=="object"&&typeof Le.nodeType=="number"&&typeof Le.nodeName=="string"},zb=function(Le,ln,Fn){Tt[Le]&&yL(Tt[Le],za=>{za.call(s,ln,Fn,ST)})},Lq=function(Le){let ln;if(zb("beforeSanitizeElements",Le,null),eG(Le))return eC(Le),!0;const Fn=Ml(Le.nodeName);if(zb("uponSanitizeElement",Le,{tagName:Fn,allowedTags:Cn}),Le.hasChildNodes()&&!X5(Le.firstElementChild)&&(!X5(Le.content)||!X5(Le.content.firstElementChild))&&vd(/<[/\w]/g,Le.innerHTML)&&vd(/<[/\w]/g,Le.textContent))return eC(Le),!0;if(!Cn[Fn]||hi[Fn]){if(!hi[Fn]&&Vq(Fn)&&(es.tagNameCheck instanceof RegExp&&vd(es.tagNameCheck,Fn)||es.tagNameCheck instanceof Function&&es.tagNameCheck(Fn)))return!1;if(hZ&&!_T[Fn]){const za=ye(Le)||Le.parentNode,Nl=re(Le)||Le.childNodes;if(Nl&&za){const mg=Nl.length;for(let jc=mg-1;jc>=0;--jc)za.insertBefore(Q(Nl[jc],!0),Se(Le))}}return eC(Le),!0}return Le instanceof _&&!Qq(Le)||(Fn==="noscript"||Fn==="noembed"||Fn==="noframes")&&vd(/<\/no(script|embed|frames)/i,Le.innerHTML)?(eC(Le),!0):(Rl&&Le.nodeType===3&&(ln=Le.textContent,ln=Kf(ln,Jt," "),ln=Kf(ln,yo," "),ln=Kf(ln,Us," "),Le.textContent!==ln&&(Ew(s.removed,{element:Le.cloneNode()}),Le.textContent=ln)),zb("afterSanitizeElements",Le,null),!1)},Hq=function(Le,ln,Fn){if(zq&&(ln==="id"||ln==="name")&&(Fn in d||Fn in Xq))return!1;if(!(Yc&&!Gu[ln]&&vd(qo,ln))){if(!(rm&&vd(Kt,ln))){if(!Hn[ln]||Gu[ln]){if(!(Vq(Le)&&(es.tagNameCheck instanceof RegExp&&vd(es.tagNameCheck,Le)||es.tagNameCheck instanceof Function&&es.tagNameCheck(Le))&&(es.attributeNameCheck instanceof RegExp&&vd(es.attributeNameCheck,ln)||es.attributeNameCheck instanceof Function&&es.attributeNameCheck(ln))||ln==="is"&&es.allowCustomizedBuiltInElements&&(es.tagNameCheck instanceof RegExp&&vd(es.tagNameCheck,Fn)||es.tagNameCheck instanceof Function&&es.tagNameCheck(Fn))))return!1}else if(!yZ[ln]){if(!vd(On,Kf(Fn,Dt,""))){if(!((ln==="src"||ln==="xlink:href"||ln==="href")&&Le!=="script"&&kL(Fn,"data:")===0&&Rq[Le])){if(!(Ku&&!vd(at,Kf(Fn,Dt,"")))){if(Fn)return!1}}}}}}return!0},Vq=function(Le){return Le.indexOf("-")>0},Uq=function(Le){let ln,Fn,za,Nl;zb("beforeSanitizeAttributes",Le,null);const{attributes:mg}=Le;if(!mg)return;const jc={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Hn};for(Nl=mg.length;Nl--;){ln=mg[Nl];const{name:gg,namespaceURI:_Z}=ln;Fn=gg==="value"?ln.value:wL(ln.value);const nG=Fn;if(za=Ml(gg),jc.attrName=za,jc.attrValue=Fn,jc.keepAttr=!0,jc.forceKeepAttr=void 0,zb("uponSanitizeAttribute",Le,jc),Fn=jc.attrValue,jc.forceKeepAttr)continue;if(!jc.keepAttr){lD(gg,Le);continue}if(!Rd&&vd(/\/>/i,Fn)){lD(gg,Le);continue}Rl&&(Fn=Kf(Fn,Jt," "),Fn=Kf(Fn,yo," "),Fn=Kf(Fn,Us," "));const jq=Ml(Le.nodeName);if(!Hq(jq,za,Fn)){lD(gg,Le);continue}if(Oq&&(za==="id"||za==="name")&&(lD(gg,Le),Fn=qq+Fn),ve&&typeof V=="object"&&typeof V.getAttributeType=="function"&&!_Z)switch(V.getAttributeType(jq,za)){case"TrustedHTML":{Fn=ve.createHTML(Fn);break}case"TrustedScriptURL":{Fn=ve.createScriptURL(Fn);break}}if(Fn!==nG)try{_Z?Le.setAttributeNS(_Z,gg,Fn):Le.setAttribute(gg,Fn)}catch{lD(gg,Le)}}zb("afterSanitizeAttributes",Le,null)},tG=function Ao(Le){let ln;const Fn=Fq(Le);for(zb("beforeSanitizeShadowDOM",Le,null);ln=Fn.nextNode();)zb("uponSanitizeShadowNode",ln,null),!Lq(ln)&&(ln.content instanceof g&&Ao(ln.content),Uq(ln));zb("afterSanitizeShadowDOM",Le,null)};return s.sanitize=function(Ao){let Le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ln,Fn,za,Nl;if(bZ=!Ao,bZ&&(Ao="<!-->"),typeof Ao!="string"&&!X5(Ao))if(typeof Ao.toString=="function"){if(Ao=Ao.toString(),typeof Ao!="string")throw xh("dirty is not a string, aborting")}else throw xh("toString is not a function");if(!s.isSupported)return Ao;if(Eb||kZ(Le),s.removed=[],typeof Ao=="string"&&(iD=!1),iD){if(Ao.nodeName){const gg=Ml(Ao.nodeName);if(!Cn[gg]||hi[gg])throw xh("root node is forbidden and cannot be sanitized in-place")}}else if(Ao instanceof k)ln=Iq("<!---->"),Fn=ln.ownerDocument.importNode(Ao,!0),Fn.nodeType===1&&Fn.nodeName==="BODY"||Fn.nodeName==="HTML"?ln=Fn:ln.appendChild(Fn);else{if(!d0&&!Rl&&!fg&&Ao.indexOf("<")===-1)return ve&&q5?ve.createHTML(Ao):Ao;if(ln=Iq(Ao),!ln)return d0?null:q5?qe:""}ln&&cD&&eC(ln.firstChild);const mg=Fq(iD?Ao:ln);for(;za=mg.nextNode();)Lq(za)||(za.content instanceof g&&tG(za.content),Uq(za));if(iD)return Ao;if(d0){if(kT)for(Nl=Ft.call(ln.ownerDocument);ln.firstChild;)Nl.appendChild(ln.firstChild);else Nl=ln;return(Hn.shadowroot||Hn.shadowrootmode)&&(Nl=qt.call(a,Nl,!0)),Nl}let jc=fg?ln.outerHTML:ln.innerHTML;return fg&&Cn["!doctype"]&&ln.ownerDocument&&ln.ownerDocument.doctype&&ln.ownerDocument.doctype.name&&vd(E2,ln.ownerDocument.doctype.name)&&(jc="<!DOCTYPE "+ln.ownerDocument.doctype.name+`>
`+jc),Rl&&(jc=Kf(jc,Jt," "),jc=Kf(jc,yo," "),jc=Kf(jc,Us," ")),ve&&q5?ve.createHTML(jc):jc},s.setConfig=function(Ao){kZ(Ao),Eb=!0},s.clearConfig=function(){ST=null,Eb=!1},s.isValidAttribute=function(Ao,Le,ln){ST||kZ({});const Fn=Ml(Ao),za=Ml(Le);return Hq(Fn,za,ln)},s.addHook=function(Ao,Le){typeof Le=="function"&&(Tt[Ao]=Tt[Ao]||[],Ew(Tt[Ao],Le))},s.removeHook=function(Ao){if(Tt[Ao])return bL(Tt[Ao])},s.removeHooks=function(Ao){Tt[Ao]&&(Tt[Ao]=[])},s.removeAllHooks=function(){Tt={}},s}var AL=JA();const QA=t=>AL().sanitize(t);var Bu=tinymce.util.Tools.resolve("tinymce.util.I18n");const zL={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},lM="temporary-placeholder",ez=t=>()=>mt(t,lM).getOr("!not found!"),tz=(t,s)=>{const a=t.toLowerCase();if(Bu.isRtl()){const i=ys(a,"-rtl");return to(s,i)?i:a}else return a},uM=(t,s)=>mt(s,tz(t,s)),nz=(t,s)=>{const a=s();return uM(t,a).getOrThunk(ez(a))},dM=(t,s,a)=>{const i=s();return uM(t,i).or(a).getOrThunk(ez(i))},OL=t=>Bu.isRtl()?to(zL,t):!1,z2=()=>Kn("add-focusable",[qs(t=>{ak(t.element,"svg").each(s=>Pt(s,"focusable","false"))})]),wv=(t,s,a,i)=>{var d,g;const p=OL(s)?["tox-icon--flip"]:[],k=mt(a,tz(s,a)).or(i).getOrThunk(ez(a));return{dom:{tag:t.tag,attributes:(d=t.attributes)!==null&&d!==void 0?d:{},classes:t.classes.concat(p),innerHtml:k},behaviours:gt([...(g=t.behaviours)!==null&&g!==void 0?g:[],z2()])}},$u=(t,s,a,i=C.none())=>wv(s,t,a(),i),DL=(t,s,a)=>{const i=a(),d=jt(t,g=>to(i,tz(g,i)));return wv(s,d.getOr(lM),i,C.none())},RL={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},oz=ol({name:"Notification",factory:t=>{const s=Vt("notification-text"),a=Qo({dom:Gf(`<p id=${s}>${QA(t.backstageProvider.translate(t.text))}</p>`),behaviours:gt([Nn.config({})])}),i=Y=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${Y}%`}}}),d=Y=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${Y}%`}}),g=Qo({dom:{tag:"div",classes:t.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[i(0)]},d(0)],behaviours:gt([Nn.config({})])}),_={updateProgress:(Y,Q)=>{Y.getSystem().isConnected()&&g.getOpt(Y).each(Se=>{Nn.set(Se,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[i(Q)]},d(Q)])})},updateText:(Y,Q)=>{if(Y.getSystem().isConnected()){const Se=a.get(Y);Nn.set(Se,[br(Q)])}}},E=Qt([t.icon.toArray(),t.level.toArray(),t.level.bind(Y=>C.from(RL[Y])).toArray()]),z=Qo(Vc.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":t.backstageProvider.translate("Close")}},components:[$u("close",{tag:"span",classes:["tox-icon"]},t.iconProvider)],buttonBehaviours:gt([Hs.config({}),Lr.config({...t.backstageProvider.tooltips.getConfig({tooltipText:t.backstageProvider.translate("Close")})})]),action:Y=>{t.onAction(Y)}})),N=DL(E,{tag:"div",classes:["tox-notification__icon"]},t.iconProvider),H={dom:{tag:"div",classes:["tox-notification__body"]},components:[a.asSpec()],behaviours:gt([Nn.config({})])},V=[N,H];return{uid:t.uid,dom:{tag:"div",attributes:{role:"alert","aria-labelledby":s},classes:t.level.map(Y=>["tox-notification","tox-notification--in",`tox-notification--${Y}`]).getOr(["tox-notification","tox-notification--in"])},behaviours:gt([Hs.config({}),zn.config({}),pn.config({mode:"special",onEscape:Y=>(t.onAction(Y),C.some(!0))})]),components:V.concat(t.progress?[g.asSpec()]:[]).concat([z.asSpec()]),apis:_}},configFields:[Bo("level"),Ke("progress"),Bo("icon"),Ke("onAction"),Ke("text"),Ke("iconProvider"),Ke("backstageProvider")],apis:{updateProgress:(t,s,a)=>{t.updateProgress(s,a)},updateText:(t,s,a)=>{t.updateText(s,a)}}});var NL=(t,s,a,i)=>{const d=s.backstage.shared,g=()=>ge.fromDom(t.queryCommandValue("ToggleView")===""?t.getContentAreaContainer():t.getContainer()),p=()=>{const N=Js(g());return C.some(N)},k=N=>{p().each(H=>{Qe(N,V=>{Zn(V.element,"width"),Va(V.element)>H.width&&Je(V.element,"width",H.width+"px")})})};return{open:(N,H,V)=>{const Y=()=>{const ye=At=>{Nn.remove(At,Q),Se()},ve=(At,Ft)=>{sc(At.element).length===0?qe(At,Ft):He(At,Ft)},qe=(At,Ft)=>{tr.hide(At),i.clear(),Ft&&t.focus()},He=(At,Ft)=>{Ft&&pn.focusIn(At)};i.on(At=>{H();const Ft=V();ye(At),ve(At,Ft)})},Q=Lc(oz.sketch({text:N.text,level:ot(["success","error","warning","warn","info"],N.type)?N.type:void 0,progress:N.progressBar===!0,icon:N.icon,onAction:Y,iconProvider:d.providers.icons,backstageProvider:d.providers}));if(i.isSet()){const ye=yl(Q);i.on(ve=>{Nn.append(ve,ye),tr.reposition(ve),Ls.refresh(ve),k(ve.components())})}else{const ye=Lc(tr.sketch({dom:{tag:"div",classes:["tox-notifications-container"],attributes:{"aria-label":"Notifications",role:"region"}},lazySink:d.getSink,fireDismissalEventInstead:{},...d.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}},inlineBehaviours:gt([pn.config({mode:"cyclic",selector:".tox-notification, .tox-notification a, .tox-notification button"}),Nn.config({}),...Xy(t)&&!d.header.isPositionedAtTop()?[]:[Ls.config({contextual:{lazyContext:()=>C.some(Js(g())),fadeInClass:"tox-notification-container-dock-fadein",fadeOutClass:"tox-notification-container-dock-fadeout",transitionClass:"tox-notification-container-dock-transition"},modes:["top"],lazyViewport:At=>hp(t,At.element).map(We=>({bounds:Jy(We),optScrollEnv:C.some({currentScrollTop:We.element.dom.scrollTop,scrollElmTop:va(We.element).top})})).getOrThunk(()=>({bounds:jr(),optScrollEnv:C.none()}))})]])})),ve=yl(Q),qe={maxHeightFunction:th()},He={...d.anchors.banner(),overrides:qe};i.set(ye),a.add(ye),tr.showWithinBounds(ye,ve,{anchor:He},p)}No(N.timeout)&&N.timeout>0&&yv.setEditorTimeout(t,()=>{Y()},N.timeout);const Se=()=>{i.on(ye=>{tr.reposition(ye),Ls.refresh(ye),k(ye.components())})};return{close:Y,reposition:Se,text:ye=>{oz.updateText(Q,ye)},settings:N,getEl:()=>Q.element.dom,progressBar:{value:ye=>{oz.updateProgress(Q,ye)}}}},close:N=>{N.close()},getArgs:N=>N.settings}};const fM={setup:(t,s)=>{const a=(d,g)=>{hn(d,Tu(),{raw:g})},i=()=>t.getMenu().bind(an.getHighlighted);s.on("keydown",d=>{const g=d.which;t.isActive()&&(t.isMenuOpen()?g===13?(i().each(_m),d.preventDefault()):g===40?(i().fold(()=>{t.getMenu().each(an.highlightFirst)},p=>{a(p,d)}),d.preventDefault(),d.stopImmediatePropagation()):(g===37||g===38||g===39)&&i().each(p=>{a(p,d),d.preventDefault(),d.stopImmediatePropagation()}):(g===13||g===38||g===40)&&t.cancelIfNecessary())}),s.on("NodeChange",()=>{t.isActive()&&!t.isProcessingAction()&&!s.queryCommandState("mceAutoCompleterInRange")&&t.cancelIfNecessary()})}};var O2;(function(t){t[t.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",t[t.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(O2||(O2={}));var af=O2;const sz="tox-menu-nav__js",D2="tox-collection__item",R2="tox-swatch",rz={normal:sz,color:R2},M2="tox-collection__item--enabled",mM="tox-collection__group-heading",az="tox-collection__item-icon",N2="tox-collection__item-label",BL="tox-collection__item-accessory",P2="tox-collection__item-caret",$L="tox-collection__item-checkmark",Th="tox-collection__item--active",cz="tox-collection__item-container",Qy="tox-collection__item-container--column",gM="tox-collection__item-container--row",iz="tox-collection__item-container--align-right",B2="tox-collection__item-container--align-left",IL="tox-collection__item-container--valign-top",pM="tox-collection__item-container--valign-middle",hM="tox-collection__item-container--valign-bottom",lz=t=>mt(rz,t).getOr(sz),uz=t=>t==="color"?"tox-swatches":"tox-menu",$2=t=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:uz(t),tieredMenu:"tox-tiered-menu"}),eb=t=>{const s=$2(t);return{backgroundMenu:s.backgroundMenu,selectedMenu:s.selectedMenu,menu:s.menu,selectedItem:s.selectedItem,item:lz(t)}},yM=(t,s,a)=>{const i=$2(a);return{tag:"div",classes:Qt([[i.menu,`tox-menu-${s}-column`],t?[i.hasIcons]:[]])}},bM=[hd.parts.items({})],Dw=(t,s,a)=>{const i=$2(a);return{dom:{tag:"div",classes:Qt([[i.tieredMenu]])},markers:eb(a)}},dz=Z([Bo("data"),Ee("inputAttributes",{}),Ee("inputStyles",{}),Ee("tag","input"),Ee("inputClasses",[]),Eo("onSetValue"),Ee("styles",{}),Ee("eventOrder",{}),Ya("inputBehaviours",[It,zn]),Ee("selectOnFocus",!0)]),vM=t=>gt([zn.config({onFocus:t.selectOnFocus?s=>{const a=s.element,i=If(a);a.dom.setSelectionRange(0,i.length)}:ae})]),kM=t=>({...vM(t),...Xa(t.inputBehaviours,[It.config({store:{mode:"manual",...t.data.map(s=>({initialValue:s})).getOr({}),getValue:s=>If(s.element),setValue:(s,a)=>{If(s.element)!==a&&$m(s.element,a)}},onSetValue:t.onSetValue})])}),wM=t=>({tag:t.tag,attributes:{type:"text",...t.inputAttributes},styles:t.inputStyles,classes:t.inputClasses}),FL=(t,s)=>({uid:t.uid,dom:wM(t),components:[],behaviours:kM(t),eventOrder:t.eventOrder}),tb=ol({name:"Input",configFields:dz(),factory:FL}),_M=Vt("refetch-trigger-event"),fz=Vt("redirect-menu-item-interaction"),_v="tox-menu__searcher",Rw=t=>er(t.element,`.${_v}`).bind(s=>t.getSystem().getByDom(s).toOptional()),CM=Rw,LL=(t,s)=>{It.setValue(t,s.fetchPattern),t.element.dom.selectionStart=s.selectionStart,t.element.dom.selectionEnd=s.selectionEnd},SM=t=>{const s=It.getValue(t),a=t.element.dom.selectionStart,i=t.element.dom.selectionEnd;return{fetchPattern:s,selectionStart:a,selectionEnd:i}},HL=(t,s)=>{Nr(s.element,"id").each(a=>Pt(t.element,"aria-activedescendant",a))},VL=t=>{const s=(d,g)=>(g.cut(),C.none()),a=(d,g)=>{const p={interactionEvent:g.event,eventType:g.event.raw.type};return hn(d,fz,p),C.some(!0)},i="searcher-events";return{dom:{tag:"div",classes:[D2]},components:[tb.sketch({inputClasses:[_v,"tox-textfield"],inputAttributes:{...t.placeholder.map(d=>({placeholder:t.i18n(d)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:gt([Kn(i,[Xe(jd(),d=>{no(d,_M)}),Xe(Tu(),(d,g)=>{g.event.raw.key==="Escape"&&g.stop()})]),pn.config({mode:"special",onLeft:s,onRight:s,onSpace:s,onEnter:a,onEscape:a,onUp:a,onDown:a})]),eventOrder:{keydown:[i,pn.name()]}})]}},nb="tox-collection--results__js",xM=t=>{var s;return t.dom?{...t,dom:{...t.dom,attributes:{...(s=t.dom.attributes)!==null&&s!==void 0?s:{},id:Vt("aria-item-search-result-id"),"aria-selected":"false"}}}:t},I2=(t,s)=>a=>{const i=Dn(a,s);return we(i,d=>({dom:t,components:d}))},UL=t=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[hd.parts.items({preprocess:t!=="auto"?I2({tag:"div",classes:["tox-swatches__row"]},t):zt})]}]}),TM=t=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[hd.parts.items({preprocess:I2({tag:"div",classes:["tox-collection__group"]},t)})]}),mz=(t,s)=>{const a=[];let i=[];return Qe(t,(d,g)=>{s(d,g)?(i.length>0&&a.push(i),i=[],(to(d.dom,"innerHtml")||d.components&&d.components.length>0)&&i.push(d)):i.push(d)}),i.length>0&&a.push(i),we(a,d=>({dom:{tag:"div",classes:["tox-collection__group"]},components:d}))},gz=(t,s,a)=>hd.parts.items({preprocess:i=>{const d=we(i,a);return t!=="auto"&&t>1?I2({tag:"div",classes:["tox-collection__group"]},t)(d):mz(d,(g,p)=>s[p].type==="separator")}}),pz=(t,s,a=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(t===1?["tox-collection--list"]:["tox-collection--grid"])},components:[gz(t,s,zt)]}),EM=(t,s,a=!0)=>{const i=Vt("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",nb].concat(t===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:i}},components:[gz(t,s,xM)]}},AM=(t,s,a)=>{const i=Vt("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(t===1?["tox-collection--list"]:["tox-collection--grid"])},components:[VL({i18n:Bu.translate,placeholder:a.placeholder}),{dom:{tag:"div",classes:[...t===1?["tox-collection--list"]:["tox-collection--grid"],nb],attributes:{id:i}},components:[gz(t,s,xM)]}]}},zM=(t,s=!0)=>({dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[hd.parts.items({preprocess:a=>mz(a,(i,d)=>t[d].type==="separator")})]}),F2=t=>Xt(t,s=>"icon"in s&&s.icon!==void 0),yp=t=>(console.error(jl(t)),console.log(t),C.none()),jL=(t,s,a,i,d)=>{const g=zM(a);return{value:t,dom:g.dom,components:g.components,items:a}},hz=(t,s,a,i,d)=>{const g=()=>d.menuType!=="searchable"?pz(i,a):d.searchMode.searchMode==="search-with-field"?AM(i,a,d.searchMode):EM(i,a);if(d.menuType==="color"){const p=UL(i);return{value:t,dom:p.dom,components:p.components,items:a}}else if(d.menuType==="normal"&&i==="auto"){const p=pz(i,a);return{value:t,dom:p.dom,components:p.components,items:a}}else if(d.menuType==="normal"||d.menuType==="searchable"){const p=g();return{value:t,dom:p.dom,components:p.components,items:a}}else if(d.menuType==="listpreview"&&i!=="auto"){const p=TM(i);return{value:t,dom:p.dom,components:p.components,items:a}}else return{value:t,dom:yM(s,i,d.menuType),components:bM,items:a}},ta=ea("type"),L2=ea("name"),yz=ea("label"),bp=ea("text"),OM=ea("title"),DM=ea("icon"),Mw=ea("value"),WL=xi("fetch"),ZL=xi("getSubmenuItems"),Eh=xi("onAction"),RM=xi("onItemAction"),ob=hr("onSetup",()=>ae),qL=da("name"),vp=da("text"),GL=da("role"),kd=da("icon"),Cv=da("tooltip"),H2=da("label"),V2=da("shortcut"),KL=Cu("select"),U2=Br("active",!1),YL=Br("borderless",!1),wd=Br("enabled",!0),Sv=Br("primary",!1),MM=t=>Ee("columns",t),bz=Ee("meta",{}),vz=hr("onAction",ae),sb=t=>Cc("type",t),kz=t=>ua("name","name",ro(()=>Vt(`${t}-name`)),Nt),XL=t=>ua("value","value",ro(()=>Vt(`${t}-value`)),ml()),wz=kn([ta,vp]),NM=t=>ar("separatormenuitem",wz,t),JL=kn([sb("autocompleteitem"),U2,wd,bz,Mw,vp,kd]),QL=t=>ar("Autocompleter.Separator",wz,t),e6=t=>ar("Autocompleter.Item",JL,t),fi=[wd,Cv,kd,vp,ob],Yf=kn([ta,Eh,V2].concat(fi)),PM=t=>ar("toolbarbutton",Yf,t),Nw=[U2].concat(fi),_z=kn(Nw.concat([ta,Eh,V2])),BM=t=>ar("ToggleButton",_z,t),$M=[hr("predicate",Ae),Ai("scope","node",["node","editor"]),Ai("position","selection",["node","selection","line"])],Pw=fi.concat([sb("contextformbutton"),Sv,Eh,Fo("original",zt)]),j2=Nw.concat([sb("contextformbutton"),Sv,Eh,Fo("original",zt)]),Cz=fi.concat([sb("contextformbutton")]),t6=Nw.concat([sb("contextformtogglebutton")]),Xf=wa("type",{contextformbutton:Pw,contextformtogglebutton:j2}),n6=kn([sb("contextform"),hr("initValue",Z("")),H2,Ti("commands",Xf),_u("launch",wa("type",{contextformbutton:Cz,contextformtogglebutton:t6}))].concat($M)),o6=t=>ar("ContextForm",n6,t),_d=kn([sb("contexttoolbar"),ea("items")].concat($M)),Bw=t=>ar("ContextToolbar",_d,t),cf=[ta,ea("src"),da("alt"),w("classes",[],Nt)],s6=kn(cf),xs=[ta,bp,qL,w("classes",["tox-collection__item-label"],Nt)],xv=kn(xs),$w=Qr(()=>Vd("type",{cardimage:s6,cardtext:xv,cardcontainer:IM})),IM=kn([ta,Cc("direction","horizontal"),Cc("align","left"),Cc("valign","middle"),Ti("items",$w)]),Ah=[wd,vp,GL,V2,XL("menuitem"),bz],Sz=kn([ta,H2,Ti("items",$w),ob,vz].concat(Ah)),r6=t=>ar("cardmenuitem",Sz,t),xz=kn([ta,U2,kd].concat(Ah)),a6=t=>ar("choicemenuitem",xz,t),Tz=[ta,ea("fancytype"),vz],FM=[Ee("initData",{})].concat(Tz),Ez=[Cu("select"),A("initData",{},[Br("allowCustomColors",!0),Cc("storageKey","default"),Su("colors",ml())])].concat(Tz),LM=wa("fancytype",{inserttable:FM,colorswatch:Ez}),W2=t=>ar("fancymenuitem",LM,t),c6=kn([ta,ob,vz,kd].concat(Ah)),i6=t=>ar("menuitem",c6,t),l6=kn([ta,ZL,ob,kd].concat(Ah)),u6=t=>ar("nestedmenuitem",l6,t),d6=kn([ta,kd,U2,ob,Eh].concat(Ah)),HM=t=>ar("togglemenuitem",d6,t),Az=(t,s,a)=>{const i=gc(t.element,"."+a);if(i.length>0){const d=jn(i,g=>{const p=g.dom.getBoundingClientRect().top,k=i[0].dom.getBoundingClientRect().top;return Math.abs(p-k)>s}).getOr(i.length);return C.some({numColumns:d,numRows:Math.ceil(i.length/d)})}else return C.none()},VM=(t,s)=>gt([Kn(t,s)]),Tv={namedEvents:VM,unnamedEvents:t=>VM(Vt("unnamed-events"),t)},m6=t=>t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),UM="silver.readonly",jM=kn([Nb("readonly")]),Ev=(t,s)=>{const i=t.mainUi.outerContainer.element,d=[t.mainUi.mothership,...t.uiMotherships];s&&Qe(d,g=>{g.broadcastOn([Qd()],{target:i})}),Qe(d,g=>{g.broadcastOn([UM],{readonly:s})})},zz=(t,s)=>{t.on("init",()=>{t.mode.isReadOnly()&&Ev(s,!0)}),t.on("SwitchMode",()=>Ev(s,t.mode.isReadOnly())),BR(t)&&t.mode.set("readonly")},Qa=()=>Di.config({channels:{[UM]:{schema:jM,onReceive:(t,s)=>{l.set(t,s.readonly)}}}}),lf={item:t=>l.config({disabled:t,disableClass:"tox-collection__item--state-disabled"}),button:t=>l.config({disabled:t}),splitButton:t=>l.config({disabled:t,disableClass:"tox-tbtn--disabled"}),toolbarButton:t=>l.config({disabled:t,disableClass:"tox-tbtn--disabled",useNative:!1})},Iw=(t,s)=>{const a=t.getApi(s);return i=>{i(a)}},mi=(t,s)=>qs(a=>{Iw(t,a)(d=>{const g=t.onSetup(d);xt(g)&&s.set(g)})}),zh=(t,s)=>Zd(a=>Iw(t,a)(s.get())),Oz=(t,s)=>Eu((a,i)=>{Iw(t,a)(t.onAction),!t.triggersSubmenu&&s===af.CLOSE_ON_EXECUTE&&(a.getSystem().isConnected()&&no(a,ty()),i.stop())}),WM={[Gl()]:["disabling","alloy.base.behaviour","toggling","item-events"]},rb=Kr,Av=(t,s,a,i)=>{const d=tn(ae);return{type:"item",dom:s.dom,components:rb(s.optComponents),data:t.data,eventOrder:WM,hasSubmenu:t.triggersSubmenu,itemBehaviours:gt([Kn("item-events",[Oz(t,a),mi(t,d),zh(t,d)]),lf.item(()=>!t.enabled||i.isDisabled()),Qa(),Nn.config({})].concat(t.itemBehaviours))}},ab=t=>({value:t.value,meta:{text:t.text.getOr(""),...t.meta}}),Z2=t=>{const s=qy.os.isMacOS()||qy.os.isiOS(),d=s?{alt:"⌥",ctrl:"⌃",shift:"⇧",meta:"⌘",access:"⌃⌥"}:{meta:"Ctrl",access:"Shift+Alt"},g=t.split("+"),p=we(g,k=>{const _=k.toLowerCase().trim();return to(d,_)?d[_]:k});return s?p.join(""):p.join("+")},q2=(t,s,a=[az])=>$u(t,{tag:"div",classes:a},s),ZM=t=>({dom:{tag:"div",classes:[N2]},components:[br(Bu.translate(t))]}),qM=(t,s)=>({dom:{tag:"div",classes:s,innerHtml:t}}),g6=(t,s)=>({dom:{tag:"div",classes:[N2]},components:[{dom:{tag:t.tag,styles:t.styles},components:[br(Bu.translate(s))]}]}),p6=t=>({dom:{tag:"div",classes:[BL]},components:[br(Z2(t))]}),GM=t=>q2("checkmark",t,[$L]),KM=t=>q2("chevron-right",t,[P2]),YM=t=>q2("chevron-down",t,[P2]),XM=(t,s)=>{const a=t.direction==="vertical"?Qy:gM,i=t.align==="left"?B2:iz;return{dom:{tag:"div",classes:[cz,a,i,(()=>{switch(t.valign){case"top":return IL;case"middle":return pM;case"bottom":return hM}})()]},components:s}},h6=(t,s,a)=>({dom:{tag:"img",classes:s,attributes:{src:t,alt:a.getOr("")}}}),y6=(t,s,a)=>{const i="custom",d="remove",g=t.value,p=t.iconContent.map(E=>dM(E,s.icons,a)),k=t.ariaLabel.map(E=>({"aria-label":s.translate(E),"data-mce-name":E})).getOr({});return{dom:(()=>{const E=R2,z=p.getOr(""),N={tag:"div",attributes:k,classes:[E]};return g===i?{...N,tag:"button",classes:[...N.classes,"tox-swatches__picker-btn"],innerHtml:z}:g===d?{...N,classes:[...N.classes,"tox-swatch--remove"],innerHtml:z}:fo(g)?{...N,attributes:{...N.attributes,"data-mce-color":g},styles:{"background-color":g},innerHtml:z}:N})(),optComponents:[]}},JM=t=>{const s=t.map(a=>({attributes:{id:Vt("menu-item"),"aria-label":Bu.translate(a)}})).getOr({});return{tag:"div",classes:[sz,D2],...s}},zv=(t,s,a,i)=>{const d={tag:"div",classes:[az]},g=H=>$u(H,d,s.icons,i),p=()=>C.some({dom:d}),k=a?t.iconContent.map(g).orThunk(p):C.none(),_=t.checkMark,E=C.from(t.meta).fold(()=>ZM,H=>to(H,"style")?gn(g6,H.style):ZM),z=t.htmlContent.fold(()=>t.textContent.map(E),H=>C.some(qM(H,[N2])));return{dom:JM(t.ariaLabel),optComponents:[k,z,t.shortcutContent.map(p6),_,t.caret]}},Fw=(t,s,a,i=C.none())=>t.presets==="color"?y6(t,s,i):zv(t,s,a,i),Dz=(t,s,a)=>mt(t,"tooltipWorker").map(i=>[Lr.config({lazySink:s.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:d=>({type:"submenu",item:d,overrides:{maxHeightFunction:th}}),mode:"follow-highlight",onShow:(d,g)=>{i(p=>{Lr.setComponents(d,[nk({element:ge.fromDom(p)})])})}})]).getOrThunk(()=>a.map(i=>[Lr.config({...s.providers.tooltips.getConfig({tooltipText:i}),mode:"follow-highlight"})]).getOr([])),QM=t=>Zy.DOM.encode(t),Rz=(t,s)=>{const a=Bu.translate(t),i=QM(a);if(s.length>0){const d=new RegExp(m6(s),"gi");return i.replace(d,g=>`<span class="tox-autocompleter-highlight">${g}</span>`)}else return i},eN=(t,s,a,i,d,g,p,k=!0)=>{const _=Fw({presets:i,textContent:C.none(),htmlContent:a?t.text.map(z=>Rz(z,s)):C.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:C.none(),checkMark:C.none(),caret:C.none(),value:t.value},p.providers,k,t.icon),E=t.text.filter(z=>!a&&z!=="");return Av({data:ab(t),enabled:t.enabled,getApi:Z({}),onAction:z=>d(t.value,t.meta),onSetup:Z(ae),triggersSubmenu:!1,itemBehaviours:Dz(t,p,E)},_,g,p.providers)},G2=(t,s)=>we(t,a=>{switch(a.type){case"cardcontainer":return XM(a,G2(a.items,s));case"cardimage":return h6(a.src,a.classes,a.alt);case"cardtext":const d=a.name.exists(g=>ot(s.cardText.highlightOn,g))?C.from(s.cardText.matchText).getOr(""):"";return qM(Rz(a.text,d),a.classes)}}),Mz=(t,s,a,i)=>{const d=p=>({isEnabled:()=>!l.isDisabled(p),setEnabled:k=>{l.set(p,!k),Qe(gc(p.element,"*"),_=>{p.getSystem().getByDom(_).each(E=>{E.hasConfigured(l)&&l.set(E,!k)})})}}),g={dom:JM(t.label),optComponents:[C.some({dom:{tag:"div",classes:[cz,gM]},components:G2(t.items,i)})]};return Av({data:ab({text:C.none(),...t}),enabled:t.enabled,getApi:d,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:C.from(i.itemBehaviours).getOr([])},g,s,a.providers)},Nz=(t,s,a,i,d,g,p,k=!0)=>{const _=N=>({setActive:H=>{ao.set(N,H)},isActive:()=>ao.isOn(N),isEnabled:()=>!l.isDisabled(N),setEnabled:H=>l.set(N,!H)}),E=Fw({presets:a,textContent:s?t.text:C.none(),htmlContent:C.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:s?t.shortcut:C.none(),checkMark:s?C.some(GM(p.icons)):C.none(),caret:C.none(),value:t.value},p,k),z=t.text.filter(Z(!s)).map(N=>Lr.config(p.tooltips.getConfig({tooltipText:p.translate(N)})));return zs(Av({data:ab(t),enabled:t.enabled,getApi:_,onAction:N=>i(t.value),onSetup:N=>(N.setActive(d),ae),triggersSubmenu:!1,itemBehaviours:[...z.toArray()]},E,g,p),{toggling:{toggleClass:M2,toggleOnExecute:!1,selected:t.active,exclusive:!0}})},Pz=VS(f2(),xA()),tN=t=>({value:sN(t)}),Bz=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,nN=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,oN=t=>Bz.test(t)||nN.test(t),sN=t=>cl(t,"#").toUpperCase(),rN=t=>oN(t)?C.some({value:sN(t)}):C.none(),aN=t=>({value:t.value.replace(Bz,(a,i,d,g)=>i+i+d+d+g+g)}),cN=t=>{const s=aN(t),a=nN.exec(s.value);return a===null?["FFFFFF","FF","FF","FF"]:a},$z=t=>{const s=t.toString(16);return(s.length===1?"0"+s:s).toUpperCase()},Lw=t=>{const s=$z(t.red)+$z(t.green)+$z(t.blue);return tN(s)},iN=Math.min,lN=Math.max,K2=Math.round,b6=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,v6=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,cb=(t,s,a,i)=>({red:t,green:s,blue:a,alpha:i}),Iz=t=>{const s=parseInt(t,10);return s.toString()===t&&s>=0&&s<=255},uN=t=>{let s,a,i;const d=(t.hue||0)%360;let g=t.saturation/100,p=t.value/100;if(g=lN(0,iN(g,1)),p=lN(0,iN(p,1)),g===0)return s=a=i=K2(255*p),cb(s,a,i,1);const k=d/60,_=p*g,E=_*(1-Math.abs(k%2-1)),z=p-_;switch(Math.floor(k)){case 0:s=_,a=E,i=0;break;case 1:s=E,a=_,i=0;break;case 2:s=0,a=_,i=E;break;case 3:s=0,a=E,i=_;break;case 4:s=E,a=0,i=_;break;case 5:s=_,a=0,i=E;break;default:s=a=i=0}return s=K2(255*(s+z)),a=K2(255*(a+z)),i=K2(255*(i+z)),cb(s,a,i,1)},Hw=t=>{const s=cN(t),a=parseInt(s[1],16),i=parseInt(s[2],16),d=parseInt(s[3],16);return cb(a,i,d,1)},Fz=(t,s,a,i)=>{const d=parseInt(t,10),g=parseInt(s,10),p=parseInt(a,10),k=parseFloat(i);return cb(d,g,p,k)},Lz=t=>{const s=b6.exec(t);if(s!==null)return C.some(Fz(s[1],s[2],s[3],"1"));const a=v6.exec(t);return a!==null?C.some(Fz(a[1],a[2],a[3],a[4])):C.none()},dN=t=>`rgba(${t.red},${t.green},${t.blue},${t.alpha})`,fN=cb(255,0,0,1),k6=t=>{t.dispatch("SkinLoaded")},w6=(t,s)=>{t.dispatch("SkinLoadError",s)},Y2=t=>{t.dispatch("ResizeEditor")},X2=(t,s)=>{t.dispatch("ResizeContent",s)},_6=(t,s)=>{t.dispatch("ScrollContent",s)},mN=(t,s)=>{t.dispatch("TextColorChange",s)},C6=(t,s)=>{t.dispatch("AfterProgressState",{state:s})},S6=(t,s)=>t.dispatch("ResolveName",{name:s.nodeName.toLowerCase(),target:s}),x6=(t,s)=>{t.dispatch("ToggleToolbarDrawer",{state:s})},T6=(t,s)=>{t.dispatch("StylesTextUpdate",s)},Hz=(t,s)=>{t.dispatch("AlignTextUpdate",s)},gN=(t,s)=>{t.dispatch("FontSizeTextUpdate",s)},pN=(t,s)=>{t.dispatch("FontSizeInputTextUpdate",s)},E6=(t,s)=>{t.dispatch("BlocksTextUpdate",s)},Vz=(t,s)=>{t.dispatch("FontFamilyTextUpdate",s)},A6=t=>{t.dispatch("ToggleSidebar")},z6=t=>{t.dispatch("ToggleView")},J2=(t,s)=>()=>{t(),s()},Ni=t=>ib(t,"NodeChange",s=>{s.setEnabled(t.selection.isEditable())}),O6=(t,s)=>a=>{const i=ka(),d=()=>{a.setActive(t.formatter.match(s));const g=t.formatter.formatChanged(s,a.setActive);i.set(g)};return t.initialized?d():t.once("init",d),()=>{t.off("init",d),i.clear()}},Q2=(t,s)=>a=>{const i=Ni(t)(a),d=O6(t,s)(a);return()=>{i(),d()}},ib=(t,s,a)=>i=>{const d=()=>a(i),g=()=>{a(i),t.on(s,d)};return t.initialized?g():t.once("init",g),()=>{t.off("init",g),t.off(s,d)}},hN=t=>s=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("mceToggleFormat",!1,s.format)})},ou=(t,s)=>()=>t.execCommand(s);var lb=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const Vw={},Uz=(t,s=10)=>{const a=lb.getItem(t),i=on(a)?JSON.parse(a):[],g=(E=>s-E.length<0?E.slice(0,s):E)(i),p=E=>{he(g,E).each(k),g.unshift(E),g.length>s&&g.pop(),lb.setItem(t,JSON.stringify(g))},k=E=>{g.splice(E,1)};return{add:p,state:()=>g.slice(0)}},ex=t=>mt(Vw,t).getOrThunk(()=>{const s=`tinymce-custom-colors-${t}`,a=lb.getItem(s);if(lr(a)){const d=lb.getItem("tinymce-custom-colors");lb.setItem(s,fo(d)?d:"[]")}const i=Uz(s,10);return Vw[t]=i,i}),yN=t=>we(ex(t).state(),s=>({type:"choiceitem",text:s,icon:"checkmark",value:s})),bN=(t,s)=>{ex(t).add(s)},Uw=(t,s,a)=>({hue:t,saturation:s,value:a}),jw=t=>{let s=0,a=0,i=0;const d=t.red/255,g=t.green/255,p=t.blue/255,k=Math.min(d,Math.min(g,p)),_=Math.max(d,Math.max(g,p));if(k===_)return i=k,Uw(0,0,i*100);const E=d===k?g-p:p===k?d-g:p-d;return s=d===k?3:p===k?1:5,s=60*(s-E/(_-k)),a=(_-k)/_,i=_,Uw(Math.round(s),Math.round(a*100),Math.round(i*100))},jz=t=>jw(Hw(t)),Ww=t=>Lw(uN(t)),vN=t=>rN(t).orThunk(()=>Lz(t).map(Lw)).getOrThunk(()=>{const s=document.createElement("canvas");s.height=1,s.width=1;const a=s.getContext("2d");a.clearRect(0,0,s.width,s.height),a.fillStyle="#FFFFFF",a.fillStyle=t,a.fillRect(0,0,1,1);const i=a.getImageData(0,0,1,1).data,d=i[0],g=i[1],p=i[2],k=i[3];return Lw(cb(d,g,p,k))}),Wz="forecolor",Zz="hilitecolor",D6=5,R6=t=>{const s=[];for(let a=0;a<t.length;a+=2)s.push({text:t[a+1],value:"#"+vN(t[a]).value,icon:"checkmark",type:"choiceitem"});return s},eg=t=>s=>s.options.get(t),qz="#000000",M6=t=>{const s=t.options.register,a=d=>en(d,on)?{value:R6(d),valid:!0}:{valid:!1,message:"Must be an array of strings."},i=d=>No(d)&&d>0?{value:d,valid:!0}:{valid:!1,message:"Must be a positive number."};s("color_map",{processor:a,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),s("color_map_background",{processor:a}),s("color_map_foreground",{processor:a}),s("color_cols",{processor:i,default:Gz(t)}),s("color_cols_foreground",{processor:i,default:kN(t,Wz)}),s("color_cols_background",{processor:i,default:kN(t,Zz)}),s("custom_colors",{processor:"boolean",default:!0}),s("color_default_foreground",{processor:"string",default:qz}),s("color_default_background",{processor:"string",default:qz})},tx=(t,s)=>s===Wz&&t.options.isSet("color_map_foreground")?eg("color_map_foreground")(t):s===Zz&&t.options.isSet("color_map_background")?eg("color_map_background")(t):eg("color_map")(t),Gz=(t,s="default")=>Math.max(D6,Math.ceil(Math.sqrt(tx(t,s).length))),kN=(t,s)=>{const a=eg("color_cols")(t),i=Gz(t,s);return a===Gz(t)?i:a},wN=(t,s="default")=>Math.round((()=>s===Wz?eg("color_cols_foreground")(t):s===Zz?eg("color_cols_background")(t):eg("color_cols")(t))()),_N=eg("custom_colors"),N6=eg("color_default_foreground"),CN=eg("color_default_background"),P6="rgba(0, 0, 0, 0)",B6=t=>Lz(t).exists(s=>s.alpha!==0),tg=t=>pl(t,s=>{if(So(s)){const a=ls(s,"background-color");return fn(B6(a),a)}else return C.none()}).getOr(P6),SN=(t,s)=>{const a=ge.fromDom(t.selection.getStart()),i=s==="hilitecolor"?tg(a):ls(a,"color");return Lz(i).map(d=>"#"+Lw(d).value)},$6=(t,s,a)=>{t.undoManager.transact(()=>{t.focus(),t.formatter.apply(s,{value:a}),t.nodeChanged()})},Kz=(t,s)=>{t.undoManager.transact(()=>{t.focus(),t.formatter.remove(s,{value:null},void 0,!0),t.nodeChanged()})},pc=t=>{t.addCommand("mceApplyTextcolor",(s,a)=>{$6(t,s,a)}),t.addCommand("mceRemoveTextcolor",s=>{Kz(t,s)})},xN=t=>{const s="choiceitem",a={type:s,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return t?[a,{type:s,text:"Custom color",icon:"color-picker",value:"custom"}]:[a]},Yz=(t,s,a,i)=>{a==="custom"?DN(t)(g=>{g.each(p=>{bN(s,p),t.execCommand("mceApplyTextcolor",s,p),i(p)})},SN(t,s).getOr(qz)):a==="remove"?(i(""),t.execCommand("mceRemoveTextcolor",s)):(i(a),t.execCommand("mceApplyTextcolor",s,a))},Xz=(t,s,a)=>t.concat(yN(s).concat(xN(a))),TN=(t,s,a)=>i=>{i(Xz(t,s,a))},Jz=(t,s,a)=>{const i=s==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";t.setIconFill(i,a)},EN=(t,s)=>{t.setTooltip(s)},AN=(t,s)=>a=>{const i=SN(t,s);return mr(i,a.toUpperCase())},Qz=(t,s,a)=>{if(ne(a))return s==="forecolor"?"Text color":"Background color";const i=s==="forecolor"?"Text color {0}":"Background color {0}",d=Xz(tx(t,s),s,!1),g=jt(d,p=>p.value===a).getOr({text:""}).text;return t.translate([i,t.translate(g)])},zN=(t,s,a,i)=>{t.ui.registry.addSplitButton(s,{tooltip:Qz(t,a,i.get()),presets:"color",icon:s==="forecolor"?"text-color":"highlight-bg-color",select:AN(t,a),columns:wN(t,a),fetch:TN(tx(t,a),a,_N(t)),onAction:d=>{Yz(t,a,i.get(),ae)},onItemAction:(d,g)=>{Yz(t,a,g,p=>{i.set(p),mN(t,{name:s,color:p})})},onSetup:d=>{Jz(d,s,i.get());const g=p=>{p.name===s&&(Jz(d,p.name,p.color),EN(d,Qz(t,a,p.color)))};return t.on("TextColorChange",g),J2(Ni(t)(d),()=>{t.off("TextColorChange",g)})}})},ON=(t,s,a,i,d)=>{t.ui.registry.addNestedMenuItem(s,{text:i,icon:s==="forecolor"?"text-color":"highlight-bg-color",onSetup:g=>(EN(g,Qz(t,a,d.get())),Jz(g,s,d.get()),Ni(t)(g)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:AN(t,a),initData:{storageKey:a},onAction:g=>{Yz(t,a,g.value,p=>{d.set(p),mN(t,{name:s,color:p})})}}]})},DN=t=>(s,a)=>{let i=!1;const d=k=>{const E=k.getData().colorpicker;i?(s(C.from(E)),k.close()):t.windowManager.alert(t.translate(["Invalid hex color code: {0}",E]))},g=(k,_)=>{_.name==="hex-valid"&&(i=_.value)},p={colorpicker:a};t.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:p,onAction:g,onSubmit:d,onClose:ae,onCancel:()=>{s(C.none())}})},I6=t=>{pc(t);const s=N6(t),a=CN(t),i=tn(s),d=tn(a);zN(t,"forecolor","forecolor",i),zN(t,"backcolor","hilitecolor",d),ON(t,"forecolor","forecolor","Text color",i),ON(t,"backcolor","hilitecolor","Background color",d)},e4=(t,s,a,i,d,g,p,k)=>{const _=F2(s),z=F6(s,a,i,d!=="color"?"normal":"color",g,p,k);return hz(t,_,z,i,{menuType:d})},F6=(t,s,a,i,d,g,p)=>Kr(we(t,k=>k.type==="choiceitem"?a6(k).fold(yp,_=>C.some(Nz(_,a===1,i,s,g(_.value),d,p,F2(t)))):C.none())),nx=(t,s)=>{const a=eb(s);return t===1?{mode:"menu",moveOnTab:!0}:t==="auto"?{mode:"grid",selector:"."+a.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+(s==="color"?"tox-swatches__row":"tox-collection__group"),previousSelector:d=>s==="color"?er(d.element,"[aria-checked=true]"):C.none()}},L6=(t,s)=>t===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:t==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:s==="color"?".tox-swatches__row":".tox-collection__group",cell:s==="color"?`.${R2}`:`.${D2}`}},H6=(t,s)=>{const a=V6(t,s),i=s.colorinput.getColorCols(t.initData.storageKey),d="color",p={...e4(Vt("menu-value"),a,k=>{t.onAction({value:k})},i,d,af.CLOSE_ON_EXECUTE,t.select.getOr(Ae),s.shared.providers),markers:eb(d),movement:nx(i,d),showMenuRole:!1};return{type:"widget",data:{value:Vt("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[Pz.widget(hd.sketch(p))]}},V6=(t,s)=>{const a=t.initData.allowCustomColors&&s.colorinput.hasCustomColors();return t.initData.colors.fold(()=>Xz(s.colorinput.getColors(t.initData.storageKey),t.initData.storageKey,a),i=>i.concat(xN(a)))},RN=Vt("cell-over"),MN=Vt("cell-execute"),U6=t=>(s,a)=>t.shared.providers.translate(["{0} columns, {1} rows",a,s]),j6=(t,s,a)=>{const i=p=>hn(p,RN,{row:t,col:s}),d=p=>hn(p,MN,{row:t,col:s}),g=(p,k)=>{k.stop(),d(p)};return Lc({dom:{tag:"div",attributes:{role:"button","aria-label":a}},behaviours:gt([Kn("insert-table-picker-cell",[Xe(Wi(),zn.focus),Xe(Gl(),d),Xe(Pg(),g),Xe(id(),g)]),ao.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),zn.config({onFocus:i})])})},W6=(t,s,a)=>{const i=[];for(let d=0;d<s;d++){const g=[];for(let p=0;p<a;p++){const k=t(d+1,p+1);g.push(j6(d,p,k))}i.push(g)}return i},Z6=(t,s,a,i,d)=>{for(let g=0;g<i;g++)for(let p=0;p<d;p++)ao.set(t[g][p],g<=s&&p<=a)},q6=t=>te(t,s=>we(s,yl)),t4=(t,s)=>br(`${s}x${t}`),NN={inserttable:(t,s)=>{const d=U6(s),g=W6(d,10,10),p=t4(0,0),k=Qo({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[p],behaviours:gt([Nn.config({})])});return{type:"widget",data:{value:Vt("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[Pz.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:q6(g).concat(k.asSpec()),behaviours:gt([Kn("insert-table-picker",[qs(_=>{Nn.set(k.get(_),[p])}),_0(RN,(_,E,z)=>{const{row:N,col:H}=z.event;Z6(g,N,H,10,10),Nn.set(k.get(_),[t4(N+1,H+1)])}),_0(MN,(_,E,z)=>{const{row:N,col:H}=z.event;no(_,ty()),t.onAction({numRows:N+1,numColumns:H+1})})]),pn.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:H6},G6=(t,s)=>mt(NN,t.fancytype).map(a=>a(t,s)),K6=(t,s,a,i=!0,d=!1)=>{const g=d?YM(a.icons):KM(a.icons),p=_=>({isEnabled:()=>!l.isDisabled(_),setEnabled:E=>l.set(_,!E),setIconFill:(E,z)=>{er(_.element,`svg path[class="${E}"], rect[class="${E}"]`).each(N=>{Pt(N,"fill",z)})},setTooltip:E=>{const z=a.translate(E);Pt(_.element,"aria-label",z)}}),k=Fw({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:C.none(),ariaLabel:t.text,caret:C.some(g),checkMark:C.none(),shortcutContent:t.shortcut},a,i);return Av({data:ab(t),getApi:p,enabled:t.enabled,onAction:ae,onSetup:t.onSetup,triggersSubmenu:!0,itemBehaviours:[]},k,s,a)},Y6=(t,s,a,i=!0)=>{const d=p=>({isEnabled:()=>!l.isDisabled(p),setEnabled:k=>l.set(p,!k)}),g=Fw({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:C.none(),ariaLabel:t.text,caret:C.none(),checkMark:C.none(),shortcutContent:t.shortcut},a,i);return Av({data:ab(t),getApi:d,enabled:t.enabled,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},g,s,a)},PN=t=>({type:"separator",dom:{tag:"div",classes:[D2,mM]},components:t.text.map(br).toArray()}),X6=(t,s,a,i=!0)=>{const d=p=>({setActive:k=>{ao.set(p,k)},isActive:()=>ao.isOn(p),isEnabled:()=>!l.isDisabled(p),setEnabled:k=>l.set(p,!k)}),g=Fw({iconContent:t.icon,textContent:t.text,htmlContent:C.none(),ariaLabel:t.text,checkMark:C.some(GM(a.icons)),caret:C.none(),shortcutContent:t.shortcut,presets:"normal",meta:t.meta},a,i);return zs(Av({data:ab(t),enabled:t.enabled,getApi:d,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},g,s,a),{toggling:{toggleClass:M2,toggleOnExecute:!1,selected:t.active},role:t.role.getOrUndefined()})},J6=eN,BN=PN,Q6=Y6,$N=K6,e7=X6,IN=G6,t7=Mz;var o7=Object.freeze({__proto__:null,getCoupled:(t,s,a,i)=>a.getOrCreate(t,s,i),getExistingCoupled:(t,s,a,i)=>a.getExisting(t,s,i)}),s7=[Lo("others",Ul(Vn.value,ml()))],r7=Object.freeze({__proto__:null,init:()=>{const t={},s=(g,p)=>{if(ho(g.others).length===0)throw new Error("Cannot find any known coupled components");return mt(t,p)},a=(g,p,k)=>s(p,k).getOrThunk(()=>{const E=mt(p.others,k).getOrDie("No information found for coupled component: "+k)(g),z=g.getSystem().build(E);return t[k]=z,z}),i=(g,p,k)=>s(p,k).orThunk(()=>(mt(p.others,k).getOrDie("No information found for coupled component: "+k),C.none())),d=Z({});return qi({readState:d,getExisting:i,getOrCreate:a})}});const qr=fc({fields:s7,name:"coupling",apis:o7,state:r7}),n4=t=>{let s=C.none(),a=[];const i=E=>n4(z=>{d(N=>{z(E(N))})}),d=E=>{p()?_(E):a.push(E)},g=E=>{p()||(s=C.some(E),k(a),a=[])},p=()=>s.isSome(),k=E=>{Qe(E,_)},_=E=>{s.each(z=>{setTimeout(()=>{E(z)},0)})};return t(g),{get:d,map:i,isReady:p}},a7={nu:n4,pure:t=>n4(s=>{s(t)})},c7=t=>{setTimeout(()=>{throw t},0)},Ov=t=>{const s=_=>{t().then(_,c7)};return{map:_=>Ov(()=>t().then(_)),bind:_=>Ov(()=>t().then(E=>_(E).toPromise())),anonBind:_=>Ov(()=>t().then(()=>_.toPromise())),toLazy:()=>a7.nu(s),toCached:()=>{let _=null;return Ov(()=>(_===null&&(_=t()),_))},toPromise:t,get:s}},Uc={nu:t=>Ov(()=>new Promise(t)),pure:t=>Ov(()=>Promise.resolve(t))},FN=Z("sink"),LN=Z(_l({name:FN(),overrides:Z({dom:{tag:"div"},behaviours:gt([Hc.config({useFixed:ze})]),events:Is([ud(Tu()),ud(Ar()),ud(Pg())])})})),HN=(t,s)=>{const a=t.getHotspot(s).getOr(s),i="hotspot",d=t.getAnchorOverrides();return t.layouts.fold(()=>({type:i,hotspot:a,overrides:d}),g=>({type:i,hotspot:a,overrides:d,layouts:g}))},i7=(t,s,a)=>{const i=t.fetch;return i(a).map(s)},l7=(t,s,a,i,d,g,p)=>{const k=i7(t,s,i),_=s4(i,t);return k.map(E=>E.bind(z=>{const N=z.menus[z.primary];return C.from(N).each(H=>{t.listRole.each(V=>{H.role=V})}),C.from(_h.sketch({...g.menu(),uid:py(""),data:z,highlightOnOpen:p,onOpenMenu:(H,V)=>{const Y=_().getOrDie();Hc.position(Y,V,{anchor:a}),Do.decloak(d)},onOpenSubmenu:(H,V,Y)=>{const Q=_().getOrDie();Hc.position(Q,Y,{anchor:{type:"submenu",item:V}}),Do.decloak(d)},onRepositionMenu:(H,V,Y)=>{const Q=_().getOrDie();Hc.position(Q,V,{anchor:a}),Qe(Y,Se=>{Hc.position(Q,Se.triggeredMenu,{anchor:{type:"submenu",item:Se.triggeringItem}})})},onEscape:()=>(zn.focus(i),Do.close(d),C.some(!0))}))}))},Dv=(t,s,a,i,d,g,p)=>{const k=HN(t,a);return l7(t,s,k,a,i,d,p).map(E=>(E.fold(()=>{Do.isOpen(i)&&Do.close(i)},z=>{Do.cloak(i),Do.open(i,z),g(i)}),i))},u7=(t,s,a,i,d,g,p)=>(Do.close(i),Uc.pure(i)),o4=(t,s,a,i,d,g)=>{const p=qr.getCoupled(a,"sandbox");return(Do.isOpen(p)?u7:Dv)(t,s,a,p,i,d,g)},d7=(t,s,a)=>{const i=Ro.getCurrent(s).getOr(s),d=Va(t.element);a?Je(i.element,"min-width",d+"px"):Md(i.element,d)},s4=(t,s)=>t.getSystem().getByUid(s.uid+"-"+FN()).map(a=>()=>Vn.value(a)).getOrThunk(()=>s.lazySink.fold(()=>()=>Vn.error(new Error("No internal sink is specified, nor could an external sink be found")),a=>()=>a(t))),r4=t=>{Do.getState(t).each(s=>{_h.repositionMenus(s)})},a4=(t,s,a)=>{const i=ck(),d=(k,_)=>{const E=HN(t,s);i.link(s.element),t.matchWidth&&d7(E.hotspot,_,t.useMinWidth),t.onOpen(E,k,_),a!==void 0&&a.onOpen!==void 0&&a.onOpen(k,_)},g=(k,_)=>{i.unlink(s.element),p().getOr(_).element.dom.dispatchEvent(new window.FocusEvent("focusout")),a!==void 0&&a.onClose!==void 0&&a.onClose(k,_)},p=s4(s,t);return{dom:{tag:"div",classes:t.sandboxClasses,attributes:{id:i.id}},behaviours:eu.augment(t.sandboxBehaviours,[It.config({store:{mode:"memory",initialValue:s}}),Do.config({onOpen:d,onClose:g,isPartOf:(k,_,E)=>Yg(_,E)||Yg(s,E),getAttachPoint:()=>p().getOrDie()}),Ro.config({find:k=>Do.getState(k).bind(_=>Ro.getCurrent(_))}),Di.config({channels:{...Jm({isExtraPart:Ae}),...Hk({doReposition:r4})}})])}},VN=t=>{const s=qr.getCoupled(t,"sandbox");r4(s)},ox=()=>[Ee("sandboxClasses",[]),eu.field("sandboxBehaviours",[Ro,Di,Do,It])],f7=Z([Ke("dom"),Ke("fetch"),Eo("onOpen"),Oi("onExecute"),Ee("getHotspot",C.some),Ee("getAnchorOverrides",Z({})),jm(),Ya("dropdownBehaviours",[ao,qr,pn,zn]),Ke("toggleClass"),Ee("eventOrder",{}),Bo("lazySink"),Ee("matchWidth",!1),Ee("useMinWidth",!1),Bo("role"),Bo("listRole")].concat(ox())),m7=Z([tu({schema:[Kp(),Ee("fakeFocus",!1)],name:"menu",defaults:t=>({onExecute:t.onExecute})}),LN()]),g7=(t,s,a,i)=>{const d=z=>mt(t.dom,"attributes").bind(N=>mt(N,z)),g=z=>{Do.getState(z).each(N=>{_h.highlightPrimary(N)})},p=(z,N,H)=>o4(t,zt,z,i,N,H),k=z=>{p(z,g,Zr.HighlightMenuAndItem).get(ae)},_={expand:z=>{ao.isOn(z)||p(z,ae,Zr.HighlightNone).get(ae)},open:z=>{ao.isOn(z)||p(z,ae,Zr.HighlightMenuAndItem).get(ae)},refetch:z=>qr.getExistingCoupled(z,"sandbox").fold(()=>p(z,ae,Zr.HighlightMenuAndItem).map(ae),H=>Dv(t,zt,z,H,i,ae,Zr.HighlightMenuAndItem).map(ae)),isOpen:ao.isOn,close:z=>{ao.isOn(z)&&p(z,ae,Zr.HighlightMenuAndItem).get(ae)},repositionMenus:z=>{ao.isOn(z)&&VN(z)}},E=(z,N)=>(_m(z),C.some(!0));return{uid:t.uid,dom:t.dom,components:s,behaviours:Xa(t.dropdownBehaviours,[ao.config({toggleClass:t.toggleClass,aria:{mode:"expanded"}}),qr.config({others:{sandbox:z=>a4(t,z,{onOpen:()=>ao.on(z),onClose:()=>ao.off(z)})}}),pn.config({mode:"special",onSpace:E,onEnter:E,onDown:(z,N)=>{if(Cd.isOpen(z)){const H=qr.getCoupled(z,"sandbox");g(H)}else Cd.open(z);return C.some(!0)},onEscape:(z,N)=>Cd.isOpen(z)?(Cd.close(z),C.some(!0)):C.none()}),zn.config({})]),events:u2(C.some(k)),eventOrder:{...t.eventOrder,[Gl()]:["disabling","toggling","alloy.base.behaviour"]},apis:_,domModification:{attributes:{"aria-haspopup":t.listRole.getOr("true"),...t.role.fold(()=>({}),z=>({role:z})),...t.dom.tag==="button"?{type:d("type").getOr("button")}:{}}}}},Cd=Gc({name:"Dropdown",configFields:f7(),partFields:m7(),factory:g7,apis:{open:(t,s)=>t.open(s),refetch:(t,s)=>t.refetch(s),expand:(t,s)=>t.expand(s),close:(t,s)=>t.close(s),isOpen:(t,s)=>t.isOpen(s),repositionMenus:(t,s)=>t.repositionMenus(s)}}),p7=t=>{switch(t.searchMode){case"no-search":return{menuType:"normal"};default:return{menuType:"searchable",searchMode:t}}},h7=t=>{const s=It.getValue(t),a=Rw(t).map(SM);Cd.refetch(s).get(()=>{const i=qr.getCoupled(s,"sandbox");a.each(d=>Rw(i).each(g=>LL(g,d)))})},sx=(t,s)=>{y7(t).each(a=>{v0(t,a.element,s.event.eventType,s.event.interactionEvent)})},y7=t=>Do.getState(t).bind(an.getHighlighted).bind(an.getHighlighted),rx=t=>Gi(t.element,nb)?C.some(t.element):er(t.element,"."+nb),UN=(t,s,a)=>{CM(t).each(i=>{HL(i,a),rx(s).each(g=>{Nr(g,"id").each(p=>Pt(i.element,"aria-controls",p))})}),Pt(a.element,"aria-selected","true")},b7=(t,s,a)=>{Pt(a.element,"aria-selected","false")},v7=t=>{CM(t).each(s=>zn.focus(s))},k7=t=>qr.getExistingCoupled(t,"sandbox").bind(Rw).map(SM).map(a=>a.fetchPattern).getOr("");var c4;(function(t){t[t.ContentFocus=0]="ContentFocus",t[t.UiFocus=1]="UiFocus"})(c4||(c4={}));const ax=(t,s,a,i,d)=>{const g=a.shared.providers,p=k=>d?{...k,shortcut:C.none(),icon:k.text.isSome()?C.none():k.icon}:k;switch(t.type){case"menuitem":return i6(t).fold(yp,k=>C.some(Q6(p(k),s,g,i)));case"nestedmenuitem":return u6(t).fold(yp,k=>C.some($N(p(k),s,g,i,d)));case"togglemenuitem":return HM(t).fold(yp,k=>C.some(e7(p(k),s,g,i)));case"separator":return NM(t).fold(yp,k=>C.some(BN(k)));case"fancymenuitem":return W2(t).fold(yp,k=>IN(k,a));default:return console.error("Unknown item in general menu",t),C.none()}},Rv=(t,s,a,i,d,g,p)=>{const k=i===1,_=!k||F2(t);return Kr(we(t,E=>{switch(E.type){case"separator":return QL(E).fold(yp,z=>C.some(BN(z)));case"cardmenuitem":return r6(E).fold(yp,z=>C.some(t7({...z,onAction:N=>{z.onAction(N),a(z.value,z.meta)}},d,g,{itemBehaviours:Dz(z.meta,g,C.none()),cardText:{matchText:s,highlightOn:p}})));case"autocompleteitem":default:return e6(E).fold(yp,z=>C.some(J6(z,s,k,"normal",a,d,g,_)))}}))},i4=(t,s,a,i,d,g)=>{const p=F2(s),k=Kr(we(s,z=>{const N=V=>d?!to(V,"text"):p,H=V=>ax(V,a,i,N(V),d);return z.type==="nestedmenuitem"&&z.getSubmenuItems().length<=0?H({...z,enabled:!1}):H(z)})),_=p7(g);return(d?jL:hz)(t,p,k,1,_)},cx=t=>_h.singleData(t.value,t),w7=(t,s,a,i)=>{const d=nx(s,i),g=eb(i);return{data:cx({...t,movement:d,menuBehaviours:Tv.unnamedEvents(s!=="auto"?[]:[qs((p,k)=>{Az(p,4,g.item).each(({numColumns:_,numRows:E})=>{pn.setGridSize(p,E,_)})})])}),menu:{markers:eb(i),fakeFocus:a===c4.ContentFocus}}},_7=t=>Sy.create(ge.fromDom(t.startContainer),t.startOffset,ge.fromDom(t.endContainer),t.endOffset),C7={register:(t,s)=>{const a=Vt("autocompleter"),i=tn(!1),d=tn(!1),g=os(),p=Lc(tr.sketch({dom:{tag:"div",classes:["tox-autocompleter"],attributes:{id:a}},components:[],fireDismissalEventInstead:{},inlineBehaviours:gt([Kn("dismissAutocompleter",[Xe(km(),()=>N()),Xe(wm(),(re,ye)=>{Nr(ye.event.target,"id").each(ve=>Pt(ge.fromDom(t.getBody()),"aria-activedescendant",ve))})])]),lazySink:s.getSink})),k=()=>tr.isOpen(p),_=d.get,E=()=>{if(k()){tr.hide(p),t.dom.remove(a,!1);const re=ge.fromDom(t.getBody());Nr(re,"aria-owns").filter(ye=>ye===a).each(()=>{P(re,"aria-owns"),P(re,"aria-activedescendant")})}},z=()=>tr.getContent(p).bind(re=>Lt(re.components(),0)),N=()=>t.execCommand("mceAutocompleterClose"),H=re=>{const ye=zo(re,ve=>C.from(ve.columns)).getOr(1);return te(re,ve=>{const qe=ve.items;return Rv(qe,ve.matchText,(He,At)=>{const Ft={hide:()=>N(),reload:We=>{E(),t.execCommand("mceAutocompleterReload",!1,{fetchOptions:We})}};t.execCommand("mceAutocompleterRefreshActiveRange"),g.get().each(We=>{i.set(!0),ve.onAction(Ft,We,He,At),i.set(!1)})},ye,af.BUBBLE_TO_SANDBOX,s,ve.highlightOn)})},V=(re,ye)=>{const ve=zo(re,qe=>C.from(qe.columns)).getOr(1);tr.showMenuAt(p,{anchor:{type:"selection",getSelection:()=>g.get().map(_7),root:ge.fromDom(t.getBody())}},w7(hz("autocompleter-value",!0,ye,ve,{menuType:"normal"}),ve,c4.ContentFocus,"normal")),z().each(an.highlightFirst)},Y=re=>{const ye=H(re);ye.length>0?(V(re,ye),Pt(ge.fromDom(t.getBody()),"aria-owns",a),t.inline||Q()):E()},Q=()=>{t.dom.get(a)&&t.dom.remove(a,!1);const re=t.getDoc().documentElement,ye=t.selection.getNode(),ve=Zb(p.element);Ln(ve,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",top:`${ye.offsetTop}px`,left:`${ye.offsetLeft}px`}),t.dom.add(re,ve.dom),er(ve,'[role="menu"]').each(qe=>{Zn(qe,"position"),Zn(qe,"max-height")})};t.on("AutocompleterStart",({lookupData:re})=>{d.set(!0),i.set(!1),Y(re)}),t.on("AutocompleterUpdate",({lookupData:re})=>Y(re)),t.on("AutocompleterUpdateActiveRange",({range:re})=>g.set(re)),t.on("AutocompleterEnd",()=>{E(),d.set(!1),i.set(!1),g.clear()});const Se={cancelIfNecessary:N,isMenuOpen:k,isActive:_,isProcessingAction:i.get,getMenu:z};fM.setup(Se,t)}},Zw=(t,s,a)=>zu(t,s,a).isSome(),jN=(t,s)=>{let a=null;return{cancel:()=>{a!==null&&(clearTimeout(a),a=null)},schedule:(...g)=>{a=setTimeout(()=>{t.apply(null,g),a=null},s)}}},WN=5,S7=400,ZN=t=>{const s=t.raw;return s.touches===void 0||s.touches.length!==1?C.none():C.some(s.touches[0])},x7=(t,s)=>{const a=Math.abs(t.clientX-s.x),i=Math.abs(t.clientY-s.y);return a>WN||i>WN},T7=t=>{const s=os(),a=tn(!1),i=jN(E=>{t.triggerEvent(Ic(),E),a.set(!0)},S7),d=E=>(ZN(E).each(z=>{i.cancel();const N={x:z.clientX,y:z.clientY,target:E.target};i.schedule(E),a.set(!1),s.set(N)}),C.none()),g=E=>(i.cancel(),ZN(E).each(z=>{s.on(N=>{x7(z,N)&&s.clear()})}),C.none()),p=E=>{i.cancel();const z=N=>jo(N.target,E.target);return s.get().filter(z).map(N=>a.get()?(E.prevent(),!1):t.triggerEvent(id(),E))},k=Xo([{key:Zl(),value:d},{key:Po(),value:g},{key:Ds(),value:p}]);return{fireIfReady:(E,z)=>mt(k,z).bind(N=>N(E))}},qN=t=>t.raw.which===cr[0]&&!ot(["input","textarea"],aa(t.target))&&!Zw(t.target,'[contenteditable="true"]'),Mv=(t,s)=>{const a={stopBackspace:!0,...s},i=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],d=T7(a),g=we(i.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),V=>ui(t,V,Y=>{d.fireIfReady(Y,V).each(Se=>{Se&&Y.kill()}),a.triggerEvent(V,Y)&&Y.kill()})),p=os(),k=ui(t,"paste",V=>{d.fireIfReady(V,"paste").each(Q=>{Q&&V.kill()}),a.triggerEvent("paste",V)&&V.kill(),p.set(setTimeout(()=>{a.triggerEvent(Rf(),V)},0))}),_=ui(t,"keydown",V=>{a.triggerEvent("keydown",V)?V.kill():a.stopBackspace&&qN(V)&&V.prevent()}),E=ui(t,"focusin",V=>{a.triggerEvent("focusin",V)&&V.kill()}),z=os(),N=ui(t,"focusout",V=>{a.triggerEvent("focusout",V)&&V.kill(),z.set(setTimeout(()=>{a.triggerEvent(vm(),V)},0))});return{unbind:()=>{Qe(g,V=>{V.unbind()}),_.unbind(),E.unbind(),N.unbind(),k.unbind(),p.on(clearTimeout),z.on(clearTimeout)}}},Oh=(t,s)=>{const a=mt(t,"target").getOr(s);return tn(a)},E7=(t,s)=>{const a=tn(!1),i=tn(!1);return{stop:()=>{a.set(!0)},cut:()=>{i.set(!0)},isStopped:a.get,isCut:i.get,event:t,setSource:s.set,getSource:s.get}},GN=t=>{const s=tn(!1);return{stop:()=>{s.set(!0)},cut:ae,isStopped:s.get,isCut:Ae,event:t,setSource:ue("Cannot set source of a broadcasted event"),getSource:ue("Cannot get source of a broadcasted event")}},Nv=G.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),qw=(t,s,a,i,d,g)=>{const p=t(s,i),k=E7(a,d);return p.fold(()=>(g.logEventNoHandlers(s,i),Nv.complete()),_=>{const E=_.descHandler;return Xp(E)(k),k.isStopped()?(g.logEventStopped(s,_.element,E.purpose),Nv.stopped()):k.isCut()?(g.logEventCut(s,_.element,E.purpose),Nv.complete()):Ha(_.element).fold(()=>(g.logNoParent(s,_.element,E.purpose),Nv.complete()),N=>(g.logEventResponse(s,_.element,E.purpose),Nv.resume(N)))})},KN=(t,s,a,i,d,g)=>qw(t,s,a,i,d,g).fold(ze,p=>KN(t,s,a,p,d,g),Ae),Gw=(t,s,a,i,d)=>{const g=Oh(a,i);return qw(t,s,a,i,g,d)},Kw=(t,s,a)=>{const i=GN(s);return Qe(t,d=>{const g=d.descHandler;Xp(g)(i)}),i.isStopped()},A7=(t,s,a,i)=>YN(t,s,a,a.target,i),YN=(t,s,a,i,d)=>{const g=Oh(a,i);return KN(t,s,a,i,g,d)},z7=(t,s)=>({element:t,descHandler:s}),O7=(t,s)=>({id:t,descHandler:s}),D7=()=>{const t={},s=(p,k,_)=>{eo(_,(E,z)=>{const N=t[z]!==void 0?t[z]:{};N[k]=Yp(E,p),t[z]=N})},a=(p,k)=>fd(k).bind(_=>mt(p,_)).map(_=>z7(k,_));return{registerId:s,unregisterId:p=>{eo(t,(k,_)=>{to(k,p)&&delete k[p]})},filterByType:p=>mt(t,p).map(k=>zr(k,(_,E)=>O7(E,_))).getOr([]),find:(p,k,_)=>mt(t,k).bind(E=>pl(_,z=>a(E,z),p))}},R7=()=>{const t=D7(),s={},a=E=>{const z=E.element;return fd(z).getOrThunk(()=>CC("uid-",E.element))},i=(E,z)=>{const N=s[z];if(N===E)g(E);else throw new Error('The tagId "'+z+'" is already used by: '+Om(N.element)+`
Cannot use it for: `+Om(E.element)+`
The conflicting element is`+(Ht(N.element)?" ":" not ")+"already in the DOM")},d=E=>{const z=a(E);dr(s,z)&&i(E,z);const N=[E];t.registerId(N,z,E.events),s[z]=E},g=E=>{fd(E.element).each(z=>{delete s[z],t.unregisterId(z)})};return{find:(E,z,N)=>t.find(E,z,N),filter:E=>t.filterByType(E),register:d,unregister:g,getById:E=>mt(s,E)}},Jf=ol({name:"Container",factory:t=>{const{attributes:s,...a}=t.dom;return{uid:t.uid,dom:{tag:"div",attributes:{role:"presentation",...s},...a},components:t.components,behaviours:Py(t.containerBehaviours),events:t.events,domModification:t.domModification,eventOrder:t.eventOrder}},configFields:[Ee("components",[]),Ya("containerBehaviours",[]),Ee("events",{}),Ee("domModification",{}),Ee("eventOrder",{})]}),Yw=t=>{const s=re=>Ha(t.element).fold(ze,ye=>jo(re,ye)),a=R7(),i=(re,ye)=>a.find(s,re,ye),d=Mv(t.element,{triggerEvent:(re,ye)=>Pf(re,ye.target,ve=>A7(i,re,ye,ve))}),g={debugInfo:Z("real"),triggerEvent:(re,ye,ve)=>{Pf(re,ye,qe=>YN(i,re,ve,ye,qe))},triggerFocus:(re,ye)=>{fd(re).fold(()=>{bl(re)},ve=>{Pf(cd(),re,qe=>(Gw(i,cd(),{originator:ye,kill:ae,prevent:ae,target:re},re,qe),!1))})},triggerEscape:(re,ye)=>{g.triggerEvent("keydown",re.element,ye.event)},getByUid:re=>Q(re),getByDom:re=>Se(re),build:Lc,buildOrPatch:a1,addToGui:re=>{_(re)},removeFromGui:re=>{E(re)},addToWorld:re=>{p(re)},removeFromWorld:re=>{k(re)},broadcast:re=>{H(re)},broadcastOn:(re,ye)=>{V(re,ye)},broadcastEvent:(re,ye)=>{Y(re,ye)},isConnected:ze},p=re=>{re.connect(g),ca(re.element)||(a.register(re),Qe(re.components(),p),g.triggerEvent(ny(),re.element,{target:re.element}))},k=re=>{ca(re.element)||(Qe(re.components(),k),a.unregister(re)),re.disconnect()},_=re=>{Du(t,re)},E=re=>{Uf(re)},z=()=>{d.unbind(),Nc(t.element)},N=re=>{const ye=a.filter(ql());Qe(ye,ve=>{const qe=ve.descHandler;Xp(qe)(re)})},H=re=>{N({universal:!0,data:re})},V=(re,ye)=>{N({universal:!1,channels:re,data:ye})},Y=(re,ye)=>{const ve=a.filter(re);return Kw(ve,ye)},Q=re=>a.getById(re).fold(()=>Vn.error(new Error('Could not find component with uid: "'+re+'" in system.')),Vn.value),Se=re=>{const ye=fd(re).getOr("not found");return Q(ye)};return p(t),{root:t,element:t.element,destroy:z,add:_,remove:E,getByUid:Q,getByDom:Se,addToWorld:p,removeFromWorld:k,broadcast:H,broadcastOn:V,broadcastEvent:Y}},M7=(t,s)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:we(t.items,s.interpreter)}),N7=Z([Ee("prefix","form-field"),Ya("fieldBehaviours",[Ro,It])]),P7=Z([_l({schema:[Ke("dom")],name:"label"}),_l({factory:{sketch:t=>({uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}})},schema:[Ke("text")],name:"aria-descriptor"}),Ac({factory:{sketch:t=>{const s=In(t,["factory"]);return t.factory.sketch(s)}},schema:[Ke("factory")],name:"field"})]),XN=(t,s,a,i)=>{const d=Xa(t.fieldBehaviours,[Ro.config({find:k=>it(k,t,"field")}),It.config({store:{mode:"manual",getValue:k=>Ro.getCurrent(k).bind(It.getValue),setValue:(k,_)=>{Ro.getCurrent(k).each(E=>{It.setValue(E,_)})}}})]),g=Is([qs((k,_)=>{const E=qS(k,t,["label","field","aria-descriptor"]);E.field().each(z=>{const N=Vt(t.prefix);E.label().each(H=>{Pt(H.element,"for",N),Pt(z.element,"id",N)}),E["aria-descriptor"]().each(H=>{const V=Vt(t.prefix);Pt(H.element,"id",V),Pt(z.element,"aria-describedby",V)})})})]),p={getField:k=>it(k,t,"field"),getLabel:k=>it(k,t,"label")};return{uid:t.uid,dom:t.dom,components:s,behaviours:d,events:g,apis:p}},ps=Gc({name:"FormField",configFields:N7(),partFields:P7(),factory:XN,apis:{getField:(t,s)=>t.getField(s),getLabel:(t,s)=>t.getLabel(s)}});var B7=tinymce.util.Tools.resolve("tinymce.html.Entities");const Xw=(t,s,a,i)=>{const d=$7(t,s,a,i);return ps.sketch(d)},JN=(t,s)=>Xw(t,s,[],[]),$7=(t,s,a,i)=>({dom:QN(a),components:t.toArray().concat([s]),fieldBehaviours:gt(i)}),I7=()=>QN([]),QN=t=>({tag:"div",classes:["tox-form__group"].concat(t)}),Dh=(t,s)=>ps.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[br(s.translate(t))]}),El=Vt("form-component-change"),Pv=Vt("form-close"),kp=Vt("form-cancel"),ng=Vt("form-action"),Jw=Vt("form-submit"),u4=Vt("form-block"),d4=Vt("form-unblock"),eP=Vt("form-tabchange"),f4=Vt("form-resize"),Bv=(t,s,a)=>{const i=t.label.map(V=>Dh(V,s)),d=s.icons(),g=V=>{var Y;return(Y=d[V])!==null&&Y!==void 0?Y:V},p=V=>(Y,Q)=>{zu(Q.event.target,"[data-collection-item-value]").each(Se=>{V(Y,Q,Se,rn(Se,"data-collection-item-value"))})},k=(V,Y)=>{const Q=we(Y,ye=>{const ve=Bu.translate(ye.text),qe=t.columns===1?`<div class="tox-collection__item-label">${ve}</div>`:"",He=`<div class="tox-collection__item-icon">${g(ye.icon)}</div>`,At={_:" "," - ":" ","-":" "},Ft=ve.replace(/\_| \- |\-/g,qt=>At[qt]),We=s.isDisabled()?" tox-collection__item--state-disabled":"";return`<div data-mce-tooltip="${Ft}" class="tox-collection__item${We}" tabindex="-1" data-collection-item-value="${B7.encodeAllRaw(ye.value)}" aria-label="${Ft}">${He}${qe}</div>`}),Se=t.columns!=="auto"&&t.columns>1?Dn(Q,t.columns):[Q],re=we(Se,ye=>`<div class="tox-collection__group">${ye.join("")}</div>`);zm(V.element,re.join(""))},_=p((V,Y,Q,Se)=>{Y.stop(),s.isDisabled()||hn(V,ng,{name:t.name,value:Se})}),E=[Xe(Wi(),p((V,Y,Q)=>{bl(Q)})),Xe(Pg(),_),Xe(id(),_),Xe(rd(),p((V,Y,Q)=>{er(V.element,"."+Th).each(Se=>{yr(Se,Th)}),Fs(Q,Th)})),Xe(Ud(),p(V=>{er(V.element,"."+Th).each(Y=>{yr(Y,Th),g1(Y)})})),Eu(p((V,Y,Q,Se)=>{hn(V,ng,{name:t.name,value:Se})}))],z=(V,Y)=>we(gc(V.element,".tox-collection__item"),Y),N=ps.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(t.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:zt},behaviours:gt([l.config({disabled:s.isDisabled,onDisabled:V=>{z(V,Y=>{Fs(Y,"tox-collection__item--state-disabled"),Pt(Y,"aria-disabled",!0)})},onEnabled:V=>{z(V,Y=>{yr(Y,"tox-collection__item--state-disabled"),P(Y,"aria-disabled")})}}),Qa(),Nn.config({}),Lr.config({...s.tooltips.getConfig({tooltipText:"",onShow:V=>{er(V.element,"."+Th+"[data-mce-tooltip]").each(Y=>{Nr(Y,"data-mce-tooltip").each(Q=>{Lr.setComponents(V,s.tooltips.getComponents({tooltipText:Q}))})})}}),mode:"children-keyboard-focus",anchor:V=>({type:"node",node:er(V.element,"."+Th).orThunk(()=>ii(".tox-collection__item")),root:V.element,layouts:{onLtr:Z([xa,Sa,Ca,ms,Ir,xc]),onRtl:Z([xa,Sa,Ca,ms,Ir,xc])},bubble:Ou(0,-2,{})})}),It.config({store:{mode:"memory",initialValue:a.getOr([])},onSetValue:(V,Y)=>{k(V,Y),t.columns==="auto"&&Az(V,5,"tox-collection__item").each(({numRows:Q,numColumns:Se})=>{pn.setGridSize(V,Q,Se)}),no(V,f4)}}),Hs.config({}),pn.config(L6(t.columns,"normal")),Kn("collection-events",E)]),eventOrder:{[Gl()]:["disabling","alloy.base.behaviour","collection-events"],[rd()]:["collection-events","tooltipping"]}});return Xw(i,N,["tox-form__group--collection"],[])},F7=["input","textarea"],tP=t=>{const s=aa(t);return ot(F7,s)},nP=(t,s)=>{const a=s.getRoot(t).getOr(t.element);yr(a,s.invalidClass),s.notify.each(i=>{tP(t.element)&&Pt(t.element,"aria-invalid",!1),i.getContainer(t).each(d=>{zm(d,i.validHtml)}),i.onValid(t)})},Qw=(t,s,a,i)=>{const d=s.getRoot(t).getOr(t.element);Fs(d,s.invalidClass),s.notify.each(g=>{tP(t.element)&&Pt(t.element,"aria-invalid",!0),g.getContainer(t).each(p=>{zm(p,i)}),g.onInvalid(t,i)})},Iu=(t,s,a)=>s.validator.fold(()=>Uc.pure(Vn.value(!0)),i=>i.validate(t)),e_=(t,s,a)=>(s.notify.each(i=>{i.onValidate(t)}),Iu(t,s).map(i=>t.getSystem().isConnected()?i.fold(d=>(Qw(t,s,a,d),Vn.error(d)),d=>(nP(t,s),Vn.value(d))):Vn.error("No longer in system")));var H7=Object.freeze({__proto__:null,markValid:nP,markInvalid:Qw,query:Iu,run:e_,isInvalid:(t,s)=>{const a=s.getRoot(t).getOr(t.element);return Gi(a,s.invalidClass)}}),V7=Object.freeze({__proto__:null,events:(t,s)=>t.validator.map(a=>Is([Xe(a.onEvent,i=>{e_(i,t,s).get(zt)})].concat(a.validateOnLoad?[qs(i=>{e_(i,t,s).get(ae)})]:[]))).getOr({})}),U7=[Ke("invalidClass"),Ee("getRoot",C.none),Ps("notify",[Ee("aria","alert"),Ee("getContainer",C.none),Ee("validHtml",""),Eo("onValid"),Eo("onInvalid"),Eo("onValidate")]),Ps("validator",[Ke("validate"),Ee("onEvent","input"),Ee("validateOnLoad",!0)])];const Qf=fc({fields:U7,name:"invalidating",active:V7,apis:H7,extra:{validation:t=>s=>{const a=It.getValue(s);return Uc.pure(t(a))}}});var W7=Object.freeze({__proto__:null,events:()=>Is([aC(g0(),ze)]),exhibit:()=>Zi({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})});const $v=fc({fields:[],name:"unselecting",active:W7}),Z7=(t,s)=>Cd.sketch({dom:t.dom,components:t.components,toggleClass:"mce-active",dropdownBehaviours:gt([lf.button(s.providers.isDisabled),Qa(),$v.config({}),Hs.config({})]),layouts:t.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:s.getSink,fetch:a=>Uc.nu(i=>t.fetch(i)).map(i=>C.from(cx(zs(e4(Vt("menu-value"),i,d=>{t.onItemAction(a,d)},t.columns,t.presets,af.CLOSE_ON_EXECUTE,Ae,s.providers),{movement:nx(t.columns,t.presets)})))),parts:{menu:Dw(!1,1,t.presets)}}),m4=Vt("color-input-change"),g4=Vt("color-swatch-change"),p4=Vt("color-picker-cancel"),q7=(t,s,a,i)=>{const d=ps.parts.field({factory:tb,inputClasses:["tox-textfield"],data:i,onSetValue:E=>Qf.run(E).get(ae),inputBehaviours:gt([l.config({disabled:s.providers.isDisabled}),Qa(),Hs.config({}),Qf.config({invalidClass:"tox-textbox-field-invalid",getRoot:E=>Mc(E.element),notify:{onValid:E=>{const z=It.getValue(E);hn(E,m4,{color:z})}},validator:{validateOnLoad:!1,validate:E=>{const z=It.getValue(E);if(z.length===0)return Uc.pure(Vn.value(!0));{const N=ge.fromTag("span");Je(N,"background-color",z);const H=As(N,"background-color").fold(()=>Vn.error("blah"),V=>Vn.value(z));return Uc.pure(H)}}}})]),selectOnFocus:!1}),g=t.label.map(E=>Dh(E,s.providers)),p=(E,z)=>{hn(E,g4,{value:z})},k=(E,z)=>{_.getOpt(E).each(N=>{z==="custom"?a.colorPicker(H=>{H.fold(()=>no(N,p4),V=>{p(N,V),bN(t.storageKey,V)})},"#ffffff"):z==="remove"?p(N,""):p(N,z)})},_=Qo(Z7({dom:{tag:"span",attributes:{"aria-label":s.providers.translate("Color swatch")}},layouts:{onRtl:()=>[Ir,Ca,xa],onLtr:()=>[Ca,Ir,xa]},components:[],fetch:TN(a.getColors(t.storageKey),t.storageKey,a.hasCustomColors()),columns:a.getColorCols(t.storageKey),presets:"color",onItemAction:k},s));return ps.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:g.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[d,_.asSpec()]}]),fieldBehaviours:gt([Kn("form-field-events",[Xe(m4,(E,z)=>{_.getOpt(E).each(N=>{Je(N.element,"background-color",z.event.color)}),hn(E,El,{name:t.name})}),Xe(g4,(E,z)=>{ps.getField(E).each(N=>{It.setValue(N,z.event.value),Ro.getCurrent(E).each(zn.focus)})}),Xe(p4,(E,z)=>{ps.getField(E).each(N=>{Ro.getCurrent(E).each(zn.focus)})})])])})},G7=_l({schema:[Ke("dom")],name:"label"}),Rh=t=>_l({name:""+t+"-edge",overrides:s=>s.model.manager.edgeActions[t].fold(()=>({}),i=>({events:Is([Fg(Zl(),(d,g,p)=>i(d,p),[s]),Fg(Ar(),(d,g,p)=>i(d,p),[s]),Fg(Fp(),(d,g,p)=>{p.mouseIsDown.get()&&i(d,p)},[s])])}))}),K7=Rh("top-left"),Y7=Rh("top"),X7=Rh("top-right"),h4=Rh("right"),J7=Rh("bottom-right"),Q7=Rh("bottom"),oP=Rh("bottom-left"),e8=Rh("left"),t8=Ac({name:"thumb",defaults:Z({dom:{styles:{position:"absolute"}}}),overrides:t=>({events:Is([Lg(Zl(),t,"spectrum"),Lg(Po(),t,"spectrum"),Lg(Ds(),t,"spectrum"),Lg(Ar(),t,"spectrum"),Lg(Fp(),t,"spectrum"),Lg(Df(),t,"spectrum")])})}),ix=t=>Nu(t.event),n8=Ac({schema:[Fo("mouseIsDown",()=>tn(!1))],name:"spectrum",overrides:t=>{const a=t.model.manager,i=(d,g)=>a.getValueFromEvent(g).map(p=>a.setValueFrom(d,t,p));return{behaviours:gt([pn.config({mode:"special",onLeft:(d,g)=>a.onLeft(d,t,ix(g)),onRight:(d,g)=>a.onRight(d,t,ix(g)),onUp:(d,g)=>a.onUp(d,t,ix(g)),onDown:(d,g)=>a.onDown(d,t,ix(g))}),Hs.config({}),zn.config({})]),events:Is([Xe(Zl(),i),Xe(Po(),i),Xe(Ar(),i),Xe(Fp(),(d,g)=>{t.mouseIsDown.get()&&i(d,g)})])}}});var o8=[G7,e8,h4,Y7,Q7,K7,X7,oP,J7,t8,n8];const t_=Z("slider.change.value"),sP=t=>t.type.indexOf("touch")!==-1,lx=t=>{const s=t.event.raw;if(sP(s)){const a=s;return a.touches!==void 0&&a.touches.length===1?C.some(a.touches[0]).map(i=>Xs(i.clientX,i.clientY)):C.none()}else{const a=s;return a.clientX!==void 0?C.some(a).map(i=>Xs(i.clientX,i.clientY)):C.none()}},s8="top",r8="right",a8="bottom",c8="left",ub=t=>t.model.minX,db=t=>t.model.minY,n_=t=>t.model.minX-1,o_=t=>t.model.minY-1,Mh=t=>t.model.maxX,wp=t=>t.model.maxY,ux=t=>t.model.maxX+1,s_=t=>t.model.maxY+1,rP=(t,s,a)=>s(t)-a(t),y4=t=>rP(t,Mh,ub),b4=t=>rP(t,wp,db),aP=t=>y4(t)/2,dx=t=>b4(t)/2,Fu=(t,s)=>s?t.stepSize*t.speedMultiplier:t.stepSize,cP=t=>t.snapToGrid,Iv=t=>t.snapStart,iP=t=>t.rounded,Fv=(t,s)=>t[s+"-edge"]!==void 0,lP=t=>Fv(t,c8),uP=t=>Fv(t,r8),dP=t=>Fv(t,s8),v4=t=>Fv(t,a8),_p=t=>t.model.value.get(),og=(t,s)=>({x:t,y:s}),Lu=(t,s)=>{hn(t,t_(),{value:s})},k4=(t,s)=>{Lu(t,og(n_(s),o_(s)))},i8=(t,s)=>{Lu(t,o_(s))},Hu=(t,s)=>{Lu(t,og(aP(s),o_(s)))},l8=(t,s)=>{Lu(t,og(ux(s),o_(s)))},u8=(t,s)=>{Lu(t,ux(s))},fP=(t,s)=>{Lu(t,og(ux(s),dx(s)))},mP=(t,s)=>{Lu(t,og(ux(s),s_(s)))},d8=(t,s)=>{Lu(t,s_(s))},f8=(t,s)=>{Lu(t,og(aP(s),s_(s)))},m8=(t,s)=>{Lu(t,og(n_(s),s_(s)))},g8=(t,s)=>{Lu(t,n_(s))},p8=(t,s)=>{Lu(t,og(n_(s),dx(s)))},w4=(t,s,a,i)=>t<s?t:t>a?a:t===s?s-1:Math.max(s,t-i),_4=(t,s,a,i)=>t>a?t:t<s?s:t===a?a+1:Math.min(a,t+i),C4=(t,s,a)=>Math.max(s,Math.min(a,t)),h8=(t,s,a,i,d)=>d.fold(()=>{const g=t-s,p=Math.round(g/i)*i;return C4(s+p,s-1,a+1)},g=>{const p=(t-g)%i,k=Math.round(p/i),_=Math.floor((t-g)/i),E=Math.floor((a-g)/i),z=Math.min(E,_+k),N=g+z*i;return Math.max(g,N)}),y8=(t,s,a)=>Math.min(a,Math.max(t,s))-s,gP=t=>{const{min:s,max:a,range:i,value:d,step:g,snap:p,snapStart:k,rounded:_,hasMinEdge:E,hasMaxEdge:z,minBound:N,maxBound:H,screenRange:V}=t,Y=E?s-1:s,Q=z?a+1:a;if(d<N)return Y;if(d>H)return Q;{const Se=y8(d,N,H),re=C4(Se/V*i+s,Y,Q);return p&&re>=s&&re<=a?h8(re,s,a,g,k):_?Math.round(re):re}},S4=t=>{const{min:s,max:a,range:i,value:d,hasMinEdge:g,hasMaxEdge:p,maxBound:k,maxOffset:_,centerMinEdge:E,centerMaxEdge:z}=t;return d<s?g?0:E:d>a?p?k:z:(d-s)/i*_},r_="top",x4="right",T4="bottom",fx="left",pP="width",E4="height",sg=t=>t.element.dom.getBoundingClientRect(),Vu=(t,s)=>t[s],Cp=t=>{const s=sg(t);return Vu(s,fx)},A4=t=>{const s=sg(t);return Vu(s,x4)},a_=t=>{const s=sg(t);return Vu(s,r_)},z4=t=>{const s=sg(t);return Vu(s,T4)},hP=t=>{const s=sg(t);return Vu(s,pP)},yP=t=>{const s=sg(t);return Vu(s,E4)},c_=(t,s,a)=>(t+s)/2-a,bP=(t,s)=>{const a=sg(t),i=sg(s),d=Vu(a,fx),g=Vu(a,x4),p=Vu(i,fx);return c_(d,g,p)},vP=(t,s)=>{const a=sg(t),i=sg(s),d=Vu(a,r_),g=Vu(a,T4),p=Vu(i,r_);return c_(d,g,p)},i_=(t,s)=>{hn(t,t_(),{value:s})},mx=(t,s,a)=>{const i={min:ub(s),max:Mh(s),range:y4(s),value:a,step:Fu(s),snap:cP(s),snapStart:Iv(s),rounded:iP(s),hasMinEdge:lP(s),hasMaxEdge:uP(s),minBound:Cp(t),maxBound:A4(t),screenRange:hP(t)};return gP(i)},O4=(t,s,a)=>{const i=mx(t,s,a);return i_(t,i),i},kP=(t,s)=>{const a=ub(s);i_(t,a)},rl=(t,s)=>{const a=Mh(s);i_(t,a)},wP=(t,s,a,i)=>{const g=(t>0?_4:w4)(_p(a),ub(a),Mh(a),Fu(a,i));return i_(s,g),C.some(g)},_P=t=>(s,a,i)=>wP(t,s,a,i).map(ze),b8=t=>lx(t).map(a=>a.left),CP=(t,s,a,i,d)=>{const p=hP(t),k=i.bind(z=>C.some(bP(z,t))).getOr(0),_=d.bind(z=>C.some(bP(z,t))).getOr(p),E={min:ub(s),max:Mh(s),range:y4(s),value:a,hasMinEdge:lP(s),hasMaxEdge:uP(s),minBound:Cp(t),minOffset:0,maxBound:A4(t),maxOffset:p,centerMinEdge:k,centerMaxEdge:_};return S4(E)},D4=(t,s,a,i,d,g)=>{const p=CP(s,g,a,i,d);return Cp(s)-Cp(t)+p},v8=(t,s,a,i)=>{const d=_p(a),g=D4(t,i.getSpectrum(t),d,i.getLeftEdge(t),i.getRightEdge(t),a),p=Va(s.element)/2;Je(s.element,"left",g-p+"px")},k8=_P(-1),SP=_P(1),rg=C.none,R4=C.none,xP={"top-left":C.none(),top:C.none(),"top-right":C.none(),right:C.some(u8),"bottom-right":C.none(),bottom:C.none(),"bottom-left":C.none(),left:C.some(g8)};var gx=Object.freeze({__proto__:null,setValueFrom:O4,setToMin:kP,setToMax:rl,findValueOfOffset:mx,getValueFromEvent:b8,findPositionOfValue:D4,setPositionFromValue:v8,onLeft:k8,onRight:SP,onUp:rg,onDown:R4,edgeActions:xP});const Lv=(t,s)=>{hn(t,t_(),{value:s})},M4=(t,s,a)=>{const i={min:db(s),max:wp(s),range:b4(s),value:a,step:Fu(s),snap:cP(s),snapStart:Iv(s),rounded:iP(s),hasMinEdge:dP(s),hasMaxEdge:v4(s),minBound:a_(t),maxBound:z4(t),screenRange:yP(t)};return gP(i)},w8=(t,s,a)=>{const i=M4(t,s,a);return Lv(t,i),i},_8=(t,s)=>{const a=db(s);Lv(t,a)},C8=(t,s)=>{const a=wp(s);Lv(t,a)},S8=(t,s,a,i)=>{const g=(t>0?_4:w4)(_p(a),db(a),wp(a),Fu(a,i));return Lv(s,g),C.some(g)},TP=t=>(s,a,i)=>S8(t,s,a,i).map(ze),x8=t=>lx(t).map(a=>a.top),EP=(t,s,a,i,d)=>{const p=yP(t),k=i.bind(z=>C.some(vP(z,t))).getOr(0),_=d.bind(z=>C.some(vP(z,t))).getOr(p),E={min:db(s),max:wp(s),range:b4(s),value:a,hasMinEdge:dP(s),hasMaxEdge:v4(s),minBound:a_(t),minOffset:0,maxBound:z4(t),maxOffset:p,centerMinEdge:k,centerMaxEdge:_};return S4(E)},N4=(t,s,a,i,d,g)=>{const p=EP(s,g,a,i,d);return a_(s)-a_(t)+p},ag=(t,s,a,i)=>{const d=_p(a),g=N4(t,i.getSpectrum(t),d,i.getTopEdge(t),i.getBottomEdge(t),a),p=Cs(s.element)/2;Je(s.element,"top",g-p+"px")},px=C.none,T8=C.none,E8=TP(-1),AP=TP(1),zP={"top-left":C.none(),top:C.some(i8),"top-right":C.none(),right:C.none(),"bottom-right":C.none(),bottom:C.some(d8),"bottom-left":C.none(),left:C.none()};var P4=Object.freeze({__proto__:null,setValueFrom:w8,setToMin:_8,setToMax:C8,findValueOfOffset:M4,getValueFromEvent:x8,findPositionOfValue:N4,setPositionFromValue:ag,onLeft:px,onRight:T8,onUp:E8,onDown:AP,edgeActions:zP});const fb=(t,s)=>{hn(t,t_(),{value:s})},Nh=(t,s)=>({x:t,y:s}),l_=(t,s,a)=>{const i=mx(t,s,a.left),d=M4(t,s,a.top),g=Nh(i,d);return fb(t,g),g},OP=(t,s,a,i,d)=>{const g=t>0?_4:w4,p=s?_p(i).x:g(_p(i).x,ub(i),Mh(i),Fu(i,d)),k=s?g(_p(i).y,db(i),wp(i),Fu(i,d)):_p(i).y;return fb(a,Nh(p,k)),C.some(p)},u_=(t,s)=>(a,i,d)=>OP(t,s,a,i,d).map(ze),DP=(t,s)=>{const a=ub(s),i=db(s);fb(t,Nh(a,i))},RP=(t,s)=>{const a=Mh(s),i=wp(s);fb(t,Nh(a,i))},A8=t=>lx(t),z8=(t,s,a,i)=>{const d=_p(a),g=D4(t,i.getSpectrum(t),d.x,i.getLeftEdge(t),i.getRightEdge(t),a),p=N4(t,i.getSpectrum(t),d.y,i.getTopEdge(t),i.getBottomEdge(t),a),k=Va(s.element)/2,_=Cs(s.element)/2;Je(s.element,"left",g-k+"px"),Je(s.element,"top",p-_+"px")},O8=u_(-1,!1),D8=u_(1,!1),R8=u_(-1,!0),MP=u_(1,!0),NP={"top-left":C.some(k4),top:C.some(Hu),"top-right":C.some(l8),right:C.some(fP),"bottom-right":C.some(mP),bottom:C.some(f8),"bottom-left":C.some(m8),left:C.some(p8)};var M8=Object.freeze({__proto__:null,setValueFrom:l_,setToMin:DP,setToMax:RP,getValueFromEvent:A8,setPositionFromValue:z8,onLeft:O8,onRight:D8,onUp:R8,onDown:MP,edgeActions:NP});const PP=[Ee("stepSize",1),Ee("speedMultiplier",10),Ee("onChange",ae),Ee("onChoose",ae),Ee("onInit",ae),Ee("onDragStart",ae),Ee("onDragEnd",ae),Ee("snapToGrid",!1),Ee("rounded",!0),Bo("snapStart"),Lo("model",wa("mode",{x:[Ee("minX",0),Ee("maxX",100),Fo("value",t=>tn(t.mode.minX)),Ke("getInitialValue"),ws("manager",gx)],y:[Ee("minY",0),Ee("maxY",100),Fo("value",t=>tn(t.mode.minY)),Ke("getInitialValue"),ws("manager",P4)],xy:[Ee("minX",0),Ee("maxX",100),Ee("minY",0),Ee("maxY",100),Fo("value",t=>tn({x:t.mode.minX,y:t.mode.minY})),Ke("getInitialValue"),ws("manager",M8)]})),Ya("sliderBehaviours",[pn,It]),Fo("mouseIsDown",()=>tn(!1))],Sd=Gc({name:"Slider",configFields:PP,partFields:o8,factory:(t,s,a,i)=>{const d=He=>Cl(He,t,"thumb"),g=He=>Cl(He,t,"spectrum"),p=He=>it(He,t,"left-edge"),k=He=>it(He,t,"right-edge"),_=He=>it(He,t,"top-edge"),E=He=>it(He,t,"bottom-edge"),z=t.model,N=z.manager,H=(He,At)=>{N.setPositionFromValue(He,At,t,{getLeftEdge:p,getRightEdge:k,getTopEdge:_,getBottomEdge:E,getSpectrum:g})},V=(He,At)=>{z.value.set(At);const Ft=d(He);H(He,Ft)},Y=(He,At)=>{V(He,At);const Ft=d(He);return t.onChange(He,Ft,At),C.some(!0)},Q=He=>{N.setToMin(He,t)},Se=He=>{N.setToMax(He,t)},re=He=>{const At=()=>{it(He,t,"thumb").each(We=>{const qt=z.value.get();t.onChoose(He,We,qt)})},Ft=t.mouseIsDown.get();t.mouseIsDown.set(!1),Ft&&At()},ye=(He,At)=>{At.stop(),t.mouseIsDown.set(!0),t.onDragStart(He,d(He))},ve=(He,At)=>{At.stop(),t.onDragEnd(He,d(He)),re(He)},qe=He=>{it(He,t,"spectrum").map(pn.focusIn)};return{uid:t.uid,dom:t.dom,components:s,behaviours:Xa(t.sliderBehaviours,[pn.config({mode:"special",focusIn:qe}),It.config({store:{mode:"manual",getValue:He=>z.value.get(),setValue:V}}),Di.config({channels:{[q1()]:{onReceive:re}}})]),events:Is([Xe(t_(),(He,At)=>{Y(He,At.event.value)}),qs((He,At)=>{const Ft=z.getInitialValue();z.value.set(Ft);const We=d(He);H(He,We);const qt=g(He);t.onInit(He,We,qt,z.value.get())}),Xe(Zl(),ye),Xe(Ds(),ve),Xe(Ar(),(He,At)=>{qe(He),ye(He,At)}),Xe(Df(),ve)]),apis:{resetToMin:Q,resetToMax:Se,setValue:V,refresh:H},domModification:{styles:{position:"relative"}}}},apis:{setValue:(t,s,a)=>{t.setValue(s,a)},resetToMin:(t,s)=>{t.resetToMin(s)},resetToMax:(t,s)=>{t.resetToMax(s)},refresh:(t,s)=>{t.refresh(s)}}}),mb=Vt("rgb-hex-update"),BP=Vt("slider-update"),B4=Vt("palette-update"),N8=(t,s)=>{const a=Sd.parts.spectrum({dom:{tag:"div",classes:[s("hue-slider-spectrum")],attributes:{role:"presentation"}}}),i=Sd.parts.thumb({dom:{tag:"div",classes:[s("hue-slider-thumb")],attributes:{role:"presentation"}}});return Sd.sketch({dom:{tag:"div",classes:[s("hue-slider")],attributes:{role:"slider","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":120}},rounded:!1,model:{mode:"y",getInitialValue:Z(0)},components:[a,i],sliderBehaviours:gt([zn.config({})]),onChange:(d,g,p)=>{Pt(d.element,"aria-valuenow",Math.floor(360-p*3.6)),hn(d,BP,{value:p})}})},$P="form",P8=[Ya("formBehaviours",[It])],IP=t=>"<alloy.field."+t+">",FP=t=>{const s=(()=>{const g=[];return{field:(k,_)=>(g.push(k),jS($P,IP(k),_)),record:Z(g)}})(),a=t(s),i=s.record(),d=we(i,g=>Ac({name:g,pname:IP(g)}));return Qm($P,P8,d,LP,a)},B8=(t,s)=>t.fold(()=>Vn.error(s),Vn.value),LP=(t,s)=>({uid:t.uid,dom:t.dom,components:s,behaviours:Xa(t.formBehaviours,[It.config({store:{mode:"manual",getValue:a=>{const i=Xk(a,t);return Wn(i,(d,g)=>d().bind(p=>{const k=Ro.getCurrent(p);return B8(k,new Error(`Cannot find a current component to extract the value from for form part '${g}': `+Om(p.element)))}).map(It.getValue))},setValue:(a,i)=>{eo(i,(d,g)=>{it(a,t,g).each(p=>{Ro.getCurrent(p).each(k=>{It.setValue(k,d)})})})}}})]),apis:{getField:(a,i)=>it(a,t,i).bind(Ro.getCurrent)}}),Ph={getField:Xb((t,s,a)=>t.getField(s,a)),sketch:FP},cg=Vt("valid-input"),hx=Vt("invalid-input"),$4=Vt("validating-input"),yx="colorcustom.rgb.",I4={isEnabled:ze,setEnabled:ae,immediatelyShow:ae,immediatelyHide:ae},HP=(t,s,a,i,d,g)=>{const p=(Q,Se)=>{const re=Se.get();Q!==re.isEnabled()&&(re.setEnabled(Q),Q?re.immediatelyShow():re.immediatelyHide())},k=(Q,Se,re)=>Qf.config({invalidClass:s("invalid"),notify:{onValidate:ye=>{hn(ye,$4,{type:Q})},onValid:ye=>{p(!1,re),hn(ye,cg,{type:Q,value:It.getValue(ye)})},onInvalid:ye=>{p(!0,re),hn(ye,hx,{type:Q,value:It.getValue(ye)})}},validator:{validate:ye=>{const ve=It.getValue(ye),qe=Se(ve)?Vn.value(!0):Vn.error(t("aria.input.invalid"));return Uc.pure(qe)},validateOnLoad:!1}}),_=(Q,Se,re,ye,ve)=>{const qe=tn(I4),He=t(yx+"range"),At=ps.parts.label({dom:{tag:"label",attributes:{"aria-label":ye}},components:[br(re)]}),Ft=ps.parts.field({data:ve,factory:tb,inputAttributes:{type:"text",...Se==="hex"?{"aria-live":"polite"}:{}},inputClasses:[s("textfield")],inputBehaviours:gt([k(Se,Q,qe),Hs.config({}),Lr.config({...d({tooltipText:"",onSetup:qo=>{qe.set({isEnabled:()=>Lr.isEnabled(qo),setEnabled:Kt=>Lr.setEnabled(qo,Kt),immediatelyShow:()=>Lr.immediateOpenClose(qo,!0),immediatelyHide:()=>Lr.immediateOpenClose(qo,!1)}),Lr.setEnabled(qo,!1)},onShow:(qo,Kt)=>{Lr.setComponents(qo,[{dom:{tag:"p",classes:[s("rgb-warning-note")]},components:[br(t(Se==="hex"?"colorcustom.rgb.invalidHex":"colorcustom.rgb.invalid"))]}])}})})]),onSetValue:qo=>{Qf.isInvalid(qo)&&Qf.run(qo).get(ae)}}),We=Vt("aria-invalid"),qt=Qo(g("invalid",C.some(We),"warning")),Tt=Qo({dom:{tag:"div",classes:[s("invalid-icon")]},components:[qt.asSpec()]}),Jt=[At,Ft,Tt.asSpec()],yo=Se!=="hex"?[ps.parts["aria-descriptor"]({text:He})]:[],Us=Jt.concat(yo);return{dom:{tag:"div",attributes:{role:"presentation"},classes:[s("rgb-container")]},components:Us}},E=(Q,Se)=>{const re=Lw(Se);return Ph.getField(Q,"hex").each(ye=>{zn.isFocused(ye)||It.setValue(Q,{hex:re.value})}),re},z=(Q,Se)=>{const re=Se.red,ye=Se.green,ve=Se.blue;It.setValue(Q,{red:re,green:ye,blue:ve})},N=Qo({dom:{tag:"div",classes:[s("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),H=(Q,Se)=>{N.getOpt(Q).each(re=>{Je(re.element,"background-color","#"+Se.value)})};return ol({factory:()=>{const Q={red:tn(C.some(255)),green:tn(C.some(255)),blue:tn(C.some(255)),hex:tn(C.some("ffffff"))},Se=(Kt,at)=>{const Dt=Hw(at);z(Kt,Dt),qe(Dt)},re=Kt=>Q[Kt].get(),ye=(Kt,at)=>{Q[Kt].set(at)},ve=()=>re("red").bind(Kt=>re("green").bind(at=>re("blue").map(Dt=>cb(Kt,at,Dt,1)))),qe=Kt=>{const at=Kt.red,Dt=Kt.green,On=Kt.blue;ye("red",C.some(at)),ye("green",C.some(Dt)),ye("blue",C.some(On))},He=(Kt,at)=>{const Dt=at.event;Dt.type!=="hex"?ye(Dt.type,C.none()):i(Kt)},At=(Kt,at)=>{a(Kt);const Dt=tN(at);ye("hex",C.some(Dt.value));const On=Hw(Dt);z(Kt,On),qe(On),hn(Kt,mb,{hex:Dt}),H(Kt,Dt)},Ft=(Kt,at,Dt)=>{const On=parseInt(Dt,10);ye(at,C.some(On)),ve().each(Cn=>{const mn=E(Kt,Cn);hn(Kt,mb,{hex:mn}),H(Kt,mn)})},We=Kt=>Kt.type==="hex",qt=(Kt,at)=>{const Dt=at.event;We(Dt)?At(Kt,Dt.value):Ft(Kt,Dt.type,Dt.value)},Tt=Kt=>({label:t(yx+Kt+".label"),description:t(yx+Kt+".description")}),Jt=Tt("red"),yo=Tt("green"),Us=Tt("blue"),qo=Tt("hex");return zs(Ph.sketch(Kt=>({dom:{tag:"form",classes:[s("rgb-form")],attributes:{"aria-label":t("aria.color.picker")}},components:[Kt.field("red",ps.sketch(_(Iz,"red",Jt.label,Jt.description,255))),Kt.field("green",ps.sketch(_(Iz,"green",yo.label,yo.description,255))),Kt.field("blue",ps.sketch(_(Iz,"blue",Us.label,Us.description,255))),Kt.field("hex",ps.sketch(_(oN,"hex",qo.label,qo.description,"ffffff"))),N.asSpec()],formBehaviours:gt([Qf.config({invalidClass:s("form-invalid")}),Kn("rgb-form-events",[Xe(cg,qt),Xe(hx,He),Xe($4,He)])])})),{apis:{updateHex:(Kt,at)=>{It.setValue(Kt,{hex:at.value}),Se(Kt,at),H(Kt,at)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(Q,Se,re)=>{Q.updateHex(Se,re)}},extraApis:{}})},bx=(t,s)=>{const a=Sd.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[s("sv-palette-spectrum")]}}),i=Sd.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[s("sv-palette-thumb")],innerHtml:`<div class=${s("sv-palette-inner-thumb")} role="presentation"></div>`}}),d=(E,z)=>{const{width:N,height:H}=E,V=E.getContext("2d");if(V===null)return;V.fillStyle=z,V.fillRect(0,0,N,H);const Y=V.createLinearGradient(0,0,N,0);Y.addColorStop(0,"rgba(255,255,255,1)"),Y.addColorStop(1,"rgba(255,255,255,0)"),V.fillStyle=Y,V.fillRect(0,0,N,H);const Q=V.createLinearGradient(0,0,0,H);Q.addColorStop(0,"rgba(0,0,0,0)"),Q.addColorStop(1,"rgba(0,0,0,1)"),V.fillStyle=Q,V.fillRect(0,0,N,H)},g=(E,z)=>{const N=E.components()[0].element.dom,H=Uw(z,100,100),V=uN(H);d(N,dN(V))},p=(E,z)=>{const N=jw(Hw(z));Sd.setValue(E,{x:N.saturation,y:100-N.value}),Pt(E.element,"aria-valuetext",t(["Saturation {0}%, Brightness {1}%",N.saturation,N.value]))};return ol({factory:E=>{const z=Z({x:0,y:0}),N=(Y,Q,Se)=>{No(Se)||Pt(Y.element,"aria-valuetext",t(["Saturation {0}%, Brightness {1}%",Math.floor(Se.x),Math.floor(100-Se.y)])),hn(Y,B4,{value:Se})},H=(Y,Q,Se,re)=>{d(Se.element.dom,dN(fN))},V=gt([Ro.config({find:C.some}),zn.config({})]);return Sd.sketch({dom:{tag:"div",attributes:{role:"slider","aria-valuetext":t(["Saturation {0}%, Brightness {1}%",0,0])},classes:[s("sv-palette")]},model:{mode:"xy",getInitialValue:z},rounded:!1,components:[a,i],onChange:N,onInit:H,sliderBehaviours:V})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(E,z,N)=>{g(z,N)},setThumb:(E,z,N)=>{p(z,N)}},extraApis:{}})},VP=(t,s,a,i)=>{const d=p=>{const k=HP(t,s,p.onValidHex,p.onInvalidHex,a,i),_=bx(t,s),E=We=>(100-We)/100*360,z=We=>100-We/360*100,N={paletteRgba:tn(fN),paletteHue:tn(0)},H=Qo(N8(t,s)),V=Qo(_.sketch({})),Y=Qo(k.sketch({})),Q=(We,qt,Tt)=>{V.getOpt(We).each(Jt=>{_.setHue(Jt,Tt)})},Se=(We,qt)=>{Y.getOpt(We).each(Tt=>{k.updateHex(Tt,qt)})},re=(We,qt,Tt)=>{H.getOpt(We).each(Jt=>{Sd.setValue(Jt,z(Tt))})},ye=(We,qt)=>{V.getOpt(We).each(Tt=>{_.setThumb(Tt,qt)})},ve=(We,qt)=>{const Tt=Hw(We);N.paletteRgba.set(Tt),N.paletteHue.set(qt)},qe=(We,qt,Tt,Jt)=>{ve(qt,Tt),Qe(Jt,yo=>{yo(We,qt,Tt)})},He=()=>{const We=[Se];return(qt,Tt)=>{const Jt=Tt.event.value,yo=N.paletteHue.get(),Us=Uw(yo,Jt.x,100-Jt.y),qo=Ww(Us);qe(qt,qo,yo,We)}},At=()=>{const We=[Q,Se];return(qt,Tt)=>{const Jt=E(Tt.event.value),yo=N.paletteRgba.get(),Us=jw(yo),qo=Uw(Jt,Us.saturation,Us.value),Kt=Ww(qo);qe(qt,Kt,Jt,We)}},Ft=()=>{const We=[Q,re,ye];return(qt,Tt)=>{const Jt=Tt.event.hex,yo=jz(Jt);qe(qt,Jt,yo.hue,We)}};return{uid:p.uid,dom:p.dom,components:[V.asSpec(),H.asSpec(),Y.asSpec()],behaviours:gt([Kn("colour-picker-events",[Xe(mb,Ft()),Xe(B4,He()),Xe(BP,At())]),Ro.config({find:We=>Y.getOpt(We)}),pn.config({mode:"acyclic"})])}};return ol({name:"ColourPicker",configFields:[Ke("dom"),Ee("onValidHex",ae),Ee("onInvalidHex",ae)],factory:d})},uf={self:()=>Ro.config({find:C.some}),memento:t=>Ro.config({find:t.getOpt}),childAt:t=>Ro.config({find:s=>Mr(s.element,t).bind(a=>s.getSystem().getByDom(a).toOptional())})},I8=kn([Ee("preprocess",zt),Ee("postprocess",zt)]),F8=(t,s)=>{const a=wc("RepresentingConfigs.memento processors",I8,s);return It.config({store:{mode:"manual",getValue:i=>{const d=t.get(i),g=It.getValue(d);return a.postprocess(g)},setValue:(i,d)=>{const g=a.preprocess(d),p=t.get(i);It.setValue(p,g)}}})},Bh=(t,s,a)=>It.config({store:{mode:"manual",...t.map(i=>({initialValue:i})).getOr({}),getValue:s,setValue:a}}),F4=(t,s,a)=>Bh(t,i=>s(i.element),(i,d)=>a(i.element,d)),L8=t=>F4(t,Au,zm),vx=t=>It.config({store:{mode:"memory",initialValue:t}}),H8={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.rgb.invalid":"Numbers only, 0 to 255","colorcustom.rgb.invalidHex":"Hexadecimal only, 000000 to FFFFFF","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},kx=t=>s=>on(s)?t.translate(H8[s]):t.translate(s),V8=(t,s,a)=>{const i=E=>"tox-"+E,d=(E,z,N=E,H=E)=>$u(N,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+E],attributes:{title:s.translate(H),"aria-live":"polite",...z.fold(()=>({}),V=>({id:V}))}},s.icons),g=VP(kx(s),i,s.tooltips.getConfig,d),p=E=>{hn(E,ng,{name:"hex-valid",value:!0})},k=E=>{hn(E,ng,{name:"hex-valid",value:!1})},_=Qo(g.sketch({dom:{tag:"div",classes:[i("color-picker-container")],attributes:{role:"presentation"}},onValidHex:p,onInvalidHex:k}));return{dom:{tag:"div"},components:[_.asSpec()],behaviours:gt([Bh(a,E=>{const z=_.get(E);return Ro.getCurrent(z).bind(V=>It.getValue(V).hex).map(V=>"#"+cl(V,"#")).getOr("")},(E,z)=>{const N=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,H=C.from(N.exec(z)).bind(Q=>Lt(Q,1)),V=_.get(E);Ro.getCurrent(V).fold(()=>{console.log("Can not find form")},Q=>{It.setValue(Q,{hex:H.getOr("")}),Ph.getField(Q,"hex").each(Se=>{no(Se,jd())})})}),uf.self()])}};var U8=tinymce.util.Tools.resolve("tinymce.Resource");const L4=t=>to(t,"init"),UP=t=>{const s=os(),a=Qo({dom:{tag:t.tag}}),i=os(),d=!L4(t)&&t.onFocus.isSome()?[zn.config({onFocus:g=>{t.onFocus.each(p=>{p(g.element.dom)})}}),Hs.config({})]:[];return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:gt([Kn("custom-editor-events",[qs(g=>{a.getOpt(g).each(p=>{(L4(t)?t.init(p.element.dom):U8.load(t.scriptId,t.scriptUrl).then(k=>k(p.element.dom,t.settings))).then(k=>{i.on(_=>{k.setValue(_)}),i.clear(),s.set(k)})})})]),Bh(C.none(),()=>s.get().fold(()=>i.get().getOr(""),g=>g.getValue()),(g,p)=>{s.get().fold(()=>i.set(p),k=>k.setValue(p))}),uf.self()].concat(d)),components:[a.asSpec()]}};var Sp=tinymce.util.Tools.resolve("tinymce.util.Tools");const j8=(t,s)=>{const a=Sp.explode(s.getOption("images_file_types")),i=d=>Xt(a,g=>Ra(d.name.toLowerCase(),`.${g.toLowerCase()}`));return xn(co(t),i)},H4=(t,s,a)=>{const i=(H,V)=>{V.stop()},d=H=>(V,Y)=>{Qe(H,Q=>{Q(V,Y)})},g=(H,V)=>{var Y;if(!l.isDisabled(H)){const Q=V.event.raw;k(H,(Y=Q.dataTransfer)===null||Y===void 0?void 0:Y.files)}},p=(H,V)=>{const Y=V.event.raw.target;k(H,Y.files)},k=(H,V)=>{V&&(It.setValue(H,j8(V,s)),hn(H,El,{name:t.name}))},_=Qo({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:gt([Kn("input-file-events",[ud(Pg()),ud(id())])])}),E=H=>({uid:H.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:gt([vx(a.getOr([])),uf.self(),l.config({}),ao.config({toggleClass:"dragenter",toggleOnExecute:!1}),Kn("dropzone-events",[Xe("dragenter",d([i,ao.toggle])),Xe("dragleave",d([i,ao.toggle])),Xe("dragover",i),Xe("drop",d([i,g])),Xe(Lp(),p)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[br(s.translate("Drop an image here"))]},Vc.sketch({dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[br(s.translate("Browse for an image")),_.asSpec()],action:V=>{_.get(V).element.dom.click()},buttonBehaviours:gt([Hs.config({}),lf.button(s.isDisabled),Qa()])})]}]}),z=t.label.map(H=>Dh(H,s)),N=ps.parts.field({factory:{sketch:E}});return Xw(z,N,["tox-form__group--stretched"],[])},W8=(t,s)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${t.columns}col`]},components:we(t.items,s.interpreter)}),jP=(t,s)=>{let a=null,i=null;return{cancel:()=>{rs(a)||(clearTimeout(a),a=null,i=null)},throttle:(...p)=>{i=p,rs(a)&&(a=setTimeout(()=>{const k=i;a=null,i=null,t.apply(null,k)},s))}}},Z8=(t,s)=>{let a=null;return{cancel:()=>{rs(a)||(clearTimeout(a),a=null)},throttle:(...g)=>{rs(a)&&(a=setTimeout(()=>{a=null,t.apply(null,g)},s))}}},V4=(t,s)=>{let a=null;const i=()=>{rs(a)||(clearTimeout(a),a=null)};return{cancel:i,throttle:(...g)=>{i(),a=setTimeout(()=>{a=null,t.apply(null,g)},s)}}},U4=Vt("alloy-fake-before-tabstop"),wx=Vt("alloy-fake-after-tabstop"),j4=t=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:t},behaviours:gt([zn.config({ignore:!0}),Hs.config({})])}),WP=(t,s)=>({dom:{tag:"div",classes:["tox-navobj",...t.getOr([])]},components:[j4([U4]),s,j4([wx])],behaviours:gt([uf.childAt(1)])}),ZP=(t,s)=>{hn(t,Tu(),{raw:{which:9,shiftKey:s}})},q8=(t,s)=>{const a=s.element;Gi(a,U4)?ZP(t,!0):Gi(a,wx)&&ZP(t,!1)},d_=t=>Zw(t,["."+U4,"."+wx].join(","),Ae),f_=Vt("update-dialog"),qP=Vt("update-title"),W4=Vt("update-body"),GP=Vt("update-footer"),KP=Vt("body-send-message"),_x=Vt("dialog-focus-shifted"),Z4=Qn().browser,m_=Z4.isSafari(),G8=Z4.isFirefox(),YP=m_||G8,K8=Z4.isChromium(),Y8=({scrollTop:t,scrollHeight:s,clientHeight:a})=>Math.ceil(t)+a>=s,Cx=(t,s)=>t.scrollTo(0,s==="bottom"?99999999:s),X8=(t,s)=>{const a=t.body;return C.from(!/^<!DOCTYPE (html|HTML)/.test(s)&&(!K8&&!m_||fo(a)&&(a.scrollTop!==0||Math.abs(a.scrollHeight-a.clientHeight)>1))?a:t.documentElement)},XP=(t,s,a)=>{const i=t.dom;C.from(i.contentDocument).fold(a,d=>{let g=0;const p=X8(d,s).map(_=>(g=_.scrollTop,_)).forall(Y8),k=()=>{const _=i.contentWindow;fo(_)&&(p?Cx(_,"bottom"):!p&&YP&&g!==0&&Cx(_,g))};m_&&i.addEventListener("load",k,{once:!0}),d.open(),d.write(s),d.close(),m_||k()})},g_=fn(YP,m_?500:200).map(t=>jP(XP,t)),q4=(t,s)=>{const a=tn(t.getOr(""));return{getValue:i=>a.get(),setValue:(i,d)=>{if(a.get()!==d){const g=i.element,p=()=>Pt(g,"srcdoc",d);s?g_.fold(Z(XP),k=>k.throttle)(g,d,p):p()}a.set(d)}}},J8=(t,s,a)=>{const i="tox-dialog__iframe",d=t.transparent?[]:[`${i}--opaque`],g=t.border?["tox-navobj-bordered"]:[],p={...t.label.map(N=>({title:N})).getOr({}),...a.map(N=>({srcdoc:N})).getOr({}),...t.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}},k=q4(a,t.streamContent),_=t.label.map(N=>Dh(N,s)),E=N=>WP(C.from(g),{uid:N.uid,dom:{tag:"iframe",attributes:p,classes:[i,...d]},behaviours:gt([Hs.config({}),zn.config({}),Bh(a,k.getValue,k.setValue),Di.config({channels:{[_x]:{onReceive:(H,V)=>{V.newFocus.each(Y=>{Mc(H.element).each(Q=>{(jo(H.element,Y)?Fs:yr)(Q,"tox-navobj-bordered-focus")})})}}}})])}),z=ps.parts.field({factory:{sketch:E}});return Xw(_,z,["tox-form__group--stretched"],[])},Q8=t=>new Promise((s,a)=>{const i=()=>{g(),s(t)},d=[ui(t,"load",i),ui(t,"error",()=>{g(),a("Unable to load data from image: "+t.dom.src)})],g=()=>Qe(d,p=>p.unbind());t.dom.complete&&i()}),G4=(t,s,a,i,d)=>{const g=a*d,p=i*d,k=Math.max(0,t/2-g/2),_=Math.max(0,s/2-p/2);return{left:k.toString()+"px",top:_.toString()+"px",width:g.toString()+"px",height:p.toString()+"px"}},eH=(t,s,a)=>{const i=Va(t),d=Cs(t);return Math.min(i/s,d/a,1)},K4=(t,s)=>{const a=tn(s.getOr({url:""})),i=Qo({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:s.map(_=>({src:_.url})).getOr({})}}),d=Qo({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[i.asSpec()]}),g=(_,E)=>{const z={url:E.url};E.zoom.each(H=>z.zoom=H),E.cachedWidth.each(H=>z.cachedWidth=H),E.cachedHeight.each(H=>z.cachedHeight=H),a.set(z);const N=()=>{const{cachedWidth:H,cachedHeight:V,zoom:Y}=z;if(!ts(H)&&!ts(V)){if(ts(Y)){const Se=eH(_.element,H,V);z.zoom=Se}const Q=G4(Va(_.element),Cs(_.element),H,V,z.zoom);d.getOpt(_).each(Se=>{Ln(Se.element,Q)})}};i.getOpt(_).each(H=>{const V=H.element;E.url!==rn(V,"src")&&(Pt(V,"src",E.url),yr(_.element,"tox-imagepreview__loaded")),N(),Q8(V).then(Y=>{_.getSystem().isConnected()&&(Fs(_.element,"tox-imagepreview__loaded"),z.cachedWidth=Y.dom.naturalWidth,z.cachedHeight=Y.dom.naturalHeight,N())})})},p={};t.height.each(_=>p.height=_);const k=s.map(_=>({url:_.url,zoom:C.from(_.zoom),cachedWidth:C.from(_.cachedWidth),cachedHeight:C.from(_.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:p,attributes:{role:"presentation"}},components:[d.asSpec()],behaviours:gt([uf.self(),Bh(k,()=>a.get(),g)])}},JP=(t,s,a)=>{const i="tox-label",d=t.align==="center"?[`${i}--center`]:[],g=t.align==="end"?[`${i}--end`]:[],p=Qo({dom:{tag:"label",classes:[i,...d,...g]},components:[br(s.providers.translate(t.label))]}),k=we(t.items,s.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[p.asSpec(),...k],behaviours:gt([uf.self(),Nn.config({}),L8(C.none()),pn.config({mode:"acyclic"}),Kn("label",[qs(_=>{t.for.each(E=>{a(E).each(z=>{p.getOpt(_).each(N=>{var H;const V=(H=rn(z.element,"id"))!==null&&H!==void 0?H:Vt("form-field");Pt(z.element,"id",V),Pt(N.element,"for",V)})})})})])])}},QP=Vt("toolbar.button.execute"),tH=t=>Eu((s,a)=>{Iw(t,s)(i=>{hn(s,QP,{buttonApi:i}),t.onAction(i)})}),$h=Vt("common-button-display-events"),Y4={[Gl()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events","tooltipping"],[oi()]:["toolbar-button-events",$h],[Kl()]:["toolbar-button-events","dropdown-events","tooltipping"],[Ar()]:["focusing","alloy.base.behaviour",$h]},X4=t=>Je(t.element,"width",ls(t.element,"width")),J4=(t,s,a)=>$u(t,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:a},s),Sx=(t,s)=>J4(t,s,[]),Ih=(t,s)=>J4(t,s,[Nn.config({})]),Q4=(t,s,a)=>({dom:{tag:"span",classes:[`${s}__select-label`]},components:[br(a.translate(t))],behaviours:gt([Nn.config({})])}),Uu=Vt("update-menu-text"),Fh=Vt("update-menu-icon"),eO=(t,s,a,i)=>{const d=tn(ae),g=t.text.map(Q=>Qo(Q4(Q,s,a.providers))),p=t.icon.map(Q=>Qo(Ih(Q,a.providers.icons))),k=(Q,Se)=>{const re=It.getValue(Q);return zn.focus(re),hn(re,"keydown",{raw:Se.event.raw}),Cd.close(re),C.some(!0)},_=t.role.fold(()=>({}),Q=>({role:Q})),E=C.from(t.listRole).map(Q=>({listRole:Q})).getOr({}),z=t.ariaLabel.fold(()=>({}),Q=>({"aria-label":a.providers.translate(Q)})),N=$u("chevron-down",{tag:"div",classes:[`${s}__select-chevron`]},a.providers.icons),H=Vt("common-button-display-events"),V="dropdown-events";return Qo(Cd.sketch({...t.uid?{uid:t.uid}:{},..._,...E,dom:{tag:"button",classes:[s,`${s}--select`].concat(we(t.classes,Q=>`${s}--${Q}`)),attributes:{...z,...fo(i)?{"data-mce-name":i}:{}}},components:rb([p.map(Q=>Q.asSpec()),g.map(Q=>Q.asSpec()),C.some(N)]),matchWidth:!0,useMinWidth:!0,onOpen:(Q,Se,re)=>{t.searchable&&v7(re)},dropdownBehaviours:gt([...t.dropdownBehaviours,lf.button(()=>t.disabled||a.providers.isDisabled()),Qa(),$v.config({}),Nn.config({}),...t.tooltip.map(Q=>Lr.config(a.providers.tooltips.getConfig({tooltipText:a.providers.translate(Q)}))).toArray(),Kn(V,[mi(t,d),zh(t,d)]),Kn(H,[qs((Q,Se)=>t.listRole==="listbox"?ae:X4(Q))]),Kn("menubutton-update-display-text",[Xe(Uu,(Q,Se)=>{g.bind(re=>re.getOpt(Q)).each(re=>{Nn.set(re,[br(a.providers.translate(Se.event.text))])})}),Xe(Fh,(Q,Se)=>{p.bind(re=>re.getOpt(Q)).each(re=>{Nn.set(re,[Ih(Se.event.icon,a.providers.icons)])})})])]),eventOrder:zs(Y4,{[Ar()]:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[oi()]:["toolbar-button-events",Lr.name(),V,H]}),sandboxBehaviours:gt([pn.config({mode:"special",onLeft:k,onRight:k}),Kn("dropdown-sandbox-events",[Xe(_M,(Q,Se)=>{h7(Q),Se.stop()}),Xe(fz,(Q,Se)=>{sx(Q,Se),Se.stop()})])]),lazySink:a.getSink,toggleClass:`${s}--active`,parts:{menu:{...Dw(!1,t.columns,t.presets),fakeFocus:t.searchable,...t.listRole==="listbox"?{}:{onHighlightItem:UN,onCollapseMenu:(Q,Se,re)=>{an.getHighlighted(re).each(ye=>{UN(Q,re,ye)})},onDehighlightItem:b7}}},getAnchorOverrides:()=>({maxHeightFunction:(Q,Se)=>{aS()(Q,Se-10)}}),fetch:Q=>Uc.nu(gn(t.fetch,Q))})).asSpec()},nH=t=>on(t),eB=t=>t.type==="separator",tB=t=>to(t,"getSubmenuItems"),oH={type:"separator"},nB=(t,s)=>{const a=Co(t,(i,d)=>nH(d)?d===""?i:d==="|"?i.length>0&&!eB(i[i.length-1])?i.concat([oH]):i:to(s,d.toLowerCase())?i.concat([s[d.toLowerCase()]]):i:i.concat([d]),[]);return a.length>0&&eB(a[a.length-1])&&a.pop(),a},sH=(t,s)=>{const a=t.getSubmenuItems(),i=xx(a,s),d=zs(i.menus,{[t.value]:i.items}),g=zs(i.expansions,{[t.value]:t.value});return{item:t,menus:d,expansions:g}},rH=t=>{const s=mt(t,"value").getOrThunk(()=>Vt("generated-menu-item"));return zs({value:s},t)},xx=(t,s)=>{const a=nB(on(t)?t.split(" "):t,s);return Jn(a,(i,d)=>{if(tB(d)){const g=rH(d),p=sH(g,s);return{menus:zs(i.menus,p.menus),items:[p.item,...i.items],expansions:zs(i.expansions,p.expansions)}}else return{...i,items:[d,...i.items]}},{menus:{},expansions:{},items:[]})},aH=t=>t.search.fold(()=>({searchMode:"no-search"}),s=>({searchMode:"search-with-field",placeholder:s.placeholder})),cH=t=>t.search.fold(()=>({searchMode:"no-search"}),s=>({searchMode:"search-with-results"})),Hv=(t,s,a,i)=>{const d=Vt("primary-menu"),g=xx(t,a.shared.providers.menuItems());if(g.items.length===0)return C.none();const p=aH(i),k=i4(d,g.items,s,a,i.isHorizontalMenu,p),_=cH(i),E=Wn(g.menus,(N,H)=>i4(H,N,s,a,!1,_)),z=zs(E,Yn(d,k));return C.from(_h.tieredData(d,z,g.expansions))},Vv=t=>!to(t,"items"),oB="data-value",tO=(t,s,a,i,d)=>we(a,g=>Vv(g)?{type:"togglemenuitem",...d?{}:{role:"option"},text:g.text,value:g.value,active:g.value===i,onAction:()=>{It.setValue(t,g.value),hn(t,El,{name:s}),zn.focus(t)}}:{type:"nestedmenuitem",text:g.text,getSubmenuItems:()=>tO(t,s,g.items,i,d)}),nO=(t,s)=>zo(t,a=>Vv(a)?fn(a.value===s,a):nO(a.items,s)),sB=(t,s,a)=>{const i=Xt(t.items,E=>!Vv(E)),d=s.shared.providers,g=a.bind(E=>nO(t.items,E)).orThunk(()=>po(t.items).filter(Vv)),p=t.label.map(E=>Dh(E,d)),k=ps.parts.field({dom:{},factory:{sketch:E=>eO({uid:E.uid,text:g.map(z=>z.text),icon:C.none(),tooltip:C.none(),role:fn(!i,"combobox"),...i?{}:{listRole:"listbox"},ariaLabel:t.label,fetch:(z,N)=>{const H=tO(z,t.name,t.items,It.getValue(z),i);N(Hv(H,af.CLOSE_ON_EXECUTE,s,{isHorizontalMenu:!1,search:C.none()}))},onSetup:Z(ae),getApi:Z({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[Hs.config({}),Bh(g.map(z=>z.value),z=>rn(z.element,oB),(z,N)=>{nO(t.items,N).each(H=>{Pt(z.element,oB,H.value),hn(z,Uu,{text:H.text})})})]},"tox-listbox",s.shared)}}),_={dom:{tag:"div",classes:["tox-listboxfield"]},components:[k]};return ps.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Qt([p.toArray(),[_]]),fieldBehaviours:gt([l.config({disabled:Z(!t.enabled),onDisabled:E=>{ps.getField(E).each(l.disable)},onEnabled:E=>{ps.getField(E).each(l.enable)}})])})},iH=(t,s)=>({dom:{tag:"div",classes:t.classes},components:we(t.items,s.shared.interpreter)}),lH=(t,s)=>{const a=we(t.options,d=>({dom:{tag:"option",value:d.value,innerHtml:d.text}})),i=t.data.map(d=>Yn("initialValue",d)).getOr({});return{uid:t.uid,dom:{tag:"select",classes:t.selectClasses,attributes:t.selectAttributes},components:a,behaviours:Xa(t.selectBehaviours,[zn.config({}),It.config({store:{mode:"manual",getValue:d=>If(d.element),setValue:(d,g)=>{const p=po(t.options);jt(t.options,_=>_.value===g).isSome()?$m(d.element,g):d.element.dom.selectedIndex===-1&&g===""&&p.each(_=>$m(d.element,_.value))},...i}})])}},uH=ol({name:"HtmlSelect",configFields:[Ke("options"),Ya("selectBehaviours",[zn,It]),Ee("selectClasses",[]),Ee("selectAttributes",{}),Bo("data")],factory:lH}),dH=(t,s,a)=>{const i=we(t.items,_=>({text:s.translate(_.text),value:_.value})),d=t.label.map(_=>Dh(_,s)),g=ps.parts.field({dom:{},...a.map(_=>({data:_})).getOr({}),selectAttributes:{size:t.size},options:i,factory:uH,selectBehaviours:gt([l.config({disabled:()=>!t.enabled||s.isDisabled()}),Hs.config({}),Kn("selectbox-change",[Xe(Lp(),(_,E)=>{hn(_,El,{name:t.name})})])])}),p=t.size>1?C.none():C.some($u("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},s.icons)),k={dom:{tag:"div",classes:["tox-selectfield"]},components:Qt([[g],p.toArray()])};return ps.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Qt([d.toArray(),[k]]),fieldBehaviours:gt([l.config({disabled:()=>!t.enabled||s.isDisabled(),onDisabled:_=>{ps.getField(_).each(l.disable)},onEnabled:_=>{ps.getField(_).each(l.enable)}}),Qa()])})},fH=Z([Ee("field1Name","field1"),Ee("field2Name","field2"),Kd("onLockedChange"),qg(["lockClass"]),Ee("locked",!1),eu.field("coupledFieldBehaviours",[Ro,It])]),rB=(t,s,a)=>it(t,s,a).bind(Ro.getCurrent),aB=(t,s)=>Ac({factory:ps,name:t,overrides:a=>({fieldBehaviours:gt([Kn("coupled-input-behaviour",[Xe(jd(),i=>{rB(i,a,s).each(d=>{it(i,a,"lock").each(g=>{ao.isOn(g)&&a.onLockedChange(i,d,g)})})})])])})}),mH=Z([aB("field1","field2"),aB("field2","field1"),Ac({factory:Vc,schema:[Ke("dom")],name:"lock",overrides:t=>({buttonBehaviours:gt([ao.config({selected:t.locked,toggleClass:t.markers.lockClass,aria:{mode:"pressed"}})])})})]),cB=(t,s,a,i)=>({uid:t.uid,dom:t.dom,components:s,behaviours:eu.augment(t.coupledFieldBehaviours,[Ro.config({find:C.some}),It.config({store:{mode:"manual",getValue:d=>{const g=lp(d,t,["field1","field2"]);return{[t.field1Name]:It.getValue(g.field1()),[t.field2Name]:It.getValue(g.field2())}},setValue:(d,g)=>{const p=lp(d,t,["field1","field2"]);dr(g,t.field1Name)&&It.setValue(p.field1(),g[t.field1Name]),dr(g,t.field2Name)&&It.setValue(p.field2(),g[t.field2Name])}}})]),apis:{getField1:d=>it(d,t,"field1"),getField2:d=>it(d,t,"field2"),getLock:d=>it(d,t,"lock")}}),ju=Gc({name:"FormCoupledInputs",configFields:fH(),partFields:mH(),factory:cB,apis:{getField1:(t,s)=>t.getField1(s),getField2:(t,s)=>t.getField2(s),getLock:(t,s)=>t.getLock(s)}}),gH=t=>{const s={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},a=d=>d in s?s[d]:1;let i=t.value.toFixed(a(t.unit));return i.indexOf(".")!==-1&&(i=i.replace(/\.?0*$/,"")),i+t.unit},oO=t=>{const a=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(t);if(a!==null){const i=parseFloat(a[1]),d=a[2];return Vn.value({value:i,unit:d})}else return Vn.error(t)},sO=(t,s)=>{const a={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},i=d=>to(a,d);return t.unit===s?C.some(t.value):i(t.unit)&&i(s)?a[t.unit]===a[s]?C.some(t.value):C.some(t.value/a[t.unit]*a[s]):C.none()},rO=t=>C.none(),pH=(t,s)=>a=>sO(a,s).map(i=>({value:i*t,unit:s})),hH=(t,s)=>{const a=oO(t).toOptional(),i=oO(s).toOptional();return ha(a,i,(d,g)=>sO(d,g.unit).map(p=>g.value/p).map(p=>pH(p,g.unit)).getOr(rO)).getOr(rO)},iB=(t,s)=>{let a=rO;const i=Vt("ratio-event"),d=V=>$u(V,{tag:"span",classes:["tox-icon","tox-lock-icon__"+V]},s.icons),g=t.label.getOr("Constrain proportions"),p=s.translate(g),k=ju.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":p,"data-mce-name":g}},components:[d("lock"),d("unlock")],buttonBehaviours:gt([l.config({disabled:()=>!t.enabled||s.isDisabled()}),Qa(),Hs.config({}),Lr.config(s.tooltips.getConfig({tooltipText:p}))])}),_=V=>({dom:{tag:"div",classes:["tox-form__group"]},components:V}),E=V=>ps.parts.field({factory:tb,inputClasses:["tox-textfield"],inputBehaviours:gt([l.config({disabled:()=>!t.enabled||s.isDisabled()}),Qa(),Hs.config({}),Kn("size-input-events",[Xe(rd(),(Y,Q)=>{hn(Y,i,{isField1:V})}),Xe(Lp(),(Y,Q)=>{hn(Y,El,{name:t.name})})])]),selectOnFocus:!1}),z=V=>({dom:{tag:"label",classes:["tox-label"]},components:[br(s.translate(V))]}),N=ju.parts.field1(_([ps.parts.label(z("Width")),E(!0)])),H=ju.parts.field2(_([ps.parts.label(z("Height")),E(!1)]));return ju.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[N,H,_([z(Xg),k])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(V,Y,Q)=>{oO(It.getValue(V)).each(Se=>{a(Se).each(re=>{It.setValue(Y,gH(re))})})},coupledFieldBehaviours:gt([l.config({disabled:()=>!t.enabled||s.isDisabled(),onDisabled:V=>{ju.getField1(V).bind(ps.getField).each(l.disable),ju.getField2(V).bind(ps.getField).each(l.disable),ju.getLock(V).each(l.disable)},onEnabled:V=>{ju.getField1(V).bind(ps.getField).each(l.enable),ju.getField2(V).bind(ps.getField).each(l.enable),ju.getLock(V).each(l.enable)}}),Qa(),Kn("size-input-events2",[Xe(i,(V,Y)=>{const Q=Y.event.isField1,Se=Q?ju.getField1(V):ju.getField2(V),re=Q?ju.getField2(V):ju.getField1(V),ye=Se.map(It.getValue).getOr(""),ve=re.map(It.getValue).getOr("");a=hH(ye,ve)})])])})},lB=(t,s,a)=>{const i=Sd.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[br(s.translate(t.label))]}),d=Sd.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),g=Sd.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return Sd.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:t.min,maxX:t.max,getInitialValue:Z(a.getOrThunk(()=>(Math.abs(t.max)-Math.abs(t.min))/2))},components:[i,d,g],sliderBehaviours:gt([uf.self(),zn.config({})]),onChoose:(p,k,_)=>{hn(p,El,{name:t.name,value:_})},onChange:(p,k,_)=>{hn(p,El,{name:t.name,value:_})}})},uB=(t,s)=>{const a=k=>({dom:{tag:"th",innerHtml:s.translate(k)}}),i=k=>({dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:we(k,a)}]}),d=k=>({dom:{tag:"td",innerHtml:s.translate(k)}}),g=k=>({dom:{tag:"tr"},components:we(k,d)}),p=k=>({dom:{tag:"tbody"},components:we(k,g)});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[i(t.header),p(t.cells)],behaviours:gt([Hs.config({}),zn.config({})])}},p_=(t,s)=>{const a=t.label.map(V=>Dh(V,s)),i=[l.config({disabled:()=>t.disabled||s.isDisabled()}),Qa(),pn.config({mode:"execution",useEnter:t.multiline!==!0,useControlEnter:t.multiline===!0,execute:V=>(no(V,Jw),C.some(!0))}),Kn("textfield-change",[Xe(jd(),(V,Y)=>{hn(V,El,{name:t.name})}),Xe(Rf(),(V,Y)=>{hn(V,El,{name:t.name})})]),Hs.config({})],d=t.validation.map(V=>Qf.config({getRoot:Y=>Mc(Y.element),invalidClass:"tox-invalid",validator:{validate:Y=>{const Q=It.getValue(Y),Se=V.validator(Q);return Uc.pure(Se===!0?Vn.value(Q):Vn.error(Se))},validateOnLoad:V.validateOnLoad}})).toArray(),g=t.placeholder.fold(Z({}),V=>({placeholder:s.translate(V)})),p=t.inputMode.fold(Z({}),V=>({inputmode:V})),k={...g,...p,"data-mce-name":t.name},_=ps.parts.field({tag:t.multiline===!0?"textarea":"input",...t.data.map(V=>({data:V})).getOr({}),inputAttributes:k,inputClasses:[t.classname],inputBehaviours:gt(Qt([i,d])),selectOnFocus:!1,factory:tb}),E=t.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[_]}:_,N=(t.flex?["tox-form__group--stretched"]:[]).concat(t.maximized?["tox-form-group--maximize"]:[]),H=[l.config({disabled:()=>t.disabled||s.isDisabled(),onDisabled:V=>{ps.getField(V).each(l.disable)},onEnabled:V=>{ps.getField(V).each(l.enable)}}),Qa()];return Xw(a,E,N,H)},yH=(t,s,a)=>p_({name:t.name,multiline:!1,label:t.label,inputMode:t.inputMode,placeholder:t.placeholder,flex:!1,disabled:!t.enabled,classname:"tox-textfield",validation:C.none(),maximized:t.maximized,data:a},s),bH=(t,s,a)=>p_({name:t.name,multiline:!0,label:t.label,inputMode:C.none(),placeholder:t.placeholder,flex:!0,disabled:!t.enabled,classname:"tox-textarea",validation:C.none(),maximized:t.maximized,data:a},s),h_=(t,s)=>s.getAnimationRoot.fold(()=>t.element,a=>a(t)),xp=t=>t.dimension.property,Lh=(t,s)=>t.dimension.getDimension(s),Tx=(t,s)=>{const a=h_(t,s);Ki(a,[s.shrinkingClass,s.growingClass])},aO=(t,s)=>{yr(t.element,s.openClass),Fs(t.element,s.closedClass),Je(t.element,xp(s),"0px"),ac(t.element)},cO=(t,s)=>{yr(t.element,s.closedClass),Fs(t.element,s.openClass),Zn(t.element,xp(s))},iO=(t,s,a,i)=>{a.setCollapsed(),Je(t.element,xp(s),Lh(s,t.element)),Tx(t,s),aO(t,s),s.onStartShrink(t),s.onShrunk(t)},dB=(t,s,a,i)=>{const d=i.getOrThunk(()=>Lh(s,t.element));a.setCollapsed(),Je(t.element,xp(s),d),ac(t.element);const g=h_(t,s);yr(g,s.growingClass),Fs(g,s.shrinkingClass),aO(t,s),s.onStartShrink(t)},fB=(t,s,a)=>{const i=Lh(s,t.element);(i==="0px"?iO:dB)(t,s,a,C.some(i))},mB=(t,s,a)=>{const i=h_(t,s),d=Gi(i,s.shrinkingClass),g=Lh(s,t.element);cO(t,s);const p=Lh(s,t.element);(d?()=>{Je(t.element,xp(s),g),ac(t.element)}:()=>{aO(t,s)})(),yr(i,s.shrinkingClass),Fs(i,s.growingClass),cO(t,s),Je(t.element,xp(s),p),a.setExpanded(),s.onStartGrow(t)},gB=(t,s,a)=>{if(a.isExpanded()){Zn(t.element,xp(s));const i=Lh(s,t.element);Je(t.element,xp(s),i)}},vH=(t,s,a)=>{a.isExpanded()||mB(t,s,a)},kH=(t,s,a)=>{a.isExpanded()&&fB(t,s,a)},Pn=(t,s,a)=>{a.isExpanded()&&iO(t,s,a)},y_=(t,s,a)=>a.isExpanded(),pB=(t,s,a)=>a.isCollapsed(),lO=(t,s,a)=>{const i=h_(t,s);return Gi(i,s.growingClass)===!0},uO=(t,s,a)=>{const i=h_(t,s);return Gi(i,s.shrinkingClass)===!0};var b_=Object.freeze({__proto__:null,refresh:gB,grow:vH,shrink:kH,immediateShrink:Pn,hasGrown:y_,hasShrunk:pB,isGrowing:lO,isShrinking:uO,isTransitioning:(t,s,a)=>lO(t,s)||uO(t,s),toggleGrow:(t,s,a)=>{(a.isExpanded()?fB:mB)(t,s,a)},disableTransitions:Tx,immediateGrow:(t,s,a)=>{a.isExpanded()||(cO(t,s),Je(t.element,xp(s),Lh(s,t.element)),Tx(t,s),a.setExpanded(),s.onStartGrow(t),s.onGrown(t))}}),SH=Object.freeze({__proto__:null,exhibit:(t,s,a)=>{const i=s.expanded;return Zi(i?{classes:[s.openClass],styles:{}}:{classes:[s.closedClass],styles:Yn(s.dimension.property,"0px")})},events:(t,s)=>Is([Hp(ad(),(a,i)=>{i.event.raw.propertyName===t.dimension.property&&(Tx(a,t),s.isExpanded()&&Zn(a.element,t.dimension.property),(s.isExpanded()?t.onGrown:t.onShrunk)(a))})])}),xH=[Ke("closedClass"),Ke("openClass"),Ke("shrinkingClass"),Ke("growingClass"),Bo("getAnimationRoot"),Eo("onShrunk"),Eo("onStartShrink"),Eo("onGrown"),Eo("onStartGrow"),Ee("expanded",!1),Lo("dimension",wa("property",{width:[ws("property","width"),ws("getDimension",t=>Va(t)+"px")],height:[ws("property","height"),ws("getDimension",t=>Cs(t)+"px")]}))],hB=Object.freeze({__proto__:null,init:t=>{const s=tn(t.expanded),a=()=>"expanded: "+s.get();return qi({isExpanded:()=>s.get()===!0,isCollapsed:()=>s.get()===!1,setCollapsed:gn(s.set,!1),setExpanded:gn(s.set,!0),readState:a})}});const Pi=fc({fields:xH,name:"sliding",active:SH,apis:b_,state:hB}),dO=t=>({isEnabled:()=>!l.isDisabled(t),setEnabled:s=>l.set(t,!s),setActive:s=>{const a=t.element;s?(Fs(a,"tox-tbtn--enabled"),Pt(a,"aria-pressed",!0)):(yr(a,"tox-tbtn--enabled"),P(a,"aria-pressed"))},isActive:()=>Gi(t.element,"tox-tbtn--enabled"),setText:s=>{hn(t,Uu,{text:s})},setIcon:s=>hn(t,Fh,{icon:s})}),v_=(t,s,a,i,d=!0,g)=>eO({text:t.text,icon:t.icon,tooltip:t.tooltip,ariaLabel:t.tooltip,searchable:t.search.isSome(),role:i,fetch:(p,k)=>{const _={pattern:t.search.isSome()?k7(p):""};t.fetch(E=>{k(Hv(E,af.CLOSE_ON_EXECUTE,a,{isHorizontalMenu:!1,search:t.search}))},_,dO(p))},onSetup:t.onSetup,getApi:dO,columns:1,presets:"normal",classes:[],dropdownBehaviours:[...d?[Hs.config({})]:[]]},s,a.shared,g),TH=(t,s,a)=>{const i=g=>p=>{const k=!p.isActive();p.setActive(k),g.storage.set(k),a.shared.getSink().each(_=>{s().getOpt(_).each(E=>{bl(E.element),hn(E,ng,{name:g.name,value:g.storage.get()})})})},d=g=>p=>{p.setActive(g.storage.get())};return g=>{g(we(t,p=>{const k=p.text.fold(()=>({}),_=>({text:_}));return{type:p.type,active:!1,...k,onAction:i(p),onSetup:d(p)}}))}},yB=t=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{"aria-label":t}},components:[br(t)]}),bB=Vt("leaf-label-event-id"),fO=({leaf:t,onLeafAction:s,visible:a,treeId:i,selectedId:d,backstage:g})=>{const p=t.menu.map(_=>v_(_,"tox-mbtn",g,C.none(),a)),k=[yB(t.title)];return p.each(_=>k.push(_)),Vc.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(a?["tox-tree--leaf__label--visible"]:[])},components:k,role:"treeitem",action:_=>{s(t.id),_.getSystem().broadcastOn([`update-active-item-${i}`],{value:t.id})},eventOrder:{[Tu()]:[bB,"keying"]},buttonBehaviours:gt([...a?[Hs.config({})]:[],ao.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),Di.config({channels:{[`update-active-item-${i}`]:{onReceive:(_,E)=>{(E.value===t.id?ao.on:ao.off)(_)}}}}),Kn(bB,[qs((_,E)=>{d.each(z=>{(z===t.id?ao.on:ao.off)(_)})}),Xe(Tu(),(_,E)=>{const z=E.event.raw.code==="ArrowLeft",N=E.event.raw.code==="ArrowRight";z?(Im(_.element,".tox-tree--directory").each(H=>{_.getSystem().getByDom(H).each(V=>{ak(H,".tox-tree--directory__label").each(Y=>{V.getSystem().getByDom(Y).each(zn.focus)})})}),E.stop()):N&&E.stop()})])])})},EH=(t,s,a)=>$u(t,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"],behaviours:a},s),AH=(t,s)=>EH(t,s,[]),vB=Vt("directory-label-event-id"),zH=({directory:t,visible:s,noChildren:a,backstage:i})=>{const d=t.menu.map(k=>v_(k,"tox-mbtn",i,C.none())),g=[{dom:{tag:"div",classes:["tox-chevron"]},components:[AH("chevron-right",i.shared.providers.icons)]},yB(t.title)];d.each(k=>{g.push(k)});const p=k=>{Im(k.element,".tox-tree--directory").each(_=>{k.getSystem().getByDom(_).each(E=>{const z=!ao.isOn(E);ao.toggle(E),hn(k,"expand-tree-node",{expanded:z,node:t.id})})})};return Vc.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(s?["tox-tree--directory__label--visible"]:[])},components:g,action:p,eventOrder:{[Tu()]:[vB,"keying"]},buttonBehaviours:gt([...s?[Hs.config({})]:[],Kn(vB,[Xe(Tu(),(k,_)=>{const E=_.event.raw.code==="ArrowRight",z=_.event.raw.code==="ArrowLeft";E&&a&&_.stop(),(E||z)&&Im(k.element,".tox-tree--directory").each(N=>{k.getSystem().getByDom(N).each(H=>{!ao.isOn(H)&&E||ao.isOn(H)&&z?(p(k),_.stop()):z&&!ao.isOn(H)&&(Im(H.element,".tox-tree--directory").each(V=>{ak(V,".tox-tree--directory__label").each(Y=>{H.getSystem().getByDom(Y).each(zn.focus)})}),_.stop())})})})])])})},OH=({children:t,onLeafAction:s,visible:a,treeId:i,expandedIds:d,selectedId:g,backstage:p})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:t.map(k=>k.type==="leaf"?fO({leaf:k,selectedId:g,onLeafAction:s,visible:a,treeId:i,backstage:p}):mO({directory:k,expandedIds:d,selectedId:g,onLeafAction:s,labelTabstopping:a,treeId:i,backstage:p})),behaviours:gt([Pi.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:a}),Nn.config({})])}),kB=Vt("directory-event-id"),mO=({directory:t,onLeafAction:s,labelTabstopping:a,treeId:i,backstage:d,expandedIds:g,selectedId:p})=>{const{children:k}=t,_=tn(g),E=N=>k.map(H=>H.type==="leaf"?fO({leaf:H,selectedId:p,onLeafAction:s,visible:N,treeId:i,backstage:d}):mO({directory:H,expandedIds:_.get(),selectedId:p,onLeafAction:s,labelTabstopping:N,treeId:i,backstage:d})),z=g.includes(t.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[zH({directory:t,visible:a,noChildren:t.children.length===0,backstage:d}),OH({children:k,expandedIds:g,selectedId:p,onLeafAction:s,visible:z,treeId:i,backstage:d})],behaviours:gt([Kn(kB,[qs((N,H)=>{ao.set(N,z)}),Xe("expand-tree-node",(N,H)=>{const{expanded:V,node:Y}=H.event;_.set(V?[..._.get(),Y]:_.get().filter(Q=>Q!==Y))})]),ao.config({...t.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(N,H)=>{const V=N.components()[1],Y=E(H);H?Pi.grow(V):Pi.shrink(V),Nn.set(V,Y)}})])}},DH=Vt("tree-event-id"),RH=(t,s)=>{const a=t.onLeafAction.getOr(ae),i=t.onToggleExpand.getOr(ae),d=t.defaultExpandedIds,g=tn(d),p=tn(t.defaultSelectedId),k=Vt("tree-id"),_=(E,z)=>t.items.map(N=>N.type==="leaf"?fO({leaf:N,selectedId:E,onLeafAction:a,visible:!0,treeId:k,backstage:s}):mO({directory:N,selectedId:E,onLeafAction:a,expandedIds:z,labelTabstopping:!0,treeId:k,backstage:s}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:_(p.get(),g.get()),behaviours:gt([pn.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),Kn(DH,[Xe("expand-tree-node",(E,z)=>{const{expanded:N,node:H}=z.event;g.set(N?[...g.get(),H]:g.get().filter(V=>V!==H)),i(g.get(),{expanded:N,node:H})})]),Di.config({channels:{[`update-active-item-${k}`]:{onReceive:(E,z)=>{p.set(C.some(z.value)),Nn.set(E,_(C.some(z.value),g.get()))}}}}),Nn.config({})])}};var MH=Object.freeze({__proto__:null,events:(t,s)=>{const i=t.stream.streams.setup(t,s);return Is([Xe(t.event,i),Zd(()=>s.cancel())].concat(t.cancelEvent.map(d=>[Xe(d,()=>s.cancel())]).getOr([])))}});const wB=t=>{const s=tn(null);return qi({readState:()=>({timer:s.get()!==null?"set":"unset"}),setTimer:g=>{s.set(g)},cancel:()=>{const g=s.get();g!==null&&g.cancel()}})};var NH=Object.freeze({__proto__:null,throttle:wB,init:t=>t.stream.streams.state(t)});const PH=(t,s)=>{const a=t.stream,i=V4(t.onStream,a.delay);return s.setTimer(i),(d,g)=>{i.throttle(d,g),a.stopEvent&&g.stop()}};var BH=[Lo("stream",wa("mode",{throttle:[Ke("delay"),Ee("stopEvent",!0),ws("streams",{setup:PH,state:wB})]})),Ee("event","input"),Bo("cancelEvent"),Kd("onStream")];const gO=fc({fields:BH,name:"streaming",active:MH,state:NH}),k_=(t,s,a)=>{const i=It.getValue(a);It.setValue(s,i),CB(s)},_B=(t,s)=>{const a=t.element,i=If(a),d=a.dom;rn(a,"type")!=="number"&&s(d,i)},CB=t=>{_B(t,(s,a)=>s.setSelectionRange(a.length,a.length))},$H=(t,s)=>{_B(t,(a,i)=>a.setSelectionRange(s,i.length))},IH=(t,s,a)=>{if(t.selectsOver){const i=It.getValue(s),d=t.getDisplayText(i),g=It.getValue(a);return t.getDisplayText(g).indexOf(d)===0?C.some(()=>{k_(t,s,a),$H(s,d.length)}):C.none()}else return C.none()},pO=Z("alloy.typeahead.itemexecute"),FH=(t,s,a,i)=>{const d=(N,H,V)=>{t.previewing.set(!1);const Y=qr.getCoupled(N,"sandbox");if(Do.isOpen(Y))Ro.getCurrent(Y).each(Q=>{an.getHighlighted(Q).fold(()=>{V(Q)},()=>{Wd(Y,Q.element,"keydown",H)})});else{const Q=Se=>{Ro.getCurrent(Se).each(V)};Dv(t,p(N),N,Y,i,Q,Zr.HighlightMenuAndItem).get(ae)}},g=vM(t),p=N=>H=>H.map(V=>{const Y=Da(V.menus),Q=te(Y,re=>xn(re.items,ye=>ye.type==="item"));return It.getState(N).update(we(Q,re=>re.data)),V}),k=N=>Ro.getCurrent(N),_="typeaheadevents",E=[zn.config({}),It.config({onSetValue:t.onSetValue,store:{mode:"dataset",getDataKey:N=>If(N.element),getFallbackEntry:N=>({value:N,meta:{}}),setValue:(N,H)=>{$m(N.element,t.model.getDisplayText(H))},...t.initialData.map(N=>Yn("initialValue",N)).getOr({})}}),gO.config({stream:{mode:"throttle",delay:t.responseTime,stopEvent:!1},onStream:(N,H)=>{const V=qr.getCoupled(N,"sandbox");if(zn.isFocused(N)&&If(N.element).length>=t.minChars){const Q=k(V).bind(re=>an.getHighlighted(re).map(It.getValue));t.previewing.set(!0);const Se=re=>{k(V).each(ye=>{Q.fold(()=>{t.model.selectsOver&&an.highlightFirst(ye)},ve=>{an.highlightBy(ye,qe=>It.getValue(qe).value===ve.value),an.getHighlighted(ye).orThunk(()=>(an.highlightFirst(ye),C.none()))})})};Dv(t,p(N),N,V,i,Se,Zr.HighlightJustMenu).get(ae)}},cancelEvent:p0()}),pn.config({mode:"special",onDown:(N,H)=>(d(N,H,an.highlightFirst),C.some(!0)),onEscape:N=>{const H=qr.getCoupled(N,"sandbox");return Do.isOpen(H)?(Do.close(H),C.some(!0)):C.none()},onUp:(N,H)=>(d(N,H,an.highlightLast),C.some(!0)),onEnter:N=>{const H=qr.getCoupled(N,"sandbox"),V=Do.isOpen(H);if(V&&!t.previewing.get())return k(H).bind(Y=>an.getHighlighted(Y)).map(Y=>(hn(N,pO(),{item:Y}),!0));{const Y=It.getValue(N);return no(N,p0()),t.onExecute(H,N,Y),V&&Do.close(H),C.some(!0)}}}),ao.config({toggleClass:t.markers.openClass,aria:{mode:"expanded"}}),qr.config({others:{sandbox:N=>a4(t,N,{onOpen:()=>ao.on(N),onClose:()=>{t.lazyTypeaheadComp.get().each(H=>P(H.element,"aria-activedescendant")),ao.off(N)}})}}),Kn(_,[qs(N=>{t.lazyTypeaheadComp.set(C.some(N))}),Zd(N=>{t.lazyTypeaheadComp.set(C.none())}),Eu(N=>{const H=ae;o4(t,p(N),N,i,H,Zr.HighlightMenuAndItem).get(ae)}),Xe(pO(),(N,H)=>{const V=qr.getCoupled(N,"sandbox");k_(t.model,N,H.event.item),no(N,p0()),t.onItemExecute(N,V,H.event.item,It.getValue(N)),Do.close(V),CB(N)})].concat(t.dismissOnBlur?[Xe(vm(),N=>{const H=qr.getCoupled(N,"sandbox");li(H.element).isNone()&&Do.close(H)})]:[]))],z={[Kl()]:[It.name(),gO.name(),_],...t.eventOrder};return{uid:t.uid,dom:wM(zs(t,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...g,...Xa(t.typeaheadBehaviours,E)},eventOrder:z}},SB=Z([Bo("lazySink"),Ke("fetch"),Ee("minChars",5),Ee("responseTime",1e3),Eo("onOpen"),Ee("getHotspot",C.some),Ee("getAnchorOverrides",Z({})),Ee("layouts",C.none()),Ee("eventOrder",{}),A("model",{},[Ee("getDisplayText",t=>t.meta!==void 0&&t.meta.text!==void 0?t.meta.text:t.value),Ee("selectsOver",!0),Ee("populateFromBrowse",!0)]),Eo("onSetValue"),Oi("onExecute"),Eo("onItemExecute"),Ee("inputClasses",[]),Ee("inputAttributes",{}),Ee("inputStyles",{}),Ee("matchWidth",!0),Ee("useMinWidth",!1),Ee("dismissOnBlur",!0),qg(["openClass"]),Bo("initialData"),Bo("listRole"),Ya("typeaheadBehaviours",[zn,It,gO,pn,ao,qr]),Fo("lazyTypeaheadComp",()=>tn(C.none)),Fo("previewing",()=>tn(!0))].concat(dz()).concat(ox())),LH=Z([tu({schema:[Kp()],name:"menu",overrides:t=>({fakeFocus:!0,onHighlightItem:(s,a,i)=>{t.previewing.get()?t.lazyTypeaheadComp.get().each(d=>{IH(t.model,d,i).fold(()=>{t.model.selectsOver?(an.dehighlight(a,i),t.previewing.set(!0)):t.previewing.set(!1)},g=>{g(),t.previewing.set(!1)})}):t.lazyTypeaheadComp.get().each(d=>{t.model.populateFromBrowse&&k_(t.model,d,i),Nr(i.element,"id").each(g=>Pt(d.element,"aria-activedescendant",g))})},onExecute:(s,a)=>t.lazyTypeaheadComp.get().map(i=>(hn(i,pO(),{item:a}),!0)),onHover:(s,a)=>{t.previewing.set(!1),t.lazyTypeaheadComp.get().each(i=>{t.model.populateFromBrowse&&k_(t.model,i,a)})}})})]),xB=Gc({name:"Typeahead",configFields:SB(),partFields:LH(),factory:FH}),df=t=>({...t,toCached:()=>df(t.toCached()),bindFuture:_=>df(t.bind(E=>E.fold(z=>Uc.pure(Vn.error(z)),z=>_(z)))),bindResult:_=>df(t.map(E=>E.bind(_))),mapResult:_=>df(t.map(E=>E.map(_))),mapError:_=>df(t.map(E=>E.mapError(_))),foldResult:(_,E)=>t.map(z=>z.fold(_,E)),withTimeout:(_,E)=>df(Uc.nu(z=>{let N=!1;const H=setTimeout(()=>{N=!0,z(Vn.error(E()))},_);t.get(V=>{N||(clearTimeout(H),z(V))})}))}),hO=t=>df(Uc.nu(t)),yO=t=>df(Uc.pure(Vn.value(t))),UH={nu:hO,wrap:df,pure:yO,value:yO,error:t=>df(Uc.pure(Vn.error(t))),fromResult:t=>df(Uc.pure(t)),fromFuture:t=>df(t.map(Vn.value)),fromPromise:t=>hO(s=>{t.then(a=>{s(Vn.value(a))},a=>{s(Vn.error(a))})})},w_=(t,s,a=[],i,d,g,p)=>{const k=s.fold(()=>({}),z=>({action:z})),_={buttonBehaviours:gt([lf.button(()=>!t.enabled||p.isDisabled()),Qa(),Hs.config({}),...g.map(z=>Lr.config(p.tooltips.getConfig({tooltipText:p.translate(z)}))).toArray(),Kn("button press",[w0("click")])].concat(a)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...k},E=zs(_,{dom:i});return zs(E,{components:d})},jH=(t,s,a,i=[],d)=>{const g=t.tooltip.map(E=>({"aria-label":a.translate(E)})).getOr({}),p={tag:"button",classes:["tox-tbtn"],attributes:{...g,"data-mce-name":d}},k=t.icon.map(E=>Sx(E,a.icons)),_=rb([k]);return w_(t,s,i,p,_,t.tooltip,a)},bO=t=>{switch(t){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];case"secondary":default:return["tox-button","tox-button--secondary"]}},ff=(t,s,a,i=[],d=[])=>{const g=a.translate(t.text),p=t.icon.map(V=>Sx(V,a.icons)),k=[p.getOrThunk(()=>br(g))],_=t.buttonType.getOr(!t.primary&&!t.borderless?"secondary":"primary"),N={tag:"button",classes:[...bO(_),...p.isSome()?["tox-button--icon"]:[],...t.borderless?["tox-button--naked"]:[],...d],attributes:{"aria-label":g,"data-mce-name":t.text}},H=t.icon.map(Z(g));return w_(t,s,i,N,k,H,a)},__=(t,s,a,i=[],d=[])=>{const g=ff(t,C.some(s),a,i,d);return Vc.sketch(g)},C_=(t,s)=>a=>{s==="custom"?hn(a,ng,{name:t,value:{}}):s==="submit"?no(a,Jw):s==="cancel"?no(a,kp):console.error("Unknown button type: ",s)},WH=(t,s)=>s==="menu",vO=(t,s)=>s==="custom"||s==="cancel"||s==="submit",ZH=(t,s)=>s==="togglebutton",kO=(t,s,a)=>{var i,d;const g=t.icon.map(ve=>Ih(ve,s.icons)).map(Qo),p=ve=>{hn(ve,ng,{name:t.name,value:{setIcon:qe=>{g.map(He=>He.getOpt(ve).each(At=>{Nn.set(At,[Ih(qe,s.icons)])}))}}})},k=t.buttonType.getOr(t.primary?"primary":"secondary"),_={...t,name:(i=t.name)!==null&&i!==void 0?i:"",primary:k==="primary",tooltip:t.tooltip,enabled:(d=t.enabled)!==null&&d!==void 0?d:!1,borderless:!1},E=_.tooltip.or(t.text).map(ve=>({"aria-label":s.translate(ve)})).getOr({}),z=bO(k??"secondary"),N=t.icon.isSome()&&t.text.isSome(),H={tag:"button",classes:[...z.concat(t.icon.isSome()?["tox-button--icon"]:[]),...t.active?["tox-button--enabled"]:[],...N?["tox-button--icon-and-text"]:[]],attributes:{...E,...fo(a)?{"data-mce-name":a}:{}}},V=[],Y=s.translate(t.text.getOr("")),Q=br(Y),re=[...rb([g.map(ve=>ve.asSpec())]),...t.text.isSome()?[Q]:[]],ye=w_(_,C.some(p),V,H,re,t.tooltip,s);return Vc.sketch(ye)},S_=(t,s,a)=>{if(WH(t,s)){const i=()=>p,d=t,g={...t,type:"menubutton",search:C.none(),onSetup:k=>(k.setEnabled(t.enabled),ae),fetch:TH(d.items,i,a)},p=Qo(v_(g,"tox-tbtn",a,C.none(),!0,t.text.or(t.tooltip).getOrUndefined()));return p.asSpec()}else if(vO(t,s)){const i=C_(t.name,s),d={...t,borderless:!1};return __(d,i,a.shared.providers,[])}else{if(ZH(t,s))return kO(t,a.shared.providers,t.text.or(t.tooltip).getOrUndefined());throw console.error("Unknown footer button type: ",s),new Error("Unknown footer button type")}},wO=(t,s)=>{const a=C_(t.name,"custom");return JN(C.none(),ps.parts.field({factory:Vc,...ff(t,C.some(a),s,[vx(""),uf.self()])}))},qH={type:"separator"},GH=t=>({type:"menuitem",value:t.url,text:t.title,meta:{attach:t.attach},onAction:ae}),Ex=(t,s)=>({type:"menuitem",value:s,text:t,meta:{attach:void 0},onAction:ae}),KH=t=>we(t,GH),YH=(t,s)=>xn(s,a=>a.type===t),Ax=(t,s)=>KH(YH(t,s)),XH=t=>Ax("header",t.targets),JH=t=>Ax("anchor",t.targets),EB=t=>C.from(t.anchorTop).map(s=>Ex("<top>",s)).toArray(),AB=t=>C.from(t.anchorBottom).map(s=>Ex("<bottom>",s)).toArray(),QH=t=>we(t,s=>Ex(s,s)),eV=t=>Co(t,(s,a)=>s.length===0||a.length===0?s.concat(a):s.concat(qH,a),[]),_O=(t,s)=>{const a=t.toLowerCase();return xn(s,i=>{var d;const g=i.meta!==void 0&&i.meta.text!==void 0?i.meta.text:i.text,p=(d=i.value)!==null&&d!==void 0?d:"";return kr(g.toLowerCase(),a)||kr(p.toLowerCase(),a)})},tV=(t,s,a)=>{var i,d;const g=It.getValue(s),p=(d=(i=g==null?void 0:g.meta)===null||i===void 0?void 0:i.text)!==null&&d!==void 0?d:g.value;return a.getLinkInformation().fold(()=>[],_=>{const E=_O(p,QH(a.getHistory(t)));return t==="file"?eV([E,_O(p,XH(_)),_O(p,Qt([EB(_),JH(_),AB(_)]))]):E})},CO=Vt("aria-invalid"),em=(t,s,a,i)=>{const d=s.shared.providers,g=ye=>{const ve=It.getValue(ye);a.addToHistory(ve.value,t.filetype)},p={...i.map(ye=>({initialData:ye})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":CO,type:"url"},minChars:0,responseTime:0,fetch:ye=>{const ve=tV(t.filetype,ye,a),qe=Hv(ve,af.BUBBLE_TO_SANDBOX,s,{isHorizontalMenu:!1,search:C.none()});return Uc.pure(qe)},getHotspot:ye=>Y.getOpt(ye),onSetValue:(ye,ve)=>{ye.hasConfigured(Qf)&&Qf.run(ye).get(ae)},typeaheadBehaviours:gt([...a.getValidationHandler().map(ye=>Qf.config({getRoot:ve=>Mc(ve.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(ve,qe)=>{z.getOpt(ve).each(He=>{Pt(He.element,"title",d.translate(qe))})}},validator:{validate:ve=>{const qe=It.getValue(ve);return UH.nu(He=>{ye({type:t.filetype,url:qe.value},At=>{if(At.status==="invalid"){const Ft=Vn.error(At.message);He(Ft)}else{const Ft=Vn.value(At.message);He(Ft)}})})},validateOnLoad:!1}})).toArray(),l.config({disabled:()=>!t.enabled||d.isDisabled()}),Hs.config({}),Kn("urlinput-events",[Xe(jd(),ye=>{const ve=If(ye.element),qe=ve.trim();qe!==ve&&$m(ye.element,qe),t.filetype==="file"&&hn(ye,El,{name:t.name})}),Xe(Lp(),ye=>{hn(ye,El,{name:t.name}),g(ye)}),Xe(Rf(),ye=>{hn(ye,El,{name:t.name}),g(ye)})])]),eventOrder:{[jd()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:ye=>ye.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:s.shared.getSink,parts:{menu:Dw(!1,1,"normal")},onExecute:(ye,ve,qe)=>{hn(ve,Jw,{})},onItemExecute:(ye,ve,qe,He)=>{g(ye),hn(ye,El,{name:t.name})}},k=ps.parts.field({...p,factory:xB}),_=t.label.map(ye=>Dh(ye,d)),z=Qo(((ye,ve,qe=ye,He=ye)=>$u(qe,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+ye],attributes:{title:d.translate(He),"aria-live":"polite",...ve.fold(()=>({}),At=>({id:At}))}},d.icons))("invalid",C.some(CO),"warning")),N=Qo({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[z.asSpec()]}),H=a.getUrlPicker(t.filetype),V=Vt("browser.url.event"),Y=Qo({dom:{tag:"div",classes:["tox-control-wrap"]},components:[k,N.asSpec()],behaviours:gt([l.config({disabled:()=>!t.enabled||d.isDisabled()})])}),Q=Qo(__({name:t.name,icon:C.some("browse"),text:t.picker_text.or(t.label).getOr(""),enabled:t.enabled,primary:!1,buttonType:C.none(),borderless:!0},ye=>no(ye,V),d,[],["tox-browse-url"])),Se=()=>({dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:Qt([[Y.asSpec()],H.map(()=>Q.asSpec()).toArray()])}),re=ye=>{Ro.getCurrent(ye).each(ve=>{const qe=It.getValue(ve),He={fieldname:t.name,...qe};H.each(At=>{At(He).get(Ft=>{It.setValue(ve,Ft),hn(ye,El,{name:t.name})})})})};return ps.sketch({dom:I7(),components:_.toArray().concat([Se()]),fieldBehaviours:gt([l.config({disabled:()=>!t.enabled||d.isDisabled(),onDisabled:ye=>{ps.getField(ye).each(l.disable),Q.getOpt(ye).each(l.disable)},onEnabled:ye=>{ps.getField(ye).each(l.enable),Q.getOpt(ye).each(l.enable)}}),Qa(),Kn("url-input-events",[Xe(V,re)])])})},SO=(t,s)=>{const a=nz(t.icon,s.icons);return Jf.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${t.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:t.url?void 0:a},components:t.url?[Vc.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:a,attributes:{title:s.translate(t.iconTooltip)}},action:i=>hn(i,ng,{name:"alert-banner",value:t.url}),buttonBehaviours:gt([z2()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:s.translate(t.text)}}]})},nV=(t,s)=>{t.dom.checked=s},oV=t=>t.dom.checked,sV=(t,s,a)=>{const i=_=>(_.element.dom.click(),C.some(!0)),d=ps.parts.field({factory:{sketch:zt},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:gt([uf.self(),l.config({disabled:()=>!t.enabled||s.isDisabled(),onDisabled:_=>{Mc(_.element).each(E=>Fs(E,"tox-checkbox--disabled"))},onEnabled:_=>{Mc(_.element).each(E=>yr(E,"tox-checkbox--disabled"))}}),Hs.config({}),zn.config({}),F4(a,oV,nV),pn.config({mode:"special",onEnter:i,onSpace:i,stopSpaceKeyup:!0}),Kn("checkbox-events",[Xe(Lp(),(_,E)=>{hn(_,El,{name:t.name})})])])}),g=ps.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[br(s.translate(t.label))],behaviours:gt([$v.config({})])}),p=_=>$u(_==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+_]},s.icons),k=Qo({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[p("checked"),p("unchecked")]});return ps.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[d,k.asSpec(),g],fieldBehaviours:gt([l.config({disabled:()=>!t.enabled||s.isDisabled()}),Qa()])})},rV=(t,s)=>{const a=["tox-form__group",...t.stretched?["tox-form__group--stretched"]:[]],i=Kn("htmlpanel",[qs(d=>{t.onInit(d.element.dom)})]);return t.presets==="presentation"?Jf.sketch({dom:{tag:"div",classes:a,innerHtml:t.html},containerBehaviours:gt([Lr.config({...s.tooltips.getConfig({tooltipText:"",onShow:d=>{er(d.element,"[data-mce-tooltip]:hover").orThunk(()=>li(d.element)).each(g=>{Nr(g,"data-mce-tooltip").each(p=>{Lr.setComponents(d,s.tooltips.getComponents({tooltipText:p}))})})}}),mode:"children-normal",anchor:d=>({type:"node",node:er(d.element,"[data-mce-tooltip]:hover").orThunk(()=>li(d.element).filter(g=>Nr(g,"data-mce-tooltip").isSome())),root:d.element,layouts:{onLtr:Z([xa,Sa,Ca,ms,Ir,xc]),onRtl:Z([xa,Sa,Ca,ms,Ir,xc])},bubble:Ou(0,-2,{})})}),i])}):Jf.sketch({dom:{tag:"div",classes:a,innerHtml:t.html,attributes:{role:"document"}},containerBehaviours:gt([Hs.config({}),zn.config({}),i])})},ec=t=>(s,a,i,d,g)=>mt(a,"name").fold(()=>t(a,d,C.none(),g),p=>s.field(p,t(a,d,mt(i,p),g))),zB=t=>(s,a,i,d,g)=>{const p=zs(a,{source:"dynamic"});return ec(t)(s,p,i,d,g)},OB={bar:ec((t,s)=>M7(t,s.shared)),collection:ec((t,s,a)=>Bv(t,s.shared.providers,a)),alertbanner:ec((t,s)=>SO(t,s.shared.providers)),input:ec((t,s,a)=>yH(t,s.shared.providers,a)),textarea:ec((t,s,a)=>bH(t,s.shared.providers,a)),label:ec((t,s,a,i)=>JP(t,s.shared,i)),iframe:zB((t,s,a)=>J8(t,s.shared.providers,a)),button:ec((t,s)=>wO(t,s.shared.providers)),checkbox:ec((t,s,a)=>sV(t,s.shared.providers,a)),colorinput:ec((t,s,a)=>q7(t,s.shared,s.colorinput,a)),colorpicker:ec((t,s,a)=>V8(t,s.shared.providers,a)),dropzone:ec((t,s,a)=>H4(t,s.shared.providers,a)),grid:ec((t,s)=>W8(t,s.shared)),listbox:ec((t,s,a)=>sB(t,s,a)),selectbox:ec((t,s,a)=>dH(t,s.shared.providers,a)),sizeinput:ec((t,s)=>iB(t,s.shared.providers)),slider:ec((t,s,a)=>lB(t,s.shared.providers,a)),urlinput:ec((t,s,a)=>em(t,s,s.urlinput,a)),customeditor:ec(UP),htmlpanel:ec((t,s)=>rV(t,s.shared.providers)),imagepreview:ec((t,s,a)=>K4(t,a)),table:ec((t,s)=>uB(t,s.shared.providers)),tree:ec((t,s)=>RH(t,s)),panel:ec((t,s)=>iH(t,s))},oq={field:(t,s)=>s,record:Z([])},aV=(t,s,a,i,d)=>{const g=zs(i,{shared:{interpreter:p=>Oc(t,p,a,g,d)}});return Oc(t,s,a,g,d)},Oc=(t,s,a,i,d)=>mt(OB,s.type).fold(()=>(console.error(`Unknown factory type "${s.type}", defaulting to container: `,s),s),g=>g(t,s,a,i,d)),zx=(t,s,a,i)=>Oc(oq,t,s,a,i),Hh="layout-inset",Uv=t=>t.x,DB=(t,s)=>t.x+t.width/2-s.width/2,xO=(t,s)=>t.x+t.width-s.width,TO=t=>t.y,EO=(t,s)=>t.y+t.height-s.height,RB=(t,s)=>t.y+t.height/2-s.height/2,Ox=(t,s,a)=>Ga(xO(t,s),EO(t,s),a.insetSouthwest(),Ut(),"southwest",mc(t,{right:0,bottom:3}),Hh),Dx=(t,s,a)=>Ga(Uv(t),EO(t,s),a.insetSoutheast(),l1(),"southeast",mc(t,{left:1,bottom:3}),Hh),x_=(t,s,a)=>Ga(xO(t,s),TO(t),a.insetNorthwest(),lk(),"northwest",mc(t,{right:0,top:2}),Hh),jv=(t,s,a)=>Ga(Uv(t),TO(t),a.insetNortheast(),i1(),"northeast",mc(t,{left:1,top:2}),Hh),su=(t,s,a)=>Ga(DB(t,s),TO(t),a.insetNorth(),yy(),"north",mc(t,{top:2}),Hh),Wv=(t,s,a)=>Ga(DB(t,s),EO(t,s),a.insetSouth(),uk(),"south",mc(t,{bottom:3}),Hh),AO=(t,s,a)=>Ga(xO(t,s),RB(t,s),a.insetEast(),LC(),"east",mc(t,{right:0}),Hh),MB=(t,s,a)=>Ga(Uv(t),RB(t,s),a.insetWest(),FC(),"west",mc(t,{left:1}),Hh),NB=t=>{switch(t){case"north":return su;case"northeast":return jv;case"northwest":return x_;case"south":return Wv;case"southeast":return Dx;case"southwest":return Ox;case"east":return AO;case"west":return MB}},PB=(t,s,a,i,d)=>YC(i).map(NB).getOr(su)(t,s,a,i,d),cV=t=>{switch(t){case"north":return Wv;case"northeast":return Dx;case"northwest":return Ox;case"south":return su;case"southeast":return jv;case"southwest":return x_;case"east":return MB;case"west":return AO}},BB=(t,s,a,i,d)=>YC(i).map(cV).getOr(su)(t,s,a,i,d),Rx={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},sq=(t,s,a)=>{const d={maxHeightFunction:th()},g=()=>({type:"node",root:yc(_r(t())),node:C.from(t()),bubble:Ou(12,12,Rx),layouts:{onRtl:()=>[jv],onLtr:()=>[x_]},overrides:d}),p=()=>({type:"hotspot",hotspot:s(),bubble:Ou(-12,12,Rx),layouts:{onRtl:()=>[Ca,Ir,xa],onLtr:()=>[Ir,Ca,xa]},overrides:d});return()=>a()?g():p()},iV=(t,s,a,i)=>{const g={maxHeightFunction:th()},p=()=>({type:"node",root:yc(_r(s())),node:C.from(s()),bubble:Ou(12,12,Rx),layouts:{onRtl:()=>[su],onLtr:()=>[su]},overrides:g}),k=()=>t?{type:"node",root:yc(_r(s())),node:C.from(s()),bubble:Ou(0,-ll(s()),Rx),layouts:{onRtl:()=>[Sa],onLtr:()=>[Sa]},overrides:g}:{type:"hotspot",hotspot:a(),bubble:Ou(0,0,Rx),layouts:{onRtl:()=>[Sa],onLtr:()=>[Sa]},overrides:g};return()=>i()?p():k()},lV=(t,s,a)=>{const i=()=>({type:"node",root:yc(_r(t())),node:C.from(t()),layouts:{onRtl:()=>[su],onLtr:()=>[su]}}),d=()=>({type:"hotspot",hotspot:s(),layouts:{onRtl:()=>[xa],onLtr:()=>[xa]}});return()=>a()?i():d()},uV=(t,s)=>()=>({type:"selection",root:s(),getSelection:()=>{const a=t.selection.getRng(),i=t.model.table.getSelectedCells();if(i.length>1){const d=i[0],g=i[i.length-1],p={firstCell:ge.fromDom(d),lastCell:ge.fromDom(g)};return C.some(p)}return C.some(Zm.range(ge.fromDom(a.startContainer),a.startOffset,ge.fromDom(a.endContainer),a.endOffset))}}),$B=t=>s=>({type:"node",root:t(),node:s}),zO=(t,s,a,i)=>{const d=vv(t),g=()=>ge.fromDom(t.getBody()),p=()=>ge.fromDom(t.getContentAreaContainer()),k=()=>d||!i();return{inlineDialog:sq(p,s,k),inlineBottomDialog:iV(t.inline,p,a,k),banner:lV(p,s,k),cursor:uV(t,g),node:$B(g)}},dV=t=>(s,a)=>{DN(t)(s,a)},fV=t=>()=>_N(t),IB=t=>s=>tx(t,s),mV=t=>s=>wN(t,s),gV=t=>({colorPicker:dV(t),hasCustomColors:fV(t),getColors:IB(t),getColorCols:mV(t)}),pV=t=>()=>GR(t),hV=t=>({isDraggableModal:pV(t)}),OO=t=>{const s=tn(ww(t)?"bottom":"top");return{isPositionedAtTop:()=>s.get()==="top",getDockingMode:s.get,setDockingMode:s.set}},DO=t=>dr(t,"items"),FB=t=>dr(t,"format"),LB=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],yV=t=>to(t,"items"),bV=t=>to(t,"block"),HB=t=>to(t,"inline"),vV=t=>to(t,"selector"),T_=t=>Co(t,(s,a)=>{if(yV(a)){const i=T_(a.items);return{customFormats:s.customFormats.concat(i.customFormats),formats:s.formats.concat([{title:a.title,items:i.formats}])}}else if(HB(a)||bV(a)||vV(a)){const d=`custom-${on(a.name)?a.name:a.title.toLowerCase()}`;return{customFormats:s.customFormats.concat([{name:d,format:a}]),formats:s.formats.concat([{title:a.title,format:d,icon:a.icon}])}}else return{...s,formats:s.formats.concat(a)}},{customFormats:[],formats:[]}),kV=(t,s)=>{const a=T_(s),i=d=>{Qe(d,g=>{t.formatter.has(g.name)||t.formatter.register(g.name,g.format)})};return t.formatter?i(a.customFormats):t.on("init",()=>{i(a.customFormats)}),a.formats},E_=t=>$R(t).map(s=>{const a=kV(t,s);return IR(t)?LB.concat(a):a}).getOr(LB),wV=t=>{const s=ho(t);return s.length===1&&ot(s,"title")},Mx=(t,s,a)=>({...t,type:"formatter",isSelected:s(t.format),getStylePreview:a(t.format)}),Zv=(t,s,a,i)=>{const d=_=>Mx(_,a,i),g=_=>{const E=k(_.items);return{..._,type:"submenu",getStyleItems:Z(E)}},p=_=>{const E=on(_.name)?_.name:Vt(_.title),z=`custom-${E}`,N={..._,type:"formatter",format:z,isSelected:a(z),getStylePreview:i(z)};return t.formatter.register(E,N),N},k=_=>we(_,E=>DO(E)?g(E):FB(E)?d(E):wV(E)?{...E,type:"separator"}:p(E));return k(s)},VB=t=>{const s=k=>()=>t.formatter.match(k),a=k=>()=>{const _=t.formatter.get(k);return _!==void 0?C.some({tag:_.length>0&&(_[0].inline||_[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(k))}):C.none()},i=tn([]),d=tn([]),g=tn(!1);return t.on("PreInit",k=>{const _=E_(t),E=Zv(t,_,s,a);i.set(E)}),t.on("addStyleModifications",k=>{const _=Zv(t,k.items,s,a);d.set(_),g.set(k.replace)}),{getData:()=>{const k=g.get()?[]:i.get(),_=d.get();return k.concat(_)}}},_V=t=>{let i=0;const d=()=>i>0,g=k=>[{dom:{tag:"div",classes:["tox-tooltip__body"]},components:[br(k.tooltipText)]}];return{getConfig:k=>({delayForShow:()=>d()?60:300,delayForHide:Z(300),exclusive:!0,lazySink:t,tooltipDom:{tag:"div",classes:["tox-tooltip","tox-tooltip--up"]},tooltipComponents:g(k),onShow:(_,E)=>{i++,k.onShow&&k.onShow(_,E)},onHide:(_,E)=>{i--,k.onHide&&k.onHide(_,E)},onSetup:k.onSetup}),getComponents:g}},UB=t=>fo(t)&&t.nodeType===1,jB=Sp.trim,RO=t=>s=>!!(UB(s)&&(s.contentEditable===t||s.getAttribute("data-mce-contenteditable")===t)),CV=RO("true"),MO=RO("false"),A_=(t,s,a,i,d)=>({type:t,title:s,url:a,level:i,attach:d}),SV=t=>{let s=t;for(;s=s.parentNode;){const a=s.contentEditable;if(a&&a!=="inherit")return CV(s)}return!1},xV=(t,s)=>we(gc(ge.fromDom(s),t),a=>a.dom),gb=t=>t.innerText||t.textContent,WB=t=>t.id?t.id:Vt("h"),TV=t=>t&&t.nodeName==="A"&&(t.id||t.name)!==void 0,ZB=t=>TV(t)&&Px(t),Nx=t=>t&&/^(H[1-6])$/.test(t.nodeName),Px=t=>SV(t)&&!MO(t),EV=t=>Nx(t)&&Px(t),AV=t=>Nx(t)?parseInt(t.nodeName.substr(1),10):0,zV=t=>{var s;const a=WB(t),i=()=>{t.id=a};return A_("header",(s=gb(t))!==null&&s!==void 0?s:"","#"+a,AV(t),i)},NO=t=>{const s=t.id||t.name,a=gb(t);return A_("anchor",a||"#"+s,"#"+s,0,ae)},OV=t=>we(xn(t,EV),zV),DV=t=>we(xn(t,ZB),NO),RV=t=>xV("h1,h2,h3,h4,h5,h6,a:not([href])",t),MV=t=>jB(t.title).length>0,NV={find:t=>{const s=RV(t);return xn(OV(s).concat(DV(s)),MV)}},Bx="tinymce-url-history",PO=5,qB=t=>on(t)&&/^https?/.test(t),z_=t=>uo(t)&&t.length<=PO&&Te(t,qB),GB=t=>Un(t)&&oo(t,s=>!z_(s)).isNone(),KB=()=>{const t=lb.getItem(Bx);if(t===null)return{};let s;try{s=JSON.parse(t)}catch(a){if(a instanceof SyntaxError)return console.log("Local storage "+Bx+" was not valid JSON",a),{};throw a}return GB(s)?s:(console.log("Local storage "+Bx+" was not valid format",s),{})},BO=t=>{if(!GB(t))throw new Error(`Bad format for history:
`+JSON.stringify(t));lb.setItem(Bx,JSON.stringify(t))},YB=t=>{const s=KB();return mt(s,t).getOr([])},PV=(t,s)=>{if(!qB(t))return;const a=KB(),i=mt(a,s).getOr([]),d=xn(i,g=>g!==t);a[s]=[t].concat(d).slice(0,PO),BO(a)},XB=t=>!!t,BV=t=>Wn(Sp.makeMap(t,/[, ]/),XB),$O=t=>C.from(WR(t)),$V=t=>{const s=C.from(AA(t)).filter(XB).map(BV);return $O(t).fold(Ae,a=>s.fold(ze,i=>ho(i).length>0?i:!1))},IV=(t,s)=>{const a=$V(t);return as(a)?a?$O(t):C.none():a[s]?$O(t):C.none()},FV=(t,s)=>IV(t,s).map(a=>i=>Uc.nu(d=>{const g=(k,_)=>{if(!on(k))throw new Error("Expected value to be string");if(_!==void 0&&!Un(_))throw new Error("Expected meta to be a object");d({value:k,meta:_})},p={filetype:s,fieldname:i.fieldname,...C.from(i.meta).getOr({})};a.call(t,g,i.value,p)})),JB=t=>C.from(t).filter(on).getOrUndefined(),LV=t=>zA(t)?C.some({targets:NV.find(t.getBody()),anchorTop:JB(qR(t)),anchorBottom:JB(y2(t))}):C.none(),aq=t=>C.from(ZR(t)),HV=t=>({getHistory:YB,addToHistory:PV,getLinkInformation:()=>LV(t),getValidationHandler:()=>aq(t),getUrlPicker:s=>FV(t,s)}),QB=(t,s,a,i)=>{const d=tn(!1),g=OO(s),p={icons:()=>s.ui.registry.getAll().icons,menuItems:()=>s.ui.registry.getAll().menuItems,translate:Bu.translate,isDisabled:()=>s.mode.isReadOnly()||!s.ui.isEnabled(),getOption:s.options.get,tooltips:_V(t.dialog)},k=HV(s),_=VB(s),E=gV(s),z=hV(s),N=()=>d.get(),H=re=>d.set(re),V={shared:{providers:p,anchors:zO(s,a,i,g.isPositionedAtTop),header:g},urlinput:k,styles:_,colorinput:E,dialog:z,isContextMenuOpen:N,setContextMenuState:H},Y=re=>C.none(),Q={...V,shared:{...V.shared,interpreter:re=>zx(re,{},Q,Y),getSink:t.popup}},Se={...V,shared:{...V.shared,interpreter:re=>zx(re,{},Se,Y),getSink:t.dialog}};return{popup:Q,dialog:Se}},e$=(t,s,a)=>{const i=(We,qt)=>{Qe([s,...a],Tt=>{Tt.broadcastEvent(We,qt)})},d=(We,qt)=>{Qe([s,...a],Tt=>{Tt.broadcastOn([We],qt)})},g=We=>d(Qd(),{target:We.target}),p=Vi(),k=ui(p,"touchstart",g),_=ui(p,"touchmove",We=>i(oy(),We)),E=ui(p,"touchend",We=>i(h0(),We)),z=ui(p,"mousedown",g),N=ui(p,"mouseup",We=>{We.raw.button===0&&d(q1(),{target:We.target})}),H=We=>d(Qd(),{target:ge.fromDom(We.target)}),V=We=>{We.button===0&&d(q1(),{target:ge.fromDom(We.target)})},Y=()=>{Qe(t.editorManager.get(),We=>{t!==We&&We.dispatch("DismissPopups",{relatedTarget:t})})},Q=We=>i(Bg(),hk(We)),Se=We=>{d(sp(),{}),i(ld(),hk(We))},re=_r(ge.fromDom(t.getElement())),ye=pk(re,"scroll",We=>{requestAnimationFrame(()=>{const qt=t.getContainer();if(qt!=null){const Jt=hp(t,s.element).map(yo=>[yo.element,...yo.others]).getOr([]);Xt(Jt,yo=>jo(yo,We.target))&&(t.dispatch("ElementScroll",{target:We.target.dom}),i(oC(),We))}})}),ve=()=>d(sp(),{}),qe=We=>{We.state&&d(Qd(),{target:ge.fromDom(t.getContainer())})},He=We=>{d(Qd(),{target:ge.fromDom(We.relatedTarget.getContainer())})},At=We=>t.dispatch("focusin",We),Ft=We=>t.dispatch("focusout",We);t.on("PostRender",()=>{t.on("click",H),t.on("tap",H),t.on("mouseup",V),t.on("mousedown",Y),t.on("ScrollWindow",Q),t.on("ResizeWindow",Se),t.on("ResizeEditor",ve),t.on("AfterProgressState",qe),t.on("DismissPopups",He),Qe([s,...a],We=>{We.element.dom.addEventListener("focusin",At),We.element.dom.addEventListener("focusout",Ft)})}),t.on("remove",()=>{t.off("click",H),t.off("tap",H),t.off("mouseup",V),t.off("mousedown",Y),t.off("ScrollWindow",Q),t.off("ResizeWindow",Se),t.off("ResizeEditor",ve),t.off("AfterProgressState",qe),t.off("DismissPopups",He),Qe([s,...a],We=>{We.element.dom.removeEventListener("focusin",At),We.element.dom.removeEventListener("focusout",Ft)}),z.unbind(),k.unbind(),_.unbind(),E.unbind(),N.unbind(),ye.unbind()}),t.on("detach",()=>{Qe([s,...a],Bk),Qe([s,...a],We=>We.destroy())})},Ea=GS,tm=hD,VV=Z([Ee("shell",!1),Ke("makeItem"),Ee("setupItem",ae),eu.field("listBehaviours",[Nn])]),UV=_l({name:"items",overrides:()=>({behaviours:gt([Nn.config({})])})}),jV=Z([UV]),WV=Z("CustomList"),ZV=(t,s,a,i)=>{const d=(k,_)=>{p(k).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},E=>{const z=Nn.contents(E),N=_.length,H=N-z.length,V=H>0?vt(H,()=>t.makeItem()):[],Y=z.slice(N);Qe(Y,Se=>Nn.remove(E,Se)),Qe(V,Se=>Nn.append(E,Se));const Q=Nn.contents(E);Qe(Q,(Se,re)=>{t.setupItem(k,Se,_[re],re)})})},g=t.shell?{behaviours:[Nn.config({})],components:[]}:{behaviours:[],components:s},p=k=>t.shell?C.some(k):it(k,t,"items");return{uid:t.uid,dom:t.dom,components:g.components,behaviours:Xa(t.listBehaviours,g.behaviours),apis:{setItems:d}}},t$=Gc({name:WV(),configFields:VV(),partFields:jV(),factory:ZV,apis:{setItems:(t,s,a)=>{t.setItems(s,a)}}}),pb=Z([Ke("dom"),Ee("shell",!0),Ya("toolbarBehaviours",[Nn])]),GV=Z([_l({name:"groups",overrides:()=>({behaviours:gt([Nn.config({})])})})]),n$=(t,s,a,i)=>{const d=(k,_)=>{g(k).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},E=>{Nn.set(E,_)})},g=k=>t.shell?C.some(k):it(k,t,"groups"),p=t.shell?{behaviours:[Nn.config({})],components:[]}:{behaviours:[],components:s};return{uid:t.uid,dom:t.dom,components:p.components,behaviours:Xa(t.toolbarBehaviours,p.behaviours),apis:{setGroups:d,refresh:ae},domModification:{attributes:{role:"group"}}}},nm=Gc({name:"Toolbar",configFields:pb(),partFields:GV(),factory:n$,apis:{setGroups:(t,s,a)=>{t.setGroups(s,a)}}}),KV=ae,YV=Ae,Vh=Z([]);var o$=Object.freeze({__proto__:null,setup:KV,isDocked:YV,getBehaviours:Vh});const hb=Z(Vt("toolbar-height-change")),xd={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},IO="tox-tinymce--toolbar-sticky-on",FO="tox-tinymce--toolbar-sticky-off",s$=(t,s)=>{const a=ya(s),d=Ba(s).dom.innerHeight,g=lc(a),p=ge.fromDom(t.elm),k=ei(p),_=Cs(p),E=k.y,z=E+_,N=va(s),H=Cs(s),V=N.top,Y=V+H,Q=Math.abs(V-g.top)<2,Se=Math.abs(Y-(g.top+d))<2;if(Q&&E<Y)Xu(g.left,E-H,a);else if(Se&&z>V){const re=E-d+_+H;Xu(g.left,re,a)}},LO=(t,s)=>ot(Ls.getModes(t),s),HO=t=>{const s=i=>ll(i)+(parseInt(ls(i,"margin-top"),10)||0)+(parseInt(ls(i,"margin-bottom"),10)||0),a=t.element;Mc(a).each(i=>{const d="padding-"+Ls.getModes(t)[0];if(Ls.isDocked(t)){const g=Va(i);Je(a,"width",g+"px"),Je(i,d,s(a)+"px")}else Zn(a,"width"),Zn(i,d)})},r$=(t,s)=>{s?(yr(t,xd.fadeOutClass),jp(t,[xd.transitionClass,xd.fadeInClass])):(yr(t,xd.fadeInClass),jp(t,[xd.fadeOutClass,xd.transitionClass]))},a$=(t,s)=>{const a=ge.fromDom(t.getContainer());s?(Fs(a,IO),yr(a,FO)):(Fs(a,FO),yr(a,IO))},XV=(t,s)=>{const a=ya(s);gd(a).filter(i=>!jo(s,i)).filter(i=>jo(i,ge.fromDom(a.dom.body))||Pa(t,i)).each(()=>bl(s))},JV=(t,s)=>li(t).orThunk(()=>s().toOptional().bind(a=>li(a.element))),qv=(t,s,a)=>{t.inline||(s.header.isPositionedAtTop()||t.on("ResizeEditor",()=>{a().each(Ls.reset)}),t.on("ResizeWindow ResizeEditor",()=>{a().each(HO)}),t.on("SkinLoaded",()=>{a().each(i=>{Ls.isDocked(i)?Ls.reset(i):Ls.refresh(i)})}),t.on("FullscreenStateChanged",()=>{a().each(Ls.reset)})),t.on("AfterScrollIntoView",i=>{a().each(d=>{Ls.refresh(d);const g=d.element;ED(g)&&s$(i,g)})}),t.on("PostRender",()=>{a$(t,!1)})},O_=t=>t().map(Ls.isDocked).getOr(!1),VO=()=>[Di.config({channels:{[hb()]:{onReceive:HO}}})],c$=(t,s)=>{const a=os(),i=s.getSink,d=k=>{i().each(_=>k(_.element))},g=k=>{t.inline||HO(k),a$(t,Ls.isDocked(k)),k.getSystem().broadcastOn([sp()],{}),i().each(_=>_.getSystem().broadcastOn([sp()],{}))},p=t.inline?[]:VO();return[zn.config({}),Ls.config({contextual:{lazyContext:k=>{const _=ll(k.element),E=t.inline?t.getContentAreaContainer():t.getContainer();return C.from(E).map(z=>{const N=Js(ge.fromDom(z));return hp(t,k.element).fold(()=>{const V=N.height-_,Y=N.y+(LO(k,"top")?0:_);return Zs(N.x,Y,N.width,V)},V=>{const Y=Qu(N,Jy(V)),Q=LO(k,"top")?Y.y:Y.y+_;return Zs(Y.x,Q,Y.width,Y.height-_)})})},onShow:()=>{d(k=>r$(k,!0))},onShown:k=>{d(_=>Ki(_,[xd.transitionClass,xd.fadeInClass])),a.get().each(_=>{XV(k.element,_),a.clear()})},onHide:k=>{JV(k.element,i).fold(a.clear,a.set),d(_=>r$(_,!1))},onHidden:()=>{d(k=>Ki(k,[xd.transitionClass]))},...xd},lazyViewport:k=>hp(t,k.element).fold(()=>{const E=jr(),z=UR(t),N=E.y+(LO(k,"top")?z:0),H=E.height-(LO(k,"bottom")?z:0);return{bounds:Zs(E.x,N,E.width,H),optScrollEnv:C.none()}},E=>({bounds:Jy(E),optScrollEnv:C.some({currentScrollTop:E.element.dom.scrollTop,scrollElmTop:va(E.element).top})})),modes:[s.header.getDockingMode()],onDocked:g,onUndocked:g}),...p]};var QV=Object.freeze({__proto__:null,setup:qv,isDocked:O_,getBehaviours:c$});const UO=t=>{const s=t.editor,a=t.sticky?c$:Vh;return{uid:t.uid,dom:t.dom,components:t.components,behaviours:gt(a(s,t.sharedBackstage))}},e9=kn([ta,Lo("items",gm([Jh([L2,Ti("items",Nt)]),Nt]))].concat(fi)),D_=t=>ar("GroupToolbarButton",e9,t),i$=[da("text"),da("tooltip"),da("icon"),Ei("search",!1,gm([Ui,kn([da("placeholder")])],t=>as(t)?t?C.some({placeholder:C.none()}):C.none():C.some(t))),xi("fetch"),hr("onSetup",()=>ae)],l$=kn([ta,...i$]),u$=t=>ar("menubutton",l$,t),t9=kn([ta,Cv,kd,vp,KL,WL,ob,Ai("presets","normal",["normal","color","listpreview"]),MM(1),Eh,RM]),n9=t=>ar("SplitButton",t9,t);var jO=ol({factory:(t,s)=>{const a=(d,g)=>{const p=we(g,k=>{const _={type:"menubutton",text:k.text,fetch:z=>{z(k.getItems())}},E=u$(_).mapError(z=>jl(z)).getOrDie();return v_(E,"tox-mbtn",s.backstage,C.some("menuitem"))});Nn.set(d,p)},i={focus:pn.focusIn,setMenus:a};return{uid:t.uid,dom:t.dom,components:[],behaviours:gt([Nn.config({}),Kn("menubar-events",[qs(d=>{t.onSetup(d)}),Xe(Wi(),(d,g)=>{er(d.element,".tox-mbtn--active").each(p=>{zu(g.event.target,".tox-mbtn").each(k=>{jo(p,k)||d.getSystem().getByDom(p).each(_=>{d.getSystem().getByDom(k).each(E=>{Cd.expand(E),Cd.close(_),zn.focus(E)})})})})}),Xe($g(),(d,g)=>{g.event.prevFocus.bind(p=>d.getSystem().getByDom(p).toOptional()).each(p=>{g.event.newFocus.bind(k=>d.getSystem().getByDom(k).toOptional()).each(k=>{Cd.isOpen(p)&&(Cd.expand(k),Cd.close(p))})})})]),pn.config({mode:"flow",selector:".tox-mbtn",onEscape:d=>(t.onEscape(d),C.some(!0))}),Hs.config({})]),apis:i,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[Ke("dom"),Ke("uid"),Ke("onEscape"),Ke("backstage"),Ee("onSetup",ae)],apis:{focus:(t,s)=>{t.focus(s)},setMenus:(t,s,a)=>{t.setMenus(s,a)}}});const d$="⚡️Upgrade",f$="https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_campaign=self_hosted_upgrade_promo&utm_source=tiny&utm_medium=referral",WO=t=>({uid:t.uid,dom:t.dom,components:[{dom:{tag:"a",attributes:{href:f$,rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:d$}}]}),m$="container",$x=[Ya("slotBehaviours",[])],R_=t=>"<alloy.field."+t+">",g$=t=>{const s=(()=>{const g=[];return{slot:(k,_)=>(g.push(k),jS(m$,R_(k),_)),record:Z(g)}})(),a=t(s),i=s.record(),d=we(i,g=>Ac({name:g,pname:R_(g)}));return Qm(m$,$x,d,o9,a)},o9=(t,s)=>{const a=Q=>Ly(t),i=(Q,Se)=>it(Q,t,Se),d=(Q,Se)=>(re,ye)=>it(re,t,ye).map(ve=>Q(ve,ye)).getOr(Se),g=Q=>(Se,re)=>{Qe(re,ye=>Q(Se,ye))},p=(Q,Se)=>rn(Q.element,"aria-hidden")!=="true",k=(Q,Se)=>{if(!p(Q)){const re=Q.element;Zn(re,"display"),P(re,"aria-hidden"),hn(Q,b0(),{name:Se,visible:!0})}},_=(Q,Se)=>{if(p(Q)){const re=Q.element;Je(re,"display","none"),Pt(re,"aria-hidden","true"),hn(Q,b0(),{name:Se,visible:!1})}},E=d(p,!1),z=d(_),N=g(z),H=Q=>N(Q,a()),V=d(k),Y={getSlotNames:a,getSlot:i,isShowing:E,hideSlot:z,hideAllSlots:H,showSlot:V};return{uid:t.uid,dom:t.dom,components:s,behaviours:Py(t.slotBehaviours),apis:Y}},gi={...Wn({getSlotNames:(t,s)=>t.getSlotNames(s),getSlot:(t,s,a)=>t.getSlot(s,a),isShowing:(t,s,a)=>t.isShowing(s,a),hideSlot:(t,s,a)=>t.hideSlot(s,a),hideAllSlots:(t,s)=>t.hideAllSlots(s),showSlot:(t,s,a)=>t.showSlot(s,a)},t=>Xb(t)),sketch:g$},s9=kn([kd,Cv,hr("onShow",ae),hr("onHide",ae),ob]),ZO=t=>ar("sidebar",s9,t),qO=t=>{const{sidebars:s}=t.ui.registry.getAll();Qe(ho(s),a=>{const i=s[a],d=()=>mr(C.from(t.queryCommandValue("ToggleSidebar")),a);t.ui.registry.addToggleButton(a,{icon:i.icon,tooltip:i.tooltip,onAction:g=>{t.execCommand("ToggleSidebar",!1,a),g.setActive(d())},onSetup:g=>{g.setActive(d());const p=()=>g.setActive(d());return t.on("ToggleSidebar",p),()=>{t.off("ToggleSidebar",p)}}})})},r9=t=>({element:()=>t.element.dom}),GO=(t,s)=>{const a=we(ho(s),i=>{const d=s[i],g=ct(ZO(d));return{name:i,getApi:r9,onSetup:g.onSetup,onShow:g.onShow,onHide:g.onHide}});return we(a,i=>{const d=tn(ae);return t.slot(i.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:Tv.unnamedEvents([mi(i,d),zh(i,d),Xe(b0(),(g,p)=>{const k=p.event;jt(a,E=>E.name===k.name).each(E=>{(k.visible?E.onShow:E.onHide)(E.getApi(g))})})])})})},a9=t=>gi.sketch(s=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:GO(s,t),slotBehaviours:Tv.unnamedEvents([qs(a=>gi.hideAllSlots(a))])})),c9=(t,s,a)=>{Ro.getCurrent(t).each(d=>{Nn.set(d,[a9(s)]);const g=a==null?void 0:a.toLowerCase();on(g)&&to(s,g)&&Ro.getCurrent(d).each(p=>{gi.showSlot(p,g),Pi.immediateGrow(d),Zn(d.element,"width"),Ix(t.element,"region")})})},Ix=(t,s)=>{Pt(t,"role",s)},i9=(t,s)=>{Ro.getCurrent(t).each(i=>{Ro.getCurrent(i).each(g=>{Pi.hasGrown(i)?gi.isShowing(g,s)?(Pi.shrink(i),Ix(t.element,"presentation")):(gi.hideAllSlots(g),gi.showSlot(g,s),Ix(t.element,"region")):(gi.hideAllSlots(g),gi.showSlot(g,s),Pi.grow(i),Ix(t.element,"region"))})})},l9=t=>Ro.getCurrent(t).bind(a=>Pi.isGrowing(a)||Pi.hasGrown(a)?Ro.getCurrent(a).bind(g=>jt(gi.getSlotNames(g),p=>gi.isShowing(g,p))):C.none()),p$=Vt("FixSizeEvent"),h$=Vt("AutoSizeEvent"),y$=t=>({uid:t.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:gt([Hs.config({}),zn.config({}),Pi.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:s=>{Ro.getCurrent(s).each(gi.hideAllSlots),no(s,h$)},onGrown:s=>{no(s,h$)},onStartGrow:s=>{hn(s,p$,{width:As(s.element,"width").getOr("")})},onStartShrink:s=>{hn(s,p$,{width:Va(s.element)+"px"})}}),Nn.config({}),Ro.config({find:s=>{const a=Nn.contents(s);return po(a)}})])}],behaviours:gt([uf.childAt(0),Kn("sidebar-sliding-events",[Xe(p$,(s,a)=>{Je(s.element,"width",a.event.width)}),Xe(h$,(s,a)=>{Zn(s.element,"width")})])])});var d9=Object.freeze({__proto__:null,block:(t,s,a,i)=>{Pt(t.element,"aria-busy",!0);const d=s.getRoot(t).getOr(t),g=gt([pn.config({mode:"special",onTab:()=>C.some(!0),onShiftTab:()=>C.some(!0)}),zn.config({})]),p=i(d,g),k=d.getSystem().build(p);Nn.append(d,yl(k)),k.hasConfigured(pn)&&s.focus&&pn.focusIn(k),a.isBlocked()||s.onBlock(t),a.blockWith(()=>Nn.remove(d,k))},unblock:(t,s,a)=>{P(t.element,"aria-busy"),a.isBlocked()&&s.onUnblock(t),a.clear()},isBlocked:(t,s,a)=>a.isBlocked()}),f9=[hr("getRoot",C.none),Br("focus",!0),Eo("onBlock"),Eo("onUnblock")],m9=Object.freeze({__proto__:null,init:()=>{const t=dm(),s=a=>{t.set({destroy:a})};return qi({readState:t.isSet,blockWith:s,clear:t.clear,isBlocked:t.isSet})}});const mf=fc({fields:f9,name:"blocking",apis:d9,state:m9}),g9=t=>(s,a)=>({dom:{tag:"div",attributes:{"aria-label":t.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:Gf('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),b$=t=>Ro.getCurrent(t).each(s=>bl(s.element,!0)),p9=(t,s)=>{const a="tabindex",i=`data-mce-${a}`;C.from(t.iframeElement).map(ge.fromDom).each(d=>{s?(Nr(d,a).each(g=>Pt(d,i,g)),Pt(d,a,-1)):(P(d,a),Nr(d,i).each(g=>{Pt(d,a,g),P(d,i)}))})},mq=(t,s,a,i)=>{const d=s.element;if(p9(t,a),a)mf.block(s,g9(i)),Zn(d,"display"),P(d,"aria-hidden"),t.hasFocus()&&b$(s);else{const g=Ro.getCurrent(s).exists(p=>by(p.element));mf.unblock(s),Je(d,"display","none"),Pt(d,"aria-hidden","true"),g&&t.focus()}},gq=t=>({uid:t.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:gt([Nn.config({}),mf.config({focus:!1}),Ro.config({find:s=>po(s.components())})]),components:[]}),v$=t=>t.type==="focusin",k$=t=>v$(t)?(t.composed?po(t.composedPath()):C.from(t.target)).map(ge.fromDom).filter(So).exists(a=>Gi(a,"mce-pastebin")):!1,h9=(t,s,a)=>{const i=tn(!1),d=os(),g=k=>{i.get()&&!k$(k)&&(k.preventDefault(),b$(s()),t.editorManager.setActive(t))};t.inline||t.on("PreInit",()=>{t.dom.bind(t.getWin(),"focusin",g),t.on("BeforeExecCommand",k=>{k.command.toLowerCase()==="mcefocus"&&k.value!==!0&&g(k)})});const p=k=>{k!==i.get()&&(i.set(k),mq(t,s(),k,a.providers),C6(t,k))};t.on("ProgressState",k=>{if(d.on(clearTimeout),No(k.time)){const _=yv.setEditorTimeout(t,()=>p(k.state),k.time);d.set(_)}else p(k.state),d.clear()})},y9=(t,s)=>Co(t,(d,g)=>s(g,d.len).fold(Z(d),k=>({len:k.finish,list:d.list.concat([k])})),{len:0,list:[]}).list,Al=(t,s,a)=>({within:t,extra:s,withinWidth:a}),w$=(t,s,a)=>{const i=y9(t,(k,_)=>{const E=a(k);return C.some({element:k,start:_,finish:_+E,width:E})}),d=xn(i,k=>k.finish<=s),g=Jn(d,(k,_)=>k+_.width,0),p=i.slice(d.length);return{within:d,extra:p,withinWidth:g}},M_=t=>we(t,s=>s.element),_$=(t,s,a)=>{const i=M_(t.concat(s));return Al(i,[],a)},b9=(t,s,a,i)=>{const d=M_(t).concat([a]);return Al(d,M_(s),i)},N_=(t,s,a)=>Al(M_(t),[],a),v9=(t,s,a)=>{const i=w$(s,t,a);return i.extra.length===0?C.some(i):C.none()},Fx=(t,s,a,i)=>{const d=v9(t,s,a).getOrThunk(()=>w$(s,t-a(i),a)),g=d.within,p=d.extra,k=d.withinWidth;return p.length===1&&p[0].width<=a(i)?_$(g,p,k):p.length>=1?b9(g,p,i,k):N_(g,p,k)},C$=(t,s)=>{const a=we(s,i=>yl(i));nm.setGroups(t,a)},Lx=t=>zo(t,s=>li(s.element).bind(a=>s.getSystem().getByDom(a).toOptional())),S$=(t,s,a)=>{const i=s.builtGroups.get();if(i.length===0)return;const d=Cl(t,s,"primary"),g=qr.getCoupled(t,"overflowGroup");Je(d.element,"visibility","hidden");const p=i.concat([g]),k=Lx(p);a([]),C$(d,p);const _=Va(d.element),E=Fx(_,s.builtGroups.get(),z=>Math.ceil(z.element.dom.getBoundingClientRect().width),g);E.extra.length===0?(Nn.remove(d,g),a([])):(C$(d,E.within),a(E.extra)),Zn(d.element,"visibility"),ac(d.element),k.each(zn.focus)},x$=Z([Ya("splitToolbarBehaviours",[qr]),Fo("builtGroups",()=>tn([]))]),Td=Z([qg(["overflowToggledClass"]),Cu("getOverflowBounds"),Ke("lazySink"),Fo("overflowGroups",()=>tn([])),Eo("onOpened"),Eo("onClosed")].concat(x$())),k9=Z([Ac({factory:nm,schema:pb(),name:"primary"}),tu({schema:pb(),name:"overflow"}),tu({name:"overflow-button"}),tu({name:"overflow-group"})]),Gv=Z((t,s)=>{ul(t,Math.floor(s))}),T$=Z([qg(["toggledClass"]),Ke("lazySink"),xi("fetch"),Cu("getBounds"),Ps("fireDismissalEventInstead",[Ee("event",km())]),jm(),Eo("onToggled")]),E$=Z([tu({name:"button",overrides:t=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:gt([ao.config({toggleClass:t.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:t.onToggled})])})}),tu({factory:nm,schema:pb(),name:"toolbar",overrides:t=>({toolbarBehaviours:gt([pn.config({mode:"cyclic",onEscape:s=>(it(s,t,"button").each(zn.focus),C.none())})])})})]),Hx=os(),A$=(t,s)=>{Hx.set(!0),KO(t,s),Hx.clear()},KO=(t,s)=>{const a=qr.getCoupled(t,"toolbarSandbox");Do.isOpen(a)?Do.close(a):Do.open(a,s.toolbar())},YO=(t,s,a,i)=>{const d=a.getBounds.map(p=>p()),g=a.lazySink(t).getOrDie();Hc.positionWithinBounds(g,s,{anchor:{type:"hotspot",hotspot:t,layouts:i,overrides:{maxWidthFunction:Gv()}}},d)},z$=(t,s,a,i,d)=>{nm.setGroups(s,d),YO(t,s,a,i),ao.on(t)},w9=(t,s,a)=>{const i=ck(),d=(p,k)=>{const _=Hx.get().getOr(!1);a.fetch().get(E=>{z$(t,k,a,s.layouts,E),i.link(t.element),_||pn.focusIn(k)})},g=()=>{ao.off(t),Hx.get().getOr(!1)||zn.focus(t),i.unlink(t.element)};return{dom:{tag:"div",attributes:{id:i.id}},behaviours:gt([pn.config({mode:"special",onEscape:p=>(Do.close(p),C.some(!0))}),Do.config({onOpen:d,onClose:g,isPartOf:(p,k,_)=>Yg(k,_)||Yg(t,_),getAttachPoint:()=>a.lazySink(t).getOrDie()}),Di.config({channels:{...Jm({isExtraPart:Ae,...a.fireDismissalEventInstead.map(p=>({fireEventInstead:{event:p.event}})).getOr({})}),...Hk({doReposition:()=>{Do.getState(qr.getCoupled(t,"toolbarSandbox")).each(p=>{YO(t,p,a,s.layouts)})}})}})])}},Uh=Gc({name:"FloatingToolbarButton",factory:(t,s,a,i)=>({...Vc.sketch({...i.button(),action:d=>{KO(d,i)},buttonBehaviours:eu.augment({dump:i.button().buttonBehaviours},[qr.config({others:{toolbarSandbox:d=>w9(d,a,t)}})])}),apis:{setGroups:(d,g)=>{Do.getState(qr.getCoupled(d,"toolbarSandbox")).each(p=>{z$(d,p,t,a.layouts,g)})},reposition:d=>{Do.getState(qr.getCoupled(d,"toolbarSandbox")).each(g=>{YO(d,g,t,a.layouts)})},toggle:d=>{KO(d,i)},toggleWithoutFocusing:d=>{A$(d,i)},getToolbar:d=>Do.getState(qr.getCoupled(d,"toolbarSandbox")),isOpen:d=>Do.isOpen(qr.getCoupled(d,"toolbarSandbox"))}}),configFields:T$(),partFields:E$(),apis:{setGroups:(t,s,a)=>{t.setGroups(s,a)},reposition:(t,s)=>{t.reposition(s)},toggle:(t,s)=>{t.toggle(s)},toggleWithoutFocusing:(t,s)=>{t.toggleWithoutFocusing(s)},getToolbar:(t,s)=>t.getToolbar(s),isOpen:(t,s)=>t.isOpen(s)}}),_9=Z([Ke("items"),qg(["itemSelector"]),Ya("tgroupBehaviours",[pn])]),O$=Z([av({name:"items",unit:"item"})]),D$=(t,s,a,i)=>({uid:t.uid,dom:t.dom,components:s,behaviours:Xa(t.tgroupBehaviours,[pn.config({mode:"flow",selector:t.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}),P_=Gc({name:"ToolbarGroup",configFields:_9(),partFields:O$(),factory:D$}),R$=t=>we(t,s=>yl(s)),M$=(t,s,a)=>{S$(t,a,i=>{a.overflowGroups.set(i),s.getOpt(t).each(d=>{Uh.setGroups(d,R$(i))})})},N$=(t,s,a,i)=>{const d=Qo(Uh.sketch({fetch:()=>Uc.nu(g=>{g(R$(t.overflowGroups.get()))}),layouts:{onLtr:()=>[Ir,Ca],onRtl:()=>[Ca,Ir],onBottomLtr:()=>[xc,ms],onBottomRtl:()=>[ms,xc]},getBounds:a.getOverflowBounds,lazySink:t.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:t.markers.overflowToggledClass},parts:{button:i["overflow-button"](),toolbar:i.overflow()},onToggled:(g,p)=>t[p?"onOpened":"onClosed"](g)}));return{uid:t.uid,dom:t.dom,components:s,behaviours:Xa(t.splitToolbarBehaviours,[qr.config({others:{overflowGroup:()=>P_.sketch({...i["overflow-group"](),items:[d.asSpec()]})}})]),apis:{setGroups:(g,p)=>{t.builtGroups.set(we(p,g.getSystem().build)),M$(g,d,t)},refresh:g=>M$(g,d,t),toggle:g=>{d.getOpt(g).each(p=>{Uh.toggle(p)})},toggleWithoutFocusing:g=>{d.getOpt(g).each(Uh.toggleWithoutFocusing)},isOpen:g=>d.getOpt(g).map(Uh.isOpen).getOr(!1),reposition:g=>{d.getOpt(g).each(p=>{Uh.reposition(p)})},getOverflow:g=>d.getOpt(g).bind(Uh.getToolbar)},domModification:{attributes:{role:"group"}}}},XO=Gc({name:"SplitFloatingToolbar",configFields:Td(),partFields:k9(),factory:N$,apis:{setGroups:(t,s,a)=>{t.setGroups(s,a)},refresh:(t,s)=>{t.refresh(s)},reposition:(t,s)=>{t.reposition(s)},toggle:(t,s)=>{t.toggle(s)},toggleWithoutFocusing:(t,s)=>{t.toggle(s)},isOpen:(t,s)=>t.isOpen(s),getOverflow:(t,s)=>t.getOverflow(s)}}),P$=Z([qg(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Eo("onOpened"),Eo("onClosed")].concat(x$())),C9=Z([Ac({factory:nm,schema:pb(),name:"primary"}),Ac({factory:nm,schema:pb(),name:"overflow",overrides:t=>({toolbarBehaviours:gt([Pi.config({dimension:{property:"height"},closedClass:t.markers.closedClass,openClass:t.markers.openClass,shrinkingClass:t.markers.shrinkingClass,growingClass:t.markers.growingClass,onShrunk:s=>{it(s,t,"overflow-button").each(a=>{ao.off(a)}),t.onClosed(s)},onGrown:s=>{t.onOpened(s)},onStartGrow:s=>{it(s,t,"overflow-button").each(ao.on)}}),pn.config({mode:"acyclic",onEscape:s=>(it(s,t,"overflow-button").each(zn.focus),C.some(!0))})])})}),tu({name:"overflow-button",overrides:t=>({buttonBehaviours:gt([ao.config({toggleClass:t.markers.overflowToggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])})}),tu({name:"overflow-group"})]),S9=(t,s)=>it(t,s,"overflow").map(Pi.hasGrown).getOr(!1),JO=(t,s,a)=>{it(t,s,"overflow-button").each(i=>{it(t,s,"overflow").each(d=>{if(Vx(t,s),Pi.hasShrunk(d)){const g=s.onOpened;s.onOpened=p=>{a||pn.focusIn(d),g(p),s.onOpened=g}}else{const g=s.onClosed;s.onClosed=p=>{a||zn.focus(i),g(p),s.onClosed=g}}Pi.toggleGrow(d)})})},Vx=(t,s)=>{it(t,s,"overflow").each(a=>{S$(t,s,i=>{const d=we(i,g=>yl(g));nm.setGroups(a,d)}),it(t,s,"overflow-button").each(i=>{Pi.hasGrown(a)&&ao.on(i)}),Pi.refresh(a)})},x9=(t,s,a,i)=>{const d="alloy.toolbar.toggle",g=(p,k)=>{const _=we(k,p.getSystem().build);t.builtGroups.set(_)};return{uid:t.uid,dom:t.dom,components:s,behaviours:Xa(t.splitToolbarBehaviours,[qr.config({others:{overflowGroup:p=>P_.sketch({...i["overflow-group"](),items:[Vc.sketch({...i["overflow-button"](),action:k=>{no(p,d)}})]})}}),Kn("toolbar-toggle-events",[Xe(d,p=>{JO(p,t,!1)})])]),apis:{setGroups:(p,k)=>{g(p,k),Vx(p,t)},refresh:p=>Vx(p,t),toggle:p=>{JO(p,t,!1)},toggleWithoutFocusing:p=>{JO(p,t,!0)},isOpen:p=>S9(p,t)},domModification:{attributes:{role:"group"}}}},QO=Gc({name:"SplitSlidingToolbar",configFields:P$(),partFields:C9(),factory:x9,apis:{setGroups:(t,s,a)=>{t.setGroups(s,a)},refresh:(t,s)=>{t.refresh(s)},toggle:(t,s)=>{t.toggle(s)},isOpen:(t,s)=>t.isOpen(s)}}),B$=t=>{const s=t.title.fold(()=>({}),a=>({attributes:{title:a}}));return{dom:{tag:"div",classes:["tox-toolbar__group"],...s},components:[P_.parts.items({})],items:t.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:gt([Hs.config({}),zn.config({})])}},Ux=t=>P_.sketch(B$(t)),$$=(t,s)=>{const a=qs(i=>{const d=we(t.initGroups,Ux);nm.setGroups(i,d)});return gt([lf.toolbarButton(t.providers.isDisabled),Qa(),pn.config({mode:s,onEscape:t.onEscape,selector:".tox-toolbar__group"}),Kn("toolbar-events",[a])])},I$=t=>{const s=t.cyclicKeying?"cyclic":"acyclic";return{uid:t.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":B$({title:C.none(),items:[]}),"overflow-button":jH({name:"more",icon:C.some("more-drawer"),enabled:!0,tooltip:C.some("Reveal or hide additional toolbar items"),primary:!1,buttonType:C.none(),borderless:!1},C.none(),t.providers,[],"overflow-button")},splitToolbarBehaviours:$$(t,s)}},T9=t=>{const s=I$(t),a=4,i=XO.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return XO.sketch({...s,lazySink:t.getSink,getOverflowBounds:()=>{const d=t.moreDrawerData.lazyHeader().element,g=ei(d),p=Pl(d),k=ei(p),_=Math.max(p.dom.scrollHeight,k.height);return Zs(g.x+a,k.y,g.width-a*2,_)},parts:{...s.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:t.attributes}}},components:[i],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:d=>t.onToggled(d,!0),onClosed:d=>t.onToggled(d,!1)})},E9=t=>{const s=QO.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),a=QO.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),i=I$(t);return QO.sketch({...i,components:[s,a],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:d=>{d.getSystem().broadcastOn([hb()],{type:"opened"}),t.onToggled(d,!0)},onClosed:d=>{d.getSystem().broadcastOn([hb()],{type:"closed"}),t.onToggled(d,!1)}})},jx=t=>{const s=t.cyclicKeying?"cyclic":"acyclic";return nm.sketch({uid:t.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(t.type===yd.scrolling?["tox-toolbar--scrolling"]:[])},components:[nm.parts.groups({})],toolbarBehaviours:$$(t,s)})},F$=[vp,kd,da("tooltip"),Ai("buttonType","secondary",["primary","secondary"]),Br("borderless",!1),xi("onAction")],L$=[...F$,bp,_c("type",["button"])],A9=[...F$,Br("active",!1),_c("type",["togglebutton"])],H$={button:L$,togglebutton:A9},e3=[_c("type",["group"]),w("buttons",[],wa("type",H$))],z9=wa("type",{...H$,group:e3}),Wx=kn([w("buttons",[],z9),xi("onShow"),xi("onHide")]),O9=t=>ar("view",Wx,t),V$=(t,s)=>{var a,i;const d=t.type==="togglebutton",g=t.icon.map(ve=>Ih(ve,s.icons)).map(Qo),k=(()=>ve=>{const qe=Ft=>{g.map(We=>We.getOpt(ve).each(qt=>{Nn.set(qt,[Ih(Ft,s.icons)])}))},He=Ft=>{const We=ve.element;Ft?(Fs(We,"tox-button--enabled"),Pt(We,"aria-pressed",!0)):(yr(We,"tox-button--enabled"),P(We,"aria-pressed"))},At=()=>Gi(ve.element,"tox-button--enabled");if(d)return t.onAction({setIcon:qe,setActive:He,isActive:At});if(t.type==="button")return t.onAction({setIcon:qe})})(),_={...t,name:d?t.text.getOr(t.icon.getOr("")):(a=t.text)!==null&&a!==void 0?a:t.icon.getOr(""),primary:t.buttonType==="primary",buttonType:C.from(t.buttonType),tooltip:t.tooltip,icon:t.icon,enabled:!0,borderless:t.borderless},E=bO((i=t.buttonType)!==null&&i!==void 0?i:"secondary"),z=d?t.text.map(s.translate):C.some(s.translate(t.text)),N=z.map(br),H=_.tooltip.or(z).map(ve=>({"aria-label":s.translate(ve)})).getOr({}),V=g.map(ve=>ve.asSpec()),Y=rb([V,N]),Q=t.icon.isSome()&&N.isSome(),Se={tag:"button",classes:E.concat(...t.icon.isSome()&&!Q?["tox-button--icon"]:[]).concat(...Q?["tox-button--icon-and-text"]:[]).concat(...t.borderless?["tox-button--naked"]:[]).concat(...t.type==="togglebutton"&&t.active?["tox-button--enabled"]:[]),attributes:H},re=[],ye=w_(_,C.some(k),re,Se,Y,t.tooltip,s);return Vc.sketch(ye)},U$=(t,s)=>V$(t,s),D9=(t,s)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:we(t.buttons,a=>U$(a,s))}),R9=Qn().deviceType,M9=R9.isPhone(),N9=R9.isTablet(),t3=t=>{let s=!1;const a=we(t.buttons,i=>i.type==="group"?(s=!0,D9(i,t.providers)):U$(i,t.providers));return{uid:t.uid,dom:{tag:"div",classes:[s?"tox-view__toolbar":"tox-view__header",...M9||N9?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:gt([zn.config({}),pn.config({mode:"flow",selector:"button, .tox-button",focusInside:qf.OnEnterOrSpaceMode})]),components:s?a:[Jf.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),Jf.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:a})]}},P9=t=>({uid:t.uid,behaviours:gt([zn.config({}),Hs.config({})]),dom:{tag:"div",classes:["tox-view__pane"]}}),Zx=(t,s,a,i)=>{const d={getPane:g=>Ea.getPart(g,t,"pane"),getOnShow:g=>t.viewConfig.onShow,getOnHide:g=>t.viewConfig.onHide};return{uid:t.uid,dom:t.dom,components:s,behaviours:gt([zn.config({}),pn.config({mode:"cyclic",focusInside:qf.OnEnterOrSpaceMode})]),apis:d}};var yb=Gc({name:"silver.View",configFields:[Ke("viewConfig")],partFields:[_l({factory:{sketch:t3},schema:[Ke("buttons"),Ke("providers")],name:"header"}),_l({factory:{sketch:P9},schema:[],name:"pane"})],factory:Zx,apis:{getPane:(t,s)=>t.getPane(s),getOnShow:(t,s)=>t.getOnShow(s),getOnHide:(t,s)=>t.getOnHide(s)}});const j$=(t,s,a)=>zr(s,(i,d)=>{const g=ct(O9(i));return t.slot(d,yb.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:g,components:[...g.buttons.length>0?[yb.parts.header({buttons:g.buttons,providers:a})]:[],yb.parts.pane({})]}))}),n3=(t,s)=>gi.sketch(a=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:j$(a,t,s),slotBehaviours:Tv.unnamedEvents([qs(i=>gi.hideAllSlots(i))])})),W$=t=>jt(gi.getSlotNames(t),s=>gi.isShowing(t,s)),Z$=t=>{const s=t.element;Je(s,"display","none"),Pt(s,"aria-hidden","true")},Kv=t=>{const s=t.element;Zn(s,"display"),P(s,"aria-hidden")},q$=t=>({getContainer:Z(t)}),G$=(t,s,a)=>{gi.getSlot(t,s).each(i=>{yb.getPane(i).each(d=>{a(i)(q$(d.element.dom))})})},B9=(t,s)=>G$(t,s,yb.getOnShow),$9=(t,s)=>G$(t,s,yb.getOnHide);var qx=ol({factory:(t,s)=>{const g={setViews:(p,k)=>{Nn.set(p,[n3(k,s.backstage.shared.providers)])},whichView:p=>Ro.getCurrent(p).bind(W$),toggleView:(p,k,_,E)=>Ro.getCurrent(p).exists(z=>{const N=W$(z),H=N.exists(Y=>E===Y),V=gi.getSlot(z,E).isSome();return V&&(gi.hideAllSlots(z),H?(Z$(p),k()):(_(),Kv(p),gi.showSlot(z,E),B9(z,E)),N.each(Y=>$9(z,Y))),V})};return{uid:t.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:gt([Nn.config({}),Ro.config({find:p=>{const k=Nn.contents(p);return po(k)}})]),apis:g}},name:"silver.ViewWrapper",configFields:[Ke("backstage")],apis:{setViews:(t,s,a)=>t.setViews(s,a),toggleView:(t,s,a,i,d)=>t.toggleView(s,a,i,d),whichView:(t,s)=>t.whichView(s)}});const I9=(t,s,a)=>{let i=!1;const d=p=>{md(p,".tox-statusbar").each(k=>{ls(k,"display")==="none"&&rn(k,"aria-hidden")==="true"?(Zn(k,"display"),P(k,"aria-hidden")):(Je(k,"display","none"),Pt(k,"aria-hidden","true"))})},g={getSocket:p=>Ea.getPart(p,t,"socket"),setSidebar:(p,k,_)=>{Ea.getPart(p,t,"sidebar").each(E=>c9(E,k,_))},toggleSidebar:(p,k)=>{Ea.getPart(p,t,"sidebar").each(_=>i9(_,k))},whichSidebar:p=>Ea.getPart(p,t,"sidebar").bind(l9).getOrNull(),getHeader:p=>Ea.getPart(p,t,"header"),getToolbar:p=>Ea.getPart(p,t,"toolbar"),setToolbar:(p,k)=>{Ea.getPart(p,t,"toolbar").each(_=>{const E=we(k,Ux);_.getApis().setGroups(_,E)})},setToolbars:(p,k)=>{Ea.getPart(p,t,"multiple-toolbar").each(_=>{const E=we(k,z=>we(z,Ux));t$.setItems(_,E)})},refreshToolbar:p=>{Ea.getPart(p,t,"toolbar").each(_=>_.getApis().refresh(_))},toggleToolbarDrawer:p=>{Ea.getPart(p,t,"toolbar").each(k=>{Uo(k.getApis().toggle,_=>_(k))})},toggleToolbarDrawerWithoutFocusing:p=>{Ea.getPart(p,t,"toolbar").each(k=>{Uo(k.getApis().toggleWithoutFocusing,_=>_(k))})},isToolbarDrawerToggled:p=>Ea.getPart(p,t,"toolbar").bind(k=>C.from(k.getApis().isOpen).map(_=>_(k))).getOr(!1),getThrobber:p=>Ea.getPart(p,t,"throbber"),focusToolbar:p=>{Ea.getPart(p,t,"toolbar").orThunk(()=>Ea.getPart(p,t,"multiple-toolbar")).each(_=>{pn.focusIn(_)})},setMenubar:(p,k)=>{Ea.getPart(p,t,"menubar").each(_=>{jO.setMenus(_,k)})},focusMenubar:p=>{Ea.getPart(p,t,"menubar").each(k=>{jO.focus(k)})},setViews:(p,k)=>{Ea.getPart(p,t,"viewWrapper").each(_=>{qx.setViews(_,k)})},toggleView:(p,k)=>Ea.getPart(p,t,"viewWrapper").exists(_=>qx.toggleView(_,()=>g.showMainView(p),()=>g.hideMainView(p),k)),whichView:p=>Ea.getPart(p,t,"viewWrapper").bind(qx.whichView).getOrNull(),hideMainView:p=>{i=g.isToolbarDrawerToggled(p),i&&g.toggleToolbarDrawer(p),Ea.getPart(p,t,"editorContainer").each(k=>{const _=k.element;d(_),Je(_,"display","none"),Pt(_,"aria-hidden","true")})},showMainView:p=>{i&&g.toggleToolbarDrawer(p),Ea.getPart(p,t,"editorContainer").each(k=>{const _=k.element;d(_),Zn(_,"display"),P(_,"aria-hidden")})}};return{uid:t.uid,dom:t.dom,components:s,apis:g,behaviours:t.behaviours}},Y$=tm.optional({factory:jO,name:"menubar",schema:[Ke("backstage")]}),X$=t=>t.type===yd.sliding?E9:t.type===yd.floating?T9:jx,Gx=tm.optional({factory:{sketch:t=>t$.sketch({uid:t.uid,dom:t.dom,listBehaviours:gt([pn.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>jx({type:t.type,uid:Vt("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:t.providers,onEscape:()=>(t.onEscape(),C.some(!0))}),setupItem:(s,a,i,d)=>{nm.setGroups(a,i)},shell:!0})},name:"multiple-toolbar",schema:[Ke("dom"),Ke("onEscape")]}),o3=tm.optional({factory:{sketch:t=>{const s=X$(t),a={type:t.type,uid:t.uid,onEscape:()=>(t.onEscape(),C.some(!0)),onToggled:(i,d)=>t.onToolbarToggled(d),cyclicKeying:!1,initGroups:[],getSink:t.getSink,providers:t.providers,moreDrawerData:{lazyToolbar:t.lazyToolbar,lazyMoreButton:t.lazyMoreButton,lazyHeader:t.lazyHeader},attributes:t.attributes};return s(a)}},name:"toolbar",schema:[Ke("dom"),Ke("onEscape"),Ke("getSink")]}),F9=tm.optional({factory:{sketch:UO},name:"header",schema:[Ke("dom")]}),L9=tm.optional({factory:{sketch:WO},name:"promotion",schema:[Ke("dom")]}),J$=tm.optional({name:"socket",schema:[Ke("dom")]}),H9=tm.optional({factory:{sketch:y$},name:"sidebar",schema:[Ke("dom")]}),V9=tm.optional({factory:{sketch:gq},name:"throbber",schema:[Ke("dom")]}),U9=tm.optional({factory:qx,name:"viewWrapper",schema:[Ke("backstage")]}),Q$=t=>({uid:t.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:t.components}),j9=tm.optional({factory:{sketch:Q$},name:"editorContainer",schema:[]});var Vs=Gc({name:"OuterContainer",factory:I9,configFields:[Ke("dom"),Ke("behaviours")],partFields:[F9,Y$,o3,Gx,J$,H9,L9,V9,U9,j9],apis:{getSocket:(t,s)=>t.getSocket(s),setSidebar:(t,s,a,i)=>{t.setSidebar(s,a,i)},toggleSidebar:(t,s,a)=>{t.toggleSidebar(s,a)},whichSidebar:(t,s)=>t.whichSidebar(s),getHeader:(t,s)=>t.getHeader(s),getToolbar:(t,s)=>t.getToolbar(s),setToolbar:(t,s,a)=>{t.setToolbar(s,a)},setToolbars:(t,s,a)=>{t.setToolbars(s,a)},refreshToolbar:(t,s)=>t.refreshToolbar(s),toggleToolbarDrawer:(t,s)=>{t.toggleToolbarDrawer(s)},toggleToolbarDrawerWithoutFocusing:(t,s)=>{t.toggleToolbarDrawerWithoutFocusing(s)},isToolbarDrawerToggled:(t,s)=>t.isToolbarDrawerToggled(s),getThrobber:(t,s)=>t.getThrobber(s),setMenubar:(t,s,a)=>{t.setMenubar(s,a)},focusMenubar:(t,s)=>{t.focusMenubar(s)},focusToolbar:(t,s)=>{t.focusToolbar(s)},setViews:(t,s,a)=>{t.setViews(s,a)},toggleView:(t,s,a)=>t.toggleView(s,a),whichView:(t,s)=>t.whichView(s)}});const s3="file edit view insert format tools table help",eI={file:{title:"File",items:"newdocument restoredraft | preview | importword exportpdf exportword | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code revisionhistory | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed inserttemplate codesample inserttable accordion math | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},W9=(t,s,a)=>{const i=p2(a).split(/[ ,]/);return{text:t.title,getItems:()=>te(t.items,d=>{const g=d.toLowerCase();return g.trim().length===0?[]:Xt(i,p=>p===g)?[]:g==="separator"||g==="|"?[{type:"separator"}]:s.menuItems[g]?[s.menuItems[g]]:[]})}},Kx=t=>t.split(" "),tI=(t,s)=>{const a={...eI,...s.menus},i=ho(s.menus).length>0,d=s.menubar===void 0||s.menubar===!0?Kx(s3):Kx(s.menubar===!1?"":s.menubar),g=xn(d,k=>{const _=to(eI,k);return i?_||mt(s.menus,k).exists(E=>to(E,"items")):_}),p=we(g,k=>{const _=a[k];return W9({title:_.title,items:Kx(_.items)},s,t)});return xn(p,k=>{const _=E=>on(E)||E.type!=="separator";return k.getItems().length>0&&Xt(k.getItems(),_)})},nI=t=>{const s=()=>{t._skinLoaded=!0,k6(t)};return()=>{t.initialized?s():t.on("init",s)}},Z9=(t,s)=>()=>w6(t,{message:s}),r3=(t,s,a)=>(t.on("remove",()=>a.unload(s)),a.load(s)),a3=(t,s,a,i)=>(t.on("remove",()=>i.unloadRawCss(s)),i.loadRawCss(s,a)),q9=async(t,s)=>{const i="ui/"+k2(t).getOr("default")+"/skin.css",d=tinymce.Resource.get(i);if(on(d))a3(t,i,d,t.ui.styleSheetLoader);else{const g=t.editorManager.suffix,p=s+`/skin${g}.css`;return r3(t,p,t.ui.styleSheetLoader)}},G9=async(t,s)=>{if(U(ge.fromDom(t.getElement()))){const d="ui/"+k2(t).getOr("default")+"/skin.shadowdom.css",g=tinymce.Resource.get(d);if(on(g))a3(t,d,g,Zy.DOM.styleSheetLoader);else{const p=t.editorManager.suffix,k=s+`/skin.shadowdom${p}.css`;return r3(t,k,Zy.DOM.styleSheetLoader)}}},oI=async(t,s)=>{const a=()=>{const d=MA(s),g=s.editorManager.suffix;d&&s.contentCSS.push(d+(t?"/content.inline":"/content")+`${g}.css`)};k2(s).fold(a,d=>{const g="ui/"+d+(t?"/content.inline":"/content")+".css",p=tinymce.Resource.get(g);on(p)?a3(s,g,p,s.ui.styleSheetLoader):a()});const i=MA(s);if(!RA(s)&&on(i))return Promise.all([q9(s,i),G9(s,i)]).then()},sI=(t,s)=>oI(t,s).then(nI(s),Z9(s,"Skin could not be loaded")),K9=gn(sI,!1),Y9=gn(sI,!0),jh=(t,s,a)=>ne(a)?t.translate(s):t.translate([s,t.translate(a)]),c3=(t,s)=>{const a=(p,k,_,E)=>{const z=t.shared.providers.translate(p.title);if(p.type==="separator")return C.some({type:"separator",text:z});if(p.type==="submenu"){const N=te(p.getStyleItems(),H=>i(H,k,E));return k===0&&N.length<=0?C.none():C.some({type:"nestedmenuitem",text:z,enabled:N.length>0,getSubmenuItems:()=>te(p.getStyleItems(),H=>i(H,k,E))})}else return C.some({type:"togglemenuitem",text:z,icon:p.icon,active:p.isSelected(E),enabled:!_,onAction:s.onAction(p),...p.getStylePreview().fold(()=>({}),N=>({meta:{style:N}}))})},i=(p,k,_)=>{const E=p.type==="formatter"&&s.isInvalid(p);return k===0?E?[]:a(p,k,!1,_).toArray():a(p,k,E,_).toArray()},d=p=>{const k=s.getCurrentValue(),_=s.shouldHide?0:1;return te(p,E=>i(E,_,k))};return{validateItems:d,getFetch:(p,k)=>(_,E)=>{const z=k(),N=d(z),H=Hv(N,af.CLOSE_ON_EXECUTE,p,{isHorizontalMenu:!1,search:C.none()});E(H)}}},Yv=(t,s)=>{const a=s.dataset,i=a.type==="basic"?()=>we(a.data,d=>Mx(d,s.isSelectedFor,s.getPreviewFor)):a.getData;return{items:c3(t,s),getStyleItems:i}},B_=(t,s,a,i,d,g)=>{const{items:p,getStyleItems:k}=Yv(s,a),_=tn(a.tooltip),E=N=>({getComponent:Z(N),setTooltip:H=>{const V=s.shared.providers.translate(H);Pt(N.element,"aria-label",V),_.set(H)}}),z=N=>{const H=V=>N.setTooltip(jh(t,i(V.value),V.value));return t.on(d,H),J2(ib(t,"NodeChange",V=>{const Y=V.getComponent();a.updateText(Y),l.set(V.getComponent(),!t.selection.isEditable())})(N),()=>t.off(d,H))};return eO({text:a.icon.isSome()?C.none():a.text,icon:a.icon,ariaLabel:C.some(a.tooltip),tooltip:C.none(),role:C.none(),fetch:p.getFetch(s,k),onSetup:z,getApi:E,columns:1,presets:"normal",classes:a.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[Lr.config({...s.shared.providers.tooltips.getConfig({tooltipText:s.shared.providers.translate(a.tooltip),onShow:N=>{if(a.tooltip!==_.get()){const H=s.shared.providers.translate(_.get());Lr.setComponents(N,s.shared.providers.tooltips.getComponents({tooltipText:H}))}}})})]},"tox-tbtn",s.shared,g)},X9=t=>we(t,s=>{let a=s,i=s;const d=s.split("=");return d.length>1&&(a=d[0],i=d[1]),{title:a,format:i}}),J9=t=>({type:"basic",data:t});var Xv;(function(t){t[t.SemiColon=0]="SemiColon",t[t.Space=1]="Space"})(Xv||(Xv={}));const Q9=(t,s)=>s===Xv.SemiColon?t.replace(/;$/,"").split(";"):t.split(" "),i3=(t,s,a)=>{const i=t.options.get(s);return{type:"basic",data:X9(Q9(i,a))}},eU="Align",rI=Z("Alignment {0}"),l3="left",Jv=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],Yx=t=>{const s=()=>jt(Jv,k=>t.formatter.match(k.format)),a=k=>()=>t.formatter.match(k),i=k=>C.none,d=k=>{const E=s().fold(Z(l3),z=>z.title.toLowerCase());hn(k,Fh,{icon:`align-${E}`}),Hz(t,{value:E})},g=J9(Jv),p=k=>()=>jt(Jv,_=>_.format===k.format).each(_=>t.execCommand(_.command));return{tooltip:jh(t,rI(),l3),text:C.none(),icon:C.some("align-left"),isSelectedFor:a,getCurrentValue:C.none,getPreviewFor:i,onAction:p,updateText:d,dataset:g,shouldHide:!1,isInvalid:k=>!t.formatter.canApply(k.format)}},aI=(t,s)=>B_(t,s,Yx(t),rI,"AlignTextUpdate","align"),Wh=(t,s)=>{const a=Yv(s,Yx(t));t.ui.registry.addNestedMenuItem("align",{text:s.shared.providers.translate(eU),onSetup:Ni(t),getSubmenuItems:()=>a.items.validateItems(a.getStyleItems())})},u3=(t,s)=>{const a=s(),i=we(a,d=>d.format);return C.from(t.formatter.closest(i)).bind(d=>jt(a,g=>g.format===d))},tU="Blocks",cI=Z("Block {0}"),d3="Paragraph",iI=t=>{const s=g=>()=>t.formatter.match(g),a=g=>()=>{const p=t.formatter.get(g);return p?C.some({tag:p.length>0&&(p[0].inline||p[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(g))}):C.none()},i=g=>{const k=u3(t,()=>d.data).fold(Z(d3),_=>_.title);hn(g,Uu,{text:k}),E6(t,{value:k})},d=i3(t,"block_formats",Xv.SemiColon);return{tooltip:jh(t,cI(),d3),text:C.some(d3),icon:C.none(),isSelectedFor:s,getCurrentValue:C.none,getPreviewFor:a,onAction:hN(t),updateText:i,dataset:d,shouldHide:!1,isInvalid:g=>!t.formatter.canApply(g.format)}},nU=(t,s)=>B_(t,s,iI(t),cI,"BlocksTextUpdate","blocks"),oU=(t,s)=>{const a=Yv(s,iI(t));t.ui.registry.addNestedMenuItem("blocks",{text:tU,onSetup:Ni(t),getSubmenuItems:()=>a.items.validateItems(a.getStyleItems())})},sU="Fonts",f3=Z("Font {0}"),m3="System Font",rU=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],Xx=t=>{const s=t.split(/\s*,\s*/);return we(s,a=>a.replace(/^['"]+|['"]+$/g,""))},lI=(t,s)=>s.length>0&&Te(s,a=>t.indexOf(a.toLowerCase())>-1),aU=(t,s)=>{if(t.indexOf("-apple-system")===0||s.length>0){const a=Xx(t.toLowerCase());return lI(a,rU)||lI(a,s)}else return!1},uI=t=>{const s=()=>{const _=Y=>Y?Xx(Y)[0]:"",E=t.queryCommandValue("FontName"),z=k.data,N=E?E.toLowerCase():"",H=QR(t);return{matchOpt:jt(z,Y=>{const Q=Y.format;return Q.toLowerCase()===N||_(Q).toLowerCase()===_(N).toLowerCase()}).orThunk(()=>fn(aU(N,H),{title:m3,format:N})),font:E}},a=_=>E=>E.exists(z=>z.format===_),i=()=>{const{matchOpt:_}=s();return _},d=_=>()=>C.some({tag:"div",styles:_.indexOf("dings")===-1?{"font-family":_}:{}}),g=_=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("FontName",!1,_.format)})},p=_=>{const{matchOpt:E,font:z}=s(),N=E.fold(Z(z),H=>H.title);hn(_,Uu,{text:N}),Vz(t,{value:N})},k=i3(t,"font_family_formats",Xv.SemiColon);return{tooltip:jh(t,f3(),m3),text:C.some(m3),icon:C.none(),isSelectedFor:a,getCurrentValue:i,getPreviewFor:d,onAction:g,updateText:p,dataset:k,shouldHide:!1,isInvalid:Ae}},cU=(t,s)=>B_(t,s,uI(t),f3,"FontFamilyTextUpdate","fontfamily"),iU=(t,s)=>{const a=Yv(s,uI(t));t.ui.registry.addNestedMenuItem("fontfamily",{text:s.shared.providers.translate(sU),onSetup:Ni(t),getSubmenuItems:()=>a.items.validateItems(a.getStyleItems())})},lU={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},dI=(()=>{const t="[0-9]+",a="[eE]"+("[+-]?"+t),i="\\.",d=k=>`(?:${k})?`,p=`[+-]?(?:${["Infinity",t+i+d(t)+d(a),i+t+d(a),t+d(a)].join("|")})`;return new RegExp(`^(${p})(.*)$`)})(),fI=(t,s)=>Xt(s,a=>Xt(lU[a],i=>t===i)),$_=(t,s)=>C.from(dI.exec(t)).bind(i=>{const d=Number(i[1]),g=i[2];return fI(g,s)?C.some({value:d,unit:g}):C.none()}),uU=(t,s)=>$_(t,s).map(({value:a,unit:i})=>a+i),g3={tab:Z(9),escape:Z(27),enter:Z(13),backspace:Z(8),delete:Z(46),left:Z(37),up:Z(38),right:Z(39),down:Z(40),space:Z(32),home:Z(36),end:Z(35),pageUp:Z(33),pageDown:Z(34)},dU=(t,s,a,i)=>{let d=C.none();const g=ve=>ve.map(qe=>It.getValue(qe)).getOr(""),p=ib(t,"NodeChange SwitchMode",ve=>{const qe=ve.getComponent();d=C.some(qe),a.updateInputValue(qe),l.set(qe,!t.selection.isEditable())}),k=ve=>({getComponent:Z(ve)}),_=tn(ae),E=Vt("custom-number-input-events"),z=(ve,qe,He)=>{const At=g(d),Ft=a.getNewValue(At,ve),We=At.length-`${Ft}`.length,qt=d.map(Jt=>Jt.element.dom.selectionStart-We),Tt=d.map(Jt=>Jt.element.dom.selectionEnd-We);a.onAction(Ft,He),d.each(Jt=>{It.setValue(Jt,Ft),qe&&(qt.each(yo=>Jt.element.dom.selectionStart=yo),Tt.each(yo=>Jt.element.dom.selectionEnd=yo))})},N=(ve,qe)=>z((He,At)=>He-At,ve,qe),H=(ve,qe)=>z((He,At)=>He+At,ve,qe),V=ve=>Mc(ve.element).fold(C.none,qe=>(bl(qe),C.some(!0))),Y=ve=>by(ve.element)?(cu(ve.element).each(qe=>bl(qe)),C.some(!0)):C.none(),Q=(ve,qe,He,At)=>{const Ft=tn(ae),We=s.shared.providers.translate(He),qt=Vt("altExecuting"),Tt=ib(t,"NodeChange SwitchMode",yo=>{l.set(yo.getComponent(),!t.selection.isEditable())}),Jt=yo=>{l.isDisabled(yo)||ve(!0)};return Vc.sketch({dom:{tag:"button",attributes:{"aria-label":We,"data-mce-name":qe},classes:At.concat(qe)},components:[Sx(qe,s.shared.providers.icons)],buttonBehaviours:gt([l.config({}),Lr.config(s.shared.providers.tooltips.getConfig({tooltipText:We})),Kn(qt,[mi({onSetup:Tt,getApi:k},Ft),zh({getApi:k},Ft),Xe(Tu(),(yo,Us)=>{(Us.event.raw.keyCode===g3.space()||Us.event.raw.keyCode===g3.enter())&&(l.isDisabled(yo)||ve(!1))}),Xe(Pg(),Jt),Xe(Ds(),Jt)])]),eventOrder:{[Tu()]:[qt,"keying"],[Pg()]:[qt,"alloy.base.behaviour"],[Ds()]:[qt,"alloy.base.behaviour"],[oi()]:["alloy.base.behaviour",qt,"tooltipping"],[Kl()]:[qt,"tooltipping"]}})},Se=Qo(Q(ve=>N(!1,ve),"minus","Decrease font size",[])),re=Qo(Q(ve=>H(!1,ve),"plus","Increase font size",[])),ye=Qo({dom:{tag:"div",classes:["tox-input-wrapper"]},components:[tb.sketch({inputBehaviours:gt([l.config({}),Kn(E,[mi({onSetup:p,getApi:k},_),zh({getApi:k},_)]),Kn("input-update-display-text",[Xe(Uu,(ve,qe)=>{It.setValue(ve,qe.event.text)}),Xe(Ud(),ve=>{a.onAction(It.getValue(ve))}),Xe(Lp(),ve=>{a.onAction(It.getValue(ve))})]),pn.config({mode:"special",onEnter:ve=>(z(zt,!0,!0),C.some(!0)),onEscape:V,onUp:ve=>(H(!0,!1),C.some(!0)),onDown:ve=>(N(!0,!1),C.some(!0)),onLeft:(ve,qe)=>(qe.cut(),C.none()),onRight:(ve,qe)=>(qe.cut(),C.none())})])})],behaviours:gt([zn.config({}),pn.config({mode:"special",onEnter:Y,onSpace:Y,onEscape:V}),Kn("input-wrapper-events",[Xe(Wi(),ve=>{Qe([Se,re],qe=>{const He=ge.fromDom(qe.get(ve).element.dom);by(He)&&g1(He)})})])])});return{dom:{tag:"div",classes:["tox-number-input"],attributes:{...fo(i)?{"data-mce-name":i}:{}}},components:[Se.asSpec(),ye.asSpec(),re.asSpec()],behaviours:gt([zn.config({}),pn.config({mode:"flow",focusInside:qf.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:ve=>by(ve.element)?C.none():(bl(ve.element),C.some(!0))})])}},fU="Font sizes",mI=Z("Font size {0}"),p3="12pt",mU={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},gI={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},gU=(t,s)=>{const a=Math.pow(10,s);return Math.round(t*a)/a},pU=(t,s)=>/[0-9.]+px$/.test(t)?gU(parseInt(t,10)*72/96,s||0)+"pt":mt(gI,t).getOr(t),hU=t=>mt(mU,t).getOr(""),pI=t=>{const s=()=>{let _=C.none();const E=k.data,z=t.queryCommandValue("FontSize");if(z)for(let N=3;_.isNone()&&N>=0;N--){const H=pU(z,N),V=hU(H);_=jt(E,Y=>Y.format===z||Y.format===H||Y.format===V)}return{matchOpt:_,size:z}},a=_=>E=>E.exists(z=>z.format===_),i=()=>{const{matchOpt:_}=s();return _},d=Z(C.none),g=_=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("FontSize",!1,_.format)})},p=_=>{const{matchOpt:E,size:z}=s(),N=E.fold(Z(z),H=>H.title);hn(_,Uu,{text:N}),gN(t,{value:N})},k=i3(t,"font_size_formats",Xv.Space);return{tooltip:jh(t,mI(),p3),text:C.some(p3),icon:C.none(),isSelectedFor:a,getPreviewFor:d,getCurrentValue:i,onAction:g,updateText:p,dataset:k,shouldHide:!1,isInvalid:Ae}},yU=(t,s)=>B_(t,s,pI(t),mI,"FontSizeTextUpdate","fontsize"),bU=t=>{var s;const a={step:1};return(s={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[t])!==null&&s!==void 0?s:a},vU=16,hI=t=>t>=0,kU=t=>{const s=()=>t.queryCommandValue("FontSize");return{updateInputValue:i=>hn(i,Uu,{text:s()}),onAction:(i,d)=>t.execCommand("FontSize",!1,i,{skip_focus:!d}),getNewValue:(i,d)=>{$_(i,["unsupportedLength","empty"]);const g=s(),p=$_(i,["unsupportedLength","empty"]).or($_(g,["unsupportedLength","empty"])),k=p.map(H=>H.value).getOr(vU),_=h2(t),E=p.map(H=>H.unit).filter(H=>H!=="").getOr(_),z=d(k,bU(E).step),N=`${hI(z)?z:k}${E}`;return N!==g&&pN(t,{value:N}),N}}},wU=(t,s)=>dU(t,s,kU(t),"fontsizeinput"),_U=(t,s)=>{const a=Yv(s,pI(t));t.ui.registry.addNestedMenuItem("fontsize",{text:fU,onSetup:Ni(t),getSubmenuItems:()=>a.items.validateItems(a.getStyleItems())})},CU="Formats",yI=t=>ne(t)?"Formats":"Format {0}",bI=(t,s)=>{const a="Formats",i=p=>()=>t.formatter.match(p),d=p=>()=>{const k=t.formatter.get(p);return k!==void 0?C.some({tag:k.length>0&&(k[0].inline||k[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(p))}):C.none()},g=p=>{const k=N=>DO(N)?te(N.items,k):FB(N)?[{title:N.title,format:N.format}]:[],_=te(E_(t),k),z=u3(t,Z(_)).fold(Z({title:a,tooltipLabel:""}),N=>({title:N.title,tooltipLabel:N.title}));hn(p,Uu,{text:z.title}),T6(t,{value:z.tooltipLabel})};return{tooltip:jh(t,yI(""),""),text:C.some(a),icon:C.none(),isSelectedFor:i,getCurrentValue:C.none,getPreviewFor:d,onAction:hN(t),updateText:g,shouldHide:FR(t),isInvalid:p=>!t.formatter.canApply(p.format),dataset:s}},SU=(t,s)=>{const a={type:"advanced",...s.styles};return B_(t,s,bI(t,a),yI,"StylesTextUpdate","styles")},vI=(t,s)=>{const a={type:"advanced",...s.styles},i=Yv(s,bI(t,a));t.ui.registry.addNestedMenuItem("styles",{text:CU,onSetup:Ni(t),getSubmenuItems:()=>i.items.validateItems(i.getStyleItems())})},xU=Z([Ke("toggleClass"),Ke("fetch"),Kd("onExecute"),Ee("getHotspot",C.some),Ee("getAnchorOverrides",Z({})),jm(),Kd("onItemExecute"),Bo("lazySink"),Ke("dom"),Eo("onOpen"),Ya("splitDropdownBehaviours",[qr,pn,zn]),Ee("matchWidth",!1),Ee("useMinWidth",!1),Ee("eventOrder",{}),Bo("role"),Bo("listRole")].concat(ox())),TU=Ac({factory:Vc,schema:[Ke("dom")],name:"arrow",defaults:()=>({buttonBehaviours:gt([zn.revoke()])}),overrides:t=>({dom:{tag:"span",attributes:{role:"presentation"}},action:s=>{s.getSystem().getByUid(t.uid).each(_m)},buttonBehaviours:gt([ao.config({toggleOnExecute:!1,toggleClass:t.toggleClass})])})}),kI=Ac({factory:Vc,schema:[Ke("dom")],name:"button",defaults:()=>({buttonBehaviours:gt([zn.revoke()])}),overrides:t=>({dom:{tag:"span",attributes:{role:"presentation"}},action:s=>{s.getSystem().getByUid(t.uid).each(a=>{t.onExecute(a,s)})}})}),EU=Z([TU,kI,_l({factory:{sketch:t=>({uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}})},schema:[Ke("text")],name:"aria-descriptor"}),tu({schema:[Kp()],name:"menu",defaults:t=>({onExecute:(s,a)=>{s.getSystem().getByUid(t.uid).each(i=>{t.onItemExecute(i,s,a)})}})}),LN()]),wI=(t,s,a,i)=>{const d=z=>{Ro.getCurrent(z).each(N=>{an.highlightFirst(N),pn.focusIn(N)})},g=z=>{o4(t,zt,z,i,d,Zr.HighlightMenuAndItem).get(ae)},p=z=>(g(z),C.some(!0)),k=z=>{const N=Cl(z,t,"button");return _m(N),C.some(!0)},_={...Is([qs((z,N)=>{it(z,t,"aria-descriptor").each(V=>{const Y=Vt("aria");Pt(V.element,"id",Y),Pt(z.element,"aria-describedby",Y)})})]),...u2(C.some(g))},E={repositionMenus:z=>{ao.isOn(z)&&VN(z)}};return{uid:t.uid,dom:t.dom,components:s,apis:E,eventOrder:{...t.eventOrder,[Gl()]:["disabling","toggling","alloy.base.behaviour"]},events:_,behaviours:Xa(t.splitDropdownBehaviours,[qr.config({others:{sandbox:z=>{const N=Cl(z,t,"arrow");return a4(t,z,{onOpen:()=>{ao.on(N),ao.on(z)},onClose:()=>{ao.off(N),ao.off(z)}})}}}),pn.config({mode:"special",onSpace:k,onEnter:k,onDown:p}),zn.config({}),ao.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:t.role.getOr("button"),"aria-haspopup":!0}}}},I_=Gc({name:"SplitDropdown",configFields:xU(),partFields:EU(),factory:wI,apis:{repositionMenus:(t,s)=>t.repositionMenus(s)}}),_I=t=>({isEnabled:()=>!l.isDisabled(t),setEnabled:s=>l.set(t,!s),setText:s=>hn(t,Uu,{text:s}),setIcon:s=>hn(t,Fh,{icon:s})}),AU=t=>({setActive:s=>{ao.set(t,s)},isActive:()=>ao.isOn(t),isEnabled:()=>!l.isDisabled(t),setEnabled:s=>l.set(t,!s),setText:s=>hn(t,Uu,{text:s}),setIcon:s=>hn(t,Fh,{icon:s})}),CI=(t,s)=>t.map(a=>({"aria-label":s.translate(a)})).getOr({}),bb=Vt("focus-button"),h3=(t,s,a,i,d,g)=>{const p=s.map(_=>Qo(Q4(_,"tox-tbtn",d))),k=t.map(_=>Qo(Ih(_,d.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(s.isSome()?["tox-tbtn--select"]:[]),attributes:{...CI(a,d),...fo(g)?{"data-mce-name":g}:{}}},components:rb([k.map(_=>_.asSpec()),p.map(_=>_.asSpec())]),eventOrder:{[Ar()]:["focusing","alloy.base.behaviour",$h],[oi()]:[$h,"toolbar-group-button-events"]},buttonBehaviours:gt([lf.toolbarButton(d.isDisabled),Qa(),Kn($h,[qs((_,E)=>X4(_)),Xe(Uu,(_,E)=>{p.bind(z=>z.getOpt(_)).each(z=>{Nn.set(z,[br(d.translate(E.event.text))])})}),Xe(Fh,(_,E)=>{k.bind(z=>z.getOpt(_)).each(z=>{Nn.set(z,[Ih(E.event.icon,d.icons)])})}),Xe(Ar(),(_,E)=>{E.event.prevent(),no(_,bb)})])].concat(i.getOr([])))}},zU=(t,s,a,i,d)=>{const g=s.shared,p=tn(ae),k={toolbarButtonBehaviours:[],getApi:_I,onSetup:t.onSetup},_=[Kn("toolbar-group-button-events",[mi(k,p),zh(k,p)])];return Uh.sketch({lazySink:g.getSink,fetch:()=>Uc.nu(E=>{E(we(a(t.items),Ux))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:h3(t.icon,t.text,t.tooltip,C.some(_),g.providers,d),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:i}}}})},SI=(t,s,a,i)=>{var d;const g=tn(ae),p=h3(t.icon,t.text,t.tooltip,C.none(),a,i);return Vc.sketch({dom:p.dom,components:p.components,eventOrder:Y4,buttonBehaviours:{...gt([Kn("toolbar-button-events",[tH({onAction:t.onAction,getApi:s.getApi}),mi(s,g),zh(s,g)]),...t.tooltip.map(k=>Lr.config(a.tooltips.getConfig({tooltipText:a.translate(k)+t.shortcut.map(_=>` (${Z2(_)})`).getOr("")}))).toArray(),lf.toolbarButton(()=>!t.enabled||a.isDisabled()),Qa()].concat(s.toolbarButtonBehaviours)),[$h]:(d=p.buttonBehaviours)===null||d===void 0?void 0:d[$h]}})},OU=(t,s,a)=>xI(t,s,[],a),xI=(t,s,a,i)=>SI(t,{toolbarButtonBehaviours:a.length>0?[Kn("toolbarButtonWith",a)]:[],getApi:_I,onSetup:t.onSetup},s,i),DU=(t,s,a)=>TI(t,s,[],a),TI=(t,s,a,i)=>SI(t,{toolbarButtonBehaviours:[Nn.config({}),ao.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(a.length>0?[Kn("toolbarToggleButtonWith",a)]:[]),getApi:AU,onSetup:t.onSetup},s,i),RU=(t,s,a)=>i=>Uc.nu(d=>s.fetch(d)).map(d=>C.from(cx(zs(e4(Vt("menu-value"),d,g=>{s.onItemAction(t(i),g)},s.columns,s.presets,af.CLOSE_ON_EXECUTE,s.select.getOr(Ae),a),{movement:nx(s.columns,s.presets),menuBehaviours:Tv.unnamedEvents(s.columns!=="auto"?[]:[qs((g,p)=>{Az(g,4,lz(s.presets)).each(({numRows:k,numColumns:_})=>{pn.setGridSize(g,k,_)})})])})))),y3=(t,s,a)=>{const i=tn(t.tooltip.getOr("")),d=k=>({isEnabled:()=>!l.isDisabled(k),setEnabled:_=>l.set(k,!_),setIconFill:(_,E)=>{er(k.element,`svg path[class="${_}"], rect[class="${_}"]`).each(z=>{Pt(z,"fill",E)})},setActive:_=>{Pt(k.element,"aria-pressed",_),er(k.element,"span").each(E=>{k.getSystem().getByDom(E).each(z=>ao.set(z,_))})},isActive:()=>er(k.element,"span").exists(_=>k.getSystem().getByDom(_).exists(ao.isOn)),setText:_=>er(k.element,"span").each(E=>k.getSystem().getByDom(E).each(z=>hn(z,Uu,{text:_}))),setIcon:_=>er(k.element,"span").each(E=>k.getSystem().getByDom(E).each(z=>hn(z,Fh,{icon:_}))),setTooltip:_=>{const E=s.providers.translate(_);Pt(k.element,"aria-label",E),i.set(_)}}),g=tn(ae),p={getApi:d,onSetup:t.onSetup};return I_.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,...CI(t.tooltip,s.providers),...fo(a)?{"data-mce-name":a}:{}}},onExecute:k=>{const _=d(k);_.isEnabled()&&t.onAction(_)},onItemExecute:(k,_,E)=>{},splitDropdownBehaviours:gt([lf.splitButton(s.providers.isDisabled),Qa(),Kn("split-dropdown-events",[qs((k,_)=>X4(k)),Xe(bb,zn.focus),mi(p,g),zh(p,g)]),$v.config({}),...t.tooltip.map(k=>Lr.config({...s.providers.tooltips.getConfig({tooltipText:s.providers.translate(k),onShow:_=>{if(i.get()!==k){const E=s.providers.translate(i.get());Lr.setComponents(_,s.providers.tooltips.getComponents({tooltipText:E}))}}})})).toArray()]),eventOrder:{[oi()]:["alloy.base.behaviour","split-dropdown-events","tooltipping"],[Kl()]:["split-dropdown-events","tooltipping"]},toggleClass:"tox-tbtn--enabled",lazySink:s.getSink,fetch:RU(d,t,s.providers),parts:{menu:Dw(!1,t.columns,t.presets)},components:[I_.parts.button(h3(t.icon,t.text,C.none(),C.some([ao.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),s.providers)),I_.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:nz("chevron-down",s.providers.icons)},buttonBehaviours:gt([lf.splitButton(s.providers.isDisabled),Qa(),z2()])}),I_.parts["aria-descriptor"]({text:s.providers.translate("To open the popup, press Shift+Enter")})]})},MU=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],F_=(t,s)=>(a,i,d,g)=>{const p=t(a).mapError(k=>jl(k)).getOrDie();return s(p,i,d,g)},EI={button:F_(PM,(t,s,a,i)=>OU(t,s.shared.providers,i)),togglebutton:F_(BM,(t,s,a,i)=>DU(t,s.shared.providers,i)),menubutton:F_(u$,(t,s,a,i)=>v_(t,"tox-tbtn",s,C.none(),!1,i)),splitbutton:F_(n9,(t,s,a,i)=>y3(t,s.shared,i)),grouptoolbarbutton:F_(D_,(t,s,a,i)=>{const d=a.ui.registry.getAll().buttons,g=k=>L_(a,{buttons:d,toolbar:k,allowToolbarGroups:!1},s,C.none()),p={[wk]:s.shared.header.isPositionedAtTop()?vl.TopToBottom:vl.BottomToTop};switch(Yy(a)){case yd.floating:return zU(t,s,g,p,i);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}})},AI=(t,s,a,i)=>mt(EI,t.type).fold(()=>(console.error("skipping button defined by",t),C.none()),d=>C.some(d(t,s,a,i))),zI={styles:SU,fontsize:yU,fontsizeinput:wU,fontfamily:cU,blocks:nU,align:aI},NU=t=>{const s=we(MU,a=>{const i=xn(a.items,d=>to(t,d)||to(zI,d));return{name:a.name,items:i}});return xn(s,a=>a.items.length>0)},PU=t=>{const s=t.split("|");return we(s,a=>({items:a.trim().split(" ")}))},BU=t=>en(t,s=>to(s,"name")&&to(s,"items")),$U=t=>{const s=t.toolbar,a=t.buttons;return s===!1?[]:s===void 0||s===!0?NU(a):on(s)?PU(s):BU(s)?s:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},IU=(t,s,a,i,d,g)=>mt(s,a.toLowerCase()).orThunk(()=>g.bind(p=>zo(p,k=>mt(s,k+a.toLowerCase())))).fold(()=>mt(zI,a.toLowerCase()).map(p=>p(t,d)),p=>p.type==="grouptoolbarbutton"&&!i?(console.warn(`Ignoring the '${a}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),C.none()):AI(p,d,t,a.toLowerCase())),L_=(t,s,a,i)=>{const d=$U(s),g=we(d,p=>{const k=te(p.items,_=>_.trim().length===0?[]:IU(t,s.buttons,_,s.allowToolbarGroups,a,i).toArray());return{title:C.from(t.translate(p.name)),items:k}});return xn(g,p=>p.items.length>0)},OI=(t,s,a,i)=>{const d=s.mainUi.outerContainer,g=a.toolbar,p=a.buttons;if(en(g,on)){const k=g.map(_=>{const E={toolbar:_,buttons:p,allowToolbarGroups:a.allowToolbarGroups};return L_(t,E,i,C.none())});Vs.setToolbars(d,k)}else Vs.setToolbar(d,L_(t,a,i,C.none()))},DI=Qn(),FU=DI.os.isiOS()&&DI.os.version.major<=12,LU=(t,s)=>{const{uiMotherships:a}=s,i=t.dom;let d=t.getWin();const g=t.getDoc().documentElement,p=tn(Xs(d.innerWidth,d.innerHeight)),k=tn(Xs(g.offsetWidth,g.offsetHeight)),_=()=>{const H=p.get();(H.left!==d.innerWidth||H.top!==d.innerHeight)&&(p.set(Xs(d.innerWidth,d.innerHeight)),X2(t))},E=()=>{const H=t.getDoc().documentElement,V=k.get();(V.left!==H.offsetWidth||V.top!==H.offsetHeight)&&(k.set(Xs(H.offsetWidth,H.offsetHeight)),X2(t))},z=H=>{_6(t,H)};i.bind(d,"resize",_),i.bind(d,"scroll",z);const N=pk(ge.fromDom(t.getBody()),"load",E);t.on("hide",()=>{Qe(a,H=>{Je(H.element,"display","none")})}),t.on("show",()=>{Qe(a,H=>{Zn(H.element,"display")})}),t.on("NodeChange",E),t.on("remove",()=>{N.unbind(),i.unbind(d,"resize",_),i.unbind(d,"scroll",z),d=null})},Jx=(t,s,a)=>{Sh(t)&&np(a.mainUi.mothership.element,a.popupUi.mothership),Ry(s,a.dialogUi.mothership)};var Qx=Object.freeze({__proto__:null,render:(t,s,a,i,d)=>{const{mainUi:g,uiMotherships:p}=s,k=tn(0),_=g.outerContainer;K9(t);const E=ge.fromDom(d.targetNode),z=yc(_r(E));np(E,g.mothership),Jx(t,z,s),t.on("SkinLoaded",()=>{Vs.setSidebar(_,a.sidebar,b2(t)),OI(t,s,a,i),k.set(t.getWin().innerWidth),Vs.setMenubar(_,tI(t,a)),Vs.setViews(_,a.views),LU(t,s)});const N=Vs.getSocket(_).getOrDie("Could not find expected socket element");if(FU){Ln(N.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const Q=Z8(()=>{t.dispatch("ScrollContent")},20),Se=ui(N.element,"scroll",Q.throttle);t.on("remove",Se.unbind)}zz(t,s),t.addCommand("ToggleSidebar",(Q,Se)=>{Vs.toggleSidebar(_,Se),A6(t)}),t.addQueryValueHandler("ToggleSidebar",()=>{var Q;return(Q=Vs.whichSidebar(_))!==null&&Q!==void 0?Q:""}),t.addCommand("ToggleView",(Q,Se)=>{if(Vs.toggleView(_,Se)){const re=_.element;g.mothership.broadcastOn([Qd()],{target:re}),Qe(p,ye=>{ye.broadcastOn([Qd()],{target:re})}),rs(Vs.whichView(_))&&(t.focus(),t.nodeChanged(),Vs.refreshToolbar(_)),z6(t)}}),t.addQueryValueHandler("ToggleView",()=>{var Q;return(Q=Vs.whichView(_))!==null&&Q!==void 0?Q:""});const H=Yy(t),V=()=>{Vs.refreshToolbar(s.mainUi.outerContainer)};(H===yd.sliding||H===yd.floating)&&t.on("ResizeWindow ResizeEditor ResizeContent",()=>{const Q=t.getWin().innerWidth;Q!==k.get()&&(V(),k.set(Q))});const Y={setEnabled:Q=>{Ev(s,!Q)},isEnabled:()=>!l.isDisabled(_)};return{iframeContainer:N.element.dom,editorContainer:_.element.dom,api:Y}}});const H_=t=>/^[0-9\.]+(|px)$/i.test(""+t)?C.some(parseInt(""+t,10)):C.none(),eT=t=>No(t)?t+"px":t,tT=(t,s,a)=>{const i=s.filter(g=>t<g),d=a.filter(g=>t>g);return i.or(d).getOr(t)},HU=t=>{const s=gw(t),a=bv(t),i=g2(t);return H_(s).map(d=>tT(d,a,i))},VU=t=>HU(t).getOr(gw(t)),RI=t=>{const s=TA(t),a=Ky(t),i=pw(t);return H_(s).map(d=>tT(d,a,i))},UU=t=>RI(t).getOr(TA(t)),{ToolbarLocation:Qv,ToolbarMode:b3}=nM,MI=40,NI=(t,s,a,i,d)=>{const{mainUi:g,uiMotherships:p}=a,k=Zy.DOM,_=vv(t),E=Xy(t),z=pw(t).or(RI(t)),N=i.shared.header,H=N.isPositionedAtTop,V=150,Y=Yy(t),Q=Y===b3.sliding||Y===b3.floating,Se=tn(!1),re=()=>Se.get()&&!t.removed,ye=Kt=>Q?Kt.fold(Z(0),at=>at.components().length>1?Cs(at.components()[1].element):0):0,ve=Kt=>{switch(hw(t)){case Qv.auto:const at=Vs.getToolbar(g.outerContainer),Dt=ye(at),On=Cs(Kt.element)-Dt,Cn=Js(s);if(Cn.y>On)return"top";{const Hn=Pl(s),Es=Math.max(Hn.dom.scrollHeight,Cs(Hn));return Cn.bottom<Es-On||jr().bottom<Cn.bottom-On?"bottom":"top"}case Qv.bottom:return"bottom";case Qv.top:default:return"top"}},qe=Kt=>{d.on(at=>{Ls.setModes(at,[Kt]),N.setDockingMode(Kt);const Dt=H()?vl.TopToBottom:vl.BottomToTop;Pt(at.element,wk,Dt)})},He=()=>{d.on(Kt=>{const at=z.getOrThunk(()=>$d().width-Li(s).left-10);Je(Kt.element,"max-width",at+"px")})},At=(Kt,at)=>{d.on(Dt=>{const On=Vs.getToolbar(g.outerContainer),Cn=ye(On),mn=Js(s),Hn=Ft(t,g.outerContainer.element),Es=()=>Hn.fold(()=>mn.x,Yc=>{const Ku=Js(Yc);return jo(Yc,so())?mn.x:mn.x-Ku.x}),es=()=>Hn.fold(()=>H()?Math.max(mn.y-Cs(Dt.element)+Cn,0):mn.bottom,Yc=>{var Ku;const Rd=Js(Yc),Rl=(Ku=Yc.dom.scrollTop)!==null&&Ku!==void 0?Ku:0,Eb=jo(Yc,so())?Math.max(mn.y-Cs(Dt.element)+Cn,0):mn.y-Rd.y+Rl-Cs(Dt.element)+Cn;return H()?Eb:mn.bottom}),hi=Es(),Gu=fn(Kt,Math.ceil(g.outerContainer.element.dom.getBoundingClientRect().width)).filter(Yc=>Yc>V).map(Yc=>{const Ku=at.getOr(lc()),Rd=window.innerWidth-(hi-Ku.left),Rl=Math.max(Math.min(Yc,Rd),V);return Rd<Yc&&Je(g.outerContainer.element,"width",Rl+"px"),{width:Rl+"px"}}).getOr({width:"max-content"}),rm={position:"absolute",left:Math.round(hi)+"px",top:es()+"px"};Ln(g.outerContainer.element,{...rm,...Gu})})},Ft=(Kt,at)=>Sh(Kt)?xm(at):C.none(),We=()=>{Qe(p,Kt=>{Kt.broadcastOn([sp()],{})})},qt=()=>!_&&(va(g.outerContainer.element).left+vo(g.outerContainer.element)>=window.innerWidth-MI||As(g.outerContainer.element,"width").isSome())?(Je(g.outerContainer.element,"position","absolute"),Je(g.outerContainer.element,"left","0px"),Zn(g.outerContainer.element,"width"),!0):!1,Tt=Kt=>{if(!re())return;_||He();const at=lc(),Dt=_?!1:qt();if(Q&&Vs.refreshToolbar(g.outerContainer),!_){const On=lc(),Cn=fn(at.left!==On.left,at);At(Dt,Cn),Cn.each(mn=>{Xu(mn.left,On.top)})}E&&d.on(Kt),We()},Jt=()=>_||!E||!re()?!1:d.get().exists(Kt=>{const at=N.getDockingMode(),Dt=ve(Kt);return Dt!==at?(qe(Dt),!0):!1});return{isVisible:re,isPositionedAtTop:H,show:()=>{Se.set(!0),Je(g.outerContainer.element,"display","flex"),k.addClass(t.getBody(),"mce-edit-focus"),Qe(p,Kt=>{Zn(Kt.element,"display")}),Jt(),Sh(t)?Tt(Kt=>Ls.isDocked(Kt)?Ls.reset(Kt):Ls.refresh(Kt)):Tt(Ls.refresh)},hide:()=>{Se.set(!1),Je(g.outerContainer.element,"display","none"),k.removeClass(t.getBody(),"mce-edit-focus"),Qe(p,Kt=>{Je(Kt.element,"display","none")})},update:Tt,updateMode:()=>{Jt()&&Tt(Ls.reset)},repositionPopups:We}},v3=(t,s)=>{const a=Js(t);return{pos:s?a.y:a.bottom,bounds:a}},jU=(t,s,a,i)=>{const d=tn(v3(s,a.isPositionedAtTop())),g=E=>{const{pos:z,bounds:N}=v3(s,a.isPositionedAtTop()),{pos:H,bounds:V}=d.get(),Y=N.height!==V.height||N.width!==V.width;d.set({pos:z,bounds:N}),Y&&X2(t,E),a.isVisible()&&(H!==z?a.update(Ls.reset):Y&&(a.updateMode(),a.repositionPopups()))};i||(t.on("activate",a.show),t.on("deactivate",a.hide)),t.on("SkinLoaded ResizeWindow",()=>a.update(Ls.reset)),t.on("NodeChange keydown",E=>{requestAnimationFrame(()=>g(E))});let p=0;const k=V4(()=>a.update(Ls.refresh),33);t.on("ScrollWindow",()=>{const E=lc().left;E!==p&&(p=E,k.throttle()),a.updateMode()}),Sh(t)&&t.on("ElementScroll",E=>{a.update(Ls.refresh)});const _=ka();_.set(pk(ge.fromDom(t.getBody()),"load",E=>g(E.raw))),t.on("remove",()=>{_.clear()})};var ZU=Object.freeze({__proto__:null,render:(t,s,a,i,d)=>{const{mainUi:g}=s,p=os(),k=ge.fromDom(d.targetNode),_=NI(t,k,s,i,p),E=VR(t);Y9(t);const z=()=>{if(p.isSet()){_.show();return}p.set(Vs.getHeader(g.outerContainer).getOrDie());const H=PA(t);Sh(t)?(np(k,g.mothership),np(k,s.popupUi.mothership)):Ry(H,g.mothership),Ry(H,s.dialogUi.mothership);const V=()=>{OI(t,s,a,i),Vs.setMenubar(g.outerContainer,tI(t,a)),_.show(),jU(t,k,_,E),t.nodeChanged()};E?t.once("SkinLoaded",V):V()};t.on("show",z),t.on("hide",_.hide),E||(t.on("focus",z),t.on("blur",_.hide)),t.on("init",()=>{(t.hasFocus()||E)&&z()}),zz(t,s);const N={show:z,hide:_.hide,setEnabled:H=>{Ev(s,!H)},isEnabled:()=>!l.isDisabled(g.outerContainer)};return{editorContainer:g.outerContainer.element.dom,api:N}}});const qU=()=>{const t=os(),s=os(),a=os();return{dialogUi:t,popupUi:s,mainUi:a,getUiMotherships:()=>{const g=t.get().map(k=>k.mothership),p=s.get().map(k=>k.mothership);return g.fold(()=>p.toArray(),k=>p.fold(()=>[k],_=>jo(k.element,_.element)?[k]:[k,_]))},lazyGetInOuterOrDie:(g,p)=>()=>a.get().bind(k=>p(k.outerContainer)).getOrDie(`Could not find ${g} element in OuterContainer`)}},GU="contexttoolbar-show",PI="contexttoolbar-hide",KU=t=>({hide:()=>no(t,ty()),getValue:()=>It.getValue(t)}),e0=(t,s)=>Xe(QP,(a,i)=>{const d=t.get(a),g=KU(d);s.onAction(g,i.event.buttonApi)}),YU=(t,s,a)=>{const{primary:i,...d}=s.original,g=ct(PM({...d,type:"button",onAction:ae}));return xI(g,a,[e0(t,s)])},XU=(t,s,a)=>{const{primary:i,...d}=s.original,g=ct(BM({...d,type:"togglebutton",onAction:ae}));return TI(g,a,[e0(t,s)])},JU=t=>t.type==="contextformtogglebutton",BI=(t,s,a)=>JU(s)?XU(t,s,a):YU(t,s,a),QU=(t,s,a)=>{const i=we(s,p=>Qo(BI(t,p,a)));return{asSpecs:()=>we(i,p=>p.asSpec()),findPrimary:p=>zo(s,(k,_)=>k.primary?C.from(i[_]).bind(E=>E.getOpt(p)).filter(Ne(l.isDisabled)):C.none())}},k3=(t,s)=>{const a=t.label.fold(()=>({}),g=>({"aria-label":g})),i=Qo(tb.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:t.initValue(),inputAttributes:a,selectOnFocus:!0,inputBehaviours:gt([pn.config({mode:"special",onEnter:g=>d.findPrimary(g).map(p=>(_m(p),!0)),onLeft:(g,p)=>(p.cut(),C.none()),onRight:(g,p)=>(p.cut(),C.none())})])})),d=QU(i,t.commands,s);return[{title:C.none(),items:[i.asSpec()]},{title:C.none(),items:d.asSpecs()}]},ej={renderContextForm:(t,s,a)=>jx({type:t,uid:Vt("context-toolbar"),initGroups:k3(s,a),onEscape:C.none,cyclicKeying:!0,providers:a}),buildInitGroups:k3},$I=(t,s,a)=>s.bottom-t.y>=a&&t.bottom-s.y>=a,tj=t=>{const s=t.getBoundingClientRect();if(s.height<=0&&s.width<=0){const a=lu(ge.fromDom(t.startContainer),t.startOffset).element;return(ca(a)?Ha(a):C.some(a)).filter(So).map(d=>d.dom.getBoundingClientRect()).getOr(s)}else return s},w3=t=>{const s=t.selection.getRng(),a=tj(s);if(t.inline){const i=lc();return Zs(i.left+a.left,i.top+a.top,a.width,a.height)}else{const i=ei(ge.fromDom(t.getBody()));return Zs(i.x+a.left,i.y+a.top,a.width,a.height)}},V_=(t,s)=>s.filter(a=>Ht(a)&&Rc(a)).map(ei).getOrThunk(()=>w3(t)),II=(t,s,a)=>{const i=Math.max(t.x+a,s.x),d=Math.min(t.right-a,s.right);return{x:i,width:d-i}},nj=(t,s,a,i,d,g)=>{const p=ge.fromDom(t.getContainer()),k=er(p,".tox-editor-header").getOr(p),_=Js(k),E=_.y>=s.bottom,z=i&&!E;if(t.inline&&z)return{y:Math.max(_.bottom+g,a.y),bottom:a.bottom};if(t.inline&&!z)return{y:a.y,bottom:Math.min(_.y-g,a.bottom)};const N=d==="line"?Js(p):s;return z?{y:Math.max(_.bottom+g,a.y),bottom:Math.min(N.bottom-g,a.bottom)}:{y:Math.max(N.y+g,a.y),bottom:Math.min(_.y-g,a.bottom)}},FI=(t,s,a,i=0)=>{const d=$d(window),g=Js(ge.fromDom(t.getContentAreaContainer())),p=v2(t)||vw(t)||kw(t),{x:k,width:_}=II(g,d,i);if(t.inline&&!p)return Zs(k,d.y,_,d.height);{const E=s.header.isPositionedAtTop(),{y:z,bottom:N}=nj(t,g,d,E,a,i);return Zs(k,z,_,N-z)}},U_=12,nT={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},_3={maxHeightFunction:th(),maxWidthFunction:Gv()},LI=(t,s)=>{const a=t.selection.getRng(),i=lu(ge.fromDom(a.startContainer),a.startOffset);return a.startContainer===a.endContainer&&a.startOffset===a.endOffset-1&&jo(i.element,s)},oj=(t,s,a)=>{const i=As(t,"position");Je(t,"position",s);const d=a(t);return i.each(g=>Je(t,"position",g)),d},vb=t=>t==="node",oT=(t,s,a,i,d)=>{const g=w3(t),p=i.lastElement().exists(k=>jo(a,k));if(LI(t,a))return p?PB:su;if(p)return oj(s,i.getMode(),()=>$I(g,Js(s),-20)&&!i.isReposition()?BB:PB);{const k=i.getMode()==="fixed"?d.y+lc().top:d.y,_=Cs(s)+U_;return k+_<=g.y?su:Wv}},sT=(t,s,a,i)=>{const d=_=>(E,z,N,H,V)=>{const Y=oT(t,H,_,a,V),Q={...E,y:V.y,height:V.height};return{...Y(Q,z,N,H,V),alwaysFit:!0}},g=_=>vb(i)?[d(_)]:[];return s?{onLtr:_=>[xa,Ca,Ir,ms,xc,Sa].concat(g(_)),onRtl:_=>[xa,Ir,Ca,xc,ms,Sa].concat(g(_))}:{onLtr:_=>[Sa,xa,ms,Ca,xc,Ir].concat(g(_)),onRtl:_=>[Sa,xa,xc,Ir,ms,Ca].concat(g(_))}},C3=(t,s,a,i)=>s==="line"?{bubble:Ou(U_,0,nT),layouts:{onLtr:()=>[u1],onRtl:()=>[d1]},overrides:_3}:{bubble:Ou(0,U_,nT,1/U_),layouts:sT(t,a,i,s),overrides:_3},j_=(t,s)=>{const a=xn(s,g=>g.predicate(t.dom)),{pass:i,fail:d}=Go(a,g=>g.type==="contexttoolbar");return{contextToolbars:i,contextForms:d}},HI=t=>{if(t.length<=1)return t;{const s=g=>Xt(t,p=>p.position===g),a=g=>xn(t,p=>p.position===g),i=s("selection"),d=s("node");if(i||d)if(d&&i){const g=a("node"),p=we(a("selection"),k=>({...k,position:"node"}));return g.concat(p)}else return a(i?"selection":"node");else return a("line")}},rT=t=>{if(t.length<=1)return t;{const s=i=>jt(t,d=>d.position===i);return s("selection").orThunk(()=>s("node")).orThunk(()=>s("line")).map(i=>i.position).fold(()=>[],i=>xn(t,d=>d.position===i))}},VI=(t,s,a)=>{const i=j_(t,s);if(i.contextForms.length>0)return C.some({elem:t,toolbars:[i.contextForms[0]]});{const d=j_(t,a);if(d.contextForms.length>0)return C.some({elem:t,toolbars:[d.contextForms[0]]});if(i.contextToolbars.length>0||d.contextToolbars.length>0){const g=HI(i.contextToolbars.concat(d.contextToolbars));return C.some({elem:t,toolbars:g})}else return C.none()}},UI=(t,s,a)=>t(s)?C.none():Wl(s,i=>{if(So(i)){const{contextToolbars:d,contextForms:g}=j_(i,a.inNodeScope),p=g.length>0?g:rT(d);return p.length>0?C.some({elem:i,toolbars:p}):C.none()}else return C.none()},t),S3=(t,s)=>{const a=ge.fromDom(s.getBody()),i=p=>jo(p,a),d=p=>!i(p)&&!Pa(a,p),g=ge.fromDom(s.selection.getNode());return d(g)?C.none():VI(g,t.inNodeScope,t.inEditorScope).orThunk(()=>UI(i,g,t))},sj=(t,s)=>{const a={},i=[],d=[],g={},p={},k=(z,N)=>{const H=ct(o6(N));a[z]=H,H.launch.map(V=>{g["form:"+z]={...N.launch,type:V.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{s(H)}}}),H.scope==="editor"?d.push(H):i.push(H),p[z]=H},_=(z,N)=>{Bw(N).each(H=>{N.scope==="editor"?d.push(H):i.push(H),p[z]=H})},E=ho(t);return Qe(E,z=>{const N=t[z];N.type==="contextform"?k(z,N):N.type==="contexttoolbar"&&_(z,N)}),{forms:a,inNodeScope:i,inEditorScope:d,lookupTable:p,formNavigators:g}},x3=Vt("forward-slide"),jI=Vt("backward-slide"),T3=Vt("change-slide-event"),t0="tox-pop--resizing",WI=t=>{const s=tn([]);return tr.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:a=>{s.set([]),tr.getContent(a).each(i=>{Zn(i.element,"visibility")}),yr(a.element,t0),Zn(a.element,"width")},inlineBehaviours:gt([Kn("context-toolbar-events",[Hp(ad(),(a,i)=>{i.event.raw.propertyName==="width"&&(yr(a.element,t0),Zn(a.element,"width"))}),Xe(T3,(a,i)=>{const d=a.element;Zn(d,"width");const g=Va(d);tr.setContent(a,i.event.contents),Fs(d,t0);const p=Va(d);Je(d,"width",g+"px"),tr.getContent(a).each(k=>{i.event.focus.bind(_=>(bl(_),li(d))).orThunk(()=>(pn.focusIn(k),gd(_r(d))))}),setTimeout(()=>{Je(a.element,"width",p+"px")},0)}),Xe(x3,(a,i)=>{tr.getContent(a).each(d=>{s.set(s.get().concat([{bar:d,focus:gd(_r(a.element))}]))}),hn(a,T3,{contents:i.event.forwardContents,focus:C.none()})}),Xe(jI,(a,i)=>{hs(s.get()).each(d=>{s.set(s.get().slice(0,s.get().length-1)),hn(a,T3,{contents:yl(d.bar),focus:d.focus})})})]),pn.config({mode:"special",onEscape:a=>hs(s.get()).fold(()=>t.onEscape(),i=>(no(a,jI),C.some(!0)))})]),lazySink:()=>Vn.value(t.sink)})},E3="tox-pop--transition",rj=(t,s,a,i)=>{const d=i.backstage,g=d.shared,p=Qn().deviceType.isTouch,k=os(),_=os(),E=os(),z=Lc(WI({sink:a,onEscape:()=>(t.focus(),C.some(!0))})),N=()=>{const Tt=E.get().getOr("node"),Jt=vb(Tt)?1:0;return FI(t,g,Tt,Jt)},H=()=>!t.removed&&!(p()&&d.isContextMenuOpen()),V=Tt=>mr(ha(Tt,k.get(),jo),!0),Y=()=>{if(H()){const Tt=N(),Jt=mr(E.get(),"node")?V_(t,k.get()):w3(t);return Tt.height<=0||!$I(Jt,Tt,.01)}else return!0},Q=()=>{k.clear(),_.clear(),E.clear(),tr.hide(z)},Se=()=>{if(tr.isOpen(z)){const Tt=z.element;Zn(Tt,"display"),Y()?Je(Tt,"display","none"):(_.set(0),tr.reposition(z))}},re=Tt=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[Tt],behaviours:gt([pn.config({mode:"acyclic"}),Kn("pop-dialog-wrap-events",[qs(Jt=>{t.shortcuts.add("ctrl+F9","focus statusbar",()=>pn.focusIn(Jt))}),Zd(Jt=>{t.shortcuts.remove("ctrl+F9")})])])}),ye=ki(()=>sj(s,Tt=>{const Jt=He([Tt]);hn(z,x3,{forwardContents:re(Jt)})})),ve=(Tt,Jt)=>L_(t,{buttons:Tt,toolbar:Jt.items,allowToolbarGroups:!1},i.backstage,C.some(["form:"])),qe=(Tt,Jt)=>ej.buildInitGroups(Tt,Jt),He=Tt=>{const{buttons:Jt}=t.ui.registry.getAll(),yo=ye(),Us={...Jt,...yo.formNavigators},qo=Yy(t)===yd.scrolling?yd.scrolling:yd.default,Kt=Qt(we(Tt,at=>at.type==="contexttoolbar"?ve(Us,at):qe(at,g.providers)));return jx({type:qo,uid:Vt("context-toolbar"),initGroups:Kt,onEscape:C.none,cyclicKeying:!0,providers:g.providers})},At=(Tt,Jt)=>{const yo=Tt==="node"?g.anchors.node(Jt):g.anchors.cursor(),Us=C3(t,Tt,p(),{lastElement:k.get,isReposition:()=>mr(_.get(),0),getMode:()=>Hc.getMode(a)});return zs(yo,Us)},Ft=(Tt,Jt)=>{if(qt.cancel(),!H())return;const yo=He(Tt),Us=Tt[0].position,qo=At(Us,Jt);E.set(Us),_.set(1);const Kt=z.element;Zn(Kt,"display"),V(Jt)||(yr(Kt,E3),Hc.reset(a,z)),tr.showWithinBounds(z,re(yo),{anchor:qo,transition:{classes:[E3],mode:"placement"}},()=>C.some(N())),Jt.fold(k.clear,k.set),Y()&&Je(Kt,"display","none")};let We=!1;const qt=V4(()=>{if(!(!t.hasFocus()||t.removed||We))if(Gi(z.element,E3))qt.throttle();else{const Tt=ye();S3(Tt,t).fold(Q,Jt=>{Ft(Jt.toolbars,C.some(Jt.elem))})}},17);t.on("init",()=>{t.on("remove",Q),t.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",Se),t.on("click keyup focus SetContent",qt.throttle),t.on(PI,Q),t.on(GU,Tt=>{const Jt=ye();mt(Jt.lookupTable,Tt.toolbarKey).each(yo=>{Ft([yo],fn(Tt.target!==t,Tt.target)),tr.getContent(z).each(pn.focusIn)})}),t.on("focusout",Tt=>{yv.setEditorTimeout(t,()=>{li(a.element).isNone()&&li(z.element).isNone()&&Q()},0)}),t.on("SwitchMode",()=>{t.mode.isReadOnly()&&Q()}),t.on("ExecCommand",({command:Tt})=>{Tt.toLowerCase()==="toggleview"&&Q()}),t.on("AfterProgressState",Tt=>{Tt.state?Q():t.hasFocus()&&qt.throttle()}),t.on("dragstart",()=>{We=!0}),t.on("dragend drop",()=>{We=!1}),t.on("NodeChange",Tt=>{li(z.element).fold(qt.throttle,ae)})})},aj=t=>{Qe([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],a=>{t.ui.registry.addToggleButton(a.name,{tooltip:a.text,icon:a.icon,onAction:ou(t,a.cmd),onSetup:Q2(t,a.name)})}),t.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:Ni(t),onAction:ou(t,"JustifyNone")})},ZI=(t,s)=>{const a=()=>{const i=s.getOptions(t),d=s.getCurrent(t).map(s.hash),g=os();return we(i,p=>({type:"togglemenuitem",text:s.display(p),onSetup:k=>{const _=z=>{z&&(g.on(N=>N.setActive(!1)),g.set(k)),k.setActive(z)};_(mr(d,s.hash(p)));const E=s.watcher(t,p,_);return()=>{g.clear(),E()}},onAction:()=>s.setCurrent(t,p)}))};t.ui.registry.addMenuButton(s.name,{tooltip:s.text,icon:s.icon,fetch:i=>i(a()),onSetup:s.onToolbarSetup}),t.ui.registry.addNestedMenuItem(s.name,{type:"nestedmenuitem",text:s.text,getSubmenuItems:a,onSetup:s.onMenuSetup})},cj=t=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:eM,hash:s=>uU(s,["fixed","relative","empty"]).getOr(s),display:zt,watcher:(s,a,i)=>s.formatter.formatChanged("lineheight",i,!1,{value:a}).unbind,getCurrent:s=>C.from(s.queryCommandValue("LineHeight")),setCurrent:(s,a)=>s.execCommand("LineHeight",!1,a),onToolbarSetup:Ni(t),onMenuSetup:Ni(t)}),qI=t=>C.from(LR(t)).map(a=>({name:"language",text:"Language",icon:"language",getOptions:Z(a),hash:i=>ts(i.customCode)?i.code:`${i.code}/${i.customCode}`,display:i=>i.title,watcher:(i,d,g)=>{var p;return i.formatter.formatChanged("lang",g,!1,{value:d.code,customValue:(p=d.customCode)!==null&&p!==void 0?p:null}).unbind},getCurrent:i=>{const d=ge.fromDom(i.selection.getNode());return pl(d,g=>C.some(g).filter(So).bind(p=>Nr(p,"lang").map(_=>{const E=Nr(p,"data-mce-lang").getOrUndefined();return{code:_,customCode:E,title:""}})))},setCurrent:(i,d)=>i.execCommand("Lang",!1,d),onToolbarSetup:i=>{const d=ka();return i.setActive(t.formatter.match("lang",{},void 0,!0)),d.set(t.formatter.formatChanged("lang",i.setActive,!0)),J2(d.clear,Ni(t)(i))},onMenuSetup:Ni(t)})),GI=t=>{ZI(t,cj(t)),qI(t).each(s=>ZI(t,s))},KI=(t,s)=>{Wh(t,s),iU(t,s),vI(t,s),oU(t,s),_U(t,s)},YI=t=>ib(t,"NodeChange",s=>{s.setEnabled(t.queryCommandState("outdent")&&t.selection.isEditable())}),ij=t=>{t.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:YI(t),onAction:ou(t,"outdent")}),t.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:Ni(t),onAction:ou(t,"indent")})},XI=t=>{ij(t)},A3=(t,s)=>a=>{a.setActive(s.get());const i=d=>{s.set(d.state),a.setActive(d.state)};return t.on("PastePlainTextToggle",i),J2(()=>t.off("PastePlainTextToggle",i),Ni(t)(a))},lj=t=>{const s=tn(DA(t)),a=()=>t.execCommand("mceTogglePlainTextPaste");t.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:a,onSetup:A3(t,s)}),t.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:a,onSetup:A3(t,s)})},JI=(t,s)=>()=>{t.execCommand("mceToggleFormat",!1,s)},uj=t=>{Sp.each([{name:"bold",text:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(s,a)=>{t.ui.registry.addToggleButton(s.name,{tooltip:s.text,icon:s.icon,onSetup:Q2(t,s.name),onAction:JI(t,s.name),shortcut:s.shortcut})});for(let s=1;s<=6;s++){const a="h"+s,i=`Access+${s}`;t.ui.registry.addToggleButton(a,{text:a.toUpperCase(),tooltip:"Heading "+s,onSetup:Q2(t,a),onAction:JI(t,a),shortcut:i})}},dj=t=>{Sp.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"help",text:"Help",action:"mceHelp",icon:"help",shortcut:"Alt+0"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],s=>{t.ui.registry.addButton(s.name,{tooltip:s.text,icon:s.icon,onAction:ou(t,s.action),shortcut:s.shortcut})}),Sp.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],s=>{t.ui.registry.addButton(s.name,{tooltip:s.text,icon:s.icon,onSetup:Ni(t),onAction:ou(t,s.action)})})},fj=t=>{Sp.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],s=>{t.ui.registry.addToggleButton(s.name,{tooltip:s.text,icon:s.icon,onAction:ou(t,s.action),onSetup:Q2(t,s.name)})})},mj=t=>{uj(t),dj(t),fj(t)},gj=t=>{Sp.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],s=>{t.ui.registry.addMenuItem(s.name,{text:s.text,icon:s.icon,shortcut:s.shortcut,onAction:ou(t,s.action)})}),Sp.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],s=>{t.ui.registry.addMenuItem(s.name,{text:s.text,icon:s.icon,shortcut:s.shortcut,onSetup:Ni(t),onAction:ou(t,s.action)})}),t.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:Ni(t),onAction:JI(t,"code")})},pj=t=>{mj(t),gj(t)},aT=(t,s)=>ib(t,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",a=>{a.setEnabled(!t.mode.isReadOnly()&&t.undoManager[s]())}),hj=t=>{t.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:aT(t,"hasUndo"),onAction:ou(t,"undo")}),t.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:aT(t,"hasRedo"),onAction:ou(t,"redo")})},yj=t=>{t.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:aT(t,"hasUndo"),onAction:ou(t,"undo"),shortcut:"Meta+Z"}),t.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:aT(t,"hasRedo"),onAction:ou(t,"redo"),shortcut:"Meta+Y"})},bj=t=>{hj(t),yj(t)},vj=t=>ib(t,"VisualAid",s=>{s.setActive(t.hasVisual)}),kj=t=>{t.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:vj(t),onAction:ou(t,"mceToggleVisualAid")})},wj=t=>{t.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:ou(t,"mceToggleVisualAid")})},QI=t=>{wj(t),kj(t)},_j=(t,s)=>{aj(t),pj(t),KI(t,s),bj(t),I6(t),QI(t),XI(t),GI(t),lj(t)},Cj=t=>on(t)?t.split(/[ ,]/):t,e5=t=>s=>s.options.get(t),Sj=t=>{const s=t.options.register;s("contextmenu_avoid_overlap",{processor:"string",default:""}),s("contextmenu_never_use_native",{processor:"boolean",default:!1}),s("contextmenu",{processor:a=>a===!1?{value:[],valid:!0}:on(a)||en(a,on)?{value:Cj(a),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})},t5=e5("contextmenu_never_use_native"),xj=e5("contextmenu_avoid_overlap"),Tj=t=>n5(t).length===0,n5=t=>{const s=t.ui.registry.getAll().contextMenus,a=t.options.get("contextmenu");return t.options.isSet("contextmenu")?a:xn(a,i=>to(s,i))},W_=(t,s)=>({type:"makeshift",x:t,y:s}),z3=(t,s,a)=>W_(t.x+s,t.y+a),o5=t=>t.type==="longpress"||t.type.indexOf("touch")===0,Ej=t=>{if(o5(t)){const s=t.touches[0];return W_(s.pageX,s.pageY)}else return W_(t.pageX,t.pageY)},O3=t=>{if(o5(t)){const s=t.touches[0];return W_(s.clientX,s.clientY)}else return W_(t.clientX,t.clientY)},s5=(t,s)=>{const a=Zy.DOM.getPos(t);return z3(s,a.x,a.y)},r5=(t,s)=>s.type==="contextmenu"||s.type==="longpress"?t.inline?Ej(s):s5(t.getContentAreaContainer(),O3(s)):a5(t),a5=t=>({type:"selection",root:ge.fromDom(t.selection.getNode())}),Aj=t=>({type:"node",node:C.some(ge.fromDom(t.selection.getNode())),root:ge.fromDom(t.getBody())}),c5=(t,s,a)=>{switch(a){case"node":return Aj(t);case"point":return r5(t,s);case"selection":return a5(t)}},zj=(t,s,a,i,d,g)=>{const p=a(),k=c5(t,s,g);Hv(p,af.CLOSE_ON_EXECUTE,i,{isHorizontalMenu:!1,search:C.none()}).map(_=>{s.preventDefault(),tr.showMenuAt(d,{anchor:k},{menu:{markers:eb("normal")},data:_})})},Oj={onLtr:()=>[xa,Ca,Ir,ms,xc,Sa,su,Wv,jv,Dx,x_,Ox],onRtl:()=>[xa,Ir,Ca,xc,ms,Sa,su,Wv,x_,Ox,jv,Dx]},D3=12,Dj={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},i5=(t,s)=>{const a=t.selection;if(a.isCollapsed()||s.touches.length<1)return!1;{const i=s.touches[0],d=a.getRng();return fa(t.getWin(),Zm.domRange(d)).exists(p=>p.left<=i.clientX&&p.right>=i.clientX&&p.top<=i.clientY&&p.bottom>=i.clientY)}},Rj=t=>{const s=t.selection.getRng(),a=()=>{yv.setEditorTimeout(t,()=>{t.selection.setRng(s)},10),g()};t.once("touchend",a);const i=p=>{p.preventDefault(),p.stopImmediatePropagation()};t.on("mousedown",i,!0);const d=()=>g();t.once("longpresscancel",d);const g=()=>{t.off("touchend",a),t.off("longpresscancel",d),t.off("mousedown",i)}},Mj=(t,s,a)=>{const i=c5(t,s,a);return{bubble:Ou(0,a==="point"?D3:0,Dj),layouts:Oj,overrides:{maxWidthFunction:Gv(),maxHeightFunction:th()},...i}},R3=(t,s,a,i,d,g,p)=>{const k=Mj(t,s,g);Hv(a,af.CLOSE_ON_EXECUTE,i,{isHorizontalMenu:!0,search:C.none()}).map(_=>{s.preventDefault();const E=p?Zr.HighlightMenuAndItem:Zr.HighlightNone;tr.showMenuWithinBounds(d,{anchor:k},{menu:{markers:eb("normal"),highlightOnOpen:E},data:_,type:"horizontal"},()=>C.some(FI(t,i.shared,g==="node"?"node":"selection"))),t.dispatch(PI)})},Nj=(t,s,a,i,d,g)=>{const p=Qn(),k=p.os.isiOS(),_=p.os.isMacOS(),E=p.os.isAndroid(),z=p.deviceType.isTouch(),N=()=>!(E||k||_&&z),H=()=>{const V=a();R3(t,s,V,i,d,g,N())};if((_||k)&&g!=="node"){const V=()=>{Rj(t),H()};i5(t,s)?V():(t.once("selectionchange",V),t.once("touchend",()=>t.off("selectionchange",V)))}else H()},M3=t=>on(t)?t==="|":t.type==="separator",N3={type:"separator"},l5=t=>{const s=a=>({text:a.text,icon:a.icon,enabled:a.enabled,shortcut:a.shortcut});if(on(t))return t;switch(t.type){case"separator":return N3;case"submenu":return{type:"nestedmenuitem",...s(t),getSubmenuItems:()=>{const i=t.getSubmenuItems();return on(i)?i:we(i,l5)}};default:const a=t;return{type:"menuitem",...s(a),onAction:wt(a.onAction)}}},cT=(t,s)=>{if(s.length===0)return t;const i=hs(t).filter(d=>!M3(d)).fold(()=>[],d=>[N3]);return t.concat(i).concat(s).concat([N3])},Pj=(t,s,a)=>{const i=Co(s,(d,g)=>mt(t,g.toLowerCase()).map(p=>{const k=p.update(a);if(on(k)&&ce(Or(k)))return cT(d,k.split(" "));if(uo(k)&&k.length>0){const _=we(k,l5);return cT(d,_)}else return d}).getOrThunk(()=>d.concat([g])),[]);return i.length>0&&M3(i[i.length-1])&&i.pop(),i},Bj=(t,s)=>s.ctrlKey&&!t5(t),$j=t=>t.type==="longpress"||to(t,"touches"),u5=(t,s)=>!$j(s)&&(s.button!==2||s.target===t.getBody()&&s.pointerType===""),d5=(t,s)=>u5(t,s)?t.selection.getStart(!0):s.target,f5=(t,s)=>{const a=xj(t),i=u5(t,s)?"selection":"point";if(ce(a)){const d=d5(t,s);return Zw(ge.fromDom(d),a)?"node":i}else return i},Ij=(t,s,a)=>{const d=Qn().deviceType.isTouch,g=Lc(tr.sketch({dom:{tag:"div"},lazySink:s,onEscape:()=>t.focus(),onShow:()=>a.setContextMenuState(!0),onHide:()=>a.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:gt([Kn("dismissContextMenu",[Xe(km(),(_,E)=>{Do.close(_),t.focus()})])])})),p=()=>tr.hide(g),k=_=>{if(t5(t)&&_.preventDefault(),Bj(t,_)||Tj(t))return;const E=f5(t,_),z=()=>{const H=d5(t,_),V=t.ui.registry.getAll(),Y=n5(t);return Pj(V.contextMenus,Y,H)};(d()?Nj:zj)(t,_,z,a,g,E)};t.on("init",()=>{const _="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(d()?"":" ResizeWindow");t.on(_,p),t.on("longpress contextmenu",k)})},P3=G.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),iT=t=>s=>s.translate(-t.left,-t.top),lT=t=>s=>s.translate(t.left,t.top),Tp=t=>(s,a)=>Co(t,(i,d)=>d(i),Xs(s,a)),uT=(t,s,a)=>t.fold(Tp([lT(a),iT(s)]),Tp([iT(s)]),Tp([])),n0=(t,s,a)=>t.fold(Tp([lT(a)]),Tp([]),Tp([lT(s)])),m5=(t,s,a)=>t.fold(Tp([]),Tp([iT(a)]),Tp([lT(s),iT(a)])),g5=(t,s,a,i,d,g)=>{const p=n0(t,d,g),k=n0(s,d,g);return Math.abs(p.left-k.left)<=a&&Math.abs(p.top-k.top)<=i},Fj=(t,s,a,i,d,g)=>{const p=n0(t,d,g),k=n0(s,d,g),_=Math.abs(p.left-k.left),E=Math.abs(p.top-k.top);return Xs(_,E)},B3=(t,s,a)=>{const i=t.fold((d,g)=>({position:C.some("absolute"),left:C.some(d+"px"),top:C.some(g+"px")}),(d,g)=>({position:C.some("absolute"),left:C.some(d-a.left+"px"),top:C.some(g-a.top+"px")}),(d,g)=>({position:C.some("fixed"),left:C.some(d+"px"),top:C.some(g+"px")}));return{right:C.none(),bottom:C.none(),...i}},Lj=(t,s,a)=>t.fold((i,d)=>dT(i+s,d+a),(i,d)=>Wu(i+s,d+a),(i,d)=>Zh(i+s,d+a)),$3=(t,s,a,i)=>{const d=(g,p)=>(k,_)=>{const E=g(s,a,i);return p(k.getOr(E.left),_.getOr(E.top))};return t.fold(d(m5,dT),d(n0,Wu),d(uT,Zh))},dT=P3.offset,Wu=P3.absolute,Zh=P3.fixed,p5=(t,s)=>{const a=rn(t,s);return ts(a)?NaN:parseInt(a,10)},Hj=(t,s)=>{const a=t.element,i=p5(a,s.leftAttr),d=p5(a,s.topAttr);return isNaN(i)||isNaN(d)?C.none():C.some(Xs(i,d))},Vj=(t,s,a)=>{const i=t.element;Pt(i,s.leftAttr,a.left+"px"),Pt(i,s.topAttr,a.top+"px")},Uj=(t,s)=>{const a=t.element;P(a,s.leftAttr),P(a,s.topAttr)},h5=(t,s,a,i)=>Hj(t,s).fold(()=>a,d=>Zh(d.left+i.left,d.top+i.top)),jj=(t,s,a,i,d,g)=>{const p=h5(t,s,a,i),k=s.mustSnap?Zj(t,s,p,d,g):qj(t,s,p,d,g),_=uT(p,d,g);return Vj(t,s,_),k.fold(()=>({coord:Zh(_.left,_.top),extra:C.none()}),E=>({coord:E.output,extra:E.extra}))},Wj=(t,s)=>{Uj(t,s)},y5=(t,s,a,i)=>zo(t,d=>{const g=d.sensor;return g5(s,g,d.range.left,d.range.top,a,i)?C.some({output:$3(d.output,s,a,i),extra:d.extra}):C.none()}),Zj=(t,s,a,i,d)=>{const g=s.getSnapPoints(t);return y5(g,a,i,d).orThunk(()=>Co(g,(_,E)=>{const z=E.sensor,N=Fj(a,z,E.range.left,E.range.top,i,d);return _.deltas.fold(()=>({deltas:C.some(N),snap:C.some(E)}),H=>{const V=(N.left+N.top)/2,Y=(H.left+H.top)/2;return V<=Y?{deltas:C.some(N),snap:C.some(E)}:_})},{deltas:C.none(),snap:C.none()}).snap.map(_=>({output:$3(_.output,a,i,d),extra:_.extra})))},qj=(t,s,a,i,d)=>{const g=s.getSnapPoints(t);return y5(g,a,i,d)},Gj=(t,s,a)=>({coord:$3(t.output,t.output,s,a),extra:t.extra});var Kj=Object.freeze({__proto__:null,snapTo:(t,s,a,i)=>{const d=s.getTarget(t.element);if(s.repositionTarget){const g=ya(t.element),p=lc(g),k=O0(d),_=Gj(i,p,k),E=B3(_.coord,p,k);_s(d,E)}}});const I3="data-initial-z-index",Yj=t=>{Ha(t.element).filter(So).each(s=>{Nr(s,I3).fold(()=>Zn(s,"z-index"),a=>Je(s,"z-index",a)),P(s,I3)})},b5=t=>{Ha(t.element).filter(So).each(s=>{As(s,"z-index").each(a=>{Pt(s,I3,a)}),Je(s,"z-index",ls(t.element,"z-index"))})},F3=(t,s)=>{t.getSystem().addToGui(s),b5(s)},Xj=t=>{Yj(t),t.getSystem().removeFromGui(t)},o0=(t,s,a)=>t.getSystem().build(Jf.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[s]},events:a}));var Jj=Ps("snaps",[Ke("getSnapPoints"),Eo("onSensor"),Ke("leftAttr"),Ke("topAttr"),Ee("lazyViewport",jr),Ee("mustSnap",!1)]);const L3=[Ee("useFixed",Ae),Ke("blockerClass"),Ee("getTarget",zt),Ee("onDrag",ae),Ee("repositionTarget",!0),Ee("onDrop",ae),hr("getBounds",jr),Jj],H3=t=>Dc(As(t,"left"),As(t,"top"),As(t,"position"),(s,a,i)=>(i==="fixed"?Zh:dT)(parseInt(s,10),parseInt(a,10))).getOrThunk(()=>{const s=va(t);return Wu(s.left,s.top)}),Qj=(t,s,a,i,d)=>{const g=d.bounds,p=n0(s,a,i),k=Ji(p.left,g.x,g.x+g.width-d.width),_=Ji(p.top,g.y,g.y+g.height-d.height),E=Wu(k,_);return s.fold(()=>{const z=m5(E,a,i);return dT(z.left,z.top)},Z(E),()=>{const z=uT(E,a,i);return Zh(z.left,z.top)})},eW=(t,s,a,i,d,g,p)=>{const k=s.fold(()=>{const _=Lj(a,g.left,g.top),E=uT(_,i,d);return Zh(E.left,E.top)},_=>{const E=jj(t,_,a,g,i,d);return E.extra.each(z=>{_.onSensor(t,z)}),E.coord});return Qj(t,k,i,d,p)},tW=(t,s,a,i)=>{const d=s.getTarget(t.element);if(s.repositionTarget){const g=ya(t.element),p=lc(g),k=O0(d),_=H3(d),E=eW(t,s.snaps,_,p,k,i,a),z=B3(E,p,k);_s(d,z)}s.onDrag(t,d,i)},v5=(t,s)=>({bounds:t.getBounds(),height:ll(s.element),width:vo(s.element)}),V3=(t,s,a,i,d)=>{const g=a.update(i,d),p=a.getStartData().getOrThunk(()=>v5(s,t));g.each(k=>{tW(t,s,p,k)})},k5=(t,s,a,i)=>{s.each(Xj),a.snaps.each(g=>{Wj(t,g)});const d=a.getTarget(t.element);i.reset(),a.onDrop(t,d)},U3=t=>(s,a)=>{const i=d=>{a.setStartData(v5(s,d))};return Is([Xe(Bg(),d=>{a.getStartData().each(()=>i(d))}),...t(s,a,i)])},nW=t=>Is([Xe(Ar(),t.forceDrop),Xe(Df(),t.drop),Xe(Fp(),(s,a)=>{t.move(a.event)}),Xe(Of(),t.delayDrop)]);var oW=Object.freeze({__proto__:null,getData:t=>C.from(Xs(t.x,t.y)),getDelta:(t,s)=>Xs(s.left-t.left,s.top-t.top)});const w5=(t,s,a)=>[Xe(Ar(),(i,d)=>{if(d.event.raw.button!==0)return;d.stop();const p=()=>k5(i,C.some(E),t,s),k=jN(p,200),_={drop:p,delayDrop:k.schedule,forceDrop:p,move:N=>{k.cancel(),V3(i,t,s,oW,N)}},E=o0(i,t.blockerClass,nW(_));(()=>{a(i),F3(i,E)})()})],sW=[...L3,ws("dragger",{handlers:U3(w5)})],rW=t=>Is([Xe(Zl(),t.forceDrop),Xe(Ds(),t.drop),Xe($c(),t.drop),Xe(Po(),(s,a)=>{t.move(a.event)})]),aW=t=>{const s=t[0];return C.some(Xs(s.clientX,s.clientY))};var Z_=Object.freeze({__proto__:null,getData:t=>{const a=t.raw.touches;return a.length===1?aW(a):C.none()},getDelta:(t,s)=>Xs(s.left-t.left,s.top-t.top)});const _5=(t,s,a)=>{const i=os(),d=g=>{k5(g,i.get(),t,s),i.clear()};return[Xe(Zl(),(g,p)=>{p.stop();const k=()=>d(g),_={drop:k,delayDrop:ae,forceDrop:k,move:N=>{V3(g,t,s,Z_,N)}},E=o0(g,t.blockerClass,rW(_));i.set(E),(()=>{a(g),F3(g,E)})()}),Xe(Po(),(g,p)=>{p.stop(),V3(g,t,s,Z_,p.event)}),Xe(Ds(),(g,p)=>{p.stop(),d(g)}),Xe($c(),d)]},cW=[...L3,ws("dragger",{handlers:U3(_5)})],iW=(t,s,a)=>[...w5(t,s,a),..._5(t,s,a)],lW=[...L3,ws("dragger",{handlers:U3(iW)})];var dW=Object.freeze({__proto__:null,mouse:sW,touch:cW,mouseOrTouch:lW}),fW=Object.freeze({__proto__:null,init:()=>{let t=C.none(),s=C.none();const a=()=>{t=C.none(),s=C.none()},i=(_,E)=>{const z=t.map(N=>_.getDelta(N,E));return t=C.some(E),z},d=(_,E)=>_.getData(E).bind(z=>i(_,z)),g=_=>{s=C.some(_)},p=()=>s,k=Z({});return qi({readState:k,reset:a,update:d,getStartData:p,setStartData:g})}});const kb=uC({branchKey:"mode",branches:dW,name:"dragging",active:{events:(t,s)=>t.dragger.handlers(t,s)},extra:{snap:t=>({sensor:t.sensor,range:t.range,output:t.output,extra:C.from(t.extra)})},state:fW,apis:Kj}),j3=40,s0=j3/2,W3=(t,s,a,i,d,g)=>t.fold(()=>kb.snap({sensor:Wu(a-s0,i-s0),range:Xs(d,g),output:Wu(C.some(a),C.some(i)),extra:{td:s}}),p=>{const k=a-s0,_=i-s0,E=j3,z=j3,N=p.element.dom.getBoundingClientRect();return kb.snap({sensor:Wu(k,_),range:Xs(E,z),output:Wu(C.some(a-N.width/2),C.some(i-N.height/2)),extra:{td:s}})}),C5=(t,s,a)=>{const i=(d,g)=>d.exists(p=>jo(p,g));return{getSnapPoints:t,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(d,g)=>{const p=g.td;i(s.get(),p)||(s.set(p),a(p))},mustSnap:!0}},S5=t=>Qo(Vc.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:gt([kb.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:t}),$v.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),mW=(t,s)=>{const a=tn([]),i=tn([]),d=tn(!1),g=os(),p=os(),k=Ft=>{const We=ei(Ft);return W3(V.getOpt(s),Ft,We.x,We.y,We.width,We.height)},_=()=>we(a.get(),Ft=>k(Ft)),E=Ft=>{const We=ei(Ft);return W3(Y.getOpt(s),Ft,We.right,We.bottom,We.width,We.height)},z=()=>we(i.get(),Ft=>E(Ft)),N=C5(_,g,Ft=>{p.get().each(We=>{t.dispatch("TableSelectorChange",{start:Ft,finish:We})})}),H=C5(z,p,Ft=>{g.get().each(We=>{t.dispatch("TableSelectorChange",{start:We,finish:Ft})})}),V=S5(N),Y=S5(H),Q=Lc(V.asSpec()),Se=Lc(Y.asSpec()),re=(Ft,We,qt,Tt)=>{const Jt=We.dom.getBoundingClientRect();Zn(Ft.element,"display");const yo=Ba(ge.fromDom(t.getBody())).dom.innerHeight,Us=qt(Jt),qo=Tt(Jt,yo);(Us||qo)&&Je(Ft.element,"display","none")},ye=(Ft,We,qt,Tt)=>{const Jt=qt(We);kb.snapTo(Ft,Jt),re(Ft,We,qo=>qo[Tt]<0,(qo,Kt)=>qo[Tt]>Kt)},ve=Ft=>ye(Q,Ft,k,"top"),qe=()=>g.get().each(ve),He=Ft=>ye(Se,Ft,E,"bottom"),At=()=>p.get().each(He);if(Qn().deviceType.isTouch()){const Ft=We=>we(We,ge.fromDom);t.on("TableSelectionChange",We=>{d.get()||(Du(s,Q),Du(s,Se),d.set(!0));const qt=ge.fromDom(We.start),Tt=ge.fromDom(We.finish);g.set(qt),p.set(Tt),C.from(We.otherCells).each(Jt=>{a.set(Ft(Jt.upOrLeftCells)),i.set(Ft(Jt.downOrRightCells)),ve(qt),He(Tt)})}),t.on("ResizeEditor ResizeWindow ScrollContent",()=>{qe(),At()}),t.on("TableSelectionClear",()=>{d.get()&&(Uf(Q),Uf(Se),d.set(!1)),g.clear(),p.clear()})}};var gW=`<svg height="16" viewBox="0 0 80 16" width="80" xmlns="http://www.w3.org/2000/svg"><g opacity=".8"><path d="m80 3.537v-2.202h-7.976v11.585h7.976v-2.25h-5.474v-2.621h4.812v-2.069h-4.812v-2.443zm-10.647 6.929c-.493.217-1.13.337-1.864.337s-1.276-.156-1.805-.47a3.732 3.732 0 0 1 -1.3-1.298c-.324-.554-.48-1.191-.48-1.877s.156-1.335.48-1.877a3.635 3.635 0 0 1 1.3-1.299 3.466 3.466 0 0 1 1.805-.481c.65 0 .914.06 1.263.18.36.12.698.277.986.47.289.192.578.384.842.6l.12.085v-2.586l-.023-.024c-.385-.35-.855-.614-1.384-.818-.53-.205-1.155-.313-1.877-.313-.721 0-1.6.144-2.333.445a5.773 5.773 0 0 0 -1.937 1.251 5.929 5.929 0 0 0 -1.324 1.9c-.324.735-.48 1.565-.48 2.455s.156 1.72.48 2.454c.325.734.758 1.383 1.324 1.913.553.53 1.215.938 1.937 1.25a6.286 6.286 0 0 0 2.333.434c.819 0 1.384-.108 1.961-.313.59-.216 1.083-.505 1.468-.866l.024-.024v-2.49l-.12.096c-.41.337-.878.626-1.396.866zm-14.869-4.15-4.8-5.04-.024-.025h-.902v11.67h2.502v-6.847l2.827 3.08.385.409.397-.41 2.791-3.067v6.845h2.502v-11.679h-.902l-4.788 5.052z"/><path clip-rule="evenodd" d="m15.543 5.137c0-3.032-2.466-5.113-4.957-5.137-.36 0-.745.024-1.094.096-.157.024-3.85.758-3.85.758-3.032.602-4.62 2.466-4.704 4.788-.024.89-.024 4.27-.024 4.27.036 3.165 2.406 5.138 5.017 5.126.337 0 1.119-.109 1.287-.145.144-.024.385-.084.746-.144.661-.12 1.684-.325 3.067-.602 2.37-.409 4.103-2.009 4.44-4.33.156-1.023.084-4.692.084-4.692zm-3.213 3.308-2.346.457v2.31l-5.859 1.143v-5.75l2.346-.458v3.441l3.513-.686v-3.44l-3.513.685v-2.297l5.859-1.143v5.75zm20.09-3.296-.083-1.023h-2.13v8.794h2.346v-4.884c0-1.107.95-1.985 2.057-1.997 1.095 0 1.901.89 1.901 1.997v4.884h2.346v-5.245c-.012-2.105-1.588-3.777-3.67-3.765a3.764 3.764 0 0 0 -2.778 1.25l.012-.011zm-6.014-4.102 2.346-.458v2.298l-2.346.457z" fill-rule="evenodd"/><path d="m28.752 4.126h-2.346v8.794h2.346z"/><path clip-rule="evenodd" d="m43.777 15.483 4.043-11.357h-2.418l-1.54 4.355-.445 1.324-.36-1.324-1.54-4.355h-2.418l3.151 8.794-1.083 3.08zm-21.028-5.51c0 .722.541 1.034.878 1.034s.638-.048.95-.144l.518 1.708c-.217.145-.879.518-2.13.518a2.565 2.565 0 0 1 -2.562-2.587c-.024-1.082-.024-2.49 0-4.21h-1.54v-2.142h1.54v-1.912l2.346-.458v2.37h2.201v2.142h-2.2v3.693-.012z" fill-rule="evenodd"/></g></svg>
`;const pW=(t,s)=>{const a=C.from(rn(t,"id")).getOrThunk(()=>{const i=Vt("aria");return Pt(s,"id",i),i});Pt(t,"aria-describedby",a)},hW=t=>{P(t,"aria-describedby")},yW=t=>t.nodeName==="BR"||!!t.getAttribute("data-mce-bogus")||t.getAttribute("data-mce-type")==="bookmark",bW=(t,s,a)=>{var i;const d=(i=s.delimiter)!==null&&i!==void 0?i:"›",g=(E,z,N)=>Vc.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":N}},components:[br(E)],action:H=>{t.focus(),t.selection.select(z),t.nodeChanged()},buttonBehaviours:gt([Lr.config({...a.tooltips.getConfig({tooltipText:a.translate(["Select the {0} element",z.nodeName.toLowerCase()]),onShow:(H,V)=>{pW(H.element,V.element)},onHide:H=>{hW(H.element)}})}),lf.button(a.isDisabled),Qa()])}),p=()=>({dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[br(` ${d} `)]}),k=E=>Co(E,(z,N,H)=>{const V=g(N.name,N.element,H);return H===0?z.concat([V]):z.concat([p(),V])},[]),_=E=>{const z=[];let N=E.length;for(;N-- >0;){const H=E[N];if(H.nodeType===1&&!yW(H)){const V=S6(t,H);if(V.isDefaultPrevented()||z.push({name:V.name,element:H}),V.isPropagationStopped())break}}return z};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:gt([pn.config({mode:"flow",selector:"div[role=button]"}),l.config({disabled:a.isDisabled}),Qa(),Hs.config({}),Nn.config({}),Kn("elementPathEvents",[qs((E,z)=>{t.shortcuts.add("alt+F11","focus statusbar elementpath",()=>pn.focusIn(E)),t.on("NodeChange",N=>{const H=_(N.parents),V=H.length>0?k(H):[];Nn.set(E,V)})})])]),components:[]}};var qh;(function(t){t[t.None=0]="None",t[t.Both=1]="Both",t[t.Vertical=2]="Vertical"})(qh||(qh={}));const vW=(t,s,a,i,d)=>{const g={height:tT(i+s.top,bv(t),g2(t))};return a===qh.Both&&(g.width=tT(d+s.left,Ky(t),pw(t))),g},x5=(t,s,a)=>{const i=ge.fromDom(t.getContainer()),d=vW(t,s,a,Cs(i),Va(i));eo(d,(g,p)=>{No(g)&&Je(i,p,eT(g))}),Y2(t)},kW=t=>{const s=XR(t);return s===!1?qh.None:s==="both"?qh.Both:qh.Vertical},fT=(t,s,a,i)=>{const g=Xs(a*20,i*20);return x5(t,g,s),C.some(!0)},wW=(t,s)=>{const a=kW(t);if(a===qh.None)return C.none();const i=a===qh.Both?"Press the arrow keys to resize the editor.":"Press the Up and Down arrow keys to resize the editor.";return C.some($u("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{"aria-label":s.translate(i),"data-mce-name":"resize-handle"},behaviours:[kb.config({mode:"mouse",repositionTarget:!1,onDrag:(d,g,p)=>x5(t,p,a),blockerClass:"tox-blocker"}),pn.config({mode:"special",onLeft:()=>fT(t,a,-1,0),onRight:()=>fT(t,a,1,0),onUp:()=>fT(t,a,0,-1),onDown:()=>fT(t,a,0,1)}),Hs.config({}),zn.config({}),Lr.config(s.tooltips.getConfig({tooltipText:s.translate("Resize")}))]},s.icons))},T5=(t,s)=>{const a=(i,d,g)=>Nn.set(i,[br(s.translate(["{0} "+g,d[g]]))]);return Vc.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:gt([lf.button(s.isDisabled),Qa(),Hs.config({}),Nn.config({}),It.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Kn("wordcount-events",[Eu(i=>{const d=It.getValue(i),g=d.mode==="words"?"characters":"words";It.setValue(i,{mode:g,count:d.count}),a(i,d.count,g)}),qs(i=>{t.on("wordCountUpdate",d=>{const{mode:g}=It.getValue(i);It.setValue(i,{mode:g,count:d.wordCount}),a(i,d.wordCount,g)})})])]),eventOrder:{[Gl()]:["disabling","alloy.base.behaviour","wordcount-events"]}})},_W=(t,s)=>{const a=()=>({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=poweredby&utm_source=tiny&utm_medium=referral&utm_content=v7",rel:"noopener",target:"_blank","aria-label":t.translate(["Build with {0}","TinyMCE"])},innerHtml:t.translate(["Build with {0}",gW.trim()])},behaviours:gt([zn.config({})])}]}),i=()=>{const k=Z2("Alt+0"),_="Press {0} for help";return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[br(Bu.translate([_,k]))]}},d=()=>{const k=[];return t.hasPlugin("wordcount")&&k.push(T5(t,s)),OA(t)&&k.push(a()),{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:k}},g=()=>{const k=[],_=bw(t),E=YR(t),z=OA(t)||t.hasPlugin("wordcount"),N=()=>{const H="tox-statusbar__text-container--flex-start",V="tox-statusbar__text-container--flex-end",Y="tox-statusbar__text-container--space-around";if(_){const Q="tox-statusbar__text-container-3-cols";return!z&&!E?[Q,Y]:z&&!E?[Q,V]:[Q,H]}return[z&&!E?V:H]};return E&&k.push(bW(t,{},s)),_&&k.push(i()),z&&k.push(d()),k.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container",...N()]},components:k}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const k=g(),_=wW(t,s);return k.concat(_.toArray())})()}},E5=(t,s)=>s.get().getOrDie(`UI for ${t} has not been rendered`),CW=(t,s)=>{const a=t.inline,i=a?ZU:Qx,d=Xy(t)?QV:o$,g=qU(),p=os(),k=os(),_=os(),H=Qn().deviceType.isTouch()?["tox-platform-touch"]:[],V=ww(t),Y=Yy(t),Q=Qo({dom:{tag:"div",classes:["tox-anchorbar"]}}),Se=Qo({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),re=()=>g.mainUi.get().map(mn=>mn.outerContainer).bind(Vs.getHeader),ye=()=>Vn.fromOption(g.dialogUi.get().map(mn=>mn.sink),"UI has not been rendered"),ve=()=>Vn.fromOption(g.popupUi.get().map(mn=>mn.sink),"(popup) UI has not been rendered"),qe=g.lazyGetInOuterOrDie("anchor bar",Q.getOpt),He=g.lazyGetInOuterOrDie("bottom anchor bar",Se.getOpt),At=g.lazyGetInOuterOrDie("toolbar",Vs.getToolbar),Ft=g.lazyGetInOuterOrDie("throbber",Vs.getThrobber),We=QB({popup:ve,dialog:ye},t,qe,He),qt=()=>{const mn={attributes:{[wk]:V?vl.BottomToTop:vl.TopToBottom}},Hn=Vs.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:We.popup,onEscape:()=>{t.focus()}}),Es=Vs.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:We.popup.shared.getSink,providers:We.popup.shared.providers,onEscape:()=>{t.focus()},onToolbarToggled:Eb=>{x6(t,Eb)},type:Y,lazyToolbar:At,lazyHeader:()=>re().getOrDie("Could not find header element"),...mn}),es=Vs.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:We.popup.shared.providers,onEscape:()=>{t.focus()},type:Y}),hi=kw(t),Gu=vw(t),rm=v2(t),Yc=JR(t),Ku=Tt(),Rd=hi||Gu||rm,Rl=()=>hi?[es]:Gu?[Es]:[],fg=Yc?[Ku,Hn]:[Hn];return Vs.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(Rd?[]:["tox-editor-header--empty"]),...mn},components:Qt([rm?fg:[],Rl(),vv(t)?[]:[Q.asSpec()]]),sticky:Xy(t),editor:t,sharedBackstage:We.popup.shared})},Tt=()=>Vs.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]}}),Jt=()=>{const mn=Vs.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),Hn=Vs.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}});return{dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[mn,Hn]}},yo=()=>{const mn=PA(t),Hn=jo(so(),mn)&&ls(mn,"display")==="grid",Es={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(H),attributes:{...Bu.isRtl()?{dir:"rtl"}:{}}},behaviours:gt([Hc.config({useFixed:()=>d.isDocked(re)})])},es={dom:{styles:{width:document.body.clientWidth+"px"}},events:Is([Xe(ld(),rm=>{Je(rm.element,"width",document.body.clientWidth+"px")})])},hi=Lc(zs(Es,Hn?es:{})),Gu=Yw(hi);return k.set(Gu),{sink:hi,mothership:Gu}},Us=()=>{const mn={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(H),attributes:{...Bu.isRtl()?{dir:"rtl"}:{}}},behaviours:gt([Hc.config({useFixed:()=>d.isDocked(re),getBounds:()=>s.getPopupSinkBounds()})])},Hn=Lc(mn),Es=Yw(Hn);return _.set(Es),{sink:Hn,mothership:Es}},qo=()=>{const mn=qt(),Hn=Jt(),Es=Vs.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:We.popup}),es=Vs.parts.viewWrapper({backstage:We.popup}),hi=KR(t)&&!a?C.some(_W(t,We.popup.shared.providers)):C.none(),Gu=Qt([V?[]:[mn],a?[]:[Hn],V?[mn]:[]]),rm=Vs.parts.editorContainer({components:Qt([Gu,a?[]:[Se.asSpec()]])}),Yc=_w(t),Ku={role:"application",...Bu.isRtl()?{dir:"rtl"}:{},...Yc?{"aria-hidden":"true"}:{}},Rd=Lc(Vs.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(a?["tox-tinymce-inline"]:[]).concat(V?["tox-tinymce--toolbar-bottom"]:[]).concat(H),styles:{visibility:"hidden",...Yc?{opacity:"0",border:"0"}:{}},attributes:Ku},components:[rm,...a?[]:[es,...hi.toArray()],Es],behaviours:gt([Qa(),l.config({disableClass:"tox-tinymce--disabled"}),pn.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),Rl=Yw(Rd);return p.set(Rl),{mothership:Rl,outerContainer:Rd}},Kt=mn=>{const Hn=eT(VU(t)),Es=eT(UU(t));return t.inline||(rc("div","width",Es)&&Je(mn.element,"width",Es),rc("div","height",Hn)?Je(mn.element,"height",Hn):Je(mn.element,"height","400px")),Hn},at=mn=>{t.addShortcut("alt+F9","focus menubar",()=>{Vs.focusMenubar(mn)}),t.addShortcut("alt+F10","focus toolbar",()=>{Vs.focusToolbar(mn)}),t.addCommand("ToggleToolbarDrawer",(Hn,Es)=>{Es!=null&&Es.skipFocus?Vs.toggleToolbarDrawerWithoutFocusing(mn):Vs.toggleToolbarDrawer(mn)}),t.addQueryStateHandler("ToggleToolbarDrawer",()=>Vs.isToolbarDrawerToggled(mn))},Dt=mn=>{const{mainUi:Hn,popupUi:Es,uiMotherships:es}=mn;Wn(EA(t),(d0,kT)=>{t.ui.registry.addGroupToolbarButton(kT,d0)});const{buttons:hi,menuItems:Gu,contextToolbars:rm,sidebars:Yc,views:Ku}=t.ui.registry.getAll(),Rd=NA(t),Rl={menuItems:Gu,menus:tM(t),menubar:jR(t),toolbar:Rd.getOrThunk(()=>yw(t)),allowToolbarGroups:Y===yd.floating,buttons:hi,sidebar:Yc,views:Ku};at(Hn.outerContainer),e$(t,Hn.mothership,es),d.setup(t,We.popup.shared,re),_j(t,We.popup),Ij(t,We.popup.shared.getSink,We.popup),qO(t),h9(t,Ft,We.popup.shared),rj(t,rm,Es.sink,{backstage:We.popup}),mW(t,Es.sink);const fg=t.getElement(),Eb=Kt(Hn.outerContainer),cD={targetNode:fg,height:Eb};return i.render(t,mn,Rl,We.popup,cD)},On=mn=>(_.set(mn.mothership),mn),Cn=()=>{const mn=qo(),Hn=yo(),Es=Sh(t)?Us():On(Hn);g.dialogUi.set(Hn),g.popupUi.set(Es),g.mainUi.set(mn);const es={popupUi:Es,dialogUi:Hn,mainUi:mn,uiMotherships:g.getUiMotherships()};return Dt(es)};return{popups:{backstage:We.popup,getMothership:()=>E5("popups",_)},dialogs:{backstage:We.dialog,getMothership:()=>E5("dialogs",k)},renderUI:Cn}},SW=t=>t.dom.textContent,xW=(t,s)=>{const a=Nr(t,"id").fold(()=>{const i=Vt("dialog-label");return Pt(s,"id",i),i},zt);Pt(t,"aria-labelledby",a)},TW=Z([Ke("lazySink"),Bo("dragBlockClass"),hr("getBounds",jr),Ee("useTabstopAt",ze),Ee("firstTabstop",0),Ee("eventOrder",{}),Ya("modalBehaviours",[pn]),Oi("onExecute"),Gb("onEscape")]),Z3={sketch:zt},EW=Z([_l({name:"draghandle",overrides:(t,s)=>({behaviours:gt([kb.config({mode:"mouse",getTarget:a=>Im(a,'[role="dialog"]').getOr(a),blockerClass:t.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(s,null,2)).message),getBounds:t.getDragBounds})])})}),Ac({schema:[Ke("dom")],name:"title"}),Ac({factory:Z3,schema:[Ke("dom")],name:"close"}),Ac({factory:Z3,schema:[Ke("dom")],name:"body"}),_l({factory:Z3,schema:[Ke("dom")],name:"footer"}),tu({factory:{sketch:(t,s)=>({...t,dom:s.dom,components:s.components})},schema:[Ee("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),Ee("components",[])],name:"blocker"})]),A5=(t,s,a,i)=>{const d=os(),g=Y=>{d.set(Y);const Q=t.lazySink(Y).getOrDie(),Se=i.blocker(),re=Q.getSystem().build({...Se,components:Se.components.concat([yl(Y)]),behaviours:gt([zn.config({}),Kn("dialog-blocker-events",[Hp(rd(),()=>{mf.isBlocked(Y)?ae():pn.focusIn(Y)})])])});Du(Q,re),pn.focusIn(Y)},p=Y=>{d.clear(),Ha(Y.element).each(Q=>{Y.getSystem().getByDom(Q).each(Se=>{Uf(Se)})})},k=Y=>Cl(Y,t,"body"),_=Y=>it(Y,t,"footer"),E=(Y,Q)=>{mf.block(Y,Q)},z=Y=>{mf.unblock(Y)},N=Vt("modal-events"),H={...t.eventOrder,[oi()]:[N].concat(t.eventOrder["alloy.system.attached"]||[])},V=Qn();return{uid:t.uid,dom:t.dom,components:s,apis:{show:g,hide:p,getBody:k,getFooter:_,setIdle:z,setBusy:E},eventOrder:H,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:Xa(t.modalBehaviours,[Nn.config({}),pn.config({mode:"cyclic",onEnter:t.onExecute,onEscape:t.onEscape,useTabstopAt:t.useTabstopAt,firstTabstop:t.firstTabstop}),mf.config({getRoot:d.get}),Kn(N,[qs(Y=>{const Q=Cl(Y,t,"title").element,Se=SW(Q);V.os.isMacOS()&&fo(Se)?Pt(Y.element,"aria-label",Se):xW(Y.element,Q)})])])}},Fa=Gc({name:"ModalDialog",configFields:TW(),partFields:EW(),factory:A5,apis:{show:(t,s)=>{t.show(s)},hide:(t,s)=>{t.hide(s)},getBody:(t,s)=>t.getBody(s),getFooter:(t,s)=>t.getFooter(s),setBusy:(t,s,a)=>{t.setBusy(s,a)},setIdle:(t,s)=>{t.setIdle(s)}}}),wb=kn([ta,L2].concat(Ah)),AW=Ui,q_=[kz("button"),kd,Ai("align","end",["start","end"]),Sv,wd,Bp("buttonType",["primary","secondary"])],G_=[...q_,bp],q3=[_c("type",["submit","cancel","custom"]),...G_],zW=[_c("type",["menu"]),vp,Cv,kd,Ti("items",wb),...q_],OW=[...q_,_c("type",["togglebutton"]),Cv,kd,vp,Br("active",!1)],DW=wa("type",{submit:q3,cancel:q3,custom:q3,menu:zW,togglebutton:OW}),RW=[ta,bp,_c("level",["info","warn","error","success"]),DM,Ee("url","")],_b=kn(RW),z5=t=>[ta,t],MW=[ta,bp,wd,kz("button"),kd,YL,Bp("buttonType",["primary","secondary","toolbar"]),Sv],NW=kn(MW),r0=[ta,L2],om=r0.concat([H2]),PW=r0.concat([yz,wd]),BW=kn(PW),$W=Ui,IW=om.concat([MM("auto")]),G3=kn(IW),K_=Jh([Mw,bp,DM]),K3=om.concat([Cc("storageKey","default")]),mT=kn(K3),Cb=Nt,FW=kn(om),O5=Nt,D5=r0.concat([Cc("tag","textarea"),ea("scriptId"),ea("scriptUrl"),Cu("onFocus"),m0("settings",void 0)]),R5=r0.concat([Cc("tag","textarea"),xi("init")]),LW=Rg(t=>ar("customeditor.old",Bc(R5),t).orThunk(()=>ar("customeditor.new",Bc(D5),t))),HW=Nt,M5=kn(om),N5=Ef(),X3=t=>[ta,Mg("columns"),t],VW=[ta,ea("html"),Ai("presets","presentation",["presentation","document"]),hr("onInit",ae),Br("stretched",!1)],UW=kn(VW),jW=om.concat([Br("border",!1),Br("sandboxed",!0),Br("streamContent",!1),Br("transparent",!0)]),P5=kn(jW),WW=Nt,ZW=kn(r0.concat([da("height")])),qW=kn([ea("url"),Af("zoom"),Af("cachedWidth"),Af("cachedHeight")]),J3=om.concat([da("inputMode"),da("placeholder"),Br("maximized",!1),wd]),Q3=kn(J3),GW=Nt,B5=t=>[ta,yz,t,Ai("align","start",["start","center","end"]),da("for")],KW=[bp,Mw],YW=[bp,Ti("items",pm("items",()=>eD))],eD=gm([kn(KW),kn(YW)]),XW=om.concat([Ti("items",eD),wd]),JW=kn(XW),Sb=Nt,$5=om.concat([Pb("items",[bp,Mw]),ym("size",1),wd]),QW=kn($5),gT=Nt,a0=om.concat([Br("constrain",!0),wd]),pT=kn(a0),tD=kn([ea("width"),ea("height")]),hT=r0.concat([yz,ym("min",0),ym("max",0)]),zl=kn(hT),yT=Hd,I5=[ta,Ti("header",Nt),Ti("cells",Si(Nt))],F5=kn(I5),eZ=om.concat([da("placeholder"),Br("maximized",!1),wd]),tZ=kn(eZ),Gh=Nt,nZ=[_c("type",["directory","leaf"]),OM,ea("id"),_u("menu",l$)],nD=kn(nZ),c0=nZ.concat([Ti("children",pm("children",()=>Vd("type",{directory:Y_,leaf:nD})))]),Y_=kn(c0),L5=Vd("type",{directory:Y_,leaf:nD}),oZ=[ta,Ti("items",L5),Cu("onLeafAction"),Cu("onToggleExpand"),w("defaultExpandedIds",[],Nt),da("defaultSelectedId")],sZ=kn(oZ),rZ=om.concat([Ai("filetype","file",["image","media","file"]),wd,da("picker_text")]),aZ=kn(rZ),i0=kn([Mw,bz]),H5=t=>ua("items","items",Pc(),Si(Rg(s=>ar(`Checking item of ${t}`,oD,s).fold(a=>Vn.error(jl(a)),a=>Vn.value(a))))),oD=Qr(()=>Vd("type",{alertbanner:_b,bar:kn(z5(H5("bar"))),button:NW,checkbox:BW,colorinput:mT,colorpicker:FW,dropzone:M5,grid:kn(X3(H5("grid"))),iframe:P5,input:Q3,listbox:JW,selectbox:QW,sizeinput:pT,slider:zl,textarea:tZ,urlinput:aZ,customeditor:LW,htmlpanel:UW,imagepreview:ZW,collection:G3,label:kn(B5(H5("label"))),table:F5,tree:sZ,panel:iZ})),cZ=[ta,Ee("classes",[]),Ti("items",oD)],iZ=kn(cZ),lZ=[kz("tab"),OM,Ti("items",oD)],uZ=[ta,Pb("tabs",lZ)],X_=kn(uZ),dZ=G_,fZ=DW,V5=kn([ea("title"),Lo("body",Vd("type",{panel:iZ,tabpanel:X_})),Cc("size","normal"),w("buttons",[],fZ),Ee("initialData",{}),hr("onAction",ae),hr("onChange",ae),hr("onSubmit",ae),hr("onClose",ae),hr("onCancel",ae),hr("onTabChange",ae)]),mZ=t=>ar("dialog",V5,t),Aq=kn([_c("type",["cancel","custom"]),...dZ]),e=kn([ea("title"),ea("url"),Af("height"),Af("width"),Su("buttons",Aq),hr("onAction",ae),hr("onCancel",ae),hr("onClose",ae),hr("onMessage",ae)]),n=t=>ar("dialog",e,t),o=t=>Un(t)?[t].concat(te(Da(t),o)):uo(t)?te(t,o):[],r=t=>on(t.type)&&on(t.name),c={checkbox:$W,colorinput:Cb,colorpicker:O5,dropzone:N5,input:GW,iframe:WW,imagepreview:qW,selectbox:gT,sizeinput:tD,slider:yT,listbox:Sb,size:tD,textarea:Gh,urlinput:i0,customeditor:HW,collection:K_,togglemenuitem:AW},u=t=>C.from(c[t.type]),m=t=>xn(o(t),r),y=t=>{const s=m(t),a=te(s,i=>u(i).fold(()=>[],d=>[Lo(i.name,d)]));return kn(a)},v=t=>{var s;const a=ct(mZ(t)),i=y(t),d=(s=t.initialData)!==null&&s!==void 0?s:{};return{internalDialog:a,dataValidator:i,initialData:d}},T={open:(t,s)=>{const a=v(s);return t(a.internalDialog,a.initialData,a.dataValidator)},openUrl:(t,s)=>{const a=ct(n(s));return t(a)},redial:t=>v(t)};var M=Object.freeze({__proto__:null,events:(t,s)=>{const a=(i,d)=>{t.updateState.each(g=>{const p=g(i,d);s.set(p)}),t.renderComponents.each(g=>{const p=g(d,s.get());(t.reuseDom?gv:mv)(i,p)})};return Is([Xe(ql(),(i,d)=>{const g=d;if(!g.universal){const p=t.channel;ot(g.channels,p)&&a(i,g.data)}}),qs((i,d)=>{t.initialData.each(g=>{a(i,g)})})])}}),W=Object.freeze({__proto__:null,getState:(t,s,a)=>a}),X=[Ke("channel"),Bo("renderComponents"),Bo("updateState"),Bo("initialData"),Br("reuseDom",!0)],ee=Object.freeze({__proto__:null,init:()=>{const t=tn(C.none()),s=()=>t.set(C.none());return{readState:()=>t.get().getOr("none"),get:t.get,set:t.set,clear:s}}});const de=fc({fields:X,name:"reflecting",active:M,apis:W,state:ee}),_e=t=>{const s=[],a={};return eo(t,(i,d)=>{i.fold(()=>{s.push(d)},g=>{a[d]=g})}),s.length>0?Vn.error(s):Vn.value(a)},ke=(t,s,a,i)=>{const d=Qo(Ph.sketch(g=>({dom:{tag:"div",classes:["tox-form"].concat(t.classes)},components:we(t.items,p=>aV(g,p,s,a,i))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[d.asSpec()]}],behaviours:gt([pn.config({mode:"acyclic",useTabstopAt:Ne(d_)}),uf.memento(d),F8(d,{postprocess:g=>_e(g).fold(p=>(console.error(p),{}),zt)}),Kn("dialog-body-panel",[Xe(rd(),(g,p)=>{g.getSystem().broadcastOn([_x],{newFocus:C.some(p.event.target)})})])])}},Re=(t,s)=>({uid:t.uid,dom:t.dom,components:t.components,events:u2(t.action),behaviours:Xa(t.tabButtonBehaviours,[zn.config({}),pn.config({mode:"execution",useSpace:!0,useEnter:!0}),It.config({store:{mode:"memory",initialValue:t.value}})]),domModification:t.domModification}),tt=ol({name:"TabButton",configFields:[Ee("uid",void 0),Ke("value"),ua("dom","dom",mm(()=>({attributes:{role:"tab",id:Vt("aria"),"aria-selected":"false"}})),ml()),Bo("action"),Ee("domModification",{}),Ya("tabButtonBehaviours",[zn,pn,It]),Ke("view")],factory:Re}),kt=Z([Ke("tabs"),Ke("dom"),Ee("clickToDismiss",!1),Ya("tabbarBehaviours",[an,pn]),qg(["tabClass","selectedClass"])]),$t=av({factory:tt,name:"tabs",unit:"tab",overrides:t=>{const s=(i,d)=>{an.dehighlight(i,d),hn(i,rC(),{tabbar:i,button:d})},a=(i,d)=>{an.highlight(i,d),hn(i,sC(),{tabbar:i,button:d})};return{action:i=>{const d=i.getSystem().getByUid(t.uid).getOrDie(),g=an.isHighlighted(d,i);(()=>g&&t.clickToDismiss?s:g?ae:a)()(d,i)},domModification:{classes:[t.markers.tabClass]}}}}),je=Z([$t]),$e=(t,s,a,i)=>({uid:t.uid,dom:t.dom,components:s,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:Xa(t.tabbarBehaviours,[an.config({highlightClass:t.markers.selectedClass,itemClass:t.markers.tabClass,onHighlight:(d,g)=>{Pt(g.element,"aria-selected","true")},onDehighlight:(d,g)=>{Pt(g.element,"aria-selected","false")}}),pn.config({mode:"flow",getInitial:d=>an.getHighlighted(d).map(g=>g.element),selector:"."+t.markers.tabClass,executeOnMove:!0})])}),et=Gc({name:"Tabbar",configFields:kt(),partFields:je(),factory:$e}),Zt=(t,s)=>({uid:t.uid,dom:t.dom,behaviours:Xa(t.tabviewBehaviours,[Nn.config({})]),domModification:{attributes:{role:"tabpanel"}}}),un=ol({name:"Tabview",configFields:[Ya("tabviewBehaviours",[Nn])],factory:Zt}),mo=Z([Ee("selectFirst",!0),Eo("onChangeTab"),Eo("onDismissTab"),Ee("tabs",[]),Ya("tabSectionBehaviours",[])]),ko=Ac({factory:et,schema:[Ke("dom"),sd("markers",[Ke("tabClass"),Ke("selectedClass")])],name:"tabbar",defaults:t=>({tabs:t.tabs})}),ss=Ac({factory:un,name:"tabview"}),vs=Z([ko,ss]),Hr=(t,s,a,i)=>{const d=p=>{const k=It.getValue(p);it(p,t,"tabview").each(_=>{jt(t.tabs,z=>z.value===k).each(z=>{const N=z.view();Nr(p.element,"id").each(H=>{Pt(_.element,"aria-labelledby",H)}),Nn.set(_,N),t.onChangeTab(_,p,N)})})},g=(p,k)=>{it(p,t,"tabbar").each(_=>{k(_).each(_m)})};return{uid:t.uid,dom:t.dom,components:s,behaviours:Py(t.tabSectionBehaviours),events:Is(Qt([t.selectFirst?[qs((p,k)=>{g(p,an.getFirst)})]:[],[Xe(sC(),(p,k)=>{const _=k.event.button;d(_)}),Xe(rC(),(p,k)=>{const _=k.event.button;t.onDismissTab(p,_)})]])),apis:{getViewItems:p=>it(p,t,"tabview").map(k=>Nn.contents(k)).getOr([]),showTab:(p,k)=>{g(p,E=>{const z=an.getCandidates(E);return jt(z,H=>It.getValue(H)===k).filter(H=>!an.isHighlighted(E,H))})}}}},Aa=Gc({name:"TabSection",configFields:mo(),partFields:vs(),factory:Hr,apis:{getViewItems:(t,s)=>t.getViewItems(s),showTab:(t,s,a)=>{t.showTab(s,a)}}}),Ts=(t,s,a)=>we(t,(i,d)=>{Nn.set(a,t[d].view());const g=s.dom.getBoundingClientRect();return Nn.set(a,[]),g.height}),St=t=>po(Rn(t,(s,a)=>s>a?-1:s<a?1:0)),cn=(t,s,a)=>{const i=Pl(t).dom,d=Im(t,".tox-dialog-wrap").getOr(t),g=ls(d,"position")==="fixed";let p;g?p=Math.max(i.clientHeight,window.innerHeight):p=Math.max(i.offsetHeight,i.scrollHeight);const k=Cs(s),E=s.dom.offsetLeft>=a.dom.offsetLeft+Va(a)?Math.max(Cs(a),k):k,z=parseInt(ls(t,"margin-top"),10)||0,N=parseInt(ls(t,"margin-bottom"),10)||0,V=Cs(t)+z+N-E;return p-V},Ho=(t,s)=>{po(t).each(a=>Aa.showTab(s,a.value))},Mt=(t,s)=>{Je(t,"height",s+"px"),Je(t,"flex-basis",s+"px")},yn=(t,s,a)=>{Im(t,'[role="dialog"]').each(i=>{er(i,'[role="tablist"]').each(d=>{a.get().map(g=>(Je(s,"height","0"),Je(s,"flex-basis","0"),Math.min(g,cn(i,s,d)))).each(g=>{Mt(s,g)})})})},io=t=>er(t,'[role="tabpanel"]'),Bt=t=>{const s=os();return{extraEvents:[qs(d=>{const g=d.element;io(g).each(p=>{Je(p,"visibility","hidden"),d.getSystem().getByDom(p).toOptional().each(k=>{const _=Ts(t,p,k);St(_).fold(s.clear,s.set)}),yn(g,p,s),Zn(p,"visibility"),Ho(t,d),requestAnimationFrame(()=>{yn(g,p,s)})})}),Xe(ld(),d=>{const g=d.element;io(g).each(p=>{yn(g,p,s)})}),Xe(f4,(d,g)=>{const p=d.element;io(p).each(k=>{const _=gd(_r(k));Je(k,"visibility","hidden");const E=As(k,"height").map(H=>parseInt(H,10));Zn(k,"height"),Zn(k,"flex-basis");const z=k.dom.getBoundingClientRect().height;E.forall(H=>z>H)?(s.set(z),yn(p,k,s)):E.each(H=>{Mt(k,H)}),Zn(k,"visibility"),_.each(bl)})})],selectFirst:!1}},lo="send-data-to-section",wo="send-data-to-view",tc=(t,s,a,i)=>{const d=tn({}),g=z=>{const N=It.getValue(z),H=_e(N).getOr({}),V=d.get(),Y=zs(V,H);d.set(Y)},p=z=>{const N=d.get();It.setValue(z,N)},k=tn(null),_=we(t.tabs,z=>({value:z.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[br(a.shared.providers.translate(z.title))],view:()=>[Ph.sketch(N=>({dom:{tag:"div",classes:["tox-form"]},components:we(z.items,H=>aV(N,H,s,a,i)),formBehaviours:gt([pn.config({mode:"acyclic",useTabstopAt:Ne(d_)}),Kn("TabView.form.events",[qs(p),Zd(g)]),Di.config({channels:Xo([{key:lo,value:{onReceive:g}},{key:wo,value:{onReceive:p}}])})])}))]})),E=Bt(_);return Aa.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(z,N,H)=>{const V=It.getValue(N);hn(z,eP,{name:V,oldName:k.get()}),k.set(V)},tabs:_,components:[Aa.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[et.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:gt([Hs.config({})])}),Aa.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:E.selectFirst,tabSectionBehaviours:gt([Kn("tabpanel",E.extraEvents),pn.config({mode:"acyclic"}),Ro.config({find:z=>po(Aa.getViewItems(z))}),Bh(C.none(),z=>(z.getSystem().broadcastOn([lo],{}),d.get()),(z,N)=>{d.set(N),z.getSystem().broadcastOn([wo],{})})])})},ds=(t,s,a,i,d,g)=>{const p=E=>{const z=E.body;switch(z.type){case"tabpanel":return[tc(z,E.initialData,i,g)];default:return[ke(z,E.initialData,i,g)]}},k=(E,z)=>C.some({isTabPanel:()=>z.body.type==="tabpanel"}),_={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...a.map(E=>({id:E})).getOr({}),...d?_:{}}},components:[],behaviours:gt([uf.childAt(0),de.config({channel:`${W4}-${s}`,updateState:k,renderComponents:p,initialData:t})])}},La=(t,s,a,i,d,g)=>ds(t,s,C.some(a),i,d,g),Ed=(t,s,a,i)=>{const d=ds(t,s,C.none(),a,!1,i);return Fa.parts.body(d)},sm=t=>{const s={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[WP(C.none(),{dom:{tag:"iframe",attributes:{src:t.url}},behaviours:gt([Hs.config({}),zn.config({})])})]}],behaviours:gt([pn.config({mode:"acyclic",useTabstopAt:Ne(d_)})])};return Fa.parts.body(s)},Bi=qy.deviceType.isTouch(),Ol=(t,s)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[t,s]}),Zu=(t,s)=>Fa.parts.close(Vc.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":s.translate("Close")}},action:t,buttonBehaviours:gt([Hs.config({})])})),Dl=()=>Fa.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),qu=(t,s)=>Fa.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:Gf(`<p>${QA(s.translate(t))}</p>`)}]}]}),dn=t=>Fa.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:t}),Oo=(t,s)=>[Jf.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:t}),Jf.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:s})],ir=t=>{const s="tox-dialog",a=s+"-wrap",i=a+"__backdrop",d=s+"__disable-scroll";return Fa.sketch({lazySink:t.lazySink,onEscape:g=>(t.onEscape(g),C.some(!0)),useTabstopAt:g=>!d_(g),firstTabstop:t.firstTabstop,dom:{tag:"div",classes:[s].concat(t.extraClasses),styles:{position:"relative",...t.extraStyles}},components:[t.header,t.body,...t.footer.toArray()],parts:{blocker:{dom:Gf(`<div class="${a}"></div>`),components:[{dom:{tag:"div",classes:Bi?[i,i+"--opaque"]:[i]}}]}},dragBlockClass:a,modalBehaviours:gt([zn.config({}),Kn("dialog-events",t.dialogEvents.concat([Hp(rd(),(g,p)=>{mf.isBlocked(g)?ae():pn.focusIn(g)}),Xe($g(),(g,p)=>{g.getSystem().broadcastOn([_x],{newFocus:p.event.newFocus})})])),Kn("scroll-lock",[qs(()=>{Fs(so(),d)}),Zd(()=>{yr(so(),d)})]),...t.extraBehaviours]),eventOrder:{[Gl()]:["dialog-events"],[oi()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[Kl()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...t.eventOrder}})},Vr=t=>Vc.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close"),"data-mce-name":"close"}},buttonBehaviours:gt([Hs.config({}),Lr.config(t.tooltips.getConfig({tooltipText:t.translate("Close")}))]),components:[$u("close",{tag:"span",classes:["tox-icon"]},t.icons)],action:s=>{no(s,kp)}}),ma=(t,s,a,i)=>{const d=g=>[br(i.translate(g.title))];return{dom:{tag:"h1",classes:["tox-dialog__title"],attributes:{...a.map(g=>({id:g})).getOr({})}},components:[],behaviours:gt([de.config({channel:`${qP}-${s}`,initialData:t,renderComponents:d})])}},hc=()=>({dom:Gf('<div class="tox-dialog__draghandle"></div>')}),ga=(t,s,a,i)=>Jf.sketch({dom:Gf('<div class="tox-dialog__header"></div>'),components:[ma(t,s,C.some(a),i),hc(),Vr(i)],containerBehaviours:gt([kb.config({mode:"mouse",blockerClass:"blocker",getTarget:d=>zu(d,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}),pa=(t,s,a)=>{const i=Fa.parts.title(ma(t,s,C.none(),a)),d=Fa.parts.draghandle(hc()),g=Fa.parts.close(Vr(a)),p=[i].concat(t.draggable?[d]:[]).concat([g]);return Jf.sketch({dom:Gf('<div class="tox-dialog__header"></div>'),components:p})},pi=(t,s,a)=>pa({title:a.shared.providers.translate(t),draggable:a.dialog.isDraggableModal()},s,a.shared.providers),Ad=(t,s,a,i)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":a.translate(t)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${i.getOr(0)}px`,position:"absolute"}},behaviours:s,components:[{dom:Gf('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),zd=(t,s,a)=>({onClose:()=>a.closeWindow(),onBlock:i=>{const d=er(t().element,".tox-dialog__header").map(g=>Cs(g));Fa.setBusy(t(),(g,p)=>Ad(i.message,p,s,d))},onUnblock:()=>{Fa.setIdle(t())}}),Od="tox-dialog--fullscreen",ru="tox-dialog--width-lg",ig="tox-dialog--width-md",Ep=t=>{switch(t){case"large":return C.some(ru);case"medium":return C.some(ig);default:return C.none()}},xb=(t,s)=>{const a=ge.fromDom(s.element.dom);Gi(a,Od)||(Ki(a,[ru,ig]),Ep(t).each(i=>Fs(a,i)))},bT=(t,s)=>{const a=ge.fromDom(t.element.dom),i=DT(a),d=jt(i,g=>g===ru||g===ig).or(Ep(s));AT(a,[Od,...d.toArray()])},lg=(t,s,a)=>Lc(ir({...t,firstTabstop:1,lazySink:a.shared.getSink,extraBehaviours:[vx({}),...t.extraBehaviours],onEscape:i=>{no(i,kp)},dialogEvents:s,eventOrder:{[ql()]:[de.name(),Di.name()],[oi()]:["scroll-lock",de.name(),"messages","dialog-events","alloy.base.behaviour"],[Kl()]:["alloy.base.behaviour","dialog-events","messages",de.name(),"scroll-lock"]}})),l0=(t,s={})=>{const a=i=>{const d=we(i.items,g=>{const p=mt(s,g.name).getOr(tn(!1));return{...g,storage:p}});return{...i,items:d}};return we(t,i=>i.type==="menu"?a(i):i)},sD=t=>Co(t,(s,a)=>a.type==="menu"?Co(a.items,(d,g)=>(d[g.name]=g.storage,d),s):s,{}),Kc=(t,s)=>[_0(rd(),q8),t(Pv,(a,i,d,g)=>{gd(_r(g.element)).fold(ae,g1),s.onClose(),i.onClose()}),t(kp,(a,i,d,g)=>{i.onCancel(a),no(g,Pv)}),Xe(d4,(a,i)=>s.onUnblock()),Xe(u4,(a,i)=>s.onBlock(i.event))],Tb=(t,s)=>{const a=(d,g)=>Xe(d,(p,k)=>{i(p,(_,E)=>{g(t(),_,k.event,p)})}),i=(d,g)=>{de.getState(d).get().each(p=>{g(p,d)})};return[...Kc(a,s),a(ng,(d,g,p)=>{g.onAction(d,{name:p.name})})]},rD=(t,s,a)=>{const i=(g,p)=>Xe(g,(k,_)=>{d(k,(E,z)=>{p(t(),E,_.event,k)})}),d=(g,p)=>{de.getState(g).get().each(k=>{p(k.internalDialog,g)})};return[...Kc(i,s),i(Jw,(g,p)=>p.onSubmit(g)),i(El,(g,p,k)=>{p.onChange(g,{name:k.name})}),i(ng,(g,p,k,_)=>{const E=()=>_.getSystem().isConnected()?pn.focusIn(_):void 0,z=V=>bi(V,"disabled")||Nr(V,"aria-disabled").exists(Y=>Y==="true"),N=_r(_.element),H=gd(N);p.onAction(g,{name:k.name,value:k.value}),gd(N).fold(E,V=>{z(V)||H.exists(Y=>Pa(V,Y)&&z(Y))?E():a().toOptional().filter(Y=>!Pa(Y.element,V)).each(E)})}),i(eP,(g,p,k)=>{p.onTabChange(g,{newTabName:k.name,oldTabName:k.oldName})}),Zd(g=>{const p=t();It.setValue(g,p.getData())})]},aD=(t,s)=>S_(t,t.type,s),ug=(t,s,a)=>jt(s,i=>i.name===a).bind(i=>i.memento.getOpt(t)),J_=(t,s)=>{const a=s.map(k=>k.footerButtons).getOr([]),i=Go(a,k=>k.align==="start"),d=(k,_)=>Jf.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${k}`]},components:we(_,E=>E.memento.asSpec())}),g=d("start",i.pass),p=d("end",i.fail);return[g,p]},Be=(t,s,a)=>{const i=(d,g)=>{const p=we(g.buttons,_=>{const E=Qo(aD(_,a));return{name:_.name,align:_.align,memento:E}}),k=_=>ug(d,p,_);return C.some({lookupByName:k,footerButtons:p})};return{dom:Gf('<div class="tox-dialog__footer"></div>'),components:[],behaviours:gt([de.config({channel:`${GP}-${s}`,initialData:t,updateState:i,renderComponents:J_})])}},Ie=(t,s,a)=>Be(t,s,a),Ct=(t,s,a)=>Fa.parts.footer(Be(t,s,a)),pt=(t,s)=>{if(t.getRoot().getSystem().isConnected()){const i=Ro.getCurrent(t.getFormWrapper()).getOr(t.getFormWrapper());return Ph.getField(i,s).orThunk(()=>t.getFooter().bind(p=>de.getState(p).get()).bind(p=>p.lookupByName(s)))}else return C.none()},En=(t,s)=>{const a=t.getRoot();return de.getState(a).get().map(i=>ct(ar("data",i.dataValidator,s))).getOr(s)},To=(t,s,a)=>{const i=Y=>{const Q=t.getRoot();Q.getSystem().isConnected()&&Y(Q)},V={getData:()=>{const Y=t.getRoot(),Q=Y.getSystem().isConnected()?t.getFormWrapper():Y,Se=It.getValue(Q),re=Wn(a,ye=>ye.get());return{...Se,...re}},setData:Y=>{i(Q=>{const Se=V.getData(),re=zs(Se,Y),ye=En(t,re),ve=t.getFormWrapper();It.setValue(ve,ye),eo(a,(qe,He)=>{to(re,He)&&qe.set(re[He])})})},setEnabled:(Y,Q)=>{pt(t,Y).each(Q?l.enable:l.disable)},focus:Y=>{pt(t,Y).each(zn.focus)},block:Y=>{if(!on(Y))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");i(Q=>{hn(Q,u4,{message:Y})})},unblock:()=>{i(Y=>{no(Y,d4)})},showTab:Y=>{i(Q=>{const Se=t.getBody();de.getState(Se).get().exists(ye=>ye.isTabPanel())&&Ro.getCurrent(Se).each(ye=>{Aa.showTab(ye,Y)})})},redial:Y=>{i(Q=>{const Se=t.getId(),re=s(Y),ye=l0(re.internalDialog.buttons,a);Q.getSystem().broadcastOn([`${f_}-${Se}`],re),Q.getSystem().broadcastOn([`${qP}-${Se}`],re.internalDialog),Q.getSystem().broadcastOn([`${W4}-${Se}`],re.internalDialog),Q.getSystem().broadcastOn([`${GP}-${Se}`],{...re.internalDialog,buttons:ye}),V.setData(re.initialData)})},close:()=>{i(Y=>{no(Y,Pv)})},toggleFullscreen:t.toggleFullscreen};return V},vr=(t,s,a)=>{const i=Vt("dialog"),d=t.internalDialog,g=pi(d.title,i,a),p=tn(d.size),k=ve=>pt(re,ve),_=Ep(p.get()).toArray(),E=(ve,qe)=>(p.set(qe.internalDialog.size),xb(qe.internalDialog.size,ve),C.some(qe)),z=Ed({body:d.body,initialData:d.initialData},i,a,k),N=l0(d.buttons),H=sD(N),V=fn(N.length!==0,Ct({buttons:N},i,a)),Y=rD(()=>ye,zd(()=>Se,a.shared.providers,s),a.shared.getSink),Q={id:i,header:g,body:z,footer:V,extraClasses:_,extraBehaviours:[de.config({channel:`${f_}-${i}`,updateState:E,initialData:t})],extraStyles:{}},Se=lg(Q,Y,a),re=(()=>{const ve=()=>{const He=Fa.getBody(Se);return Ro.getCurrent(He).getOr(He)},qe=()=>{bT(Se,p.get())};return{getId:Z(i),getRoot:Z(Se),getBody:()=>Fa.getBody(Se),getFooter:()=>Fa.getFooter(Se),getFormWrapper:ve,toggleFullscreen:qe}})(),ye=To(re,s.redial,H);return{dialog:Se,instanceApi:ye}},Dd=(t,s,a,i=!1,d)=>{const g=Vt("dialog"),p=Vt("dialog-label"),k=Vt("dialog-content"),_=t.internalDialog,E=qt=>pt(Ft,qt),z=tn(_.size),N=Ep(z.get()).toArray(),H=(qt,Tt)=>(z.set(Tt.internalDialog.size),xb(Tt.internalDialog.size,qt),d(),C.some(Tt)),V=Qo(ga({title:_.title,draggable:!0},g,p,a.shared.providers)),Y=Qo(La({body:_.body,initialData:_.initialData},g,k,a,i,E)),Q=l0(_.buttons),Se=sD(Q),re=fn(Q.length!==0,Qo(Ie({buttons:Q},g,a))),ye=rD(()=>We,{onBlock:qt=>{mf.block(He,(Tt,Jt)=>{const yo=V.getOpt(He).map(Us=>Cs(Us.element));return Ad(qt.message,Jt,a.shared.providers,yo)})},onUnblock:()=>{mf.unblock(He)},onClose:()=>s.closeWindow()},a.shared.getSink),ve="tox-dialog-inline",qe=Qn().os,He=Lc({dom:{tag:"div",classes:["tox-dialog",ve,...N],attributes:{role:"dialog",...qe.isMacOS()?{"aria-label":_.title}:{"aria-labelledby":p}}},eventOrder:{[ql()]:[de.name(),Di.name()],[Gl()]:["execute-on-form"],[oi()]:["reflecting","execute-on-form"]},behaviours:gt([pn.config({mode:"cyclic",onEscape:qt=>(no(qt,Pv),C.some(!0)),useTabstopAt:qt=>!d_(qt)&&(aa(qt)!=="button"||rn(qt,"disabled")!=="disabled"),firstTabstop:1}),de.config({channel:`${f_}-${g}`,updateState:H,initialData:t}),zn.config({}),Kn("execute-on-form",ye.concat([Hp(rd(),(qt,Tt)=>{pn.focusIn(qt)}),Xe($g(),(qt,Tt)=>{qt.getSystem().broadcastOn([_x],{newFocus:Tt.event.newFocus})})])),mf.config({getRoot:()=>C.some(He)}),Nn.config({}),vx({})]),components:[V.asSpec(),Y.asSpec(),...re.map(qt=>qt.asSpec()).toArray()]}),At=()=>{bT(He,z.get())},Ft={getId:Z(g),getRoot:Z(He),getFooter:()=>re.map(qt=>qt.get(He)),getBody:()=>Y.get(He),getFormWrapper:()=>{const qt=Y.get(He);return Ro.getCurrent(qt).getOr(qt)},toggleFullscreen:At},We=To(Ft,s.redial,Se);return{dialog:He,instanceApi:We}};var u0=tinymce.util.Tools.resolve("tinymce.util.URI");const gZ=t=>{const s=p=>{t.getSystem().isConnected()&&p(t)};return{block:p=>{if(!on(p))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");s(k=>{hn(k,u4,{message:p})})},unblock:()=>{s(p=>{no(p,d4)})},close:()=>{s(p=>{no(p,Pv)})},sendMessage:p=>{s(k=>{k.getSystem().broadcastOn([KP],p)})}}},vT=["insertContent","setContent","execCommand","close","block","unblock"],dg=t=>Un(t)&&vT.indexOf(t.mceAction)!==-1,U5=t=>!dg(t)&&Un(t)&&to(t,"mceAction"),j5=(t,s,a)=>{switch(a.mceAction){case"insertContent":t.insertContent(a.content);break;case"setContent":t.setContent(a.content);break;case"execCommand":const i=as(a.ui)?a.ui:!1;t.execCommand(a.cmd,i,a.value);break;case"close":s.close();break;case"block":s.block(a.message);break;case"unblock":s.unblock();break}},W5=(t,s,a,i)=>{const d=Vt("dialog"),g=pi(t.title,d,i),p=sm(t),k=t.buttons.bind(ve=>ve.length===0?C.none():C.some(Ct({buttons:ve},d,i))),_=Tb(()=>ye,zd(()=>re,i.shared.providers,s)),E={...t.height.fold(()=>({}),ve=>({height:ve+"px","max-height":ve+"px"})),...t.width.fold(()=>({}),ve=>({width:ve+"px","max-width":ve+"px"}))},z=t.width.isNone()&&t.height.isNone()?["tox-dialog--width-lg"]:[],N=new u0(t.url,{base_uri:new u0(window.location.href)}),H=`${N.protocol}://${N.host}${N.port?":"+N.port:""}`,V=ka(),Y=(ve,qe)=>C.some(qe),Q=[de.config({channel:`${f_}-${d}`,updateState:Y,initialData:t}),Kn("messages",[qs(()=>{const ve=ui(ge.fromDom(window),"message",qe=>{if(N.isSameOrigin(new u0(qe.raw.origin))){const He=qe.raw.data;dg(He)?j5(a,ye,He):U5(He)&&t.onMessage(ye,He)}});V.set(ve)}),Zd(V.clear)]),Di.config({channels:{[KP]:{onReceive:(ve,qe)=>{er(ve.element,"iframe").each(He=>{const At=He.dom.contentWindow;fo(At)&&At.postMessage(qe,H)})}}}})],re=lg({id:d,header:g,body:p,footer:k,extraClasses:z,extraBehaviours:Q,extraStyles:E},_,i),ye=gZ(re);return{dialog:re,instanceApi:ye}},Z5=t=>{const s=t.shared;return{open:(i,d)=>{const g=()=>{Fa.hide(E),d()},p=Qo(S_({name:"close-alert",text:"OK",primary:!0,buttonType:C.some("primary"),align:"end",enabled:!0,icon:C.none()},"cancel",t)),k=Dl(),_=Zu(g,s.providers),E=Lc(ir({lazySink:()=>s.getSink(),header:Ol(k,_),body:qu(i,s.providers),footer:C.some(dn(Oo([],[p.asSpec()]))),onEscape:g,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Xe(kp,g)],eventOrder:{}}));Fa.show(E);const z=p.get(E);zn.focus(z)}}},pZ=t=>{const s=t.shared;return{open:(i,d)=>{const g=H=>{Fa.hide(z),d(H)},p=Qo(S_({name:"yes",text:"Yes",primary:!0,buttonType:C.some("primary"),align:"end",enabled:!0,icon:C.none()},"submit",t)),k=S_({name:"no",text:"No",primary:!1,buttonType:C.some("secondary"),align:"end",enabled:!0,icon:C.none()},"cancel",t),_=Dl(),E=Zu(()=>g(!1),s.providers),z=Lc(ir({lazySink:()=>s.getSink(),header:Ol(_,E),body:qu(i,s.providers),footer:C.some(dn(Oo([],[k,p.asSpec()]))),onEscape:()=>g(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Xe(kp,()=>g(!1)),Xe(Jw,()=>g(!0))],eventOrder:{}}));Fa.show(z);const N=p.get(z);zn.focus(N)}}},_o=(t,s)=>ct(ar("data",s,t)),Fe=t=>Zw(t,".tox-alert-dialog")||Zw(t,".tox-confirm-dialog"),nn=(t,s,a)=>s&&a?[]:[Ls.config({contextual:{lazyContext:()=>C.some(Js(ge.fromDom(t.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"],lazyViewport:i=>hp(t,i.element).map(g=>({bounds:Jy(g),optScrollEnv:C.some({currentScrollTop:g.element.dom.scrollTop,scrollElmTop:va(g.element).top})})).getOrThunk(()=>({bounds:jr(),optScrollEnv:C.none()}))})],Mn=t=>{const s=t.editor,a=Xy(s),i=Z5(t.backstages.dialog),d=pZ(t.backstages.dialog),g=(Y,Q,Se)=>{if(!ts(Q)){if(Q.inline==="toolbar")return E(Y,t.backstages.popup.shared.anchors.inlineDialog(),Se,Q);if(Q.inline==="bottom")return z(Y,t.backstages.popup.shared.anchors.inlineBottomDialog(),Se,Q);if(Q.inline==="cursor")return E(Y,t.backstages.popup.shared.anchors.cursor(),Se,Q)}return _(Y,Se)},p=(Y,Q)=>k(Y,Q),k=(Y,Q)=>{const Se=re=>{const ye=W5(re,{closeWindow:()=>{Fa.hide(ye.dialog),Q(ye.instanceApi)}},s,t.backstages.dialog);return Fa.show(ye.dialog),ye.instanceApi};return T.openUrl(Se,Y)},_=(Y,Q)=>{const Se=(re,ye,ve)=>{const qe=ye,At=vr({dataValidator:ve,initialData:qe,internalDialog:re},{redial:T.redial,closeWindow:()=>{Fa.hide(At.dialog),Q(At.instanceApi)}},t.backstages.dialog);return Fa.show(At.dialog),At.instanceApi.setData(qe),At.instanceApi};return T.open(Se,Y)},E=(Y,Q,Se,re)=>{const ye=(ve,qe,He)=>{const At=_o(qe,He),Ft=os(),We=t.backstages.popup.shared.header.isPositionedAtTop(),qt={dataValidator:He,initialData:At,internalDialog:ve},Tt=()=>Ft.on(qo=>{tr.reposition(qo),(!a||!We)&&Ls.refresh(qo)}),Jt=Dd(qt,{redial:T.redial,closeWindow:()=>{Ft.on(tr.hide),s.off("ResizeEditor",Tt),Ft.clear(),Se(Jt.instanceApi)}},t.backstages.popup,re.ariaAttrs,Tt),yo=Lc(tr.sketch({lazySink:t.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:re.persistent?{event:"doNotDismissYet"}:{},...We?{}:{fireRepositionEventInstead:{}},inlineBehaviours:gt([Kn("window-manager-inline-events",[Xe(km(),(qo,Kt)=>{no(Jt.dialog,kp)})]),...nn(s,a,We)]),isExtraPart:(qo,Kt)=>Fe(Kt)}));Ft.set(yo);const Us=()=>{const qo=s.inline?so():ge.fromDom(s.getContainer()),Kt=Js(qo);return C.some(Kt)};return tr.showWithinBounds(yo,yl(Jt.dialog),{anchor:Q},Us),(!a||!We)&&(Ls.refresh(yo),s.on("ResizeEditor",Tt)),Jt.instanceApi.setData(At),pn.focusIn(Jt.dialog),Jt.instanceApi};return T.open(ye,Y)},z=(Y,Q,Se,re)=>{const ye=(ve,qe,He)=>{const At=_o(qe,He),Ft=os(),We=t.backstages.popup.shared.header.isPositionedAtTop(),qt={dataValidator:He,initialData:At,internalDialog:ve},Tt=()=>Ft.on(qo=>{tr.reposition(qo),Ls.refresh(qo)}),Jt=Dd(qt,{redial:T.redial,closeWindow:()=>{Ft.on(tr.hide),s.off("ResizeEditor ScrollWindow ElementScroll",Tt),Ft.clear(),Se(Jt.instanceApi)}},t.backstages.popup,re.ariaAttrs,Tt),yo=Lc(tr.sketch({lazySink:t.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:re.persistent?{event:"doNotDismissYet"}:{},...We?{}:{fireRepositionEventInstead:{}},inlineBehaviours:gt([Kn("window-manager-inline-events",[Xe(km(),(qo,Kt)=>{no(Jt.dialog,kp)})]),Ls.config({contextual:{lazyContext:()=>C.some(Js(ge.fromDom(s.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:qo=>hp(s,qo.element).map(at=>({bounds:Jy(at),optScrollEnv:C.some({currentScrollTop:at.element.dom.scrollTop,scrollElmTop:va(at.element).top})})).getOrThunk(()=>({bounds:jr(),optScrollEnv:C.none()}))})]),isExtraPart:(qo,Kt)=>Fe(Kt)}));Ft.set(yo);const Us=()=>t.backstages.popup.shared.getSink().toOptional().bind(qo=>{const Kt=hp(s,qo.element),at=15,Dt=Kt.map(mn=>Jy(mn)).getOr(jr()),On=Js(ge.fromDom(s.getContentAreaContainer())),Cn=Qu(On,Dt);return C.some(Zs(Cn.x,Cn.y,Cn.width,Cn.height-at))});return tr.showWithinBounds(yo,yl(Jt.dialog),{anchor:Q},Us),Ls.refresh(yo),s.on("ResizeEditor ScrollWindow ElementScroll ResizeWindow",Tt),Jt.instanceApi.setData(At),pn.focusIn(Jt.dialog),Jt.instanceApi};return T.open(ye,Y)};return{open:g,openUrl:p,alert:(Y,Q)=>{i.open(Y,Q)},close:Y=>{Y.close()},confirm:(Y,Q)=>{d.open(Y,Q)}}},na=t=>{PR(t),M6(t),Sj(t)};var $i=()=>{bu.add("silver",t=>{na(t);let s=()=>jr();const{dialogs:a,popups:i,renderUI:d}=CW(t,{getPopupSinkBounds:()=>s()}),g=()=>{const E=d();return hp(t,i.getMothership().element).each(N=>{s=()=>Jy(N)}),E};C7.register(t,i.backstage.shared);const p=Mn({editor:t,backstages:{popup:i.backstage,dialog:a.backstage}}),k=os(),_=()=>NL(t,{backstage:i.backstage},i.getMothership(),k);return{renderUI:g,getWindowManagerImpl:Z(p),getNotificationManagerImpl:_}})};$i()})();(function(){var Oa=tinymce.util.Tools.resolve("tinymce.PluginManager");const nr=(on,Un)=>{on.focus(),on.undoManager.transact(()=>{on.setContent(Un)}),on.selection.setCursorLocation(),on.nodeChanged()},oa=on=>on.getContent({source_view:!0}),Bs=on=>{const Un=oa(on);on.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:Un},onSubmit:Xn=>{nr(on,Xn.getData().code),Xn.close()}})},Ms=on=>{on.addCommand("mceCodeEditor",()=>{Bs(on)})},Mo=on=>{const Un=()=>on.execCommand("mceCodeEditor");on.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:Un}),on.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:Un})};var ks=()=>{Oa.add("code",on=>(Ms(on),Mo(on),{}))};ks()})();(function(){var Oa=tinymce.util.Tools.resolve("tinymce.PluginManager");const nr=(ce,ne,Pe)=>{var Ve;return Pe(ce,ne.prototype)?!0:((Ve=ce.constructor)===null||Ve===void 0?void 0:Ve.name)===ne.name},oa=ce=>{const ne=typeof ce;return ce===null?"null":ne==="object"&&Array.isArray(ce)?"array":ne==="object"&&nr(ce,String,(Pe,Ve)=>Ve.isPrototypeOf(Pe))?"string":ne},Bs=ce=>ne=>oa(ne)===ce,Ms=Bs("string"),Mo=Bs("object"),ks=Bs("array"),on=ce=>ce==null,Un=ce=>!on(ce);class Xn{constructor(ne,Pe){this.tag=ne,this.value=Pe}static some(ne){return new Xn(!0,ne)}static none(){return Xn.singletonNone}fold(ne,Pe){return this.tag?Pe(this.value):ne()}isSome(){return this.tag}isNone(){return!this.tag}map(ne){return this.tag?Xn.some(ne(this.value)):Xn.none()}bind(ne){return this.tag?ne(this.value):Xn.none()}exists(ne){return this.tag&&ne(this.value)}forall(ne){return!this.tag||ne(this.value)}filter(ne){return!this.tag||ne(this.value)?this:Xn.none()}getOr(ne){return this.tag?this.value:ne}or(ne){return this.tag?this:ne}getOrThunk(ne){return this.tag?this.value:ne()}orThunk(ne){return this.tag?this:ne()}getOrDie(ne){if(this.tag)return this.value;throw new Error(ne??"Called getOrDie on None")}static from(ne){return Un(ne)?Xn.some(ne):Xn.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(ne){this.tag&&ne(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Xn.singletonNone=new Xn(!1);const uo=Array.prototype.push,rs=(ce,ne)=>{for(let Pe=0,Ve=ce.length;Pe<Ve;Pe++){const sn=ce[Pe];ne(sn,Pe)}},as=ce=>{const ne=[];for(let Pe=0,Ve=ce.length;Pe<Ve;++Pe){if(!ks(ce[Pe]))throw new Error("Arr.flatten item "+Pe+" was not an array, input: "+ce);uo.apply(ne,ce[Pe])}return ne},ts=ce=>{let ne=ce;return{get:()=>ne,set:sn=>{ne=sn}}},lr=Object.keys,fo=Object.hasOwnProperty,xt=(ce,ne)=>{const Pe=lr(ce);for(let Ve=0,sn=Pe.length;Ve<sn;Ve++){const Tn=Pe[Ve],Bn=ce[Tn];ne(Bn,Tn)}},No=(ce,ne)=>en(ce,ne)?Xn.from(ce[ne]):Xn.none(),en=(ce,ne)=>fo.call(ce,ne),ae=ce=>ne=>ne.options.get(ce),wt=ce=>{const ne=ce.options.register;ne("audio_template_callback",{processor:"function"}),ne("video_template_callback",{processor:"function"}),ne("iframe_template_callback",{processor:"function"}),ne("media_live_embeds",{processor:"boolean",default:!0}),ne("media_filter_html",{processor:"boolean",default:!0}),ne("media_url_resolver",{processor:"function"}),ne("media_alt_source",{processor:"boolean",default:!0}),ne("media_poster",{processor:"boolean",default:!0}),ne("media_dimensions",{processor:"boolean",default:!0})},ur=ae("audio_template_callback"),bt=ae("video_template_callback"),Z=ae("iframe_template_callback"),zt=ae("media_live_embeds"),go=ae("media_filter_html"),gn=ae("media_url_resolver"),Ne=ae("media_alt_source"),ue=ae("media_poster"),Wo=ae("media_dimensions");var Ae=tinymce.util.Tools.resolve("tinymce.util.Tools"),ze=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),C=tinymce.util.Tools.resolve("tinymce.html.DomParser");const Ge=ze.DOM,Me=ce=>ce.replace(/px$/,""),Yt=ce=>{const ne=ce.attr("style"),Pe=ne?Ge.parseStyle(ne):{};return{type:"ephox-embed-iri",source:ce.attr("data-ephox-embed-iri"),altsource:"",poster:"",width:No(Pe,"max-width").map(Me).getOr(""),height:No(Pe,"max-height").map(Me).getOr("")}},Ot=(ce,ne)=>{let Pe={};const sn=C({validate:!1,forced_root_block:!1},ne).parse(ce);for(let Tn=sn;Tn;Tn=Tn.walk())if(Tn.type===1){const Bn=Tn.name;if(Tn.attr("data-ephox-embed-iri")){Pe=Yt(Tn);break}else!Pe.source&&Bn==="param"&&(Pe.source=Tn.attr("movie")),(Bn==="iframe"||Bn==="object"||Bn==="embed"||Bn==="video"||Bn==="audio")&&(Pe.type||(Pe.type=Bn),Pe=Ae.extend(Tn.attributes.map,Pe)),Bn==="source"&&(Pe.source?Pe.altsource||(Pe.altsource=Tn.attr("src")):Pe.source=Tn.attr("src")),Bn==="img"&&!Pe.poster&&(Pe.poster=Tn.attr("src"))}return Pe.source=Pe.source||Pe.src||"",Pe.altsource=Pe.altsource||"",Pe.poster=Pe.poster||"",Pe},he=ce=>{var ne;const Pe={mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"},Ve=(ne=ce.toLowerCase().split(".").pop())!==null&&ne!==void 0?ne:"";return No(Pe,Ve).getOr("")};var ot=tinymce.util.Tools.resolve("tinymce.html.Node"),Xt=tinymce.util.Tools.resolve("tinymce.html.Serializer");const vt=(ce,ne={})=>C({forced_root_block:!1,validate:!1,allow_conditional_comments:!0,...ne},ce),Dn=ze.DOM,we=ce=>/^[0-9.]+$/.test(ce)?ce+"px":ce,Qe=(ce,ne)=>{const Pe=ne.attr("style"),Ve=Pe?Dn.parseStyle(Pe):{};Un(ce.width)&&(Ve["max-width"]=we(ce.width)),Un(ce.height)&&(Ve["max-height"]=we(ce.height)),ne.attr("style",Dn.serializeStyle(Ve))},$=["source","altsource"],Go=(ce,ne,Pe,Ve)=>{let sn=0,Tn=0;const Bn=vt(Ve);Bn.addNodeFilter("source",ge=>sn=ge.length);const or=Bn.parse(ce);for(let ge=or;ge;ge=ge.walk())if(ge.type===1){const $n=ge.name;if(ge.attr("data-ephox-embed-iri")){Qe(ne,ge);break}else{switch($n){case"video":case"object":case"embed":case"img":case"iframe":ne.height!==void 0&&ne.width!==void 0&&(ge.attr("width",ne.width),ge.attr("height",ne.height));break}if(Pe)switch($n){case"video":ge.attr("poster",ne.poster),ge.attr("src",null);for(let gr=sn;gr<2;gr++)if(ne[$[gr]]){const Ma=new ot("source",1);Ma.attr("src",ne[$[gr]]),Ma.attr("type",ne[$[gr]+"mime"]||null),ge.append(Ma)}break;case"iframe":ge.attr("src",ne.source);break;case"object":const Ys=ge.getAll("img").length>0;if(ne.poster&&!Ys){ge.attr("src",ne.poster);const gr=new ot("img",1);gr.attr("src",ne.poster),gr.attr("width",ne.width),gr.attr("height",ne.height),ge.append(gr)}break;case"source":if(Tn<2&&(ge.attr("src",ne[$[Tn]]),ge.attr("type",ne[$[Tn]+"mime"]||null),!ne[$[Tn]])){ge.remove();continue}Tn++;break;case"img":ne.poster||ge.remove();break}}}return Xt({},Ve).serialize(or)},xn=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?h=$2&title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?h=$3&title=0&amp;byline=0",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],Jn=ce=>{const ne=ce.match(/^(https?:\/\/|www\.)(.+)$/i);return ne&&ne.length>1?ne[1]==="www."?"https://":ne[1]:"https://"},Co=(ce,ne)=>{const Pe=Jn(ne),Ve=ce.regex.exec(ne);let sn=Pe+ce.url;if(Un(Ve))for(let Tn=0;Tn<Ve.length;Tn++)sn=sn.replace("$"+Tn,()=>Ve[Tn]?Ve[Tn]:"");return sn.replace(/\?$/,"")},sa=ce=>{const ne=xn.filter(Pe=>Pe.regex.test(ce));return ne.length>0?Ae.extend({},ne[0],{url:Co(ne[0],ce)}):null},jt=(ce,ne)=>{if(ne)return ne(ce);{const Pe=ce.allowfullscreen?' allowFullscreen="1"':"";return'<iframe src="'+ce.source+'" width="'+ce.width+'" height="'+ce.height+'"'+Pe+"></iframe>"}},jn=ce=>{let ne='<object data="'+ce.source+'" width="'+ce.width+'" height="'+ce.height+'" type="application/x-shockwave-flash">';return ce.poster&&(ne+='<img src="'+ce.poster+'" width="'+ce.width+'" height="'+ce.height+'" />'),ne+="</object>",ne},Qt=(ce,ne)=>ne?ne(ce):'<audio controls="controls" src="'+ce.source+'">'+(ce.altsource?`
<source src="`+ce.altsource+'"'+(ce.altsourcemime?' type="'+ce.altsourcemime+'"':"")+` />
`:"")+"</audio>",te=(ce,ne)=>ne?ne(ce):'<video width="'+ce.width+'" height="'+ce.height+'"'+(ce.poster?' poster="'+ce.poster+'"':"")+` controls="controls">
<source src="`+ce.source+'"'+(ce.sourcemime?' type="'+ce.sourcemime+'"':"")+` />
`+(ce.altsource?'<source src="'+ce.altsource+'"'+(ce.altsourcemime?' type="'+ce.altsourcemime+'"':"")+` />
`:"")+"</video>",Te=(ce,ne)=>{var Pe;const Ve=Ae.extend({},ne);if(!Ve.source&&(Ae.extend(Ve,Ot((Pe=Ve.embed)!==null&&Pe!==void 0?Pe:"",ce.schema)),!Ve.source))return"";Ve.altsource||(Ve.altsource=""),Ve.poster||(Ve.poster=""),Ve.source=ce.convertURL(Ve.source,"source"),Ve.altsource=ce.convertURL(Ve.altsource,"source"),Ve.sourcemime=he(Ve.source),Ve.altsourcemime=he(Ve.altsource),Ve.poster=ce.convertURL(Ve.poster,"poster");const sn=sa(Ve.source);if(sn&&(Ve.source=sn.url,Ve.type=sn.type,Ve.allowfullscreen=sn.allowFullscreen,Ve.width=Ve.width||String(sn.w),Ve.height=Ve.height||String(sn.h)),Ve.embed)return Go(Ve.embed,Ve,!0,ce.schema);{const Tn=ur(ce),Bn=bt(ce),or=Z(ce);return Ve.width=Ve.width||"300",Ve.height=Ve.height||"150",Ae.each(Ve,(ge,$n)=>{Ve[$n]=ce.dom.encode(""+ge)}),Ve.type==="iframe"?jt(Ve,or):Ve.sourcemime==="application/x-shockwave-flash"?jn(Ve):Ve.sourcemime.indexOf("audio")!==-1?Qt(Ve,Tn):te(Ve,Bn)}},xe=ce=>ce.hasAttribute("data-mce-object")||ce.hasAttribute("data-ephox-embed-iri"),be=ce=>{ce.on("mousedown",ne=>{const Pe=ce.dom.getParent(ne.target,".mce-preview-object");Pe&&ce.dom.getAttrib(Pe,"data-mce-selected")==="2"&&ne.stopImmediatePropagation()}),ce.on("click keyup touchend",()=>{const ne=ce.selection.getNode();ne&&ce.dom.hasClass(ne,"mce-preview-object")&&ce.dom.getAttrib(ne,"data-mce-selected")&&ne.setAttribute("data-mce-selected","2")}),ce.on("ObjectResized",ne=>{const Pe=ne.target;if(Pe.getAttribute("data-mce-object")){let Ve=Pe.getAttribute("data-mce-html");Ve&&(Ve=unescape(Ve),Pe.setAttribute("data-mce-html",escape(Go(Ve,{width:String(ne.width),height:String(ne.height)},!1,ce.schema))))}})},st={},lt=(ce,ne,Pe)=>new Promise((Ve,sn)=>{const Tn=Bn=>(Bn.html&&(st[ce.source]=Bn),Ve({url:ce.source,html:Bn.html?Bn.html:ne(ce)}));st[ce.source]?Tn(st[ce.source]):Pe({url:ce.source}).then(Tn).catch(sn)}),Rn=(ce,ne)=>Promise.resolve({html:ne(ce),url:ce.source}),Lt=ce=>ne=>Te(ce,ne),po=(ce,ne)=>{const Pe=gn(ce);return Pe?lt(ne,Lt(ce),Pe):Rn(ne,Lt(ce))},hs=ce=>en(st,ce),co=(ce,ne)=>No(ne,ce).bind(Pe=>No(Pe,"meta")),zo=(ce,ne,Pe)=>Ve=>{const sn=()=>No(ce,Ve),Tn=()=>No(ne,Ve),Bn=$n=>No($n,"value").bind(Ys=>Ys.length>0?Xn.some(Ys):Xn.none()),or=()=>sn().bind($n=>Mo($n)?Bn($n).orThunk(Tn):Tn().orThunk(()=>Xn.from($n))),ge=()=>Tn().orThunk(()=>sn().bind($n=>Mo($n)?Bn($n):Xn.from($n)));return{[Ve]:(Ve===Pe?or():ge()).getOr("")}},ho=(ce,ne)=>{const Pe={};return No(ce,"dimensions").each(Ve=>{rs(["width","height"],sn=>{No(ne,sn).orThunk(()=>No(Ve,sn)).each(Tn=>Pe[sn]=Tn)})}),Pe},cs=(ce,ne)=>{const Pe=ne&&ne!=="dimensions"?co(ne,ce).getOr({}):{},Ve=zo(ce,Pe,ne);return{...Ve("source"),...Ve("altsource"),...Ve("poster"),...Ve("embed"),...ho(ce,Pe)}},eo=ce=>{const ne={...ce,source:{value:No(ce,"source").getOr("")},altsource:{value:No(ce,"altsource").getOr("")},poster:{value:No(ce,"poster").getOr("")}};return rs(["width","height"],Pe=>{No(ce,Pe).each(Ve=>{const sn=ne.dimensions||{};sn[Pe]=Ve,ne.dimensions=sn})}),ne},Wn=ce=>ne=>{const Pe=ne&&ne.msg?"Media embed handler error: "+ne.msg:"Media embed handler threw unknown error.";ce.notificationManager.open({type:"error",text:Pe})},Ko=ce=>{const ne=ce.selection.getNode(),Pe=xe(ne)?ce.serializer.serialize(ne,{selection:!0}):"",Ve=Ot(Pe,ce.schema),Tn=(()=>{if(Vo(Ve.source,Ve.type)){const Bn=ce.dom.getRect(ne);return{width:Bn.w.toString().replace(/px$/,""),height:Bn.h.toString().replace(/px$/,"")}}else return{}})();return{embed:Pe,...Ve,...Tn}},wn=(ce,ne)=>Pe=>{if(Ms(Pe.url)&&Pe.url.trim().length>0){const Ve=Pe.html,Tn={...Ot(Ve,ne.schema),source:Pe.url,embed:Ve};ce.setData(eo(Tn))}},xo=(ce,ne)=>{const Pe=ce.dom.select("*[data-mce-object]");for(let Ve=0;Ve<ne.length;Ve++)for(let sn=Pe.length-1;sn>=0;sn--)ne[Ve]===Pe[sn]&&Pe.splice(sn,1);ce.selection.select(Pe[0])},is=(ce,ne)=>{const Pe=ce.dom.select("*[data-mce-object]");ce.insertContent(ne),xo(ce,Pe),ce.nodeChanged()},Vo=(ce,ne)=>Un(ne)&&ne==="ephox-embed-iri"&&Un(sa(ce)),zr=(ce,ne)=>((Ve,sn)=>Ve.width!==sn.width||Ve.height!==sn.height)(ce,ne)&&Vo(ne.source,ce.type),oo=(ce,ne,Pe)=>{var Ve;ne.embed=zr(ce,ne)&&Wo(Pe)?Te(Pe,{...ne,embed:""}):Go((Ve=ne.embed)!==null&&Ve!==void 0?Ve:"",ne,!1,Pe.schema),ne.embed&&(ce.source===ne.source||hs(ne.source))?is(Pe,ne.embed):po(Pe,ne).then(sn=>{is(Pe,sn.html)}).catch(Wn(Pe))},Da=ce=>{const ne=Ko(ce),Pe=ts(ne),Ve=eo(ne),sn=(Ns,Yo)=>{const ns=cs(Yo.getData(),"source");Ns.source!==ns.source&&(wn(Na,ce)({url:ns.source,html:""}),po(ce,ns).then(wn(Na,ce)).catch(Wn(ce)))},Tn=Ns=>{var Yo;const ns=cs(Ns.getData()),ra=Ot((Yo=ns.embed)!==null&&Yo!==void 0?Yo:"",ce.schema);Ns.setData(eo(ra))},Bn=(Ns,Yo,ns)=>{const ra=cs(Ns.getData(),Yo),aa=zr(ns,ra)&&Wo(ce)?{...ra,embed:""}:ra,Dr=Te(ce,aa);Ns.setData(eo({...aa,embed:Dr}))},or=[{name:"source",type:"urlinput",filetype:"media",label:"Source",picker_text:"Browse files"}],ge=Wo(ce)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:!0}]:[],$n={title:"General",name:"general",items:as([or,ge])},gr={title:"Embed",items:[{type:"textarea",name:"embed",label:"Paste your embed code below:"}]},Ma=[];Ne(ce)&&Ma.push({name:"altsource",type:"urlinput",filetype:"media",label:"Alternative source URL"}),ue(ce)&&Ma.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"});const Zo={title:"Advanced",name:"advanced",items:Ma},Ii=[$n,gr];Ma.length>0&&Ii.push(Zo);const Yr={type:"tabpanel",tabs:Ii},Na=ce.windowManager.open({title:"Insert/Edit Media",size:"normal",body:Yr,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:Ns=>{const Yo=cs(Ns.getData());oo(Pe.get(),Yo,ce),Ns.close()},onChange:(Ns,Yo)=>{switch(Yo.name){case"source":sn(Pe.get(),Ns);break;case"embed":Tn(Ns);break;case"dimensions":case"altsource":case"poster":Bn(Ns,Yo.name,Pe.get());break}Pe.set(cs(Ns.getData()))},initialData:Ve})},mt=ce=>({showDialog:()=>{Da(ce)}}),to=ce=>{const ne=()=>{Da(ce)};ce.addCommand("mceMedia",ne)},dr=(ce,ne,Pe)=>ne===""||ce.length>=ne.length&&ce.substr(Pe,Pe+ne.length)===ne,mr=(ce,ne)=>dr(ce,ne,0);var Gr=tinymce.util.Tools.resolve("tinymce.Env");const Kr=ce=>{const ne=ce.name;return ne==="iframe"||ne==="video"||ne==="audio"},Io=(ce,ne,Pe,Ve=null)=>{const sn=ce.attr(Pe);return Un(sn)?sn:en(ne,Pe)?null:Ve},ha=(ce,ne,Pe)=>{const Ve=ne.name==="img"||ce.name==="video",sn=Ve?"300":null,Tn=ce.name==="audio"?"30":"150",Bn=Ve?Tn:null;ne.attr({width:Io(ce,Pe,"width",sn),height:Io(ce,Pe,"height",Bn)})},Dc=(ce,ne,Pe,Ve)=>{const sn=vt(ce.schema).parse(Ve,{context:ne});for(;sn.firstChild;)Pe.append(sn.firstChild)},Uo=(ce,ne)=>{const Pe=ne.name,Ve=new ot("img",1);return Ks(ce,ne,Ve),ha(ne,Ve,{}),Ve.attr({style:ne.attr("style"),src:Gr.transparentSrc,"data-mce-object":Pe,class:"mce-object mce-object-"+Pe}),Ve},fn=(ce,ne)=>{var Pe;const Ve=ne.name,sn=new ot("span",1);sn.attr({contentEditable:"false",style:ne.attr("style"),"data-mce-object":Ve,class:"mce-preview-object mce-object-"+Ve}),Ks(ce,ne,sn);const Tn=ce.dom.parseStyle((Pe=ne.attr("style"))!==null&&Pe!==void 0?Pe:""),Bn=new ot(Ve,1);if(ha(ne,Bn,Tn),Bn.attr({src:ne.attr("src"),style:ne.attr("style"),class:ne.attr("class")}),Ve==="iframe")Bn.attr({allowfullscreen:ne.attr("allowfullscreen"),frameborder:"0",sandbox:ne.attr("sandbox"),referrerpolicy:ne.attr("referrerpolicy")});else{rs(["controls","crossorigin","currentTime","loop","muted","poster","preload"],Ys=>{Bn.attr(Ys,ne.attr(Ys))});const $n=sn.attr("data-mce-html");Un($n)&&Dc(ce,Ve,Bn,unescape($n))}const or=new ot("span",1);return or.attr("class","mce-shim"),sn.append(Bn),sn.append(or),sn},Ks=(ce,ne,Pe)=>{var Ve;const sn=(Ve=ne.attributes)!==null&&Ve!==void 0?Ve:[];let Tn=sn.length;for(;Tn--;){const $n=sn[Tn].name;let Ys=sn[Tn].value;$n!=="width"&&$n!=="height"&&$n!=="style"&&!mr($n,"data-mce-")&&(($n==="data"||$n==="src")&&(Ys=ce.convertURL(Ys,$n)),Pe.attr("data-mce-p-"+$n,Ys))}const Bn=Xt({inner:!0},ce.schema),or=new ot("div",1);rs(ne.children(),$n=>or.append($n));const ge=Bn.serialize(or);ge&&(Pe.attr("data-mce-html",escape(ge)),Pe.empty())},nc=ce=>{const ne=ce.attr("class");return Ms(ne)&&/\btiny-pageembed\b/.test(ne)},al=ce=>{let ne=ce;for(;ne=ne.parent;)if(ne.attr("data-ephox-embed-iri")||nc(ne))return!0;return!1},cl=ce=>ne=>{let Pe=ne.length,Ve;for(;Pe--;)Ve=ne[Pe],Ve.parent&&(Ve.parent.attr("data-mce-object")||(Kr(Ve)&&zt(ce)?al(Ve)||Ve.replace(fn(ce,Ve)):al(Ve)||Ve.replace(Uo(ce,Ve))))},ys=(ce,ne,Pe)=>{const Ve=ce.options.get,sn=Ve("xss_sanitization"),Tn=go(ce);return vt(ce.schema,{sanitize:sn,validate:Tn}).parse(Pe,{context:ne})},kr=ce=>{ce.on("PreInit",()=>{const{schema:ne,serializer:Pe,parser:Ve}=ce,sn=ne.getBoolAttrs();rs("webkitallowfullscreen mozallowfullscreen".split(" "),Tn=>{sn[Tn]={}}),xt({embed:["wmode"]},(Tn,Bn)=>{const or=ne.getElementRule(Bn);or&&rs(Tn,ge=>{or.attributes[ge]={},or.attributesOrder.push(ge)})}),Ve.addNodeFilter("iframe,video,audio,object,embed",cl(ce)),Pe.addAttributeFilter("data-mce-object",(Tn,Bn)=>{var or;let ge=Tn.length;for(;ge--;){const $n=Tn[ge];if(!$n.parent)continue;const Ys=$n.attr(Bn),gr=new ot(Ys,1);if(Ys!=="audio"){const Yr=$n.attr("class");Yr&&Yr.indexOf("mce-preview-object")!==-1&&$n.firstChild?gr.attr({width:$n.firstChild.attr("width"),height:$n.firstChild.attr("height")}):gr.attr({width:$n.attr("width"),height:$n.attr("height")})}gr.attr({style:$n.attr("style")});const Ma=(or=$n.attributes)!==null&&or!==void 0?or:[];let Zo=Ma.length;for(;Zo--;){const Yr=Ma[Zo].name;Yr.indexOf("data-mce-p-")===0&&gr.attr(Yr.substr(11),Ma[Zo].value)}const Ii=$n.attr("data-mce-html");if(Ii){const Yr=ys(ce,Ys,unescape(Ii));rs(Yr.children(),Na=>gr.append(Na))}$n.replace(gr)}})}),ce.on("SetContent",()=>{const ne=ce.dom;rs(ne.select("span.mce-preview-object"),Pe=>{ne.select("span.mce-shim",Pe).length===0&&ne.add(Pe,"span",{class:"mce-shim"})})})},js=ce=>{ce.on("ResolveName",ne=>{let Pe;ne.target.nodeType===1&&(Pe=ne.target.getAttribute("data-mce-object"))&&(ne.name=Pe)})},Ra=ce=>ne=>{const Pe=()=>{ne.setEnabled(ce.selection.isEditable())};return ce.on("NodeChange",Pe),Pe(),()=>{ce.off("NodeChange",Pe)}},yi=ce=>{const ne=()=>ce.execCommand("mceMedia");ce.ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:ne,onSetup:Pe=>{const Ve=ce.selection;Pe.setActive(xe(Ve.getNode()));const sn=Ve.selectorChangedWithUnbind("img[data-mce-object],span[data-mce-object],div[data-ephox-embed-iri]",Pe.setActive).unbind,Tn=Ra(ce)(Pe);return()=>{sn(),Tn()}}}),ce.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:ne,onSetup:Ra(ce)})};var Or=()=>{Oa.add("media",ce=>(wt(ce),to(ce),yi(ce),js(ce),kr(ce),be(ce),mt(ce)))};Or()})();(function(){var Oa=tinymce.util.Tools.resolve("tinymce.PluginManager");const nr=Object.getPrototypeOf,oa=(P,K,le)=>{var Oe;return le(P,K.prototype)?!0:((Oe=P.constructor)===null||Oe===void 0?void 0:Oe.name)===K.name},Bs=P=>{const K=typeof P;return P===null?"null":K==="object"&&Array.isArray(P)?"array":K==="object"&&oa(P,String,(le,Oe)=>Oe.isPrototypeOf(le))?"string":K},Ms=P=>K=>Bs(K)===P,Mo=P=>K=>typeof K===P,ks=P=>K=>P===K,on=(P,K)=>Xn(P)&&oa(P,K,(le,Oe)=>nr(le)===Oe),Un=Ms("string"),Xn=Ms("object"),uo=P=>on(P,Object),rs=Ms("array"),as=ks(null),ts=Mo("boolean"),lr=P=>P==null,fo=P=>!lr(P),xt=Mo("function"),No=Mo("number"),en=(P,K)=>{if(rs(P)){for(let le=0,Oe=P.length;le<Oe;++le)if(!K(P[le]))return!1;return!0}return!1},ae=()=>{};class wt{constructor(K,le){this.tag=K,this.value=le}static some(K){return new wt(!0,K)}static none(){return wt.singletonNone}fold(K,le){return this.tag?le(this.value):K()}isSome(){return this.tag}isNone(){return!this.tag}map(K){return this.tag?wt.some(K(this.value)):wt.none()}bind(K){return this.tag?K(this.value):wt.none()}exists(K){return this.tag&&K(this.value)}forall(K){return!this.tag||K(this.value)}filter(K){return!this.tag||K(this.value)?this:wt.none()}getOr(K){return this.tag?this.value:K}or(K){return this.tag?this:K}getOrThunk(K){return this.tag?this.value:K()}orThunk(K){return this.tag?this:K()}getOrDie(K){if(this.tag)return this.value;throw new Error(K??"Called getOrDie on None")}static from(K){return fo(K)?wt.some(K):wt.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(K){this.tag&&K(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}wt.singletonNone=new wt(!1);const ur=Object.keys,bt=Object.hasOwnProperty,Z=(P,K)=>{const le=ur(P);for(let Oe=0,Je=le.length;Oe<Je;Oe++){const Ln=le[Oe],_s=P[Ln];K(_s,Ln)}},zt=P=>(K,le)=>{P[le]=K},go=(P,K,le,Oe)=>{Z(P,(Je,Ln)=>{(K(Je,Ln)?le:Oe)(Je,Ln)})},gn=(P,K)=>{const le={};return go(P,K,zt(le),ae),le},Ne=(P,K)=>bt.call(P,K),ue=(P,K)=>Ne(P,K)&&P[K]!==void 0&&P[K]!==null,Wo=Array.prototype.push,Ae=P=>{const K=[];for(let le=0,Oe=P.length;le<Oe;++le){if(!rs(P[le]))throw new Error("Arr.flatten item "+le+" was not an array, input: "+P);Wo.apply(K,P[le])}return K},ze=(P,K)=>K>=0&&K<P.length?wt.some(P[K]):wt.none(),C=P=>ze(P,0),Ge=(P,K)=>{for(let le=0;le<P.length;le++){const Oe=K(P[le],le);if(Oe.isSome())return Oe}return wt.none()};typeof window<"u"||Function("return this;")();const Me=(P,K,le)=>{if(Un(le)||ts(le)||No(le))P.setAttribute(K,le+"");else throw console.error("Invalid call to Attribute.set. Key ",K,":: Value ",le,":: Element ",P),new Error("Attribute value was not simple")},Yt=(P,K,le)=>{Me(P.dom,K,le)},Ot=(P,K)=>{P.dom.removeAttribute(K)},he=(P,K)=>{const Oe=(K||document).createElement("div");if(Oe.innerHTML=P,!Oe.hasChildNodes()||Oe.childNodes.length>1){const Je="HTML does not have a single root node";throw console.error(Je,P),new Error(Je)}return vt(Oe.childNodes[0])},ot=(P,K)=>{const Oe=(K||document).createElement(P);return vt(Oe)},Xt=(P,K)=>{const Oe=(K||document).createTextNode(P);return vt(Oe)},vt=P=>{if(P==null)throw new Error("Node cannot be null or undefined");return{dom:P}},we={fromHtml:he,fromTag:ot,fromText:Xt,fromDom:vt,fromPoint:(P,K,le)=>wt.from(P.dom.elementFromPoint(K,le)).map(vt)};var Qe=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),$=tinymce.util.Tools.resolve("tinymce.util.URI");const Go=P=>P.length>0,xn=P=>K=>K.options.get(P),Jn=P=>{const K=P.options.register;K("image_dimensions",{processor:"boolean",default:!0}),K("image_advtab",{processor:"boolean",default:!1}),K("image_uploadtab",{processor:"boolean",default:!0}),K("image_prepend_url",{processor:"string",default:""}),K("image_class_list",{processor:"object[]"}),K("image_description",{processor:"boolean",default:!0}),K("image_title",{processor:"boolean",default:!1}),K("image_caption",{processor:"boolean",default:!1}),K("image_list",{processor:le=>{const Oe=le===!1||Un(le)||en(le,Xn)||xt(le);return Oe?{value:le,valid:Oe}:{valid:!1,message:"Must be false, a string, an array or a function."}},default:!1})},Co=xn("image_dimensions"),sa=xn("image_advtab"),jt=xn("image_uploadtab"),jn=xn("image_prepend_url"),Qt=xn("image_class_list"),te=xn("image_description"),Te=xn("image_title"),xe=xn("image_caption"),be=xn("image_list"),st=xn("a11y_advanced_options"),lt=xn("automatic_uploads"),Rn=P=>Go(P.options.get("images_upload_url")),Lt=P=>fo(P.options.get("images_upload_handler")),po=(P,K)=>Math.max(parseInt(P,10),parseInt(K,10)),hs=P=>new Promise(K=>{const le=document.createElement("img"),Oe=Ln=>{le.onload=le.onerror=null,le.parentNode&&le.parentNode.removeChild(le),K(Ln)};le.onload=()=>{const Ln=po(le.width,le.clientWidth),_s=po(le.height,le.clientHeight),ls={width:Ln,height:_s};Oe(Promise.resolve(ls))},le.onerror=()=>{Oe(Promise.reject(`Failed to get image dimensions for: ${P}`))};const Je=le.style;Je.visibility="hidden",Je.position="fixed",Je.bottom=Je.left="0px",Je.width=Je.height="auto",document.body.appendChild(le),le.src=P}),co=P=>(P&&(P=P.replace(/px$/,"")),P),zo=P=>(P.length>0&&/^[0-9]+$/.test(P)&&(P+="px"),P),ho=P=>{if(P.margin){const K=String(P.margin).split(" ");switch(K.length){case 1:P["margin-top"]=P["margin-top"]||K[0],P["margin-right"]=P["margin-right"]||K[0],P["margin-bottom"]=P["margin-bottom"]||K[0],P["margin-left"]=P["margin-left"]||K[0];break;case 2:P["margin-top"]=P["margin-top"]||K[0],P["margin-right"]=P["margin-right"]||K[1],P["margin-bottom"]=P["margin-bottom"]||K[0],P["margin-left"]=P["margin-left"]||K[1];break;case 3:P["margin-top"]=P["margin-top"]||K[0],P["margin-right"]=P["margin-right"]||K[1],P["margin-bottom"]=P["margin-bottom"]||K[2],P["margin-left"]=P["margin-left"]||K[1];break;case 4:P["margin-top"]=P["margin-top"]||K[0],P["margin-right"]=P["margin-right"]||K[1],P["margin-bottom"]=P["margin-bottom"]||K[2],P["margin-left"]=P["margin-left"]||K[3]}delete P.margin}return P},cs=(P,K)=>{const le=be(P);Un(le)?fetch(le).then(Oe=>{Oe.ok&&Oe.json().then(K)}):xt(le)?le(K):K(le)},eo=(P,K,le)=>{const Oe=()=>{le.onload=le.onerror=null,P.selection&&(P.selection.select(le),P.nodeChanged())};le.onload=()=>{!K.width&&!K.height&&Co(P)&&P.dom.setAttribs(le,{width:String(le.clientWidth),height:String(le.clientHeight)}),Oe()},le.onerror=Oe},Wn=P=>new Promise((K,le)=>{const Oe=new FileReader;Oe.onload=()=>{K(Oe.result)},Oe.onerror=()=>{var Je;le((Je=Oe.error)===null||Je===void 0?void 0:Je.message)},Oe.readAsDataURL(P)}),Ko=P=>P.nodeName==="IMG"&&(P.hasAttribute("data-mce-object")||P.hasAttribute("data-mce-placeholder")),wn=(P,K)=>{const le=P.options.get;return $.isDomSafe(K,"img",{allow_html_data_urls:le("allow_html_data_urls"),allow_script_urls:le("allow_script_urls"),allow_svg_data_urls:le("allow_svg_data_urls")})},xo=Qe.DOM,is=P=>P.style.marginLeft&&P.style.marginRight&&P.style.marginLeft===P.style.marginRight?co(P.style.marginLeft):"",Vo=P=>P.style.marginTop&&P.style.marginBottom&&P.style.marginTop===P.style.marginBottom?co(P.style.marginTop):"",zr=P=>P.style.borderWidth?co(P.style.borderWidth):"",oo=(P,K)=>{var le;return P.hasAttribute(K)&&(le=P.getAttribute(K))!==null&&le!==void 0?le:""},Da=P=>P.parentNode!==null&&P.parentNode.nodeName==="FIGURE",mt=(P,K,le)=>{le===""||le===null?P.removeAttribute(K):P.setAttribute(K,le)},to=P=>{const K=xo.create("figure",{class:"image"});xo.insertAfter(K,P),K.appendChild(P),K.appendChild(xo.create("figcaption",{contentEditable:"true"},"Caption")),K.contentEditable="false"},dr=P=>{const K=P.parentNode;fo(K)&&(xo.insertAfter(P,K),xo.remove(K))},mr=P=>{Da(P)?dr(P):to(P)},Gr=(P,K)=>{const le=P.getAttribute("style"),Oe=K(le!==null?le:"");Oe.length>0?(P.setAttribute("style",Oe),P.setAttribute("data-mce-style",Oe)):P.removeAttribute("style")},Kr=(P,K)=>(le,Oe,Je)=>{const Ln=le.style;Ln[Oe]?(Ln[Oe]=zo(Je),Gr(le,K)):mt(le,Oe,Je)},Io=(P,K)=>P.style[K]?co(P.style[K]):oo(P,K),ha=(P,K)=>{const le=zo(K);P.style.marginLeft=le,P.style.marginRight=le},Dc=(P,K)=>{const le=zo(K);P.style.marginTop=le,P.style.marginBottom=le},Uo=(P,K)=>{const le=zo(K);P.style.borderWidth=le},fn=(P,K)=>{P.style.borderStyle=K},Ks=P=>{var K;return(K=P.style.borderStyle)!==null&&K!==void 0?K:""},nc=P=>fo(P)&&P.nodeName==="FIGURE",al=P=>P.nodeName==="IMG",cl=P=>xo.getAttrib(P,"alt").length===0&&xo.getAttrib(P,"role")==="presentation",ys=P=>cl(P)?"":oo(P,"alt"),kr=()=>({src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}),js=(P,K)=>{var le;const Oe=document.createElement("img");return mt(Oe,"style",K.style),(is(Oe)||K.hspace!=="")&&ha(Oe,K.hspace),(Vo(Oe)||K.vspace!=="")&&Dc(Oe,K.vspace),(zr(Oe)||K.border!=="")&&Uo(Oe,K.border),(Ks(Oe)||K.borderStyle!=="")&&fn(Oe,K.borderStyle),P((le=Oe.getAttribute("style"))!==null&&le!==void 0?le:"")},Ra=(P,K)=>{const le=document.createElement("img");if(Ve(P,{...K,caption:!1},le),ce(le,K.alt,K.isDecorative),K.caption){const Oe=xo.create("figure",{class:"image"});return Oe.appendChild(le),Oe.appendChild(xo.create("figcaption",{contentEditable:"true"},"Caption")),Oe.contentEditable="false",Oe}else return le},yi=(P,K)=>({src:oo(K,"src"),alt:ys(K),title:oo(K,"title"),width:Io(K,"width"),height:Io(K,"height"),class:oo(K,"class"),style:P(oo(K,"style")),caption:Da(K),hspace:is(K),vspace:Vo(K),border:zr(K),borderStyle:Ks(K),isDecorative:cl(K)}),Or=(P,K,le,Oe,Je)=>{le[Oe]!==K[Oe]&&Je(P,Oe,String(le[Oe]))},ce=(P,K,le)=>{if(le){xo.setAttrib(P,"role","presentation");const Oe=we.fromDom(P);Yt(Oe,"alt","")}else{if(as(K)){const Oe=we.fromDom(P);Ot(Oe,"alt")}else{const Oe=we.fromDom(P);Yt(Oe,"alt",K)}xo.getAttrib(P,"role")==="presentation"&&xo.setAttrib(P,"role","")}},ne=(P,K,le)=>{(le.alt!==K.alt||le.isDecorative!==K.isDecorative)&&ce(P,le.alt,le.isDecorative)},Pe=(P,K)=>(le,Oe,Je)=>{P(le,Je),Gr(le,K)},Ve=(P,K,le)=>{const Oe=yi(P,le);Or(le,Oe,K,"caption",(Je,Ln,_s)=>mr(Je)),Or(le,Oe,K,"src",mt),Or(le,Oe,K,"title",mt),Or(le,Oe,K,"width",Kr("width",P)),Or(le,Oe,K,"height",Kr("height",P)),Or(le,Oe,K,"class",mt),Or(le,Oe,K,"style",Pe((Je,Ln)=>mt(Je,"style",Ln),P)),Or(le,Oe,K,"hspace",Pe(ha,P)),Or(le,Oe,K,"vspace",Pe(Dc,P)),Or(le,Oe,K,"border",Pe(Uo,P)),Or(le,Oe,K,"borderStyle",Pe(fn,P)),ne(le,Oe,K)},sn=(P,K)=>{const le=P.dom.styles.parse(K),Oe=ho(le),Je=P.dom.styles.parse(P.dom.styles.serialize(Oe));return P.dom.styles.serialize(Je)},Tn=P=>{const K=P.selection.getNode(),le=P.dom.getParent(K,"figure.image");return le?P.dom.select("img",le)[0]:K&&(K.nodeName!=="IMG"||Ko(K))?null:K},Bn=(P,K)=>{var le;const Oe=P.dom,Je=gn(P.schema.getTextBlockElements(),(_s,ls)=>!P.schema.isValidChild(ls,"figure")),Ln=Oe.getParent(K.parentNode,_s=>ue(Je,_s.nodeName),P.getBody());return Ln&&(le=Oe.split(Ln,K))!==null&&le!==void 0?le:K},or=P=>{const K=Tn(P);return K?yi(le=>sn(P,le),K):kr()},ge=(P,K)=>{const le=Ra(Je=>sn(P,Je),K);P.dom.setAttrib(le,"data-mce-id","__mcenew"),P.focus(),P.selection.setContent(le.outerHTML);const Oe=P.dom.select('*[data-mce-id="__mcenew"]')[0];if(P.dom.setAttrib(Oe,"data-mce-id",null),nc(Oe)){const Je=Bn(P,Oe);P.selection.select(Je)}else P.selection.select(Oe)},$n=(P,K)=>{P.dom.setAttrib(K,"src",K.getAttribute("src"))},Ys=(P,K)=>{if(K){const le=P.dom.is(K.parentNode,"figure.image")?K.parentNode:K;P.dom.remove(le),P.focus(),P.nodeChanged(),P.dom.isEmpty(P.getBody())&&(P.setContent(""),P.selection.setCursorLocation())}},gr=(P,K)=>{const le=Tn(P);if(le)if(Ve(Oe=>sn(P,Oe),K,le),$n(P,le),nc(le.parentNode)){const Oe=le.parentNode;Bn(P,Oe),P.selection.select(le.parentNode)}else P.selection.select(le),eo(P,K,le)},Ma=(P,K)=>{const le=K.src;return{...K,src:wn(P,le)?le:""}},Zo=(P,K)=>{const le=Tn(P);if(le){const Je={...yi(_s=>sn(P,_s),le),...K},Ln=Ma(P,Je);Je.src?gr(P,Ln):Ys(P,le)}else K.src&&ge(P,{...kr(),...K})},Na=(P=>(...K)=>{if(K.length===0)throw new Error("Can't merge zero objects");const le={};for(let Oe=0;Oe<K.length;Oe++){const Je=K[Oe];for(const Ln in Je)Ne(Je,Ln)&&(le[Ln]=P(le[Ln],Je[Ln]))}return le})((P,K)=>uo(P)&&uo(K)?Na(P,K):K);var Ns=tinymce.util.Tools.resolve("tinymce.util.ImageUploader"),Yo=tinymce.util.Tools.resolve("tinymce.util.Tools");const ns=P=>Un(P.value)?P.value:"",ra=P=>Un(P.text)?P.text:Un(P.title)?P.title:"",aa=(P,K)=>{const le=[];return Yo.each(P,Oe=>{const Je=ra(Oe);if(Oe.menu!==void 0){const Ln=aa(Oe.menu,K);le.push({text:Je,items:Ln})}else{const Ln=K(Oe);le.push({text:Je,value:Ln})}}),le},Dr=(P=ns)=>K=>K?wt.from(K).map(le=>aa(le,P)):wt.none(),Xc=P=>Dr(ns)(P),Rc=P=>Ne(P,"items"),So=(P,K)=>Ge(P,le=>Rc(le)?So(le.items,K):le.value===K?wt.some(le):wt.none()),Ur={sanitizer:Dr,sanitize:Xc,findEntry:(P,K)=>P.bind(le=>So(le,K))},oc={makeTab:P=>({title:"Advanced",name:"advanced",items:[{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]})},Rr=P=>{const K=Ur.sanitizer(Cs=>P.convertURL(Cs.value||Cs.url||"","src")),le=new Promise(Cs=>{cs(P,ll=>{Cs(K(ll).map(am=>Ae([[{text:"None",value:""}],am])))})}),Oe=Ur.sanitize(Qt(P)),Je=sa(P),Ln=jt(P),_s=Rn(P),ls=Lt(P),ut=or(P),As=te(P),ba=Te(P),rc=Co(P),Zn=xe(P),ac=st(P),fr=lt(P),Yu=wt.some(jn(P)).filter(Cs=>Un(Cs)&&Cs.length>0);return le.then(Cs=>({image:ut,imageList:Cs,classList:Oe,hasAdvTab:Je,hasUploadTab:Ln,hasUploadUrl:_s,hasUploadHandler:ls,hasDescription:As,hasImageTitle:ba,hasDimensions:rc,hasImageCaption:Zn,prependURL:Yu,hasAccessibilityOptions:ac,automaticUploads:fr}))},$s=P=>{const K={name:"src",type:"urlinput",filetype:"image",label:"Source",picker_text:"Browse files"},le=P.imageList.map(ba=>({name:"images",type:"listbox",label:"Image list",items:ba})),Oe={name:"alt",type:"input",label:"Alternative description",enabled:!(P.hasAccessibilityOptions&&P.image.isDecorative)},Je={name:"title",type:"input",label:"Image title"},Ln={name:"dimensions",type:"sizeinput"},_s={type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]},ls=P.classList.map(ba=>({name:"classes",type:"listbox",label:"Class",items:ba})),ut={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]},As=ba=>ba?{type:"grid",columns:2}:{type:"panel"};return Ae([[K],le.toArray(),P.hasAccessibilityOptions&&P.hasDescription?[_s]:[],P.hasDescription?[Oe]:[],P.hasImageTitle?[Je]:[],P.hasDimensions?[Ln]:[],[{...As(P.classList.isSome()&&P.hasImageCaption),items:Ae([ls.toArray(),P.hasImageCaption?[ut]:[]])}]])},Wc={makeTab:P=>({title:"General",name:"general",items:$s(P)}),makeItems:$s},Pa={makeTab:P=>({title:"Upload",name:"upload",items:[{type:"dropzone",name:"fileinput"}]})},ya=P=>({prevImage:Ur.findEntry(P.imageList,P.image.src),prevAlt:P.image.alt,open:!0}),wr=P=>({src:{value:P.src,meta:{}},images:P.src,alt:P.alt,title:P.title,dimensions:{width:P.width,height:P.height},classes:P.class,caption:P.caption,style:P.style,vspace:P.vspace,border:P.border,hspace:P.hspace,borderstyle:P.borderStyle,fileinput:[],isDecorative:P.isDecorative}),Pl=(P,K)=>({src:P.src.value,alt:(P.alt===null||P.alt.length===0)&&K?null:P.alt,title:P.title,width:P.dimensions.width,height:P.dimensions.height,class:P.classes,style:P.style,caption:P.caption,hspace:P.hspace,vspace:P.vspace,border:P.border,borderStyle:P.borderstyle,isDecorative:P.isDecorative}),Ba=(P,K)=>/^(?:[a-zA-Z]+:)?\/\//.test(K)?wt.none():P.prependURL.bind(le=>K.substring(0,le.length)!==le?wt.some(le+K):wt.none()),Ha=(P,K)=>{const le=K.getData();Ba(P,le.src.value).each(Oe=>{K.setData({src:{value:Oe,meta:le.src.meta}})})},Qc=(P,K,le)=>{P.hasDescription&&Un(le.alt)&&(K.alt=le.alt),P.hasAccessibilityOptions&&(K.isDecorative=le.isDecorative||K.isDecorative||!1),P.hasImageTitle&&Un(le.title)&&(K.title=le.title),P.hasDimensions&&(Un(le.width)&&(K.dimensions.width=le.width),Un(le.height)&&(K.dimensions.height=le.height)),Un(le.class)&&Ur.findEntry(P.classList,le.class).each(Oe=>{K.classes=Oe.value}),P.hasImageCaption&&ts(le.caption)&&(K.caption=le.caption),P.hasAdvTab&&(Un(le.style)&&(K.style=le.style),Un(le.vspace)&&(K.vspace=le.vspace),Un(le.border)&&(K.border=le.border),Un(le.hspace)&&(K.hspace=le.hspace),Un(le.borderstyle)&&(K.borderstyle=le.borderstyle))},Mc=(P,K)=>{const le=K.getData(),Oe=le.src.meta;if(Oe!==void 0){const Je=Na({},le);Qc(P,Je,Oe),K.setData(Je)}},au=(P,K,le,Oe)=>{const Je=Oe.getData(),Ln=Je.src.value,_s=Je.src.meta||{};!_s.width&&!_s.height&&K.hasDimensions&&(Go(Ln)?P.imageSize(Ln).then(ls=>{le.open&&Oe.setData({dimensions:ls})}).catch(ls=>console.error(ls)):Oe.setData({dimensions:{width:"",height:""}}))},il=(P,K,le)=>{const Oe=le.getData(),Je=Ur.findEntry(P.imageList,Oe.src.value);K.prevImage=Je,le.setData({images:Je.map(Ln=>Ln.value).getOr("")})},Fi=(P,K,le,Oe)=>{Ha(K,Oe),Mc(K,Oe),au(P,K,le,Oe),il(K,le,Oe)},sc=(P,K,le,Oe)=>{const Je=Oe.getData(),Ln=Ur.findEntry(K.imageList,Je.images);Ln.each(_s=>{Je.alt===""||le.prevImage.map(ut=>ut.text===Je.alt).getOr(!1)?_s.value===""?Oe.setData({src:_s,alt:le.prevAlt}):Oe.setData({src:_s,alt:_s.text}):Oe.setData({src:_s})}),le.prevImage=Ln,Fi(P,K,le,Oe)},Mr=(P,K,le,Oe)=>{const Je=Oe.getData();Oe.block("Uploading image"),C(Je.fileinput).fold(()=>{Oe.unblock()},Ln=>{const _s=URL.createObjectURL(Ln),ls=()=>{Oe.unblock(),URL.revokeObjectURL(_s)},ut=As=>{Oe.setData({src:{value:As,meta:{}}}),Oe.showTab("general"),Fi(P,K,le,Oe),Oe.focus("src")};Wn(Ln).then(As=>{const ba=P.createBlobCache(Ln,_s,As);K.automaticUploads?P.uploadImage(ba).then(rc=>{ut(rc.url),ls()}).catch(rc=>{ls(),P.alertErr(rc)}):(P.addToBlobCache(ba),ut(ba.blobUri()),Oe.unblock())})})},cu=(P,K,le)=>(Oe,Je)=>{Je.name==="src"?Fi(P,K,le,Oe):Je.name==="images"?sc(P,K,le,Oe):Je.name==="alt"?le.prevAlt=Oe.getData().alt:Je.name==="fileinput"?Mr(P,K,le,Oe):Je.name==="isDecorative"&&Oe.setEnabled("alt",!Oe.getData().isDecorative)},iu=P=>()=>{P.open=!1},lu=P=>P.hasAdvTab||P.hasUploadUrl||P.hasUploadHandler?{type:"tabpanel",tabs:Ae([[Wc.makeTab(P)],P.hasAdvTab?[oc.makeTab(P)]:[],P.hasUploadTab&&(P.hasUploadUrl||P.hasUploadHandler)?[Pa.makeTab(P)]:[]])}:{type:"panel",items:Wc.makeItems(P)},uu=(P,K,le)=>Oe=>{const Je=Na(wr(K.image),Oe.getData()),Ln={...Je,style:js(le.normalizeCss,Pl(Je,!1))};P.execCommand("mceUpdateImage",!1,Pl(Ln,K.hasAccessibilityOptions)),P.editorUpload.uploadImagesAuto(),Oe.close()},_r=P=>K=>wn(P,K)?hs(P.documentBaseURI.toAbsolute(K)).then(le=>({width:String(le.width),height:String(le.height)})):Promise.resolve({width:"",height:""}),yc=P=>(K,le,Oe)=>{var Je;return P.editorUpload.blobCache.create({blob:K,blobUri:le,name:(Je=K.name)===null||Je===void 0?void 0:Je.replace(/\.[^\.]+$/,""),filename:K.name,base64:Oe.split(",")[1]})},U=P=>K=>{P.editorUpload.blobCache.add(K)},se=P=>K=>{P.windowManager.alert(K)},Ce=P=>K=>sn(P,K),Ye=P=>K=>P.dom.parseStyle(K),ft=P=>(K,le)=>P.dom.serializeStyle(K,le),Ht=P=>K=>Ns(P).upload([K],!1).then(le=>{var Oe;return le.length===0?Promise.reject("Failed to upload image"):le[0].status===!1?Promise.reject((Oe=le[0].error)===null||Oe===void 0?void 0:Oe.message):le[0]}),so=P=>{const K={imageSize:_r(P),addToBlobCache:U(P),createBlobCache:yc(P),alertErr:se(P),normalizeCss:Ce(P),parseStyle:Ye(P),serializeStyle:ft(P),uploadImage:Ht(P)};return{open:()=>{Rr(P).then(Oe=>{const Je=ya(Oe);return{title:"Insert/Edit Image",size:"normal",body:lu(Oe),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:wr(Oe.image),onSubmit:uu(P,Oe,K),onChange:cu(K,Oe,Je),onClose:iu(Je)}}).then(P.windowManager.open)}}},fs=P=>{P.addCommand("mceImage",so(P).open),P.addCommand("mceUpdateImage",(K,le)=>{P.undoManager.transact(()=>Zo(P,le))})},bo=P=>{const K=P.attr("class");return fo(K)&&/\bimage\b/.test(K)},Pt=P=>K=>{let le=K.length;const Oe=Je=>{Je.attr("contenteditable",P?"true":null)};for(;le--;){const Je=K[le];bo(Je)&&(Je.attr("contenteditable",P?"false":null),Yo.each(Je.getAll("figcaption"),Oe))}},sr=P=>{P.on("PreInit",()=>{P.parser.addNodeFilter("figure",Pt(!0)),P.serializer.addNodeFilter("figure",Pt(!1))})},rn=P=>K=>{const le=()=>{K.setEnabled(P.selection.isEditable())};return P.on("NodeChange",le),le(),()=>{P.off("NodeChange",le)}},Nr=P=>{P.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:so(P).open,onSetup:K=>{K.setActive(fo(Tn(P)));const le=P.selection.selectorChangedWithUnbind("img:not([data-mce-object]):not([data-mce-placeholder]),figure.image",K.setActive).unbind,Oe=rn(P)(K);return()=>{le(),Oe()}}}),P.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:so(P).open,onSetup:rn(P)}),P.ui.registry.addContextMenu("image",{update:K=>P.selection.isEditable()&&(nc(K)||al(K)&&!Ko(K))?["image"]:[]})};var bi=()=>{Oa.add("image",P=>{Jn(P),sr(P),Nr(P),fs(P)})};bi()})();(function(){var Oa=tinymce.util.Tools.resolve("tinymce.PluginManager");const nr=(Ae,ze,C)=>{const Ge=ze==="UL"?"InsertUnorderedList":"InsertOrderedList";Ae.execCommand(Ge,!1,C===!1?null:{"list-style-type":C})},oa=Ae=>{Ae.addCommand("ApplyUnorderedListStyle",(ze,C)=>{nr(Ae,"UL",C["list-style-type"])}),Ae.addCommand("ApplyOrderedListStyle",(ze,C)=>{nr(Ae,"OL",C["list-style-type"])})},Bs=Ae=>ze=>ze.options.get(Ae),Ms=Ae=>{const ze=Ae.options.register;ze("advlist_number_styles",{processor:"string[]",default:"default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman".split(",")}),ze("advlist_bullet_styles",{processor:"string[]",default:"default,circle,square".split(",")})},Mo=Bs("advlist_number_styles"),ks=Bs("advlist_bullet_styles"),on=Ae=>Ae==null,Un=Ae=>!on(Ae);var Xn=tinymce.util.Tools.resolve("tinymce.util.Tools");class uo{constructor(ze,C){this.tag=ze,this.value=C}static some(ze){return new uo(!0,ze)}static none(){return uo.singletonNone}fold(ze,C){return this.tag?C(this.value):ze()}isSome(){return this.tag}isNone(){return!this.tag}map(ze){return this.tag?uo.some(ze(this.value)):uo.none()}bind(ze){return this.tag?ze(this.value):uo.none()}exists(ze){return this.tag&&ze(this.value)}forall(ze){return!this.tag||ze(this.value)}filter(ze){return!this.tag||ze(this.value)?this:uo.none()}getOr(ze){return this.tag?this.value:ze}or(ze){return this.tag?this:ze}getOrThunk(ze){return this.tag?this.value:ze()}orThunk(ze){return this.tag?this:ze()}getOrDie(ze){if(this.tag)return this.value;throw new Error(ze??"Called getOrDie on None")}static from(ze){return Un(ze)?uo.some(ze):uo.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(ze){this.tag&&ze(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}uo.singletonNone=new uo(!1);const rs=(Ae,ze,C)=>{for(let Ge=0,Me=Ae.length;Ge<Me;Ge++){const Yt=Ae[Ge];if(ze(Yt,Ge))return uo.some(Yt);if(C(Yt,Ge))break}return uo.none()},as=Ae=>/\btox\-/.test(Ae.className),ts=(Ae,ze)=>Ae.dom.isChildOf(ze,Ae.getBody()),lr=Ae=>ze=>Un(ze)&&Ae.test(ze.nodeName),fo=lr(/^(OL|UL|DL)$/),xt=lr(/^(TH|TD)$/),No=(Ae,ze,C)=>rs(ze,Ge=>fo(Ge)&&!as(Ge),xt).exists(Ge=>Ge.nodeName===C&&ts(Ae,Ge)),en=Ae=>{const ze=Ae.dom.getParent(Ae.selection.getNode(),"ol,ul"),C=Ae.dom.getStyle(ze,"listStyleType");return uo.from(C)},ae=(Ae,ze)=>ze!==null&&!Ae.dom.isEditable(ze),wt=(Ae,ze)=>{const C=Ae.dom.getParent(ze,"ol,ul,dl");return ae(Ae,C)&&Ae.selection.isEditable()},ur=(Ae,ze)=>{const C=Ae.selection.getNode();return ze({parents:Ae.dom.getParents(C),element:C}),Ae.on("NodeChange",ze),()=>Ae.off("NodeChange",ze)},bt=Ae=>Ae.replace(/\-/g," ").replace(/\b\w/g,ze=>ze.toUpperCase()),Z=Ae=>on(Ae)||Ae==="default"?"":Ae,zt=(Ae,ze)=>C=>{const Ge=(Yt,Ot)=>{const he=Yt.selection.getStart(!0);C.setActive(No(Yt,Ot,ze)),C.setEnabled(!wt(Yt,he)&&Yt.selection.isEditable())};return ur(Ae,Yt=>Ge(Ae,Yt.parents))},go=(Ae,ze,C,Ge,Me,Yt)=>{Ae.ui.registry.addSplitButton(ze,{tooltip:C,icon:Me==="OL"?"ordered-list":"unordered-list",presets:"listpreview",columns:3,fetch:Ot=>{const he=Xn.map(Yt,ot=>{const Xt=Me==="OL"?"num":"bull",vt=ot==="disc"||ot==="decimal"?"default":ot,Dn=Z(ot),we=bt(ot);return{type:"choiceitem",value:Dn,icon:"list-"+Xt+"-"+vt,text:we}});Ot(he)},onAction:()=>Ae.execCommand(Ge),onItemAction:(Ot,he)=>{nr(Ae,Me,he)},select:Ot=>en(Ae).map(ot=>Ot===ot).getOr(!1),onSetup:zt(Ae,Me)})},gn=(Ae,ze,C,Ge,Me,Yt)=>{Ae.ui.registry.addToggleButton(ze,{active:!1,tooltip:C,icon:Me==="OL"?"ordered-list":"unordered-list",onSetup:zt(Ae,Me),onAction:()=>Ae.queryCommandState(Ge)||Yt===""?Ae.execCommand(Ge):nr(Ae,Me,Yt)})},Ne=(Ae,ze,C,Ge,Me,Yt)=>{Yt.length>1?go(Ae,ze,C,Ge,Me,Yt):gn(Ae,ze,C,Ge,Me,Z(Yt[0]))},ue=Ae=>{Ne(Ae,"numlist","Numbered list","InsertOrderedList","OL",Mo(Ae)),Ne(Ae,"bullist","Bullet list","InsertUnorderedList","UL",ks(Ae))};var Wo=()=>{Oa.add("advlist",Ae=>{Ae.hasPlugin("lists")?(Ms(Ae),ue(Ae),oa(Ae)):console.error("Please use the Lists plugin together with the List Styles plugin.")})};Wo()})();(function(){var Oa=tinymce.util.Tools.resolve("tinymce.PluginManager"),nr=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),oa=tinymce.util.Tools.resolve("tinymce.util.Tools");const Bs=Ae=>ze=>ze.options.get(Ae),Ms=Ae=>{const ze=Ae.options.register;ze("allow_html_in_named_anchor",{processor:"boolean",default:!1})},Mo=Bs("allow_html_in_named_anchor"),ks="a:not([href])",on=Ae=>!Ae,Un=Ae=>Ae.getAttribute("id")||Ae.getAttribute("name")||"",Xn=Ae=>Ae.nodeName.toLowerCase()==="a",uo=Ae=>Xn(Ae)&&!Ae.getAttribute("href")&&Un(Ae)!=="",rs=Ae=>uo(Ae)&&!Ae.firstChild,as=Ae=>{const ze=Ae.dom;nr(ze).walk(Ae.selection.getRng(),C=>{oa.each(C,Ge=>{rs(Ge)&&ze.remove(Ge,!1)})})},ts=Ae=>/^[A-Za-z][A-Za-z0-9\-:._]*$/.test(Ae),lr=Ae=>Ae.dom.getParent(Ae.selection.getStart(),ks),fo=Ae=>{const ze=lr(Ae);return ze?Un(ze):""},xt=(Ae,ze)=>{Ae.undoManager.transact(()=>{Mo(Ae)||Ae.selection.collapse(!0),Ae.selection.isCollapsed()?Ae.insertContent(Ae.dom.createHTML("a",{id:ze})):(as(Ae),Ae.formatter.remove("namedAnchor",void 0,void 0,!0),Ae.formatter.apply("namedAnchor",{value:ze}),Ae.addVisual())})},No=(Ae,ze,C)=>{C.removeAttribute("name"),C.id=ze,Ae.addVisual(),Ae.undoManager.add()},en=(Ae,ze)=>{const C=lr(Ae);C?No(Ae,ze,C):xt(Ae,ze),Ae.focus()},ae=(Ae,ze)=>ts(ze)?(en(Ae,ze),!0):(Ae.windowManager.alert("ID should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores."),!1),wt=Ae=>{const ze=fo(Ae);Ae.windowManager.open({title:"Anchor",size:"normal",body:{type:"panel",items:[{name:"id",type:"input",label:"ID",placeholder:"example"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{id:ze},onSubmit:C=>{ae(Ae,C.getData().id)&&C.close()}})},ur=Ae=>{Ae.addCommand("mceAnchor",()=>{wt(Ae)})},bt=Ae=>on(Ae.attr("href"))&&!on(Ae.attr("id")||Ae.attr("name")),Z=Ae=>bt(Ae)&&!Ae.firstChild,zt=Ae=>ze=>{for(let C=0;C<ze.length;C++){const Ge=ze[C];Z(Ge)&&Ge.attr("contenteditable",Ae)}},go=Ae=>{Ae.on("PreInit",()=>{Ae.parser.addNodeFilter("a",zt("false")),Ae.serializer.addNodeFilter("a",zt(null))})},gn=Ae=>{Ae.formatter.register("namedAnchor",{inline:"a",selector:ks,remove:"all",split:!0,deep:!0,attributes:{id:"%value"},onmatch:(ze,C,Ge)=>uo(ze)})},Ne=Ae=>ze=>{const C=()=>{ze.setEnabled(Ae.selection.isEditable())};return Ae.on("NodeChange",C),C(),()=>{Ae.off("NodeChange",C)}},ue=Ae=>{const ze=()=>Ae.execCommand("mceAnchor");Ae.ui.registry.addToggleButton("anchor",{icon:"bookmark",tooltip:"Anchor",onAction:ze,onSetup:C=>{const Ge=Ae.selection.selectorChangedWithUnbind("a:not([href])",C.setActive).unbind,Me=Ne(Ae)(C);return()=>{Ge(),Me()}}}),Ae.ui.registry.addMenuItem("anchor",{icon:"bookmark",text:"Anchor...",onAction:ze,onSetup:Ne(Ae)})};var Wo=()=>{Oa.add("anchor",Ae=>{Ms(Ae),go(Ae),ur(Ae),ue(Ae),Ae.on("PreInit",()=>{gn(Ae)})})};Wo()})();(function(){var Oa=tinymce.util.Tools.resolve("tinymce.PluginManager");const nr=C=>C==null,oa=C=>!nr(C),Bs=()=>{},Ms=C=>()=>C;class Mo{constructor(Ge,Me){this.tag=Ge,this.value=Me}static some(Ge){return new Mo(!0,Ge)}static none(){return Mo.singletonNone}fold(Ge,Me){return this.tag?Me(this.value):Ge()}isSome(){return this.tag}isNone(){return!this.tag}map(Ge){return this.tag?Mo.some(Ge(this.value)):Mo.none()}bind(Ge){return this.tag?Ge(this.value):Mo.none()}exists(Ge){return this.tag&&Ge(this.value)}forall(Ge){return!this.tag||Ge(this.value)}filter(Ge){return!this.tag||Ge(this.value)?this:Mo.none()}getOr(Ge){return this.tag?this.value:Ge}or(Ge){return this.tag?this:Ge}getOrThunk(Ge){return this.tag?this.value:Ge()}orThunk(Ge){return this.tag?this:Ge()}getOrDie(Ge){if(this.tag)return this.value;throw new Error(Ge??"Called getOrDie on None")}static from(Ge){return oa(Ge)?Mo.some(Ge):Mo.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Ge){this.tag&&Ge(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Mo.singletonNone=new Mo(!1);const ks=(C,Ge)=>Ge>=0&&Ge<C.length?Mo.some(C[Ge]):Mo.none(),on=C=>ks(C,0);var Un=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils");const Xn=typeof window<"u"?window:Function("return this;")(),uo=function(C,Ge,Me){const Yt=window.Prism;window.Prism={manual:!0};var Ot=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{},he=function(ot){var Xt=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,vt=0,Dn={},we={manual:ot.Prism&&ot.Prism.manual,disableWorkerMessageHandler:ot.Prism&&ot.Prism.disableWorkerMessageHandler,util:{encode:function te(Te){return Te instanceof Qe?new Qe(Te.type,te(Te.content),Te.alias):Array.isArray(Te)?Te.map(te):Te.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(te){return Object.prototype.toString.call(te).slice(8,-1)},objId:function(te){return te.__id||Object.defineProperty(te,"__id",{value:++vt}),te.__id},clone:function te(Te,xe){xe=xe||{};var be,st;switch(we.util.type(Te)){case"Object":if(st=we.util.objId(Te),xe[st])return xe[st];be={},xe[st]=be;for(var lt in Te)Te.hasOwnProperty(lt)&&(be[lt]=te(Te[lt],xe));return be;case"Array":return st=we.util.objId(Te),xe[st]?xe[st]:(be=[],xe[st]=be,Te.forEach(function(Rn,Lt){be[Lt]=te(Rn,xe)}),be);default:return Te}},getLanguage:function(te){for(;te;){var Te=Xt.exec(te.className);if(Te)return Te[1].toLowerCase();te=te.parentElement}return"none"},setLanguage:function(te,Te){te.className=te.className.replace(RegExp(Xt,"gi"),""),te.classList.add("language-"+Te)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(be){var te=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(be.stack)||[])[1];if(te){var Te=document.getElementsByTagName("script");for(var xe in Te)if(Te[xe].src==te)return Te[xe]}return null}},isActive:function(te,Te,xe){for(var be="no-"+Te;te;){var st=te.classList;if(st.contains(Te))return!0;if(st.contains(be))return!1;te=te.parentElement}return!!xe}},languages:{plain:Dn,plaintext:Dn,text:Dn,txt:Dn,extend:function(te,Te){var xe=we.util.clone(we.languages[te]);for(var be in Te)xe[be]=Te[be];return xe},insertBefore:function(te,Te,xe,be){be=be||we.languages;var st=be[te],lt={};for(var Rn in st)if(st.hasOwnProperty(Rn)){if(Rn==Te)for(var Lt in xe)xe.hasOwnProperty(Lt)&&(lt[Lt]=xe[Lt]);xe.hasOwnProperty(Rn)||(lt[Rn]=st[Rn])}var po=be[te];return be[te]=lt,we.languages.DFS(we.languages,function(hs,co){co===po&&hs!=te&&(this[hs]=lt)}),lt},DFS:function te(Te,xe,be,st){st=st||{};var lt=we.util.objId;for(var Rn in Te)if(Te.hasOwnProperty(Rn)){xe.call(Te,Rn,Te[Rn],be||Rn);var Lt=Te[Rn],po=we.util.type(Lt);po==="Object"&&!st[lt(Lt)]?(st[lt(Lt)]=!0,te(Lt,xe,null,st)):po==="Array"&&!st[lt(Lt)]&&(st[lt(Lt)]=!0,te(Lt,xe,Rn,st))}}},plugins:{},highlightAll:function(te,Te){we.highlightAllUnder(document,te,Te)},highlightAllUnder:function(te,Te,xe){var be={callback:xe,container:te,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};we.hooks.run("before-highlightall",be),be.elements=Array.prototype.slice.apply(be.container.querySelectorAll(be.selector)),we.hooks.run("before-all-elements-highlight",be);for(var st=0,lt;lt=be.elements[st++];)we.highlightElement(lt,Te===!0,be.callback)},highlightElement:function(te,Te,xe){var be=we.util.getLanguage(te),st=we.languages[be];we.util.setLanguage(te,be);var lt=te.parentElement;lt&&lt.nodeName.toLowerCase()==="pre"&&we.util.setLanguage(lt,be);var Rn=te.textContent,Lt={element:te,language:be,grammar:st,code:Rn};function po(co){Lt.highlightedCode=co,we.hooks.run("before-insert",Lt),Lt.element.innerHTML=Lt.highlightedCode,we.hooks.run("after-highlight",Lt),we.hooks.run("complete",Lt),xe&&xe.call(Lt.element)}if(we.hooks.run("before-sanity-check",Lt),lt=Lt.element.parentElement,lt&&lt.nodeName.toLowerCase()==="pre"&&!lt.hasAttribute("tabindex")&&lt.setAttribute("tabindex","0"),!Lt.code){we.hooks.run("complete",Lt),xe&&xe.call(Lt.element);return}if(we.hooks.run("before-highlight",Lt),!Lt.grammar){po(we.util.encode(Lt.code));return}if(Te&&ot.Worker){var hs=new Worker(we.filename);hs.onmessage=function(co){po(co.data)},hs.postMessage(JSON.stringify({language:Lt.language,code:Lt.code,immediateClose:!0}))}else po(we.highlight(Lt.code,Lt.grammar,Lt.language))},highlight:function(te,Te,xe){var be={code:te,grammar:Te,language:xe};if(we.hooks.run("before-tokenize",be),!be.grammar)throw new Error('The language "'+be.language+'" has no grammar.');return be.tokens=we.tokenize(be.code,be.grammar),we.hooks.run("after-tokenize",be),Qe.stringify(we.util.encode(be.tokens),be.language)},tokenize:function(te,Te){var xe=Te.rest;if(xe){for(var be in xe)Te[be]=xe[be];delete Te.rest}var st=new xn;return Jn(st,st.head,te),Go(te,st,Te,st.head,0),sa(st)},hooks:{all:{},add:function(te,Te){var xe=we.hooks.all;xe[te]=xe[te]||[],xe[te].push(Te)},run:function(te,Te){var xe=we.hooks.all[te];if(!(!xe||!xe.length))for(var be=0,st;st=xe[be++];)st(Te)}},Token:Qe};ot.Prism=we;function Qe(te,Te,xe,be){this.type=te,this.content=Te,this.alias=xe,this.length=(be||"").length|0}Qe.stringify=function te(Te,xe){if(typeof Te=="string")return Te;if(Array.isArray(Te)){var be="";return Te.forEach(function(po){be+=te(po,xe)}),be}var st={type:Te.type,content:te(Te.content,xe),tag:"span",classes:["token",Te.type],attributes:{},language:xe},lt=Te.alias;lt&&(Array.isArray(lt)?Array.prototype.push.apply(st.classes,lt):st.classes.push(lt)),we.hooks.run("wrap",st);var Rn="";for(var Lt in st.attributes)Rn+=" "+Lt+'="'+(st.attributes[Lt]||"").replace(/"/g,"&quot;")+'"';return"<"+st.tag+' class="'+st.classes.join(" ")+'"'+Rn+">"+st.content+"</"+st.tag+">"};function $(te,Te,xe,be){te.lastIndex=Te;var st=te.exec(xe);if(st&&be&&st[1]){var lt=st[1].length;st.index+=lt,st[0]=st[0].slice(lt)}return st}function Go(te,Te,xe,be,st,lt){for(var Rn in xe)if(!(!xe.hasOwnProperty(Rn)||!xe[Rn])){var Lt=xe[Rn];Lt=Array.isArray(Lt)?Lt:[Lt];for(var po=0;po<Lt.length;++po){if(lt&&lt.cause==Rn+","+po)return;var hs=Lt[po],co=hs.inside,zo=!!hs.lookbehind,ho=!!hs.greedy,cs=hs.alias;if(ho&&!hs.pattern.global){var eo=hs.pattern.toString().match(/[imsuy]*$/)[0];hs.pattern=RegExp(hs.pattern.source,eo+"g")}for(var Wn=hs.pattern||hs,Ko=be.next,wn=st;Ko!==Te.tail&&!(lt&&wn>=lt.reach);wn+=Ko.value.length,Ko=Ko.next){var xo=Ko.value;if(Te.length>te.length)return;if(!(xo instanceof Qe)){var is=1,Vo;if(ho){if(Vo=$(Wn,wn,te,zo),!Vo||Vo.index>=te.length)break;var mt=Vo.index,zr=Vo.index+Vo[0].length,oo=wn;for(oo+=Ko.value.length;mt>=oo;)Ko=Ko.next,oo+=Ko.value.length;if(oo-=Ko.value.length,wn=oo,Ko.value instanceof Qe)continue;for(var Da=Ko;Da!==Te.tail&&(oo<zr||typeof Da.value=="string");Da=Da.next)is++,oo+=Da.value.length;is--,xo=te.slice(wn,oo),Vo.index-=wn}else if(Vo=$(Wn,0,xo,zo),!Vo)continue;var mt=Vo.index,to=Vo[0],dr=xo.slice(0,mt),mr=xo.slice(mt+to.length),Gr=wn+xo.length;lt&&Gr>lt.reach&&(lt.reach=Gr);var Kr=Ko.prev;dr&&(Kr=Jn(Te,Kr,dr),wn+=dr.length),Co(Te,Kr,is);var Io=new Qe(Rn,co?we.tokenize(to,co):to,cs,to);if(Ko=Jn(Te,Kr,Io),mr&&Jn(Te,Ko,mr),is>1){var ha={cause:Rn+","+po,reach:Gr};Go(te,Te,xe,Ko.prev,wn,ha),lt&&ha.reach>lt.reach&&(lt.reach=ha.reach)}}}}}}function xn(){var te={value:null,prev:null,next:null},Te={value:null,prev:te,next:null};te.next=Te,this.head=te,this.tail=Te,this.length=0}function Jn(te,Te,xe){var be=Te.next,st={value:xe,prev:Te,next:be};return Te.next=st,be.prev=st,te.length++,st}function Co(te,Te,xe){for(var be=Te.next,st=0;st<xe&&be!==te.tail;st++)be=be.next;Te.next=be,be.prev=Te,te.length-=st}function sa(te){for(var Te=[],xe=te.head.next;xe!==te.tail;)Te.push(xe.value),xe=xe.next;return Te}if(!ot.document)return ot.addEventListener&&(we.disableWorkerMessageHandler||ot.addEventListener("message",function(te){var Te=JSON.parse(te.data),xe=Te.language,be=Te.code,st=Te.immediateClose;ot.postMessage(we.highlight(be,we.languages[xe],xe)),st&&ot.close()},!1)),we;var jt=we.util.currentScript();jt&&(we.filename=jt.src,jt.hasAttribute("data-manual")&&(we.manual=!0));function jn(){we.manual||we.highlightAll()}if(!we.manual){var Qt=document.readyState;Qt==="loading"||Qt==="interactive"&&jt&&jt.defer?document.addEventListener("DOMContentLoaded",jn):window.requestAnimationFrame?window.requestAnimationFrame(jn):window.setTimeout(jn,16)}return we}(Ot);return typeof Ge<"u"&&Ge.exports&&(Ge.exports=he),typeof C<"u"&&(C.Prism=he),he.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},function(ot){function Xt(vt,Dn){return"___"+vt.toUpperCase()+Dn+"___"}Object.defineProperties(ot.languages["markup-templating"]={},{buildPlaceholders:{value:function(vt,Dn,we,Qe){if(vt.language===Dn){var $=vt.tokenStack=[];vt.code=vt.code.replace(we,function(Go){if(typeof Qe=="function"&&!Qe(Go))return Go;for(var xn=$.length,Jn;vt.code.indexOf(Jn=Xt(Dn,xn))!==-1;)++xn;return $[xn]=Go,Jn}),vt.grammar=ot.languages.markup}}},tokenizePlaceholders:{value:function(vt,Dn){if(vt.language!==Dn||!vt.tokenStack)return;vt.grammar=ot.languages[Dn];var we=0,Qe=Object.keys(vt.tokenStack);function $(Go){for(var xn=0;xn<Go.length&&!(we>=Qe.length);xn++){var Jn=Go[xn];if(typeof Jn=="string"||Jn.content&&typeof Jn.content=="string"){var Co=Qe[we],sa=vt.tokenStack[Co],jt=typeof Jn=="string"?Jn:Jn.content,jn=Xt(Dn,Co),Qt=jt.indexOf(jn);if(Qt>-1){++we;var te=jt.substring(0,Qt),Te=new ot.Token(Dn,ot.tokenize(sa,vt.grammar),"language-"+Dn,sa),xe=jt.substring(Qt+jn.length),be=[];te&&be.push.apply(be,$([te])),be.push(Te),xe&&be.push.apply(be,$([xe])),typeof Jn=="string"?Go.splice.apply(Go,[xn,1].concat(be)):Jn.content=be}}else Jn.content&&$(Jn.content)}return Go}$(vt.tokens)}}})}(he),he.languages.c=he.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),he.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}}),he.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},he.languages.c.string],char:he.languages.c.char,comment:he.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:he.languages.c}}}}),he.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/}),delete he.languages.c.boolean,function(ot){var Xt=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,vt=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return Xt.source});ot.languages.cpp=ot.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return Xt.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:Xt,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),ot.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return vt})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),ot.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:ot.languages.cpp}}}}),ot.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),ot.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:ot.languages.extend("cpp",{})}}),ot.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},ot.languages.cpp["base-clause"])}(he),function(ot){function Xt(Vo,zr){return Vo.replace(/<<(\d+)>>/g,function(oo,Da){return"(?:"+zr[+Da]+")"})}function vt(Vo,zr,oo){return RegExp(Xt(Vo,zr),oo||"")}function Dn(Vo,zr){for(var oo=0;oo<zr;oo++)Vo=Vo.replace(/<<self>>/g,function(){return"(?:"+Vo+")"});return Vo.replace(/<<self>>/g,"[^\\s\\S]")}var we={type:"bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void",typeDeclaration:"class enum interface record struct",contextual:"add alias and ascending async await by descending from(?=\\s*(?:\\w|$)) get global group into init(?=\\s*;) join let nameof not notnull on or orderby partial remove select set unmanaged value when where with(?=\\s*{)",other:"abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield"};function Qe(Vo){return"\\b(?:"+Vo.trim().replace(/ /g,"|")+")\\b"}var $=Qe(we.typeDeclaration),Go=RegExp(Qe(we.type+" "+we.typeDeclaration+" "+we.contextual+" "+we.other)),xn=Qe(we.typeDeclaration+" "+we.contextual+" "+we.other),Jn=Qe(we.type+" "+we.typeDeclaration+" "+we.other),Co=Dn(/<(?:[^<>;=+\-*/%&|^]|<<self>>)*>/.source,2),sa=Dn(/\((?:[^()]|<<self>>)*\)/.source,2),jt=/@?\b[A-Za-z_]\w*\b/.source,jn=Xt(/<<0>>(?:\s*<<1>>)?/.source,[jt,Co]),Qt=Xt(/(?!<<0>>)<<1>>(?:\s*\.\s*<<1>>)*/.source,[xn,jn]),te=/\[\s*(?:,\s*)*\]/.source,Te=Xt(/<<0>>(?:\s*(?:\?\s*)?<<1>>)*(?:\s*\?)?/.source,[Qt,te]),xe=Xt(/[^,()<>[\];=+\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source,[Co,sa,te]),be=Xt(/\(<<0>>+(?:,<<0>>+)+\)/.source,[xe]),st=Xt(/(?:<<0>>|<<1>>)(?:\s*(?:\?\s*)?<<2>>)*(?:\s*\?)?/.source,[be,Qt,te]),lt={keyword:Go,punctuation:/[<>()?,.:[\]]/},Rn=/'(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'/.source,Lt=/"(?:\\.|[^\\"\r\n])*"/.source,po=/@"(?:""|\\[\s\S]|[^\\"])*"(?!")/.source;ot.languages.csharp=ot.languages.extend("clike",{string:[{pattern:vt(/(^|[^$\\])<<0>>/.source,[po]),lookbehind:!0,greedy:!0},{pattern:vt(/(^|[^@$\\])<<0>>/.source,[Lt]),lookbehind:!0,greedy:!0}],"class-name":[{pattern:vt(/(\busing\s+static\s+)<<0>>(?=\s*;)/.source,[Qt]),lookbehind:!0,inside:lt},{pattern:vt(/(\busing\s+<<0>>\s*=\s*)<<1>>(?=\s*;)/.source,[jt,st]),lookbehind:!0,inside:lt},{pattern:vt(/(\busing\s+)<<0>>(?=\s*=)/.source,[jt]),lookbehind:!0},{pattern:vt(/(\b<<0>>\s+)<<1>>/.source,[$,jn]),lookbehind:!0,inside:lt},{pattern:vt(/(\bcatch\s*\(\s*)<<0>>/.source,[Qt]),lookbehind:!0,inside:lt},{pattern:vt(/(\bwhere\s+)<<0>>/.source,[jt]),lookbehind:!0},{pattern:vt(/(\b(?:is(?:\s+not)?|as)\s+)<<0>>/.source,[Te]),lookbehind:!0,inside:lt},{pattern:vt(/\b<<0>>(?=\s+(?!<<1>>|with\s*\{)<<2>>(?:\s*[=,;:{)\]]|\s+(?:in|when)\b))/.source,[st,Jn,jt]),inside:lt}],keyword:Go,number:/(?:\b0(?:x[\da-f_]*[\da-f]|b[01_]*[01])|(?:\B\.\d+(?:_+\d+)*|\b\d+(?:_+\d+)*(?:\.\d+(?:_+\d+)*)?)(?:e[-+]?\d+(?:_+\d+)*)?)(?:[dflmu]|lu|ul)?\b/i,operator:/>>=?|<<=?|[-=]>|([-+&|])\1|~|\?\?=?|[-+*/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/}),ot.languages.insertBefore("csharp","number",{range:{pattern:/\.\./,alias:"operator"}}),ot.languages.insertBefore("csharp","punctuation",{"named-parameter":{pattern:vt(/([(,]\s*)<<0>>(?=\s*:)/.source,[jt]),lookbehind:!0,alias:"punctuation"}}),ot.languages.insertBefore("csharp","class-name",{namespace:{pattern:vt(/(\b(?:namespace|using)\s+)<<0>>(?:\s*\.\s*<<0>>)*(?=\s*[;{])/.source,[jt]),lookbehind:!0,inside:{punctuation:/\./}},"type-expression":{pattern:vt(/(\b(?:default|sizeof|typeof)\s*\(\s*(?!\s))(?:[^()\s]|\s(?!\s)|<<0>>)*(?=\s*\))/.source,[sa]),lookbehind:!0,alias:"class-name",inside:lt},"return-type":{pattern:vt(/<<0>>(?=\s+(?:<<1>>\s*(?:=>|[({]|\.\s*this\s*\[)|this\s*\[))/.source,[st,Qt]),inside:lt,alias:"class-name"},"constructor-invocation":{pattern:vt(/(\bnew\s+)<<0>>(?=\s*[[({])/.source,[st]),lookbehind:!0,inside:lt,alias:"class-name"},"generic-method":{pattern:vt(/<<0>>\s*<<1>>(?=\s*\()/.source,[jt,Co]),inside:{function:vt(/^<<0>>/.source,[jt]),generic:{pattern:RegExp(Co),alias:"class-name",inside:lt}}},"type-list":{pattern:vt(/\b((?:<<0>>\s+<<1>>|record\s+<<1>>\s*<<5>>|where\s+<<2>>)\s*:\s*)(?:<<3>>|<<4>>|<<1>>\s*<<5>>|<<6>>)(?:\s*,\s*(?:<<3>>|<<4>>|<<6>>))*(?=\s*(?:where|[{;]|=>|$))/.source,[$,jn,jt,st,Go.source,sa,/\bnew\s*\(\s*\)/.source]),lookbehind:!0,inside:{"record-arguments":{pattern:vt(/(^(?!new\s*\()<<0>>\s*)<<1>>/.source,[jn,sa]),lookbehind:!0,greedy:!0,inside:ot.languages.csharp},keyword:Go,"class-name":{pattern:RegExp(st),greedy:!0,inside:lt},punctuation:/[,()]/}},preprocessor:{pattern:/(^[\t ]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(#)\b(?:define|elif|else|endif|endregion|error|if|line|nullable|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});var hs=Lt+"|"+Rn,co=Xt(/\/(?![*/])|\/\/[^\r\n]*[\r\n]|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>/.source,[hs]),zo=Dn(Xt(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[co]),2),ho=/\b(?:assembly|event|field|method|module|param|property|return|type)\b/.source,cs=Xt(/<<0>>(?:\s*\(<<1>>*\))?/.source,[Qt,zo]);ot.languages.insertBefore("csharp","class-name",{attribute:{pattern:vt(/((?:^|[^\s\w>)?])\s*\[\s*)(?:<<0>>\s*:\s*)?<<1>>(?:\s*,\s*<<1>>)*(?=\s*\])/.source,[ho,cs]),lookbehind:!0,greedy:!0,inside:{target:{pattern:vt(/^<<0>>(?=\s*:)/.source,[ho]),alias:"keyword"},"attribute-arguments":{pattern:vt(/\(<<0>>*\)/.source,[zo]),inside:ot.languages.csharp},"class-name":{pattern:RegExp(Qt),inside:{punctuation:/\./}},punctuation:/[:,]/}}});var eo=/:[^}\r\n]+/.source,Wn=Dn(Xt(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[co]),2),Ko=Xt(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[Wn,eo]),wn=Dn(Xt(/[^"'/()]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>|\(<<self>>*\)/.source,[hs]),2),xo=Xt(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[wn,eo]);function is(Vo,zr){return{interpolation:{pattern:vt(/((?:^|[^{])(?:\{\{)*)<<0>>/.source,[Vo]),lookbehind:!0,inside:{"format-string":{pattern:vt(/(^\{(?:(?![}:])<<0>>)*)<<1>>(?=\}$)/.source,[zr,eo]),lookbehind:!0,inside:{punctuation:/^:/}},punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-csharp",inside:ot.languages.csharp}}},string:/[\s\S]+/}}ot.languages.insertBefore("csharp","string",{"interpolation-string":[{pattern:vt(/(^|[^\\])(?:\$@|@\$)"(?:""|\\[\s\S]|\{\{|<<0>>|[^\\{"])*"/.source,[Ko]),lookbehind:!0,greedy:!0,inside:is(Ko,Wn)},{pattern:vt(/(^|[^@\\])\$"(?:\\.|\{\{|<<0>>|[^\\"{])*"/.source,[xo]),lookbehind:!0,greedy:!0,inside:is(xo,wn)}],char:{pattern:RegExp(Rn),greedy:!0}}),ot.languages.dotnet=ot.languages.cs=ot.languages.csharp}(he),function(ot){var Xt=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;ot.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+Xt.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+Xt.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+Xt.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+Xt.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:Xt,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},ot.languages.css.atrule.inside.rest=ot.languages.css;var vt=ot.languages.markup;vt&&(vt.tag.addInlined("style","css"),vt.tag.addAttribute("style","css"))}(he),function(ot){var Xt=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,vt=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,Dn={pattern:RegExp(/(^|[^\w.])/.source+vt+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};ot.languages.java=ot.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[Dn,{pattern:RegExp(/(^|[^\w.])/.source+vt+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:Dn.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+vt+/[A-Z]\w*\b/.source),lookbehind:!0,inside:Dn.inside}],keyword:Xt,function:[ot.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),ot.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),ot.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":Dn,keyword:Xt,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+vt+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:Dn.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+vt+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:Dn.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return Xt.source})),lookbehind:!0,inside:{punctuation:/\./}}})}(he),he.languages.javascript=he.languages.extend("clike",{"class-name":[he.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),he.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,he.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:he.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:he.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:he.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:he.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:he.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),he.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:he.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),he.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),he.languages.markup&&(he.languages.markup.tag.addInlined("script","javascript"),he.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),he.languages.js=he.languages.javascript,he.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},he.languages.markup.tag.inside["attr-value"].inside.entity=he.languages.markup.entity,he.languages.markup.doctype.inside["internal-subset"].inside=he.languages.markup,he.hooks.add("wrap",function(ot){ot.type==="entity"&&(ot.attributes.title=ot.content.replace(/&amp;/,"&"))}),Object.defineProperty(he.languages.markup.tag,"addInlined",{value:function(Xt,vt){var Dn={};Dn["language-"+vt]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:he.languages[vt]},Dn.cdata=/^<!\[CDATA\[|\]\]>$/i;var we={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:Dn}};we["language-"+vt]={pattern:/[\s\S]+/,inside:he.languages[vt]};var Qe={};Qe[Xt]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return Xt}),"i"),lookbehind:!0,greedy:!0,inside:we},he.languages.insertBefore("markup","cdata",Qe)}}),Object.defineProperty(he.languages.markup.tag,"addAttribute",{value:function(ot,Xt){he.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+ot+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[Xt,"language-"+Xt],inside:he.languages[Xt]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),he.languages.html=he.languages.markup,he.languages.mathml=he.languages.markup,he.languages.svg=he.languages.markup,he.languages.xml=he.languages.extend("markup",{}),he.languages.ssml=he.languages.xml,he.languages.atom=he.languages.xml,he.languages.rss=he.languages.xml,function(ot){var Xt=/\/\*[\s\S]*?\*\/|\/\/.*|#(?!\[).*/,vt=[{pattern:/\b(?:false|true)\b/i,alias:"boolean"},{pattern:/(::\s*)\b[a-z_]\w*\b(?!\s*\()/i,greedy:!0,lookbehind:!0},{pattern:/(\b(?:case|const)\s+)\b[a-z_]\w*(?=\s*[;=])/i,greedy:!0,lookbehind:!0},/\b(?:null)\b/i,/\b[A-Z_][A-Z0-9_]*\b(?!\s*\()/],Dn=/\b0b[01]+(?:_[01]+)*\b|\b0o[0-7]+(?:_[0-7]+)*\b|\b0x[\da-f]+(?:_[\da-f]+)*\b|(?:\b\d+(?:_\d+)*\.?(?:\d+(?:_\d+)*)?|\B\.\d+)(?:e[+-]?\d+)?/i,we=/<?=>|\?\?=?|\.{3}|\??->|[!=]=?=?|::|\*\*=?|--|\+\+|&&|\|\||<<|>>|[?~]|[/^|%*&<>.+-]=?/,Qe=/[{}\[\](),:;]/;ot.languages.php={delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"},comment:Xt,variable:/\$+(?:\w+\b|(?=\{))/,package:{pattern:/(namespace\s+|use\s+(?:function\s+)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,lookbehind:!0,inside:{punctuation:/\\/}},"class-name-definition":{pattern:/(\b(?:class|enum|interface|trait)\s+)\b[a-z_]\w*(?!\\)\b/i,lookbehind:!0,alias:"class-name"},"function-definition":{pattern:/(\bfunction\s+)[a-z_]\w*(?=\s*\()/i,lookbehind:!0,alias:"function"},keyword:[{pattern:/(\(\s*)\b(?:array|bool|boolean|float|int|integer|object|string)\b(?=\s*\))/i,alias:"type-casting",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|object|self|static|string)\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|never|object|self|static|string|void)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/\b(?:array(?!\s*\()|bool|float|int|iterable|mixed|object|string|void)\b/i,alias:"type-declaration",greedy:!0},{pattern:/(\|\s*)(?:false|null)\b|\b(?:false|null)(?=\s*\|)/i,alias:"type-declaration",greedy:!0,lookbehind:!0},{pattern:/\b(?:parent|self|static)(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(\byield\s+)from\b/i,lookbehind:!0},/\bclass\b/i,{pattern:/((?:^|[^\s>:]|(?:^|[^-])>|(?:^|[^:]):)\s*)\b(?:abstract|and|array|as|break|callable|case|catch|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|enum|eval|exit|extends|final|finally|fn|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|match|namespace|never|new|or|parent|print|private|protected|public|readonly|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield|__halt_compiler)\b/i,lookbehind:!0}],"argument-name":{pattern:/([(,]\s*)\b[a-z_]\w*(?=\s*:(?!:))/i,lookbehind:!0},"class-name":[{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self|\s+static))\s+|\bcatch\s*\()\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/(\|\s*)\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/\b[a-z_]\w*(?!\\)\b(?=\s*\|)/i,greedy:!0},{pattern:/(\|\s*)(?:\\?\b[a-z_]\w*)+\b/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(?:\\?\b[a-z_]\w*)+\b(?=\s*\|)/i,alias:"class-name-fully-qualified",greedy:!0,inside:{punctuation:/\\/}},{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self\b|\s+static\b))\s+|\bcatch\s*\()(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*\$)/i,alias:"type-declaration",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-declaration"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*::)/i,alias:["class-name-fully-qualified","static-context"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/([(,?]\s*)[a-z_]\w*(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-hint"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b[a-z_]\w*(?!\\)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:["class-name-fully-qualified","return-type"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:vt,function:{pattern:/(^|[^\\\w])\\?[a-z_](?:[\w\\]*\w)?(?=\s*\()/i,lookbehind:!0,inside:{punctuation:/\\/}},property:{pattern:/(->\s*)\w+/,lookbehind:!0},number:Dn,operator:we,punctuation:Qe};var $={pattern:/\{\$(?:\{(?:\{[^{}]+\}|[^{}]+)\}|[^{}])+\}|(^|[^\\{])\$+(?:\w+(?:\[[^\r\n\[\]]+\]|->\w+)?)/,lookbehind:!0,inside:ot.languages.php},Go=[{pattern:/<<<'([^']+)'[\r\n](?:.*[\r\n])*?\1;/,alias:"nowdoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},{pattern:/<<<(?:"([^"]+)"[\r\n](?:.*[\r\n])*?\1;|([a-z_]\w*)[\r\n](?:.*[\r\n])*?\2;)/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:$}},{pattern:/`(?:\\[\s\S]|[^\\`])*`/,alias:"backtick-quoted-string",greedy:!0},{pattern:/'(?:\\[\s\S]|[^\\'])*'/,alias:"single-quoted-string",greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,alias:"double-quoted-string",greedy:!0,inside:{interpolation:$}}];ot.languages.insertBefore("php","variable",{string:Go,attribute:{pattern:/#\[(?:[^"'\/#]|\/(?![*/])|\/\/.*$|#(?!\[).*$|\/\*(?:[^*]|\*(?!\/))*\*\/|"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*')+\](?=\s*[a-z$#])/im,greedy:!0,inside:{"attribute-content":{pattern:/^(#\[)[\s\S]+(?=\]$)/,lookbehind:!0,inside:{comment:Xt,string:Go,"attribute-class-name":[{pattern:/([^:]|^)\b[a-z_]\w*(?!\\)\b/i,alias:"class-name",greedy:!0,lookbehind:!0},{pattern:/([^:]|^)(?:\\?\b[a-z_]\w*)+/i,alias:["class-name","class-name-fully-qualified"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:vt,number:Dn,operator:we,punctuation:Qe}},delimiter:{pattern:/^#\[|\]$/,alias:"punctuation"}}}}),ot.hooks.add("before-tokenize",function(xn){if(/<\?/.test(xn.code)){var Jn=/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#(?!\[))(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|#\[|\/\*(?:[^*]|\*(?!\/))*(?:\*\/|$))*?(?:\?>|$)/g;ot.languages["markup-templating"].buildPlaceholders(xn,"php",Jn)}}),ot.hooks.add("after-tokenize",function(xn){ot.languages["markup-templating"].tokenizePlaceholders(xn,"php")})}(he),he.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},he.languages.python["string-interpolation"].inside.interpolation.inside.rest=he.languages.python,he.languages.py=he.languages.python,function(ot){ot.languages.ruby=ot.languages.extend("clike",{comment:{pattern:/#.*|^=begin\s[\s\S]*?^=end/m,greedy:!0},"class-name":{pattern:/(\b(?:class|module)\s+|\bcatch\s+\()[\w.\\]+|\b[A-Z_]\w*(?=\s*\.\s*new\b)/,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:BEGIN|END|alias|and|begin|break|case|class|def|define_method|defined|do|each|else|elsif|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|private|protected|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/,operator:/\.{2,3}|&\.|===|<?=>|[!=]?~|(?:&&|\|\||<<|>>|\*\*|[+\-*/%<>!^&|=])=?|[?:]/,punctuation:/[(){}[\].,;]/}),ot.languages.insertBefore("ruby","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}});var Xt={pattern:/((?:^|[^\\])(?:\\{2})*)#\{(?:[^{}]|\{[^{}]*\})*\}/,lookbehind:!0,inside:{content:{pattern:/^(#\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:ot.languages.ruby},delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"}}};delete ot.languages.ruby.function;var vt="(?:"+[/([^a-zA-Z0-9\s{(\[<=])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S]|\((?:[^()\\]|\\[\s\S])*\))*\)/.source,/\{(?:[^{}\\]|\\[\s\S]|\{(?:[^{}\\]|\\[\s\S])*\})*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S]|\[(?:[^\[\]\\]|\\[\s\S])*\])*\]/.source,/<(?:[^<>\\]|\\[\s\S]|<(?:[^<>\\]|\\[\s\S])*>)*>/.source].join("|")+")",Dn=/(?:"(?:\\.|[^"\\\r\n])*"|(?:\b[a-zA-Z_]\w*|[^\s\0-\x7F]+)[?!]?|\$.)/.source;ot.languages.insertBefore("ruby","keyword",{"regex-literal":[{pattern:RegExp(/%r/.source+vt+/[egimnosux]{0,6}/.source),greedy:!0,inside:{interpolation:Xt,regex:/[\s\S]+/}},{pattern:/(^|[^/])\/(?!\/)(?:\[[^\r\n\]]+\]|\\.|[^[/\\\r\n])+\/[egimnosux]{0,6}(?=\s*(?:$|[\r\n,.;})#]))/,lookbehind:!0,greedy:!0,inside:{interpolation:Xt,regex:/[\s\S]+/}}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:[{pattern:RegExp(/(^|[^:]):/.source+Dn),lookbehind:!0,greedy:!0},{pattern:RegExp(/([\r\n{(,][ \t]*)/.source+Dn+/(?=:(?!:))/.source),lookbehind:!0,greedy:!0}],"method-definition":{pattern:/(\bdef\s+)\w+(?:\s*\.\s*\w+)?/,lookbehind:!0,inside:{function:/\b\w+$/,keyword:/^self\b/,"class-name":/^\w+/,punctuation:/\./}}}),ot.languages.insertBefore("ruby","string",{"string-literal":[{pattern:RegExp(/%[qQiIwWs]?/.source+vt),greedy:!0,inside:{interpolation:Xt,string:/[\s\S]+/}},{pattern:/("|')(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|(?!\1)[^\\#\r\n])*\1/,greedy:!0,inside:{interpolation:Xt,string:/[\s\S]+/}},{pattern:/<<[-~]?([a-z_]\w*)[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?[a-z_]\w*|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?/}},interpolation:Xt,string:/[\s\S]+/}},{pattern:/<<[-~]?'([a-z_]\w*)'[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?'[a-z_]\w*'|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?'|'$/}},string:/[\s\S]+/}}],"command-literal":[{pattern:RegExp(/%x/.source+vt),greedy:!0,inside:{interpolation:Xt,command:{pattern:/[\s\S]+/,alias:"string"}}},{pattern:/`(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|[^\\`#\r\n])*`/,greedy:!0,inside:{interpolation:Xt,command:{pattern:/[\s\S]+/,alias:"string"}}}]}),delete ot.languages.ruby.string,ot.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Fixnum|Float|Hash|IO|Integer|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|Stat|String|Struct|Symbol|TMS|Thread|ThreadGroup|Time|TrueClass)\b/,constant:/\b[A-Z][A-Z0-9_]*(?:[?!]|\b)/}),ot.languages.rb=ot.languages.ruby}(he),window.Prism=Yt,he}(void 0,void 0),rs=C=>Ge=>Ge.options.get(C),as=C=>{const Ge=C.options.register;Ge("codesample_languages",{processor:"object[]"}),Ge("codesample_global_prismjs",{processor:"boolean",default:!1})},ts=rs("codesample_languages"),lr=rs("codesample_global_prismjs"),fo=C=>Xn.Prism&&lr(C)?Xn.Prism:uo,xt=C=>oa(C)&&C.nodeName==="PRE"&&C.className.indexOf("language-")!==-1,No=C=>{const Ge=C.selection?C.selection.getNode():null;return xt(Ge)?Mo.some(Ge):Mo.none()},en=(C,Ge,Me)=>{const Yt=C.dom;C.undoManager.transact(()=>{const Ot=No(C);return Me=Un.DOM.encode(Me),Ot.fold(()=>{C.insertContent('<pre id="__new" class="language-'+Ge+'">'+Me+"</pre>");const he=Yt.select("#__new")[0];Yt.setAttrib(he,"id",null),C.selection.select(he)},he=>{Yt.setAttrib(he,"class","language-"+Ge),he.innerHTML=Me,fo(C).highlightElement(he),C.selection.select(he)})})},ae=C=>No(C).bind(Me=>Mo.from(Me.textContent)).getOr(""),wt=C=>{const Ge=[{text:"HTML/XML",value:"markup"},{text:"JavaScript",value:"javascript"},{text:"CSS",value:"css"},{text:"PHP",value:"php"},{text:"Ruby",value:"ruby"},{text:"Python",value:"python"},{text:"Java",value:"java"},{text:"C",value:"c"},{text:"C#",value:"csharp"},{text:"C++",value:"cpp"}],Me=ts(C);return Me||Ge},ur=(C,Ge)=>No(C).fold(()=>Ge,Yt=>{const Ot=Yt.className.match(/language-(\w+)/);return Ot?Ot[1]:Ge}),bt=C=>{const Ge=wt(C),Me=on(Ge).fold(Ms(""),he=>he.value),Yt=ur(C,Me),Ot=ae(C);C.windowManager.open({title:"Insert/Edit Code Sample",size:"large",body:{type:"panel",items:[{type:"listbox",name:"language",label:"Language",items:Ge},{type:"textarea",name:"code",label:"Code view"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{language:Yt,code:Ot},onSubmit:he=>{const ot=he.getData();en(C,ot.language,ot.code),he.close()}})},Z=C=>{C.addCommand("codesample",()=>{const Ge=C.selection.getNode();C.selection.isCollapsed()||xt(Ge)?bt(C):C.formatter.toggle("code")})},go=(C=>Ge=>Ge.replace(C,""))(/^\s+|\s+$/g);var gn=tinymce.util.Tools.resolve("tinymce.util.Tools");const Ne=C=>{C.on("PreProcess",Ge=>{const Me=C.dom,Yt=Me.select("pre[contenteditable=false]",Ge.node);gn.each(gn.grep(Yt,xt),Ot=>{const he=Ot.textContent;Me.setAttrib(Ot,"class",go(Me.getAttrib(Ot,"class"))),Me.setAttrib(Ot,"contentEditable",null),Me.setAttrib(Ot,"data-mce-highlighted",null);let ot;for(;ot=Ot.firstChild;)Ot.removeChild(ot);const Xt=Me.add(Ot,"code");Xt.textContent=he})}),C.on("SetContent",()=>{const Ge=C.dom,Me=gn.grep(Ge.select("pre"),Yt=>xt(Yt)&&Ge.getAttrib(Yt,"data-mce-highlighted")!=="true");Me.length&&C.undoManager.transact(()=>{gn.each(Me,Yt=>{var Ot;gn.each(Ge.select("br",Yt),he=>{Ge.replace(C.getDoc().createTextNode(`
`),he)}),Yt.innerHTML=Ge.encode((Ot=Yt.textContent)!==null&&Ot!==void 0?Ot:""),fo(C).highlightElement(Yt),Ge.setAttrib(Yt,"data-mce-highlighted",!0),Yt.className=go(Yt.className)})})}),C.on("PreInit",()=>{C.parser.addNodeFilter("pre",Ge=>{var Me;for(let Yt=0,Ot=Ge.length;Yt<Ot;Yt++){const he=Ge[Yt];((Me=he.attr("class"))!==null&&Me!==void 0?Me:"").indexOf("language-")!==-1&&(he.attr("contenteditable","false"),he.attr("data-mce-highlighted","false"))}})})},ue=(C,Ge=Bs)=>Me=>{const Yt=()=>{Me.setEnabled(C.selection.isEditable()),Ge(Me)};return C.on("NodeChange",Yt),Yt(),()=>{C.off("NodeChange",Yt)}},Wo=C=>{const Ge=C.selection.getStart();return C.dom.is(Ge,'pre[class*="language-"]')},Ae=C=>{const Ge=()=>C.execCommand("codesample");C.ui.registry.addToggleButton("codesample",{icon:"code-sample",tooltip:"Insert/edit code sample",onAction:Ge,onSetup:ue(C,Me=>{Me.setActive(Wo(C))})}),C.ui.registry.addMenuItem("codesample",{text:"Code sample...",icon:"code-sample",onAction:Ge,onSetup:ue(C)})};var ze=()=>{Oa.add("codesample",C=>{as(C),Ne(C),Ae(C),Z(C),C.on("dblclick",Ge=>{xt(Ge.target)&&bt(C)})})};ze()})();(function(){var Oa=tinymce.util.Tools.resolve("tinymce.PluginManager");const nr=Te=>xe=>Te===xe,oa=nr(null),Bs=nr(void 0),Ms=Te=>Te==null,Mo=Te=>!Ms(Te),ks=()=>{},Un=(Te=>()=>Te)(!1);class Xn{constructor(xe,be){this.tag=xe,this.value=be}static some(xe){return new Xn(!0,xe)}static none(){return Xn.singletonNone}fold(xe,be){return this.tag?be(this.value):xe()}isSome(){return this.tag}isNone(){return!this.tag}map(xe){return this.tag?Xn.some(xe(this.value)):Xn.none()}bind(xe){return this.tag?xe(this.value):Xn.none()}exists(xe){return this.tag&&xe(this.value)}forall(xe){return!this.tag||xe(this.value)}filter(xe){return!this.tag||xe(this.value)?this:Xn.none()}getOr(xe){return this.tag?this.value:xe}or(xe){return this.tag?this:xe}getOrThunk(xe){return this.tag?this.value:xe()}orThunk(xe){return this.tag?this:xe()}getOrDie(xe){if(this.tag)return this.value;throw new Error(xe??"Called getOrDie on None")}static from(xe){return Mo(xe)?Xn.some(xe):Xn.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(xe){this.tag&&xe(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Xn.singletonNone=new Xn(!1);const uo=(Te,xe)=>{for(let be=0,st=Te.length;be<st;be++){const lt=Te[be];if(xe(lt,be))return!0}return!1},rs=(Te,xe)=>{const be=Te.length,st=new Array(be);for(let lt=0;lt<be;lt++){const Rn=Te[lt];st[lt]=xe(Rn,lt)}return st},as=(Te,xe)=>{for(let be=0,st=Te.length;be<st;be++){const lt=Te[be];xe(lt,be)}},ts=Te=>{let xe=Te;return{get:()=>xe,set:lt=>{xe=lt}}},lr=(Te,xe)=>{let be=null;const st=()=>{oa(be)||(clearTimeout(be),be=null)};return{cancel:st,throttle:(...Rn)=>{st(),be=setTimeout(()=>{be=null,Te.apply(null,Rn)},xe)}}},fo=(Te,xe)=>{Te.insertContent(xe)},xt=Object.keys,No=Object.hasOwnProperty,en=(Te,xe)=>{const be=xt(Te);for(let st=0,lt=be.length;st<lt;st++){const Rn=be[st],Lt=Te[Rn];xe(Lt,Rn)}},ae=(Te,xe)=>wt(Te,(be,st)=>({k:st,v:xe(be,st)})),wt=(Te,xe)=>{const be={};return en(Te,(st,lt)=>{const Rn=xe(st,lt);be[Rn.k]=Rn.v}),be},ur=(Te,xe)=>No.call(Te,xe),zt=(Te=>(...xe)=>{if(xe.length===0)throw new Error("Can't merge zero objects");const be={};for(let st=0;st<xe.length;st++){const lt=xe[st];for(const Rn in lt)ur(lt,Rn)&&(be[Rn]=Te(be[Rn],lt[Rn]))}return be})((Te,xe)=>xe),go=Te=>{const xe=ts(Xn.none()),be=()=>xe.get().each(Te);return{clear:()=>{be(),xe.set(Xn.none())},isSet:()=>xe.get().isSome(),get:()=>xe.get(),set:po=>{be(),xe.set(Xn.some(po))}}},gn=()=>{const Te=go(ks);return{...Te,on:be=>Te.get().each(be)}},Ne=(Te,xe,be)=>xe===""||Te.length>=xe.length&&Te.substr(be,be+xe.length)===xe,ue=(Te,xe,be=0,st)=>{const lt=Te.indexOf(xe,be);return lt!==-1?Bs(st)?!0:lt+xe.length<=st:!1},Wo=(Te,xe)=>Ne(Te,xe,0);var Ae=tinymce.util.Tools.resolve("tinymce.Resource");const ze="tinymce.plugins.emoticons",C=Te=>xe=>xe.options.get(Te),Ge=(Te,xe)=>{const be=Te.options.register;be("emoticons_database",{processor:"string",default:"emojis"}),be("emoticons_database_url",{processor:"string",default:`${xe}/js/${Me(Te)}${Te.suffix}.js`}),be("emoticons_database_id",{processor:"string",default:ze}),be("emoticons_append",{processor:"object",default:{}}),be("emoticons_images_url",{processor:"string",default:"https://cdnjs.cloudflare.com/ajax/libs/twemoji/15.1.0/72x72/"})},Me=C("emoticons_database"),Yt=C("emoticons_database_url"),Ot=C("emoticons_database_id"),he=C("emoticons_append"),ot=C("emoticons_images_url"),Xt="All",vt={symbols:"Symbols",people:"People",animals_and_nature:"Animals and Nature",food_and_drink:"Food and Drink",activity:"Activity",travel_and_places:"Travel and Places",objects:"Objects",flags:"Flags",user:"User Defined"},Dn=(Te,xe)=>ur(Te,xe)?Te[xe]:xe,we=Te=>{const xe=he(Te);return ae(xe,be=>({keywords:[],category:"user",...be}))},Qe=(Te,xe,be)=>{const st=gn(),lt=gn(),Rn=ot(Te),Lt=eo=>Wo(eo.char,"<img")?eo.char.replace(/src="([^"]+)"/,(Wn,Ko)=>`src="${Rn}${Ko}"`):eo.char,po=eo=>{const Wn={},Ko=[];en(eo,(wn,xo)=>{const is={title:xo,keywords:wn.keywords,char:Lt(wn),category:Dn(vt,wn.category)},Vo=Wn[is.category]!==void 0?Wn[is.category]:[];Wn[is.category]=Vo.concat([is]),Ko.push(is)}),st.set(Wn),lt.set(Ko)};Te.on("init",()=>{Ae.load(be,xe).then(eo=>{const Wn=we(Te);po(zt(eo,Wn))},eo=>{console.log(`Failed to load emojis: ${eo}`),st.set({}),lt.set([])})});const hs=eo=>eo===Xt?co():st.get().bind(Wn=>Xn.from(Wn[eo])).getOr([]),co=()=>lt.get().getOr([]),zo=()=>[Xt].concat(xt(st.get().getOr({}))),ho=()=>cs()?Promise.resolve(!0):new Promise((eo,Wn)=>{let Ko=15;const wn=setInterval(()=>{cs()?(clearInterval(wn),eo(!0)):(Ko--,Ko<0&&(console.log("Could not load emojis from url: "+xe),clearInterval(wn),Wn(!1)))},100)}),cs=()=>st.isSet()&&lt.isSet();return{listCategories:zo,hasLoaded:cs,waitForLoad:ho,listAll:co,listCategory:hs}},$=(Te,xe)=>ue(Te.title.toLowerCase(),xe)||uo(Te.keywords,be=>ue(be.toLowerCase(),xe)),Go=(Te,xe,be)=>{const st=[],lt=xe.toLowerCase(),Rn=be.fold(()=>Un,Lt=>po=>po>=Lt);for(let Lt=0;Lt<Te.length&&!((xe.length===0||$(Te[Lt],lt))&&(st.push({value:Te[Lt].char,text:Te[Lt].title,icon:Te[Lt].char}),Rn(st.length)));Lt++);return st},xn="pattern",Jn=(Te,xe)=>{const be={pattern:"",results:Go(xe.listAll(),"",Xn.some(300))},st=ts(Xt),lt=zo=>{const ho=zo.getData(),cs=st.get(),eo=xe.listCategory(cs),Wn=Go(eo,ho[xn],cs===Xt?Xn.some(300):Xn.none());zo.setData({results:Wn})},Rn=lr(zo=>{lt(zo)},200),Lt={label:"Search",type:"input",name:xn},po={type:"collection",name:"results"},hs=()=>({title:"Emojis",size:"normal",body:{type:"tabpanel",tabs:rs(xe.listCategories(),ho=>({title:ho,name:ho,items:[Lt,po]}))},initialData:be,onTabChange:(ho,cs)=>{st.set(cs.newTabName),Rn.throttle(ho)},onChange:Rn.throttle,onAction:(ho,cs)=>{cs.name==="results"&&(fo(Te,cs.value),ho.close())},buttons:[{type:"cancel",text:"Close",primary:!0}]}),co=Te.windowManager.open(hs());co.focus(xn),xe.hasLoaded()||(co.block("Loading emojis..."),xe.waitForLoad().then(()=>{co.redial(hs()),Rn.throttle(co),co.focus(xn),co.unblock()}).catch(zo=>{co.redial({title:"Emojis",body:{type:"panel",items:[{type:"alertbanner",level:"error",icon:"warning",text:"Could not load emojis"}]},buttons:[{type:"cancel",text:"Close",primary:!0}],initialData:{pattern:"",results:[]}}),co.focus(xn),co.unblock()}))},Co=(Te,xe)=>{Te.addCommand("mceEmoticons",()=>Jn(Te,xe))},sa=Te=>{Te.on("PreInit",()=>{Te.parser.addAttributeFilter("data-emoticon",xe=>{as(xe,be=>{be.attr("data-mce-resize","false"),be.attr("data-mce-placeholder","1")})})})},jt=(Te,xe)=>{Te.ui.registry.addAutocompleter("emoticons",{trigger:":",columns:"auto",minChars:2,fetch:(be,st)=>xe.waitForLoad().then(()=>{const lt=xe.listAll();return Go(lt,be,Xn.some(st))}),onAction:(be,st,lt)=>{Te.selection.setRng(st),Te.insertContent(lt),be.hide()}})},jn=Te=>xe=>{const be=()=>{xe.setEnabled(Te.selection.isEditable())};return Te.on("NodeChange",be),be(),()=>{Te.off("NodeChange",be)}},Qt=Te=>{const xe=()=>Te.execCommand("mceEmoticons");Te.ui.registry.addButton("emoticons",{tooltip:"Emojis",icon:"emoji",onAction:xe,onSetup:jn(Te)}),Te.ui.registry.addMenuItem("emoticons",{text:"Emojis...",icon:"emoji",onAction:xe,onSetup:jn(Te)})};var te=()=>{Oa.add("emoticons",(Te,xe)=>{Ge(Te,xe);const be=Yt(Te),st=Ot(Te),lt=Qe(Te,be,st);return Co(Te,lt),Qt(Te),jt(Te,lt),sa(Te),{getAllEmojis:()=>lt.waitForLoad().then(()=>lt.listAll())}})};te()})();window.tinymce.Resource.add("tinymce.plugins.emoticons",{grinning:{keywords:["face","smile","happy","joy",":D","grin"],char:"😀",fitzpatrick_scale:!1,category:"people"},grimacing:{keywords:["face","grimace","teeth"],char:"😬",fitzpatrick_scale:!1,category:"people"},grin:{keywords:["face","happy","smile","joy","kawaii"],char:"😁",fitzpatrick_scale:!1,category:"people"},joy:{keywords:["face","cry","tears","weep","happy","happytears","haha"],char:"😂",fitzpatrick_scale:!1,category:"people"},rofl:{keywords:["face","rolling","floor","laughing","lol","haha"],char:"🤣",fitzpatrick_scale:!1,category:"people"},partying:{keywords:["face","celebration","woohoo"],char:"🥳",fitzpatrick_scale:!1,category:"people"},smiley:{keywords:["face","happy","joy","haha",":D",":)","smile","funny"],char:"😃",fitzpatrick_scale:!1,category:"people"},smile:{keywords:["face","happy","joy","funny","haha","laugh","like",":D",":)"],char:"😄",fitzpatrick_scale:!1,category:"people"},sweat_smile:{keywords:["face","hot","happy","laugh","sweat","smile","relief"],char:"😅",fitzpatrick_scale:!1,category:"people"},laughing:{keywords:["happy","joy","lol","satisfied","haha","face","glad","XD","laugh"],char:"😆",fitzpatrick_scale:!1,category:"people"},innocent:{keywords:["face","angel","heaven","halo"],char:"😇",fitzpatrick_scale:!1,category:"people"},wink:{keywords:["face","happy","mischievous","secret",";)","smile","eye"],char:"😉",fitzpatrick_scale:!1,category:"people"},blush:{keywords:["face","smile","happy","flushed","crush","embarrassed","shy","joy"],char:"😊",fitzpatrick_scale:!1,category:"people"},slightly_smiling_face:{keywords:["face","smile"],char:"🙂",fitzpatrick_scale:!1,category:"people"},upside_down_face:{keywords:["face","flipped","silly","smile"],char:"🙃",fitzpatrick_scale:!1,category:"people"},relaxed:{keywords:["face","blush","massage","happiness"],char:"☺️",fitzpatrick_scale:!1,category:"people"},yum:{keywords:["happy","joy","tongue","smile","face","silly","yummy","nom","delicious","savouring"],char:"😋",fitzpatrick_scale:!1,category:"people"},relieved:{keywords:["face","relaxed","phew","massage","happiness"],char:"😌",fitzpatrick_scale:!1,category:"people"},heart_eyes:{keywords:["face","love","like","affection","valentines","infatuation","crush","heart"],char:"😍",fitzpatrick_scale:!1,category:"people"},smiling_face_with_three_hearts:{keywords:["face","love","like","affection","valentines","infatuation","crush","hearts","adore"],char:"🥰",fitzpatrick_scale:!1,category:"people"},kissing_heart:{keywords:["face","love","like","affection","valentines","infatuation","kiss"],char:"😘",fitzpatrick_scale:!1,category:"people"},kissing:{keywords:["love","like","face","3","valentines","infatuation","kiss"],char:"😗",fitzpatrick_scale:!1,category:"people"},kissing_smiling_eyes:{keywords:["face","affection","valentines","infatuation","kiss"],char:"😙",fitzpatrick_scale:!1,category:"people"},kissing_closed_eyes:{keywords:["face","love","like","affection","valentines","infatuation","kiss"],char:"😚",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue_winking_eye:{keywords:["face","prank","childish","playful","mischievous","smile","wink","tongue"],char:"😜",fitzpatrick_scale:!1,category:"people"},zany:{keywords:["face","goofy","crazy"],char:"🤪",fitzpatrick_scale:!1,category:"people"},raised_eyebrow:{keywords:["face","distrust","scepticism","disapproval","disbelief","surprise"],char:"🤨",fitzpatrick_scale:!1,category:"people"},monocle:{keywords:["face","stuffy","wealthy"],char:"🧐",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue_closed_eyes:{keywords:["face","prank","playful","mischievous","smile","tongue"],char:"😝",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue:{keywords:["face","prank","childish","playful","mischievous","smile","tongue"],char:"😛",fitzpatrick_scale:!1,category:"people"},money_mouth_face:{keywords:["face","rich","dollar","money"],char:"🤑",fitzpatrick_scale:!1,category:"people"},nerd_face:{keywords:["face","nerdy","geek","dork"],char:"🤓",fitzpatrick_scale:!1,category:"people"},sunglasses:{keywords:["face","cool","smile","summer","beach","sunglass"],char:"😎",fitzpatrick_scale:!1,category:"people"},star_struck:{keywords:["face","smile","starry","eyes","grinning"],char:"🤩",fitzpatrick_scale:!1,category:"people"},clown_face:{keywords:["face"],char:"🤡",fitzpatrick_scale:!1,category:"people"},cowboy_hat_face:{keywords:["face","cowgirl","hat"],char:"🤠",fitzpatrick_scale:!1,category:"people"},hugs:{keywords:["face","smile","hug"],char:"🤗",fitzpatrick_scale:!1,category:"people"},smirk:{keywords:["face","smile","mean","prank","smug","sarcasm"],char:"😏",fitzpatrick_scale:!1,category:"people"},no_mouth:{keywords:["face","hellokitty"],char:"😶",fitzpatrick_scale:!1,category:"people"},neutral_face:{keywords:["indifference","meh",":|","neutral"],char:"😐",fitzpatrick_scale:!1,category:"people"},expressionless:{keywords:["face","indifferent","-_-","meh","deadpan"],char:"😑",fitzpatrick_scale:!1,category:"people"},unamused:{keywords:["indifference","bored","straight face","serious","sarcasm","unimpressed","skeptical","dubious","side_eye"],char:"😒",fitzpatrick_scale:!1,category:"people"},roll_eyes:{keywords:["face","eyeroll","frustrated"],char:"🙄",fitzpatrick_scale:!1,category:"people"},thinking:{keywords:["face","hmmm","think","consider"],char:"🤔",fitzpatrick_scale:!1,category:"people"},lying_face:{keywords:["face","lie","pinocchio"],char:"🤥",fitzpatrick_scale:!1,category:"people"},hand_over_mouth:{keywords:["face","whoops","shock","surprise"],char:"🤭",fitzpatrick_scale:!1,category:"people"},shushing:{keywords:["face","quiet","shhh"],char:"🤫",fitzpatrick_scale:!1,category:"people"},symbols_over_mouth:{keywords:["face","swearing","cursing","cussing","profanity","expletive"],char:"🤬",fitzpatrick_scale:!1,category:"people"},exploding_head:{keywords:["face","shocked","mind","blown"],char:"🤯",fitzpatrick_scale:!1,category:"people"},flushed:{keywords:["face","blush","shy","flattered"],char:"😳",fitzpatrick_scale:!1,category:"people"},disappointed:{keywords:["face","sad","upset","depressed",":("],char:"😞",fitzpatrick_scale:!1,category:"people"},worried:{keywords:["face","concern","nervous",":("],char:"😟",fitzpatrick_scale:!1,category:"people"},angry:{keywords:["mad","face","annoyed","frustrated"],char:"😠",fitzpatrick_scale:!1,category:"people"},rage:{keywords:["angry","mad","hate","despise"],char:"😡",fitzpatrick_scale:!1,category:"people"},pensive:{keywords:["face","sad","depressed","upset"],char:"😔",fitzpatrick_scale:!1,category:"people"},confused:{keywords:["face","indifference","huh","weird","hmmm",":/"],char:"😕",fitzpatrick_scale:!1,category:"people"},slightly_frowning_face:{keywords:["face","frowning","disappointed","sad","upset"],char:"🙁",fitzpatrick_scale:!1,category:"people"},frowning_face:{keywords:["face","sad","upset","frown"],char:"☹",fitzpatrick_scale:!1,category:"people"},persevere:{keywords:["face","sick","no","upset","oops"],char:"😣",fitzpatrick_scale:!1,category:"people"},confounded:{keywords:["face","confused","sick","unwell","oops",":S"],char:"😖",fitzpatrick_scale:!1,category:"people"},tired_face:{keywords:["sick","whine","upset","frustrated"],char:"😫",fitzpatrick_scale:!1,category:"people"},weary:{keywords:["face","tired","sleepy","sad","frustrated","upset"],char:"😩",fitzpatrick_scale:!1,category:"people"},pleading:{keywords:["face","begging","mercy"],char:"🥺",fitzpatrick_scale:!1,category:"people"},triumph:{keywords:["face","gas","phew","proud","pride"],char:"😤",fitzpatrick_scale:!1,category:"people"},open_mouth:{keywords:["face","surprise","impressed","wow","whoa",":O"],char:"😮",fitzpatrick_scale:!1,category:"people"},scream:{keywords:["face","munch","scared","omg"],char:"😱",fitzpatrick_scale:!1,category:"people"},fearful:{keywords:["face","scared","terrified","nervous","oops","huh"],char:"😨",fitzpatrick_scale:!1,category:"people"},cold_sweat:{keywords:["face","nervous","sweat"],char:"😰",fitzpatrick_scale:!1,category:"people"},hushed:{keywords:["face","woo","shh"],char:"😯",fitzpatrick_scale:!1,category:"people"},frowning:{keywords:["face","aw","what"],char:"😦",fitzpatrick_scale:!1,category:"people"},anguished:{keywords:["face","stunned","nervous"],char:"😧",fitzpatrick_scale:!1,category:"people"},cry:{keywords:["face","tears","sad","depressed","upset",":'("],char:"😢",fitzpatrick_scale:!1,category:"people"},disappointed_relieved:{keywords:["face","phew","sweat","nervous"],char:"😥",fitzpatrick_scale:!1,category:"people"},drooling_face:{keywords:["face"],char:"🤤",fitzpatrick_scale:!1,category:"people"},sleepy:{keywords:["face","tired","rest","nap"],char:"😪",fitzpatrick_scale:!1,category:"people"},sweat:{keywords:["face","hot","sad","tired","exercise"],char:"😓",fitzpatrick_scale:!1,category:"people"},hot:{keywords:["face","feverish","heat","red","sweating"],char:"🥵",fitzpatrick_scale:!1,category:"people"},cold:{keywords:["face","blue","freezing","frozen","frostbite","icicles"],char:"🥶",fitzpatrick_scale:!1,category:"people"},sob:{keywords:["face","cry","tears","sad","upset","depressed"],char:"😭",fitzpatrick_scale:!1,category:"people"},dizzy_face:{keywords:["spent","unconscious","xox","dizzy"],char:"😵",fitzpatrick_scale:!1,category:"people"},astonished:{keywords:["face","xox","surprised","poisoned"],char:"😲",fitzpatrick_scale:!1,category:"people"},zipper_mouth_face:{keywords:["face","sealed","zipper","secret"],char:"🤐",fitzpatrick_scale:!1,category:"people"},nauseated_face:{keywords:["face","vomit","gross","green","sick","throw up","ill"],char:"🤢",fitzpatrick_scale:!1,category:"people"},sneezing_face:{keywords:["face","gesundheit","sneeze","sick","allergy"],char:"🤧",fitzpatrick_scale:!1,category:"people"},vomiting:{keywords:["face","sick"],char:"🤮",fitzpatrick_scale:!1,category:"people"},mask:{keywords:["face","sick","ill","disease"],char:"😷",fitzpatrick_scale:!1,category:"people"},face_with_thermometer:{keywords:["sick","temperature","thermometer","cold","fever"],char:"🤒",fitzpatrick_scale:!1,category:"people"},face_with_head_bandage:{keywords:["injured","clumsy","bandage","hurt"],char:"🤕",fitzpatrick_scale:!1,category:"people"},woozy:{keywords:["face","dizzy","intoxicated","tipsy","wavy"],char:"🥴",fitzpatrick_scale:!1,category:"people"},sleeping:{keywords:["face","tired","sleepy","night","zzz"],char:"😴",fitzpatrick_scale:!1,category:"people"},zzz:{keywords:["sleepy","tired","dream"],char:"💤",fitzpatrick_scale:!1,category:"people"},poop:{keywords:["hankey","shitface","fail","turd","shit"],char:"💩",fitzpatrick_scale:!1,category:"people"},smiling_imp:{keywords:["devil","horns"],char:"😈",fitzpatrick_scale:!1,category:"people"},imp:{keywords:["devil","angry","horns"],char:"👿",fitzpatrick_scale:!1,category:"people"},japanese_ogre:{keywords:["monster","red","mask","halloween","scary","creepy","devil","demon","japanese","ogre"],char:"👹",fitzpatrick_scale:!1,category:"people"},japanese_goblin:{keywords:["red","evil","mask","monster","scary","creepy","japanese","goblin"],char:"👺",fitzpatrick_scale:!1,category:"people"},skull:{keywords:["dead","skeleton","creepy","death"],char:"💀",fitzpatrick_scale:!1,category:"people"},ghost:{keywords:["halloween","spooky","scary"],char:"👻",fitzpatrick_scale:!1,category:"people"},alien:{keywords:["UFO","paul","weird","outer_space"],char:"👽",fitzpatrick_scale:!1,category:"people"},robot:{keywords:["computer","machine","bot"],char:"🤖",fitzpatrick_scale:!1,category:"people"},smiley_cat:{keywords:["animal","cats","happy","smile"],char:"😺",fitzpatrick_scale:!1,category:"people"},smile_cat:{keywords:["animal","cats","smile"],char:"😸",fitzpatrick_scale:!1,category:"people"},joy_cat:{keywords:["animal","cats","haha","happy","tears"],char:"😹",fitzpatrick_scale:!1,category:"people"},heart_eyes_cat:{keywords:["animal","love","like","affection","cats","valentines","heart"],char:"😻",fitzpatrick_scale:!1,category:"people"},smirk_cat:{keywords:["animal","cats","smirk"],char:"😼",fitzpatrick_scale:!1,category:"people"},kissing_cat:{keywords:["animal","cats","kiss"],char:"😽",fitzpatrick_scale:!1,category:"people"},scream_cat:{keywords:["animal","cats","munch","scared","scream"],char:"🙀",fitzpatrick_scale:!1,category:"people"},crying_cat_face:{keywords:["animal","tears","weep","sad","cats","upset","cry"],char:"😿",fitzpatrick_scale:!1,category:"people"},pouting_cat:{keywords:["animal","cats"],char:"😾",fitzpatrick_scale:!1,category:"people"},palms_up:{keywords:["hands","gesture","cupped","prayer"],char:"🤲",fitzpatrick_scale:!0,category:"people"},raised_hands:{keywords:["gesture","hooray","yea","celebration","hands"],char:"🙌",fitzpatrick_scale:!0,category:"people"},clap:{keywords:["hands","praise","applause","congrats","yay"],char:"👏",fitzpatrick_scale:!0,category:"people"},wave:{keywords:["hands","gesture","goodbye","solong","farewell","hello","hi","palm"],char:"👋",fitzpatrick_scale:!0,category:"people"},call_me_hand:{keywords:["hands","gesture"],char:"🤙",fitzpatrick_scale:!0,category:"people"},"+1":{keywords:["thumbsup","yes","awesome","good","agree","accept","cool","hand","like"],char:"👍",fitzpatrick_scale:!0,category:"people"},"-1":{keywords:["thumbsdown","no","dislike","hand"],char:"👎",fitzpatrick_scale:!0,category:"people"},facepunch:{keywords:["angry","violence","fist","hit","attack","hand"],char:"👊",fitzpatrick_scale:!0,category:"people"},fist:{keywords:["fingers","hand","grasp"],char:"✊",fitzpatrick_scale:!0,category:"people"},fist_left:{keywords:["hand","fistbump"],char:"🤛",fitzpatrick_scale:!0,category:"people"},fist_right:{keywords:["hand","fistbump"],char:"🤜",fitzpatrick_scale:!0,category:"people"},v:{keywords:["fingers","ohyeah","hand","peace","victory","two"],char:"✌",fitzpatrick_scale:!0,category:"people"},ok_hand:{keywords:["fingers","limbs","perfect","ok","okay"],char:"👌",fitzpatrick_scale:!0,category:"people"},raised_hand:{keywords:["fingers","stop","highfive","palm","ban"],char:"✋",fitzpatrick_scale:!0,category:"people"},raised_back_of_hand:{keywords:["fingers","raised","backhand"],char:"🤚",fitzpatrick_scale:!0,category:"people"},open_hands:{keywords:["fingers","butterfly","hands","open"],char:"👐",fitzpatrick_scale:!0,category:"people"},muscle:{keywords:["arm","flex","hand","summer","strong","biceps"],char:"💪",fitzpatrick_scale:!0,category:"people"},pray:{keywords:["please","hope","wish","namaste","highfive"],char:"🙏",fitzpatrick_scale:!0,category:"people"},foot:{keywords:["kick","stomp"],char:"🦶",fitzpatrick_scale:!0,category:"people"},leg:{keywords:["kick","limb"],char:"🦵",fitzpatrick_scale:!0,category:"people"},handshake:{keywords:["agreement","shake"],char:"🤝",fitzpatrick_scale:!1,category:"people"},point_up:{keywords:["hand","fingers","direction","up"],char:"☝",fitzpatrick_scale:!0,category:"people"},point_up_2:{keywords:["fingers","hand","direction","up"],char:"👆",fitzpatrick_scale:!0,category:"people"},point_down:{keywords:["fingers","hand","direction","down"],char:"👇",fitzpatrick_scale:!0,category:"people"},point_left:{keywords:["direction","fingers","hand","left"],char:"👈",fitzpatrick_scale:!0,category:"people"},point_right:{keywords:["fingers","hand","direction","right"],char:"👉",fitzpatrick_scale:!0,category:"people"},fu:{keywords:["hand","fingers","rude","middle","flipping"],char:"🖕",fitzpatrick_scale:!0,category:"people"},raised_hand_with_fingers_splayed:{keywords:["hand","fingers","palm"],char:"🖐",fitzpatrick_scale:!0,category:"people"},love_you:{keywords:["hand","fingers","gesture"],char:"🤟",fitzpatrick_scale:!0,category:"people"},metal:{keywords:["hand","fingers","evil_eye","sign_of_horns","rock_on"],char:"🤘",fitzpatrick_scale:!0,category:"people"},crossed_fingers:{keywords:["good","lucky"],char:"🤞",fitzpatrick_scale:!0,category:"people"},vulcan_salute:{keywords:["hand","fingers","spock","star trek"],char:"🖖",fitzpatrick_scale:!0,category:"people"},writing_hand:{keywords:["lower_left_ballpoint_pen","stationery","write","compose"],char:"✍",fitzpatrick_scale:!0,category:"people"},selfie:{keywords:["camera","phone"],char:"🤳",fitzpatrick_scale:!0,category:"people"},nail_care:{keywords:["beauty","manicure","finger","fashion","nail"],char:"💅",fitzpatrick_scale:!0,category:"people"},lips:{keywords:["mouth","kiss"],char:"👄",fitzpatrick_scale:!1,category:"people"},tooth:{keywords:["teeth","dentist"],char:"🦷",fitzpatrick_scale:!1,category:"people"},tongue:{keywords:["mouth","playful"],char:"👅",fitzpatrick_scale:!1,category:"people"},ear:{keywords:["face","hear","sound","listen"],char:"👂",fitzpatrick_scale:!0,category:"people"},nose:{keywords:["smell","sniff"],char:"👃",fitzpatrick_scale:!0,category:"people"},eye:{keywords:["face","look","see","watch","stare"],char:"👁",fitzpatrick_scale:!1,category:"people"},eyes:{keywords:["look","watch","stalk","peek","see"],char:"👀",fitzpatrick_scale:!1,category:"people"},brain:{keywords:["smart","intelligent"],char:"🧠",fitzpatrick_scale:!1,category:"people"},bust_in_silhouette:{keywords:["user","person","human"],char:"👤",fitzpatrick_scale:!1,category:"people"},busts_in_silhouette:{keywords:["user","person","human","group","team"],char:"👥",fitzpatrick_scale:!1,category:"people"},speaking_head:{keywords:["user","person","human","sing","say","talk"],char:"🗣",fitzpatrick_scale:!1,category:"people"},baby:{keywords:["child","boy","girl","toddler"],char:"👶",fitzpatrick_scale:!0,category:"people"},child:{keywords:["gender-neutral","young"],char:"🧒",fitzpatrick_scale:!0,category:"people"},boy:{keywords:["man","male","guy","teenager"],char:"👦",fitzpatrick_scale:!0,category:"people"},girl:{keywords:["female","woman","teenager"],char:"👧",fitzpatrick_scale:!0,category:"people"},adult:{keywords:["gender-neutral","person"],char:"🧑",fitzpatrick_scale:!0,category:"people"},man:{keywords:["mustache","father","dad","guy","classy","sir","moustache"],char:"👨",fitzpatrick_scale:!0,category:"people"},woman:{keywords:["female","girls","lady"],char:"👩",fitzpatrick_scale:!0,category:"people"},blonde_woman:{keywords:["woman","female","girl","blonde","person"],char:"👱‍♀️",fitzpatrick_scale:!0,category:"people"},blonde_man:{keywords:["man","male","boy","blonde","guy","person"],char:"👱",fitzpatrick_scale:!0,category:"people"},bearded_person:{keywords:["person","bewhiskered"],char:"🧔",fitzpatrick_scale:!0,category:"people"},older_adult:{keywords:["human","elder","senior","gender-neutral"],char:"🧓",fitzpatrick_scale:!0,category:"people"},older_man:{keywords:["human","male","men","old","elder","senior"],char:"👴",fitzpatrick_scale:!0,category:"people"},older_woman:{keywords:["human","female","women","lady","old","elder","senior"],char:"👵",fitzpatrick_scale:!0,category:"people"},man_with_gua_pi_mao:{keywords:["male","boy","chinese"],char:"👲",fitzpatrick_scale:!0,category:"people"},woman_with_headscarf:{keywords:["female","hijab","mantilla","tichel"],char:"🧕",fitzpatrick_scale:!0,category:"people"},woman_with_turban:{keywords:["female","indian","hinduism","arabs","woman"],char:"👳‍♀️",fitzpatrick_scale:!0,category:"people"},man_with_turban:{keywords:["male","indian","hinduism","arabs"],char:"👳",fitzpatrick_scale:!0,category:"people"},policewoman:{keywords:["woman","police","law","legal","enforcement","arrest","911","female"],char:"👮‍♀️",fitzpatrick_scale:!0,category:"people"},policeman:{keywords:["man","police","law","legal","enforcement","arrest","911"],char:"👮",fitzpatrick_scale:!0,category:"people"},construction_worker_woman:{keywords:["female","human","wip","build","construction","worker","labor","woman"],char:"👷‍♀️",fitzpatrick_scale:!0,category:"people"},construction_worker_man:{keywords:["male","human","wip","guy","build","construction","worker","labor"],char:"👷",fitzpatrick_scale:!0,category:"people"},guardswoman:{keywords:["uk","gb","british","female","royal","woman"],char:"💂‍♀️",fitzpatrick_scale:!0,category:"people"},guardsman:{keywords:["uk","gb","british","male","guy","royal"],char:"💂",fitzpatrick_scale:!0,category:"people"},female_detective:{keywords:["human","spy","detective","female","woman"],char:"🕵️‍♀️",fitzpatrick_scale:!0,category:"people"},male_detective:{keywords:["human","spy","detective"],char:"🕵",fitzpatrick_scale:!0,category:"people"},woman_health_worker:{keywords:["doctor","nurse","therapist","healthcare","woman","human"],char:"👩‍⚕️",fitzpatrick_scale:!0,category:"people"},man_health_worker:{keywords:["doctor","nurse","therapist","healthcare","man","human"],char:"👨‍⚕️",fitzpatrick_scale:!0,category:"people"},woman_farmer:{keywords:["rancher","gardener","woman","human"],char:"👩‍🌾",fitzpatrick_scale:!0,category:"people"},man_farmer:{keywords:["rancher","gardener","man","human"],char:"👨‍🌾",fitzpatrick_scale:!0,category:"people"},woman_cook:{keywords:["chef","woman","human"],char:"👩‍🍳",fitzpatrick_scale:!0,category:"people"},man_cook:{keywords:["chef","man","human"],char:"👨‍🍳",fitzpatrick_scale:!0,category:"people"},woman_student:{keywords:["graduate","woman","human"],char:"👩‍🎓",fitzpatrick_scale:!0,category:"people"},man_student:{keywords:["graduate","man","human"],char:"👨‍🎓",fitzpatrick_scale:!0,category:"people"},woman_singer:{keywords:["rockstar","entertainer","woman","human"],char:"👩‍🎤",fitzpatrick_scale:!0,category:"people"},man_singer:{keywords:["rockstar","entertainer","man","human"],char:"👨‍🎤",fitzpatrick_scale:!0,category:"people"},woman_teacher:{keywords:["instructor","professor","woman","human"],char:"👩‍🏫",fitzpatrick_scale:!0,category:"people"},man_teacher:{keywords:["instructor","professor","man","human"],char:"👨‍🏫",fitzpatrick_scale:!0,category:"people"},woman_factory_worker:{keywords:["assembly","industrial","woman","human"],char:"👩‍🏭",fitzpatrick_scale:!0,category:"people"},man_factory_worker:{keywords:["assembly","industrial","man","human"],char:"👨‍🏭",fitzpatrick_scale:!0,category:"people"},woman_technologist:{keywords:["coder","developer","engineer","programmer","software","woman","human","laptop","computer"],char:"👩‍💻",fitzpatrick_scale:!0,category:"people"},man_technologist:{keywords:["coder","developer","engineer","programmer","software","man","human","laptop","computer"],char:"👨‍💻",fitzpatrick_scale:!0,category:"people"},woman_office_worker:{keywords:["business","manager","woman","human"],char:"👩‍💼",fitzpatrick_scale:!0,category:"people"},man_office_worker:{keywords:["business","manager","man","human"],char:"👨‍💼",fitzpatrick_scale:!0,category:"people"},woman_mechanic:{keywords:["plumber","woman","human","wrench"],char:"👩‍🔧",fitzpatrick_scale:!0,category:"people"},man_mechanic:{keywords:["plumber","man","human","wrench"],char:"👨‍🔧",fitzpatrick_scale:!0,category:"people"},woman_scientist:{keywords:["biologist","chemist","engineer","physicist","woman","human"],char:"👩‍🔬",fitzpatrick_scale:!0,category:"people"},man_scientist:{keywords:["biologist","chemist","engineer","physicist","man","human"],char:"👨‍🔬",fitzpatrick_scale:!0,category:"people"},woman_artist:{keywords:["painter","woman","human"],char:"👩‍🎨",fitzpatrick_scale:!0,category:"people"},man_artist:{keywords:["painter","man","human"],char:"👨‍🎨",fitzpatrick_scale:!0,category:"people"},woman_firefighter:{keywords:["fireman","woman","human"],char:"👩‍🚒",fitzpatrick_scale:!0,category:"people"},man_firefighter:{keywords:["fireman","man","human"],char:"👨‍🚒",fitzpatrick_scale:!0,category:"people"},woman_pilot:{keywords:["aviator","plane","woman","human"],char:"👩‍✈️",fitzpatrick_scale:!0,category:"people"},man_pilot:{keywords:["aviator","plane","man","human"],char:"👨‍✈️",fitzpatrick_scale:!0,category:"people"},woman_astronaut:{keywords:["space","rocket","woman","human"],char:"👩‍🚀",fitzpatrick_scale:!0,category:"people"},man_astronaut:{keywords:["space","rocket","man","human"],char:"👨‍🚀",fitzpatrick_scale:!0,category:"people"},woman_judge:{keywords:["justice","court","woman","human"],char:"👩‍⚖️",fitzpatrick_scale:!0,category:"people"},man_judge:{keywords:["justice","court","man","human"],char:"👨‍⚖️",fitzpatrick_scale:!0,category:"people"},woman_superhero:{keywords:["woman","female","good","heroine","superpowers"],char:"🦸‍♀️",fitzpatrick_scale:!0,category:"people"},man_superhero:{keywords:["man","male","good","hero","superpowers"],char:"🦸‍♂️",fitzpatrick_scale:!0,category:"people"},woman_supervillain:{keywords:["woman","female","evil","bad","criminal","heroine","superpowers"],char:"🦹‍♀️",fitzpatrick_scale:!0,category:"people"},man_supervillain:{keywords:["man","male","evil","bad","criminal","hero","superpowers"],char:"🦹‍♂️",fitzpatrick_scale:!0,category:"people"},mrs_claus:{keywords:["woman","female","xmas","mother christmas"],char:"🤶",fitzpatrick_scale:!0,category:"people"},santa:{keywords:["festival","man","male","xmas","father christmas"],char:"🎅",fitzpatrick_scale:!0,category:"people"},sorceress:{keywords:["woman","female","mage","witch"],char:"🧙‍♀️",fitzpatrick_scale:!0,category:"people"},wizard:{keywords:["man","male","mage","sorcerer"],char:"🧙‍♂️",fitzpatrick_scale:!0,category:"people"},woman_elf:{keywords:["woman","female"],char:"🧝‍♀️",fitzpatrick_scale:!0,category:"people"},man_elf:{keywords:["man","male"],char:"🧝‍♂️",fitzpatrick_scale:!0,category:"people"},woman_vampire:{keywords:["woman","female"],char:"🧛‍♀️",fitzpatrick_scale:!0,category:"people"},man_vampire:{keywords:["man","male","dracula"],char:"🧛‍♂️",fitzpatrick_scale:!0,category:"people"},woman_zombie:{keywords:["woman","female","undead","walking dead"],char:"🧟‍♀️",fitzpatrick_scale:!1,category:"people"},man_zombie:{keywords:["man","male","dracula","undead","walking dead"],char:"🧟‍♂️",fitzpatrick_scale:!1,category:"people"},woman_genie:{keywords:["woman","female"],char:"🧞‍♀️",fitzpatrick_scale:!1,category:"people"},man_genie:{keywords:["man","male"],char:"🧞‍♂️",fitzpatrick_scale:!1,category:"people"},mermaid:{keywords:["woman","female","merwoman","ariel"],char:"🧜‍♀️",fitzpatrick_scale:!0,category:"people"},merman:{keywords:["man","male","triton"],char:"🧜‍♂️",fitzpatrick_scale:!0,category:"people"},woman_fairy:{keywords:["woman","female"],char:"🧚‍♀️",fitzpatrick_scale:!0,category:"people"},man_fairy:{keywords:["man","male"],char:"🧚‍♂️",fitzpatrick_scale:!0,category:"people"},angel:{keywords:["heaven","wings","halo"],char:"👼",fitzpatrick_scale:!0,category:"people"},pregnant_woman:{keywords:["baby"],char:"🤰",fitzpatrick_scale:!0,category:"people"},breastfeeding:{keywords:["nursing","baby"],char:"🤱",fitzpatrick_scale:!0,category:"people"},princess:{keywords:["girl","woman","female","blond","crown","royal","queen"],char:"👸",fitzpatrick_scale:!0,category:"people"},prince:{keywords:["boy","man","male","crown","royal","king"],char:"🤴",fitzpatrick_scale:!0,category:"people"},bride_with_veil:{keywords:["couple","marriage","wedding","woman","bride"],char:"👰",fitzpatrick_scale:!0,category:"people"},man_in_tuxedo:{keywords:["couple","marriage","wedding","groom"],char:"🤵",fitzpatrick_scale:!0,category:"people"},running_woman:{keywords:["woman","walking","exercise","race","running","female"],char:"🏃‍♀️",fitzpatrick_scale:!0,category:"people"},running_man:{keywords:["man","walking","exercise","race","running"],char:"🏃",fitzpatrick_scale:!0,category:"people"},walking_woman:{keywords:["human","feet","steps","woman","female"],char:"🚶‍♀️",fitzpatrick_scale:!0,category:"people"},walking_man:{keywords:["human","feet","steps"],char:"🚶",fitzpatrick_scale:!0,category:"people"},dancer:{keywords:["female","girl","woman","fun"],char:"💃",fitzpatrick_scale:!0,category:"people"},man_dancing:{keywords:["male","boy","fun","dancer"],char:"🕺",fitzpatrick_scale:!0,category:"people"},dancing_women:{keywords:["female","bunny","women","girls"],char:"👯",fitzpatrick_scale:!1,category:"people"},dancing_men:{keywords:["male","bunny","men","boys"],char:"👯‍♂️",fitzpatrick_scale:!1,category:"people"},couple:{keywords:["pair","people","human","love","date","dating","like","affection","valentines","marriage"],char:"👫",fitzpatrick_scale:!1,category:"people"},two_men_holding_hands:{keywords:["pair","couple","love","like","bromance","friendship","people","human"],char:"👬",fitzpatrick_scale:!1,category:"people"},two_women_holding_hands:{keywords:["pair","friendship","couple","love","like","female","people","human"],char:"👭",fitzpatrick_scale:!1,category:"people"},bowing_woman:{keywords:["woman","female","girl"],char:"🙇‍♀️",fitzpatrick_scale:!0,category:"people"},bowing_man:{keywords:["man","male","boy"],char:"🙇",fitzpatrick_scale:!0,category:"people"},man_facepalming:{keywords:["man","male","boy","disbelief"],char:"🤦‍♂️",fitzpatrick_scale:!0,category:"people"},woman_facepalming:{keywords:["woman","female","girl","disbelief"],char:"🤦‍♀️",fitzpatrick_scale:!0,category:"people"},woman_shrugging:{keywords:["woman","female","girl","confused","indifferent","doubt"],char:"🤷",fitzpatrick_scale:!0,category:"people"},man_shrugging:{keywords:["man","male","boy","confused","indifferent","doubt"],char:"🤷‍♂️",fitzpatrick_scale:!0,category:"people"},tipping_hand_woman:{keywords:["female","girl","woman","human","information"],char:"💁",fitzpatrick_scale:!0,category:"people"},tipping_hand_man:{keywords:["male","boy","man","human","information"],char:"💁‍♂️",fitzpatrick_scale:!0,category:"people"},no_good_woman:{keywords:["female","girl","woman","nope"],char:"🙅",fitzpatrick_scale:!0,category:"people"},no_good_man:{keywords:["male","boy","man","nope"],char:"🙅‍♂️",fitzpatrick_scale:!0,category:"people"},ok_woman:{keywords:["women","girl","female","pink","human","woman"],char:"🙆",fitzpatrick_scale:!0,category:"people"},ok_man:{keywords:["men","boy","male","blue","human","man"],char:"🙆‍♂️",fitzpatrick_scale:!0,category:"people"},raising_hand_woman:{keywords:["female","girl","woman"],char:"🙋",fitzpatrick_scale:!0,category:"people"},raising_hand_man:{keywords:["male","boy","man"],char:"🙋‍♂️",fitzpatrick_scale:!0,category:"people"},pouting_woman:{keywords:["female","girl","woman"],char:"🙎",fitzpatrick_scale:!0,category:"people"},pouting_man:{keywords:["male","boy","man"],char:"🙎‍♂️",fitzpatrick_scale:!0,category:"people"},frowning_woman:{keywords:["female","girl","woman","sad","depressed","discouraged","unhappy"],char:"🙍",fitzpatrick_scale:!0,category:"people"},frowning_man:{keywords:["male","boy","man","sad","depressed","discouraged","unhappy"],char:"🙍‍♂️",fitzpatrick_scale:!0,category:"people"},haircut_woman:{keywords:["female","girl","woman"],char:"💇",fitzpatrick_scale:!0,category:"people"},haircut_man:{keywords:["male","boy","man"],char:"💇‍♂️",fitzpatrick_scale:!0,category:"people"},massage_woman:{keywords:["female","girl","woman","head"],char:"💆",fitzpatrick_scale:!0,category:"people"},massage_man:{keywords:["male","boy","man","head"],char:"💆‍♂️",fitzpatrick_scale:!0,category:"people"},woman_in_steamy_room:{keywords:["female","woman","spa","steamroom","sauna"],char:"🧖‍♀️",fitzpatrick_scale:!0,category:"people"},man_in_steamy_room:{keywords:["male","man","spa","steamroom","sauna"],char:"🧖‍♂️",fitzpatrick_scale:!0,category:"people"},couple_with_heart_woman_man:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"💑",fitzpatrick_scale:!1,category:"people"},couple_with_heart_woman_woman:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"👩‍❤️‍👩",fitzpatrick_scale:!1,category:"people"},couple_with_heart_man_man:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"👨‍❤️‍👨",fitzpatrick_scale:!1,category:"people"},couplekiss_man_woman:{keywords:["pair","valentines","love","like","dating","marriage"],char:"💏",fitzpatrick_scale:!1,category:"people"},couplekiss_woman_woman:{keywords:["pair","valentines","love","like","dating","marriage"],char:"👩‍❤️‍💋‍👩",fitzpatrick_scale:!1,category:"people"},couplekiss_man_man:{keywords:["pair","valentines","love","like","dating","marriage"],char:"👨‍❤️‍💋‍👨",fitzpatrick_scale:!1,category:"people"},family_man_woman_boy:{keywords:["home","parents","child","mom","dad","father","mother","people","human"],char:"👪",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl:{keywords:["home","parents","people","human","child"],char:"👨‍👩‍👧",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_man_woman_boy_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_woman_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_woman_boy_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl_girl:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_man_man_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👦",fitzpatrick_scale:!1,category:"people"},family_man_man_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧",fitzpatrick_scale:!1,category:"people"},family_man_man_girl_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_man_man_boy_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_man_man_girl_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_boy:{keywords:["home","parent","people","human","child"],char:"👩‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_girl:{keywords:["home","parent","people","human","child"],char:"👩‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_girl_boy:{keywords:["home","parent","people","human","children"],char:"👩‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_boy_boy:{keywords:["home","parent","people","human","children"],char:"👩‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_girl_girl:{keywords:["home","parent","people","human","children"],char:"👩‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_man_boy:{keywords:["home","parent","people","human","child"],char:"👨‍👦",fitzpatrick_scale:!1,category:"people"},family_man_girl:{keywords:["home","parent","people","human","child"],char:"👨‍👧",fitzpatrick_scale:!1,category:"people"},family_man_girl_boy:{keywords:["home","parent","people","human","children"],char:"👨‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_man_boy_boy:{keywords:["home","parent","people","human","children"],char:"👨‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_man_girl_girl:{keywords:["home","parent","people","human","children"],char:"👨‍👧‍👧",fitzpatrick_scale:!1,category:"people"},yarn:{keywords:["ball","crochet","knit"],char:"🧶",fitzpatrick_scale:!1,category:"people"},thread:{keywords:["needle","sewing","spool","string"],char:"🧵",fitzpatrick_scale:!1,category:"people"},coat:{keywords:["jacket"],char:"🧥",fitzpatrick_scale:!1,category:"people"},labcoat:{keywords:["doctor","experiment","scientist","chemist"],char:"🥼",fitzpatrick_scale:!1,category:"people"},womans_clothes:{keywords:["fashion","shopping_bags","female"],char:"👚",fitzpatrick_scale:!1,category:"people"},tshirt:{keywords:["fashion","cloth","casual","shirt","tee"],char:"👕",fitzpatrick_scale:!1,category:"people"},jeans:{keywords:["fashion","shopping"],char:"👖",fitzpatrick_scale:!1,category:"people"},necktie:{keywords:["shirt","suitup","formal","fashion","cloth","business"],char:"👔",fitzpatrick_scale:!1,category:"people"},dress:{keywords:["clothes","fashion","shopping"],char:"👗",fitzpatrick_scale:!1,category:"people"},bikini:{keywords:["swimming","female","woman","girl","fashion","beach","summer"],char:"👙",fitzpatrick_scale:!1,category:"people"},kimono:{keywords:["dress","fashion","women","female","japanese"],char:"👘",fitzpatrick_scale:!1,category:"people"},lipstick:{keywords:["female","girl","fashion","woman"],char:"💄",fitzpatrick_scale:!1,category:"people"},kiss:{keywords:["face","lips","love","like","affection","valentines"],char:"💋",fitzpatrick_scale:!1,category:"people"},footprints:{keywords:["feet","tracking","walking","beach"],char:"👣",fitzpatrick_scale:!1,category:"people"},flat_shoe:{keywords:["ballet","slip-on","slipper"],char:"🥿",fitzpatrick_scale:!1,category:"people"},high_heel:{keywords:["fashion","shoes","female","pumps","stiletto"],char:"👠",fitzpatrick_scale:!1,category:"people"},sandal:{keywords:["shoes","fashion","flip flops"],char:"👡",fitzpatrick_scale:!1,category:"people"},boot:{keywords:["shoes","fashion"],char:"👢",fitzpatrick_scale:!1,category:"people"},mans_shoe:{keywords:["fashion","male"],char:"👞",fitzpatrick_scale:!1,category:"people"},athletic_shoe:{keywords:["shoes","sports","sneakers"],char:"👟",fitzpatrick_scale:!1,category:"people"},hiking_boot:{keywords:["backpacking","camping","hiking"],char:"🥾",fitzpatrick_scale:!1,category:"people"},socks:{keywords:["stockings","clothes"],char:"🧦",fitzpatrick_scale:!1,category:"people"},gloves:{keywords:["hands","winter","clothes"],char:"🧤",fitzpatrick_scale:!1,category:"people"},scarf:{keywords:["neck","winter","clothes"],char:"🧣",fitzpatrick_scale:!1,category:"people"},womans_hat:{keywords:["fashion","accessories","female","lady","spring"],char:"👒",fitzpatrick_scale:!1,category:"people"},tophat:{keywords:["magic","gentleman","classy","circus"],char:"🎩",fitzpatrick_scale:!1,category:"people"},billed_hat:{keywords:["cap","baseball"],char:"🧢",fitzpatrick_scale:!1,category:"people"},rescue_worker_helmet:{keywords:["construction","build"],char:"⛑",fitzpatrick_scale:!1,category:"people"},mortar_board:{keywords:["school","college","degree","university","graduation","cap","hat","legal","learn","education"],char:"🎓",fitzpatrick_scale:!1,category:"people"},crown:{keywords:["king","kod","leader","royalty","lord"],char:"👑",fitzpatrick_scale:!1,category:"people"},school_satchel:{keywords:["student","education","bag","backpack"],char:"🎒",fitzpatrick_scale:!1,category:"people"},luggage:{keywords:["packing","travel"],char:"🧳",fitzpatrick_scale:!1,category:"people"},pouch:{keywords:["bag","accessories","shopping"],char:"👝",fitzpatrick_scale:!1,category:"people"},purse:{keywords:["fashion","accessories","money","sales","shopping"],char:"👛",fitzpatrick_scale:!1,category:"people"},handbag:{keywords:["fashion","accessory","accessories","shopping"],char:"👜",fitzpatrick_scale:!1,category:"people"},briefcase:{keywords:["business","documents","work","law","legal","job","career"],char:"💼",fitzpatrick_scale:!1,category:"people"},eyeglasses:{keywords:["fashion","accessories","eyesight","nerdy","dork","geek"],char:"👓",fitzpatrick_scale:!1,category:"people"},dark_sunglasses:{keywords:["face","cool","accessories"],char:"🕶",fitzpatrick_scale:!1,category:"people"},goggles:{keywords:["eyes","protection","safety"],char:"🥽",fitzpatrick_scale:!1,category:"people"},ring:{keywords:["wedding","propose","marriage","valentines","diamond","fashion","jewelry","gem","engagement"],char:"💍",fitzpatrick_scale:!1,category:"people"},closed_umbrella:{keywords:["weather","rain","drizzle"],char:"🌂",fitzpatrick_scale:!1,category:"people"},dog:{keywords:["animal","friend","nature","woof","puppy","pet","faithful"],char:"🐶",fitzpatrick_scale:!1,category:"animals_and_nature"},cat:{keywords:["animal","meow","nature","pet","kitten"],char:"🐱",fitzpatrick_scale:!1,category:"animals_and_nature"},mouse:{keywords:["animal","nature","cheese_wedge","rodent"],char:"🐭",fitzpatrick_scale:!1,category:"animals_and_nature"},hamster:{keywords:["animal","nature"],char:"🐹",fitzpatrick_scale:!1,category:"animals_and_nature"},rabbit:{keywords:["animal","nature","pet","spring","magic","bunny"],char:"🐰",fitzpatrick_scale:!1,category:"animals_and_nature"},fox_face:{keywords:["animal","nature","face"],char:"🦊",fitzpatrick_scale:!1,category:"animals_and_nature"},bear:{keywords:["animal","nature","wild"],char:"🐻",fitzpatrick_scale:!1,category:"animals_and_nature"},panda_face:{keywords:["animal","nature","panda"],char:"🐼",fitzpatrick_scale:!1,category:"animals_and_nature"},koala:{keywords:["animal","nature"],char:"🐨",fitzpatrick_scale:!1,category:"animals_and_nature"},tiger:{keywords:["animal","cat","danger","wild","nature","roar"],char:"🐯",fitzpatrick_scale:!1,category:"animals_and_nature"},lion:{keywords:["animal","nature"],char:"🦁",fitzpatrick_scale:!1,category:"animals_and_nature"},cow:{keywords:["beef","ox","animal","nature","moo","milk"],char:"🐮",fitzpatrick_scale:!1,category:"animals_and_nature"},pig:{keywords:["animal","oink","nature"],char:"🐷",fitzpatrick_scale:!1,category:"animals_and_nature"},pig_nose:{keywords:["animal","oink"],char:"🐽",fitzpatrick_scale:!1,category:"animals_and_nature"},frog:{keywords:["animal","nature","croak","toad"],char:"🐸",fitzpatrick_scale:!1,category:"animals_and_nature"},squid:{keywords:["animal","nature","ocean","sea"],char:"🦑",fitzpatrick_scale:!1,category:"animals_and_nature"},octopus:{keywords:["animal","creature","ocean","sea","nature","beach"],char:"🐙",fitzpatrick_scale:!1,category:"animals_and_nature"},shrimp:{keywords:["animal","ocean","nature","seafood"],char:"🦐",fitzpatrick_scale:!1,category:"animals_and_nature"},monkey_face:{keywords:["animal","nature","circus"],char:"🐵",fitzpatrick_scale:!1,category:"animals_and_nature"},gorilla:{keywords:["animal","nature","circus"],char:"🦍",fitzpatrick_scale:!1,category:"animals_and_nature"},see_no_evil:{keywords:["monkey","animal","nature","haha"],char:"🙈",fitzpatrick_scale:!1,category:"animals_and_nature"},hear_no_evil:{keywords:["animal","monkey","nature"],char:"🙉",fitzpatrick_scale:!1,category:"animals_and_nature"},speak_no_evil:{keywords:["monkey","animal","nature","omg"],char:"🙊",fitzpatrick_scale:!1,category:"animals_and_nature"},monkey:{keywords:["animal","nature","banana","circus"],char:"🐒",fitzpatrick_scale:!1,category:"animals_and_nature"},chicken:{keywords:["animal","cluck","nature","bird"],char:"🐔",fitzpatrick_scale:!1,category:"animals_and_nature"},penguin:{keywords:["animal","nature"],char:"🐧",fitzpatrick_scale:!1,category:"animals_and_nature"},bird:{keywords:["animal","nature","fly","tweet","spring"],char:"🐦",fitzpatrick_scale:!1,category:"animals_and_nature"},baby_chick:{keywords:["animal","chicken","bird"],char:"🐤",fitzpatrick_scale:!1,category:"animals_and_nature"},hatching_chick:{keywords:["animal","chicken","egg","born","baby","bird"],char:"🐣",fitzpatrick_scale:!1,category:"animals_and_nature"},hatched_chick:{keywords:["animal","chicken","baby","bird"],char:"🐥",fitzpatrick_scale:!1,category:"animals_and_nature"},duck:{keywords:["animal","nature","bird","mallard"],char:"🦆",fitzpatrick_scale:!1,category:"animals_and_nature"},eagle:{keywords:["animal","nature","bird"],char:"🦅",fitzpatrick_scale:!1,category:"animals_and_nature"},owl:{keywords:["animal","nature","bird","hoot"],char:"🦉",fitzpatrick_scale:!1,category:"animals_and_nature"},bat:{keywords:["animal","nature","blind","vampire"],char:"🦇",fitzpatrick_scale:!1,category:"animals_and_nature"},wolf:{keywords:["animal","nature","wild"],char:"🐺",fitzpatrick_scale:!1,category:"animals_and_nature"},boar:{keywords:["animal","nature"],char:"🐗",fitzpatrick_scale:!1,category:"animals_and_nature"},horse:{keywords:["animal","brown","nature"],char:"🐴",fitzpatrick_scale:!1,category:"animals_and_nature"},unicorn:{keywords:["animal","nature","mystical"],char:"🦄",fitzpatrick_scale:!1,category:"animals_and_nature"},honeybee:{keywords:["animal","insect","nature","bug","spring","honey"],char:"🐝",fitzpatrick_scale:!1,category:"animals_and_nature"},bug:{keywords:["animal","insect","nature","worm"],char:"🐛",fitzpatrick_scale:!1,category:"animals_and_nature"},butterfly:{keywords:["animal","insect","nature","caterpillar"],char:"🦋",fitzpatrick_scale:!1,category:"animals_and_nature"},snail:{keywords:["slow","animal","shell"],char:"🐌",fitzpatrick_scale:!1,category:"animals_and_nature"},beetle:{keywords:["animal","insect","nature","ladybug"],char:"🐞",fitzpatrick_scale:!1,category:"animals_and_nature"},ant:{keywords:["animal","insect","nature","bug"],char:"🐜",fitzpatrick_scale:!1,category:"animals_and_nature"},grasshopper:{keywords:["animal","cricket","chirp"],char:"🦗",fitzpatrick_scale:!1,category:"animals_and_nature"},spider:{keywords:["animal","arachnid"],char:"🕷",fitzpatrick_scale:!1,category:"animals_and_nature"},scorpion:{keywords:["animal","arachnid"],char:"🦂",fitzpatrick_scale:!1,category:"animals_and_nature"},crab:{keywords:["animal","crustacean"],char:"🦀",fitzpatrick_scale:!1,category:"animals_and_nature"},snake:{keywords:["animal","evil","nature","hiss","python"],char:"🐍",fitzpatrick_scale:!1,category:"animals_and_nature"},lizard:{keywords:["animal","nature","reptile"],char:"🦎",fitzpatrick_scale:!1,category:"animals_and_nature"},"t-rex":{keywords:["animal","nature","dinosaur","tyrannosaurus","extinct"],char:"🦖",fitzpatrick_scale:!1,category:"animals_and_nature"},sauropod:{keywords:["animal","nature","dinosaur","brachiosaurus","brontosaurus","diplodocus","extinct"],char:"🦕",fitzpatrick_scale:!1,category:"animals_and_nature"},turtle:{keywords:["animal","slow","nature","tortoise"],char:"🐢",fitzpatrick_scale:!1,category:"animals_and_nature"},tropical_fish:{keywords:["animal","swim","ocean","beach","nemo"],char:"🐠",fitzpatrick_scale:!1,category:"animals_and_nature"},fish:{keywords:["animal","food","nature"],char:"🐟",fitzpatrick_scale:!1,category:"animals_and_nature"},blowfish:{keywords:["animal","nature","food","sea","ocean"],char:"🐡",fitzpatrick_scale:!1,category:"animals_and_nature"},dolphin:{keywords:["animal","nature","fish","sea","ocean","flipper","fins","beach"],char:"🐬",fitzpatrick_scale:!1,category:"animals_and_nature"},shark:{keywords:["animal","nature","fish","sea","ocean","jaws","fins","beach"],char:"🦈",fitzpatrick_scale:!1,category:"animals_and_nature"},whale:{keywords:["animal","nature","sea","ocean"],char:"🐳",fitzpatrick_scale:!1,category:"animals_and_nature"},whale2:{keywords:["animal","nature","sea","ocean"],char:"🐋",fitzpatrick_scale:!1,category:"animals_and_nature"},crocodile:{keywords:["animal","nature","reptile","lizard","alligator"],char:"🐊",fitzpatrick_scale:!1,category:"animals_and_nature"},leopard:{keywords:["animal","nature"],char:"🐆",fitzpatrick_scale:!1,category:"animals_and_nature"},zebra:{keywords:["animal","nature","stripes","safari"],char:"🦓",fitzpatrick_scale:!1,category:"animals_and_nature"},tiger2:{keywords:["animal","nature","roar"],char:"🐅",fitzpatrick_scale:!1,category:"animals_and_nature"},water_buffalo:{keywords:["animal","nature","ox","cow"],char:"🐃",fitzpatrick_scale:!1,category:"animals_and_nature"},ox:{keywords:["animal","cow","beef"],char:"🐂",fitzpatrick_scale:!1,category:"animals_and_nature"},cow2:{keywords:["beef","ox","animal","nature","moo","milk"],char:"🐄",fitzpatrick_scale:!1,category:"animals_and_nature"},deer:{keywords:["animal","nature","horns","venison"],char:"🦌",fitzpatrick_scale:!1,category:"animals_and_nature"},dromedary_camel:{keywords:["animal","hot","desert","hump"],char:"🐪",fitzpatrick_scale:!1,category:"animals_and_nature"},camel:{keywords:["animal","nature","hot","desert","hump"],char:"🐫",fitzpatrick_scale:!1,category:"animals_and_nature"},giraffe:{keywords:["animal","nature","spots","safari"],char:"🦒",fitzpatrick_scale:!1,category:"animals_and_nature"},elephant:{keywords:["animal","nature","nose","th","circus"],char:"🐘",fitzpatrick_scale:!1,category:"animals_and_nature"},rhinoceros:{keywords:["animal","nature","horn"],char:"🦏",fitzpatrick_scale:!1,category:"animals_and_nature"},goat:{keywords:["animal","nature"],char:"🐐",fitzpatrick_scale:!1,category:"animals_and_nature"},ram:{keywords:["animal","sheep","nature"],char:"🐏",fitzpatrick_scale:!1,category:"animals_and_nature"},sheep:{keywords:["animal","nature","wool","shipit"],char:"🐑",fitzpatrick_scale:!1,category:"animals_and_nature"},racehorse:{keywords:["animal","gamble","luck"],char:"🐎",fitzpatrick_scale:!1,category:"animals_and_nature"},pig2:{keywords:["animal","nature"],char:"🐖",fitzpatrick_scale:!1,category:"animals_and_nature"},rat:{keywords:["animal","mouse","rodent"],char:"🐀",fitzpatrick_scale:!1,category:"animals_and_nature"},mouse2:{keywords:["animal","nature","rodent"],char:"🐁",fitzpatrick_scale:!1,category:"animals_and_nature"},rooster:{keywords:["animal","nature","chicken"],char:"🐓",fitzpatrick_scale:!1,category:"animals_and_nature"},turkey:{keywords:["animal","bird"],char:"🦃",fitzpatrick_scale:!1,category:"animals_and_nature"},dove:{keywords:["animal","bird"],char:"🕊",fitzpatrick_scale:!1,category:"animals_and_nature"},dog2:{keywords:["animal","nature","friend","doge","pet","faithful"],char:"🐕",fitzpatrick_scale:!1,category:"animals_and_nature"},poodle:{keywords:["dog","animal","101","nature","pet"],char:"🐩",fitzpatrick_scale:!1,category:"animals_and_nature"},cat2:{keywords:["animal","meow","pet","cats"],char:"🐈",fitzpatrick_scale:!1,category:"animals_and_nature"},rabbit2:{keywords:["animal","nature","pet","magic","spring"],char:"🐇",fitzpatrick_scale:!1,category:"animals_and_nature"},chipmunk:{keywords:["animal","nature","rodent","squirrel"],char:"🐿",fitzpatrick_scale:!1,category:"animals_and_nature"},hedgehog:{keywords:["animal","nature","spiny"],char:"🦔",fitzpatrick_scale:!1,category:"animals_and_nature"},raccoon:{keywords:["animal","nature"],char:"🦝",fitzpatrick_scale:!1,category:"animals_and_nature"},llama:{keywords:["animal","nature","alpaca"],char:"🦙",fitzpatrick_scale:!1,category:"animals_and_nature"},hippopotamus:{keywords:["animal","nature"],char:"🦛",fitzpatrick_scale:!1,category:"animals_and_nature"},kangaroo:{keywords:["animal","nature","australia","joey","hop","marsupial"],char:"🦘",fitzpatrick_scale:!1,category:"animals_and_nature"},badger:{keywords:["animal","nature","honey"],char:"🦡",fitzpatrick_scale:!1,category:"animals_and_nature"},swan:{keywords:["animal","nature","bird"],char:"🦢",fitzpatrick_scale:!1,category:"animals_and_nature"},peacock:{keywords:["animal","nature","peahen","bird"],char:"🦚",fitzpatrick_scale:!1,category:"animals_and_nature"},parrot:{keywords:["animal","nature","bird","pirate","talk"],char:"🦜",fitzpatrick_scale:!1,category:"animals_and_nature"},lobster:{keywords:["animal","nature","bisque","claws","seafood"],char:"🦞",fitzpatrick_scale:!1,category:"animals_and_nature"},mosquito:{keywords:["animal","nature","insect","malaria"],char:"🦟",fitzpatrick_scale:!1,category:"animals_and_nature"},paw_prints:{keywords:["animal","tracking","footprints","dog","cat","pet","feet"],char:"🐾",fitzpatrick_scale:!1,category:"animals_and_nature"},dragon:{keywords:["animal","myth","nature","chinese","green"],char:"🐉",fitzpatrick_scale:!1,category:"animals_and_nature"},dragon_face:{keywords:["animal","myth","nature","chinese","green"],char:"🐲",fitzpatrick_scale:!1,category:"animals_and_nature"},cactus:{keywords:["vegetable","plant","nature"],char:"🌵",fitzpatrick_scale:!1,category:"animals_and_nature"},christmas_tree:{keywords:["festival","vacation","december","xmas","celebration"],char:"🎄",fitzpatrick_scale:!1,category:"animals_and_nature"},evergreen_tree:{keywords:["plant","nature"],char:"🌲",fitzpatrick_scale:!1,category:"animals_and_nature"},deciduous_tree:{keywords:["plant","nature"],char:"🌳",fitzpatrick_scale:!1,category:"animals_and_nature"},palm_tree:{keywords:["plant","vegetable","nature","summer","beach","mojito","tropical"],char:"🌴",fitzpatrick_scale:!1,category:"animals_and_nature"},seedling:{keywords:["plant","nature","grass","lawn","spring"],char:"🌱",fitzpatrick_scale:!1,category:"animals_and_nature"},herb:{keywords:["vegetable","plant","medicine","weed","grass","lawn"],char:"🌿",fitzpatrick_scale:!1,category:"animals_and_nature"},shamrock:{keywords:["vegetable","plant","nature","irish","clover"],char:"☘",fitzpatrick_scale:!1,category:"animals_and_nature"},four_leaf_clover:{keywords:["vegetable","plant","nature","lucky","irish"],char:"🍀",fitzpatrick_scale:!1,category:"animals_and_nature"},bamboo:{keywords:["plant","nature","vegetable","panda","pine_decoration"],char:"🎍",fitzpatrick_scale:!1,category:"animals_and_nature"},tanabata_tree:{keywords:["plant","nature","branch","summer"],char:"🎋",fitzpatrick_scale:!1,category:"animals_and_nature"},leaves:{keywords:["nature","plant","tree","vegetable","grass","lawn","spring"],char:"🍃",fitzpatrick_scale:!1,category:"animals_and_nature"},fallen_leaf:{keywords:["nature","plant","vegetable","leaves"],char:"🍂",fitzpatrick_scale:!1,category:"animals_and_nature"},maple_leaf:{keywords:["nature","plant","vegetable","ca","fall"],char:"🍁",fitzpatrick_scale:!1,category:"animals_and_nature"},ear_of_rice:{keywords:["nature","plant"],char:"🌾",fitzpatrick_scale:!1,category:"animals_and_nature"},hibiscus:{keywords:["plant","vegetable","flowers","beach"],char:"🌺",fitzpatrick_scale:!1,category:"animals_and_nature"},sunflower:{keywords:["nature","plant","fall"],char:"🌻",fitzpatrick_scale:!1,category:"animals_and_nature"},rose:{keywords:["flowers","valentines","love","spring"],char:"🌹",fitzpatrick_scale:!1,category:"animals_and_nature"},wilted_flower:{keywords:["plant","nature","flower"],char:"🥀",fitzpatrick_scale:!1,category:"animals_and_nature"},tulip:{keywords:["flowers","plant","nature","summer","spring"],char:"🌷",fitzpatrick_scale:!1,category:"animals_and_nature"},blossom:{keywords:["nature","flowers","yellow"],char:"🌼",fitzpatrick_scale:!1,category:"animals_and_nature"},cherry_blossom:{keywords:["nature","plant","spring","flower"],char:"🌸",fitzpatrick_scale:!1,category:"animals_and_nature"},bouquet:{keywords:["flowers","nature","spring"],char:"💐",fitzpatrick_scale:!1,category:"animals_and_nature"},mushroom:{keywords:["plant","vegetable"],char:"🍄",fitzpatrick_scale:!1,category:"animals_and_nature"},chestnut:{keywords:["food","squirrel"],char:"🌰",fitzpatrick_scale:!1,category:"animals_and_nature"},jack_o_lantern:{keywords:["halloween","light","pumpkin","creepy","fall"],char:"🎃",fitzpatrick_scale:!1,category:"animals_and_nature"},shell:{keywords:["nature","sea","beach"],char:"🐚",fitzpatrick_scale:!1,category:"animals_and_nature"},spider_web:{keywords:["animal","insect","arachnid","silk"],char:"🕸",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_americas:{keywords:["globe","world","USA","international"],char:"🌎",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_africa:{keywords:["globe","world","international"],char:"🌍",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_asia:{keywords:["globe","world","east","international"],char:"🌏",fitzpatrick_scale:!1,category:"animals_and_nature"},full_moon:{keywords:["nature","yellow","twilight","planet","space","night","evening","sleep"],char:"🌕",fitzpatrick_scale:!1,category:"animals_and_nature"},waning_gibbous_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep","waxing_gibbous_moon"],char:"🌖",fitzpatrick_scale:!1,category:"animals_and_nature"},last_quarter_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌗",fitzpatrick_scale:!1,category:"animals_and_nature"},waning_crescent_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌘",fitzpatrick_scale:!1,category:"animals_and_nature"},new_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌑",fitzpatrick_scale:!1,category:"animals_and_nature"},waxing_crescent_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌒",fitzpatrick_scale:!1,category:"animals_and_nature"},first_quarter_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌓",fitzpatrick_scale:!1,category:"animals_and_nature"},waxing_gibbous_moon:{keywords:["nature","night","sky","gray","twilight","planet","space","evening","sleep"],char:"🌔",fitzpatrick_scale:!1,category:"animals_and_nature"},new_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌚",fitzpatrick_scale:!1,category:"animals_and_nature"},full_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌝",fitzpatrick_scale:!1,category:"animals_and_nature"},first_quarter_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌛",fitzpatrick_scale:!1,category:"animals_and_nature"},last_quarter_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌜",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_with_face:{keywords:["nature","morning","sky"],char:"🌞",fitzpatrick_scale:!1,category:"animals_and_nature"},crescent_moon:{keywords:["night","sleep","sky","evening","magic"],char:"🌙",fitzpatrick_scale:!1,category:"animals_and_nature"},star:{keywords:["night","yellow"],char:"⭐",fitzpatrick_scale:!1,category:"animals_and_nature"},star2:{keywords:["night","sparkle","awesome","good","magic"],char:"🌟",fitzpatrick_scale:!1,category:"animals_and_nature"},dizzy:{keywords:["star","sparkle","shoot","magic"],char:"💫",fitzpatrick_scale:!1,category:"animals_and_nature"},sparkles:{keywords:["stars","shine","shiny","cool","awesome","good","magic"],char:"✨",fitzpatrick_scale:!1,category:"animals_and_nature"},comet:{keywords:["space"],char:"☄",fitzpatrick_scale:!1,category:"animals_and_nature"},sunny:{keywords:["weather","nature","brightness","summer","beach","spring"],char:"☀️",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_small_cloud:{keywords:["weather"],char:"🌤",fitzpatrick_scale:!1,category:"animals_and_nature"},partly_sunny:{keywords:["weather","nature","cloudy","morning","fall","spring"],char:"⛅",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_large_cloud:{keywords:["weather"],char:"🌥",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_rain_cloud:{keywords:["weather"],char:"🌦",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud:{keywords:["weather","sky"],char:"☁️",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_rain:{keywords:["weather"],char:"🌧",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_lightning_and_rain:{keywords:["weather","lightning"],char:"⛈",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_lightning:{keywords:["weather","thunder"],char:"🌩",fitzpatrick_scale:!1,category:"animals_and_nature"},zap:{keywords:["thunder","weather","lightning bolt","fast"],char:"⚡",fitzpatrick_scale:!1,category:"animals_and_nature"},fire:{keywords:["hot","cook","flame"],char:"🔥",fitzpatrick_scale:!1,category:"animals_and_nature"},boom:{keywords:["bomb","explode","explosion","collision","blown"],char:"💥",fitzpatrick_scale:!1,category:"animals_and_nature"},snowflake:{keywords:["winter","season","cold","weather","christmas","xmas"],char:"❄️",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_snow:{keywords:["weather"],char:"🌨",fitzpatrick_scale:!1,category:"animals_and_nature"},snowman:{keywords:["winter","season","cold","weather","christmas","xmas","frozen","without_snow"],char:"⛄",fitzpatrick_scale:!1,category:"animals_and_nature"},snowman_with_snow:{keywords:["winter","season","cold","weather","christmas","xmas","frozen"],char:"☃",fitzpatrick_scale:!1,category:"animals_and_nature"},wind_face:{keywords:["gust","air"],char:"🌬",fitzpatrick_scale:!1,category:"animals_and_nature"},dash:{keywords:["wind","air","fast","shoo","fart","smoke","puff"],char:"💨",fitzpatrick_scale:!1,category:"animals_and_nature"},tornado:{keywords:["weather","cyclone","twister"],char:"🌪",fitzpatrick_scale:!1,category:"animals_and_nature"},fog:{keywords:["weather"],char:"🌫",fitzpatrick_scale:!1,category:"animals_and_nature"},open_umbrella:{keywords:["weather","spring"],char:"☂",fitzpatrick_scale:!1,category:"animals_and_nature"},umbrella:{keywords:["rainy","weather","spring"],char:"☔",fitzpatrick_scale:!1,category:"animals_and_nature"},droplet:{keywords:["water","drip","faucet","spring"],char:"💧",fitzpatrick_scale:!1,category:"animals_and_nature"},sweat_drops:{keywords:["water","drip","oops"],char:"💦",fitzpatrick_scale:!1,category:"animals_and_nature"},ocean:{keywords:["sea","water","wave","nature","tsunami","disaster"],char:"🌊",fitzpatrick_scale:!1,category:"animals_and_nature"},green_apple:{keywords:["fruit","nature"],char:"🍏",fitzpatrick_scale:!1,category:"food_and_drink"},apple:{keywords:["fruit","mac","school"],char:"🍎",fitzpatrick_scale:!1,category:"food_and_drink"},pear:{keywords:["fruit","nature","food"],char:"🍐",fitzpatrick_scale:!1,category:"food_and_drink"},tangerine:{keywords:["food","fruit","nature","orange"],char:"🍊",fitzpatrick_scale:!1,category:"food_and_drink"},lemon:{keywords:["fruit","nature"],char:"🍋",fitzpatrick_scale:!1,category:"food_and_drink"},banana:{keywords:["fruit","food","monkey"],char:"🍌",fitzpatrick_scale:!1,category:"food_and_drink"},watermelon:{keywords:["fruit","food","picnic","summer"],char:"🍉",fitzpatrick_scale:!1,category:"food_and_drink"},grapes:{keywords:["fruit","food","wine"],char:"🍇",fitzpatrick_scale:!1,category:"food_and_drink"},strawberry:{keywords:["fruit","food","nature"],char:"🍓",fitzpatrick_scale:!1,category:"food_and_drink"},melon:{keywords:["fruit","nature","food"],char:"🍈",fitzpatrick_scale:!1,category:"food_and_drink"},cherries:{keywords:["food","fruit"],char:"🍒",fitzpatrick_scale:!1,category:"food_and_drink"},peach:{keywords:["fruit","nature","food"],char:"🍑",fitzpatrick_scale:!1,category:"food_and_drink"},pineapple:{keywords:["fruit","nature","food"],char:"🍍",fitzpatrick_scale:!1,category:"food_and_drink"},coconut:{keywords:["fruit","nature","food","palm"],char:"🥥",fitzpatrick_scale:!1,category:"food_and_drink"},kiwi_fruit:{keywords:["fruit","food"],char:"🥝",fitzpatrick_scale:!1,category:"food_and_drink"},mango:{keywords:["fruit","food","tropical"],char:"🥭",fitzpatrick_scale:!1,category:"food_and_drink"},avocado:{keywords:["fruit","food"],char:"🥑",fitzpatrick_scale:!1,category:"food_and_drink"},broccoli:{keywords:["fruit","food","vegetable"],char:"🥦",fitzpatrick_scale:!1,category:"food_and_drink"},tomato:{keywords:["fruit","vegetable","nature","food"],char:"🍅",fitzpatrick_scale:!1,category:"food_and_drink"},eggplant:{keywords:["vegetable","nature","food","aubergine"],char:"🍆",fitzpatrick_scale:!1,category:"food_and_drink"},cucumber:{keywords:["fruit","food","pickle"],char:"🥒",fitzpatrick_scale:!1,category:"food_and_drink"},carrot:{keywords:["vegetable","food","orange"],char:"🥕",fitzpatrick_scale:!1,category:"food_and_drink"},hot_pepper:{keywords:["food","spicy","chilli","chili"],char:"🌶",fitzpatrick_scale:!1,category:"food_and_drink"},potato:{keywords:["food","tuber","vegatable","starch"],char:"🥔",fitzpatrick_scale:!1,category:"food_and_drink"},corn:{keywords:["food","vegetable","plant"],char:"🌽",fitzpatrick_scale:!1,category:"food_and_drink"},leafy_greens:{keywords:["food","vegetable","plant","bok choy","cabbage","kale","lettuce"],char:"🥬",fitzpatrick_scale:!1,category:"food_and_drink"},sweet_potato:{keywords:["food","nature"],char:"🍠",fitzpatrick_scale:!1,category:"food_and_drink"},peanuts:{keywords:["food","nut"],char:"🥜",fitzpatrick_scale:!1,category:"food_and_drink"},honey_pot:{keywords:["bees","sweet","kitchen"],char:"🍯",fitzpatrick_scale:!1,category:"food_and_drink"},croissant:{keywords:["food","bread","french"],char:"🥐",fitzpatrick_scale:!1,category:"food_and_drink"},bread:{keywords:["food","wheat","breakfast","toast"],char:"🍞",fitzpatrick_scale:!1,category:"food_and_drink"},baguette_bread:{keywords:["food","bread","french"],char:"🥖",fitzpatrick_scale:!1,category:"food_and_drink"},bagel:{keywords:["food","bread","bakery","schmear"],char:"🥯",fitzpatrick_scale:!1,category:"food_and_drink"},pretzel:{keywords:["food","bread","twisted"],char:"🥨",fitzpatrick_scale:!1,category:"food_and_drink"},cheese:{keywords:["food","chadder"],char:"🧀",fitzpatrick_scale:!1,category:"food_and_drink"},egg:{keywords:["food","chicken","breakfast"],char:"🥚",fitzpatrick_scale:!1,category:"food_and_drink"},bacon:{keywords:["food","breakfast","pork","pig","meat"],char:"🥓",fitzpatrick_scale:!1,category:"food_and_drink"},steak:{keywords:["food","cow","meat","cut","chop","lambchop","porkchop"],char:"🥩",fitzpatrick_scale:!1,category:"food_and_drink"},pancakes:{keywords:["food","breakfast","flapjacks","hotcakes"],char:"🥞",fitzpatrick_scale:!1,category:"food_and_drink"},poultry_leg:{keywords:["food","meat","drumstick","bird","chicken","turkey"],char:"🍗",fitzpatrick_scale:!1,category:"food_and_drink"},meat_on_bone:{keywords:["good","food","drumstick"],char:"🍖",fitzpatrick_scale:!1,category:"food_and_drink"},bone:{keywords:["skeleton"],char:"🦴",fitzpatrick_scale:!1,category:"food_and_drink"},fried_shrimp:{keywords:["food","animal","appetizer","summer"],char:"🍤",fitzpatrick_scale:!1,category:"food_and_drink"},fried_egg:{keywords:["food","breakfast","kitchen","egg"],char:"🍳",fitzpatrick_scale:!1,category:"food_and_drink"},hamburger:{keywords:["meat","fast food","beef","cheeseburger","mcdonalds","burger king"],char:"🍔",fitzpatrick_scale:!1,category:"food_and_drink"},fries:{keywords:["chips","snack","fast food"],char:"🍟",fitzpatrick_scale:!1,category:"food_and_drink"},stuffed_flatbread:{keywords:["food","flatbread","stuffed","gyro"],char:"🥙",fitzpatrick_scale:!1,category:"food_and_drink"},hotdog:{keywords:["food","frankfurter"],char:"🌭",fitzpatrick_scale:!1,category:"food_and_drink"},pizza:{keywords:["food","party"],char:"🍕",fitzpatrick_scale:!1,category:"food_and_drink"},sandwich:{keywords:["food","lunch","bread"],char:"🥪",fitzpatrick_scale:!1,category:"food_and_drink"},canned_food:{keywords:["food","soup"],char:"🥫",fitzpatrick_scale:!1,category:"food_and_drink"},spaghetti:{keywords:["food","italian","noodle"],char:"🍝",fitzpatrick_scale:!1,category:"food_and_drink"},taco:{keywords:["food","mexican"],char:"🌮",fitzpatrick_scale:!1,category:"food_and_drink"},burrito:{keywords:["food","mexican"],char:"🌯",fitzpatrick_scale:!1,category:"food_and_drink"},green_salad:{keywords:["food","healthy","lettuce"],char:"🥗",fitzpatrick_scale:!1,category:"food_and_drink"},shallow_pan_of_food:{keywords:["food","cooking","casserole","paella"],char:"🥘",fitzpatrick_scale:!1,category:"food_and_drink"},ramen:{keywords:["food","japanese","noodle","chopsticks"],char:"🍜",fitzpatrick_scale:!1,category:"food_and_drink"},stew:{keywords:["food","meat","soup"],char:"🍲",fitzpatrick_scale:!1,category:"food_and_drink"},fish_cake:{keywords:["food","japan","sea","beach","narutomaki","pink","swirl","kamaboko","surimi","ramen"],char:"🍥",fitzpatrick_scale:!1,category:"food_and_drink"},fortune_cookie:{keywords:["food","prophecy"],char:"🥠",fitzpatrick_scale:!1,category:"food_and_drink"},sushi:{keywords:["food","fish","japanese","rice"],char:"🍣",fitzpatrick_scale:!1,category:"food_and_drink"},bento:{keywords:["food","japanese","box"],char:"🍱",fitzpatrick_scale:!1,category:"food_and_drink"},curry:{keywords:["food","spicy","hot","indian"],char:"🍛",fitzpatrick_scale:!1,category:"food_and_drink"},rice_ball:{keywords:["food","japanese"],char:"🍙",fitzpatrick_scale:!1,category:"food_and_drink"},rice:{keywords:["food","china","asian"],char:"🍚",fitzpatrick_scale:!1,category:"food_and_drink"},rice_cracker:{keywords:["food","japanese"],char:"🍘",fitzpatrick_scale:!1,category:"food_and_drink"},oden:{keywords:["food","japanese"],char:"🍢",fitzpatrick_scale:!1,category:"food_and_drink"},dango:{keywords:["food","dessert","sweet","japanese","barbecue","meat"],char:"🍡",fitzpatrick_scale:!1,category:"food_and_drink"},shaved_ice:{keywords:["hot","dessert","summer"],char:"🍧",fitzpatrick_scale:!1,category:"food_and_drink"},ice_cream:{keywords:["food","hot","dessert"],char:"🍨",fitzpatrick_scale:!1,category:"food_and_drink"},icecream:{keywords:["food","hot","dessert","summer"],char:"🍦",fitzpatrick_scale:!1,category:"food_and_drink"},pie:{keywords:["food","dessert","pastry"],char:"🥧",fitzpatrick_scale:!1,category:"food_and_drink"},cake:{keywords:["food","dessert"],char:"🍰",fitzpatrick_scale:!1,category:"food_and_drink"},cupcake:{keywords:["food","dessert","bakery","sweet"],char:"🧁",fitzpatrick_scale:!1,category:"food_and_drink"},moon_cake:{keywords:["food","autumn"],char:"🥮",fitzpatrick_scale:!1,category:"food_and_drink"},birthday:{keywords:["food","dessert","cake"],char:"🎂",fitzpatrick_scale:!1,category:"food_and_drink"},custard:{keywords:["dessert","food"],char:"🍮",fitzpatrick_scale:!1,category:"food_and_drink"},candy:{keywords:["snack","dessert","sweet","lolly"],char:"🍬",fitzpatrick_scale:!1,category:"food_and_drink"},lollipop:{keywords:["food","snack","candy","sweet"],char:"🍭",fitzpatrick_scale:!1,category:"food_and_drink"},chocolate_bar:{keywords:["food","snack","dessert","sweet"],char:"🍫",fitzpatrick_scale:!1,category:"food_and_drink"},popcorn:{keywords:["food","movie theater","films","snack"],char:"🍿",fitzpatrick_scale:!1,category:"food_and_drink"},dumpling:{keywords:["food","empanada","pierogi","potsticker"],char:"🥟",fitzpatrick_scale:!1,category:"food_and_drink"},doughnut:{keywords:["food","dessert","snack","sweet","donut"],char:"🍩",fitzpatrick_scale:!1,category:"food_and_drink"},cookie:{keywords:["food","snack","oreo","chocolate","sweet","dessert"],char:"🍪",fitzpatrick_scale:!1,category:"food_and_drink"},milk_glass:{keywords:["beverage","drink","cow"],char:"🥛",fitzpatrick_scale:!1,category:"food_and_drink"},beer:{keywords:["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],char:"🍺",fitzpatrick_scale:!1,category:"food_and_drink"},beers:{keywords:["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],char:"🍻",fitzpatrick_scale:!1,category:"food_and_drink"},clinking_glasses:{keywords:["beverage","drink","party","alcohol","celebrate","cheers","wine","champagne","toast"],char:"🥂",fitzpatrick_scale:!1,category:"food_and_drink"},wine_glass:{keywords:["drink","beverage","drunk","alcohol","booze"],char:"🍷",fitzpatrick_scale:!1,category:"food_and_drink"},tumbler_glass:{keywords:["drink","beverage","drunk","alcohol","liquor","booze","bourbon","scotch","whisky","glass","shot"],char:"🥃",fitzpatrick_scale:!1,category:"food_and_drink"},cocktail:{keywords:["drink","drunk","alcohol","beverage","booze","mojito"],char:"🍸",fitzpatrick_scale:!1,category:"food_and_drink"},tropical_drink:{keywords:["beverage","cocktail","summer","beach","alcohol","booze","mojito"],char:"🍹",fitzpatrick_scale:!1,category:"food_and_drink"},champagne:{keywords:["drink","wine","bottle","celebration"],char:"🍾",fitzpatrick_scale:!1,category:"food_and_drink"},sake:{keywords:["wine","drink","drunk","beverage","japanese","alcohol","booze"],char:"🍶",fitzpatrick_scale:!1,category:"food_and_drink"},tea:{keywords:["drink","bowl","breakfast","green","british"],char:"🍵",fitzpatrick_scale:!1,category:"food_and_drink"},cup_with_straw:{keywords:["drink","soda"],char:"🥤",fitzpatrick_scale:!1,category:"food_and_drink"},coffee:{keywords:["beverage","caffeine","latte","espresso"],char:"☕",fitzpatrick_scale:!1,category:"food_and_drink"},baby_bottle:{keywords:["food","container","milk"],char:"🍼",fitzpatrick_scale:!1,category:"food_and_drink"},salt:{keywords:["condiment","shaker"],char:"🧂",fitzpatrick_scale:!1,category:"food_and_drink"},spoon:{keywords:["cutlery","kitchen","tableware"],char:"🥄",fitzpatrick_scale:!1,category:"food_and_drink"},fork_and_knife:{keywords:["cutlery","kitchen"],char:"🍴",fitzpatrick_scale:!1,category:"food_and_drink"},plate_with_cutlery:{keywords:["food","eat","meal","lunch","dinner","restaurant"],char:"🍽",fitzpatrick_scale:!1,category:"food_and_drink"},bowl_with_spoon:{keywords:["food","breakfast","cereal","oatmeal","porridge"],char:"🥣",fitzpatrick_scale:!1,category:"food_and_drink"},takeout_box:{keywords:["food","leftovers"],char:"🥡",fitzpatrick_scale:!1,category:"food_and_drink"},chopsticks:{keywords:["food"],char:"🥢",fitzpatrick_scale:!1,category:"food_and_drink"},soccer:{keywords:["sports","football"],char:"⚽",fitzpatrick_scale:!1,category:"activity"},basketball:{keywords:["sports","balls","NBA"],char:"🏀",fitzpatrick_scale:!1,category:"activity"},football:{keywords:["sports","balls","NFL"],char:"🏈",fitzpatrick_scale:!1,category:"activity"},baseball:{keywords:["sports","balls"],char:"⚾",fitzpatrick_scale:!1,category:"activity"},softball:{keywords:["sports","balls"],char:"🥎",fitzpatrick_scale:!1,category:"activity"},tennis:{keywords:["sports","balls","green"],char:"🎾",fitzpatrick_scale:!1,category:"activity"},volleyball:{keywords:["sports","balls"],char:"🏐",fitzpatrick_scale:!1,category:"activity"},rugby_football:{keywords:["sports","team"],char:"🏉",fitzpatrick_scale:!1,category:"activity"},flying_disc:{keywords:["sports","frisbee","ultimate"],char:"🥏",fitzpatrick_scale:!1,category:"activity"},"8ball":{keywords:["pool","hobby","game","luck","magic"],char:"🎱",fitzpatrick_scale:!1,category:"activity"},golf:{keywords:["sports","business","flag","hole","summer"],char:"⛳",fitzpatrick_scale:!1,category:"activity"},golfing_woman:{keywords:["sports","business","woman","female"],char:"🏌️‍♀️",fitzpatrick_scale:!1,category:"activity"},golfing_man:{keywords:["sports","business"],char:"🏌",fitzpatrick_scale:!0,category:"activity"},ping_pong:{keywords:["sports","pingpong"],char:"🏓",fitzpatrick_scale:!1,category:"activity"},badminton:{keywords:["sports"],char:"🏸",fitzpatrick_scale:!1,category:"activity"},goal_net:{keywords:["sports"],char:"🥅",fitzpatrick_scale:!1,category:"activity"},ice_hockey:{keywords:["sports"],char:"🏒",fitzpatrick_scale:!1,category:"activity"},field_hockey:{keywords:["sports"],char:"🏑",fitzpatrick_scale:!1,category:"activity"},lacrosse:{keywords:["sports","ball","stick"],char:"🥍",fitzpatrick_scale:!1,category:"activity"},cricket:{keywords:["sports"],char:"🏏",fitzpatrick_scale:!1,category:"activity"},ski:{keywords:["sports","winter","cold","snow"],char:"🎿",fitzpatrick_scale:!1,category:"activity"},skier:{keywords:["sports","winter","snow"],char:"⛷",fitzpatrick_scale:!1,category:"activity"},snowboarder:{keywords:["sports","winter"],char:"🏂",fitzpatrick_scale:!0,category:"activity"},person_fencing:{keywords:["sports","fencing","sword"],char:"🤺",fitzpatrick_scale:!1,category:"activity"},women_wrestling:{keywords:["sports","wrestlers"],char:"🤼‍♀️",fitzpatrick_scale:!1,category:"activity"},men_wrestling:{keywords:["sports","wrestlers"],char:"🤼‍♂️",fitzpatrick_scale:!1,category:"activity"},woman_cartwheeling:{keywords:["gymnastics"],char:"🤸‍♀️",fitzpatrick_scale:!0,category:"activity"},man_cartwheeling:{keywords:["gymnastics"],char:"🤸‍♂️",fitzpatrick_scale:!0,category:"activity"},woman_playing_handball:{keywords:["sports"],char:"🤾‍♀️",fitzpatrick_scale:!0,category:"activity"},man_playing_handball:{keywords:["sports"],char:"🤾‍♂️",fitzpatrick_scale:!0,category:"activity"},ice_skate:{keywords:["sports"],char:"⛸",fitzpatrick_scale:!1,category:"activity"},curling_stone:{keywords:["sports"],char:"🥌",fitzpatrick_scale:!1,category:"activity"},skateboard:{keywords:["board"],char:"🛹",fitzpatrick_scale:!1,category:"activity"},sled:{keywords:["sleigh","luge","toboggan"],char:"🛷",fitzpatrick_scale:!1,category:"activity"},bow_and_arrow:{keywords:["sports"],char:"🏹",fitzpatrick_scale:!1,category:"activity"},fishing_pole_and_fish:{keywords:["food","hobby","summer"],char:"🎣",fitzpatrick_scale:!1,category:"activity"},boxing_glove:{keywords:["sports","fighting"],char:"🥊",fitzpatrick_scale:!1,category:"activity"},martial_arts_uniform:{keywords:["judo","karate","taekwondo"],char:"🥋",fitzpatrick_scale:!1,category:"activity"},rowing_woman:{keywords:["sports","hobby","water","ship","woman","female"],char:"🚣‍♀️",fitzpatrick_scale:!0,category:"activity"},rowing_man:{keywords:["sports","hobby","water","ship"],char:"🚣",fitzpatrick_scale:!0,category:"activity"},climbing_woman:{keywords:["sports","hobby","woman","female","rock"],char:"🧗‍♀️",fitzpatrick_scale:!0,category:"activity"},climbing_man:{keywords:["sports","hobby","man","male","rock"],char:"🧗‍♂️",fitzpatrick_scale:!0,category:"activity"},swimming_woman:{keywords:["sports","exercise","human","athlete","water","summer","woman","female"],char:"🏊‍♀️",fitzpatrick_scale:!0,category:"activity"},swimming_man:{keywords:["sports","exercise","human","athlete","water","summer"],char:"🏊",fitzpatrick_scale:!0,category:"activity"},woman_playing_water_polo:{keywords:["sports","pool"],char:"🤽‍♀️",fitzpatrick_scale:!0,category:"activity"},man_playing_water_polo:{keywords:["sports","pool"],char:"🤽‍♂️",fitzpatrick_scale:!0,category:"activity"},woman_in_lotus_position:{keywords:["woman","female","meditation","yoga","serenity","zen","mindfulness"],char:"🧘‍♀️",fitzpatrick_scale:!0,category:"activity"},man_in_lotus_position:{keywords:["man","male","meditation","yoga","serenity","zen","mindfulness"],char:"🧘‍♂️",fitzpatrick_scale:!0,category:"activity"},surfing_woman:{keywords:["sports","ocean","sea","summer","beach","woman","female"],char:"🏄‍♀️",fitzpatrick_scale:!0,category:"activity"},surfing_man:{keywords:["sports","ocean","sea","summer","beach"],char:"🏄",fitzpatrick_scale:!0,category:"activity"},bath:{keywords:["clean","shower","bathroom"],char:"🛀",fitzpatrick_scale:!0,category:"activity"},basketball_woman:{keywords:["sports","human","woman","female"],char:"⛹️‍♀️",fitzpatrick_scale:!0,category:"activity"},basketball_man:{keywords:["sports","human"],char:"⛹",fitzpatrick_scale:!0,category:"activity"},weight_lifting_woman:{keywords:["sports","training","exercise","woman","female"],char:"🏋️‍♀️",fitzpatrick_scale:!0,category:"activity"},weight_lifting_man:{keywords:["sports","training","exercise"],char:"🏋",fitzpatrick_scale:!0,category:"activity"},biking_woman:{keywords:["sports","bike","exercise","hipster","woman","female"],char:"🚴‍♀️",fitzpatrick_scale:!0,category:"activity"},biking_man:{keywords:["sports","bike","exercise","hipster"],char:"🚴",fitzpatrick_scale:!0,category:"activity"},mountain_biking_woman:{keywords:["transportation","sports","human","race","bike","woman","female"],char:"🚵‍♀️",fitzpatrick_scale:!0,category:"activity"},mountain_biking_man:{keywords:["transportation","sports","human","race","bike"],char:"🚵",fitzpatrick_scale:!0,category:"activity"},horse_racing:{keywords:["animal","betting","competition","gambling","luck"],char:"🏇",fitzpatrick_scale:!0,category:"activity"},business_suit_levitating:{keywords:["suit","business","levitate","hover","jump"],char:"🕴",fitzpatrick_scale:!0,category:"activity"},trophy:{keywords:["win","award","contest","place","ftw","ceremony"],char:"🏆",fitzpatrick_scale:!1,category:"activity"},running_shirt_with_sash:{keywords:["play","pageant"],char:"🎽",fitzpatrick_scale:!1,category:"activity"},medal_sports:{keywords:["award","winning"],char:"🏅",fitzpatrick_scale:!1,category:"activity"},medal_military:{keywords:["award","winning","army"],char:"🎖",fitzpatrick_scale:!1,category:"activity"},"1st_place_medal":{keywords:["award","winning","first"],char:"🥇",fitzpatrick_scale:!1,category:"activity"},"2nd_place_medal":{keywords:["award","second"],char:"🥈",fitzpatrick_scale:!1,category:"activity"},"3rd_place_medal":{keywords:["award","third"],char:"🥉",fitzpatrick_scale:!1,category:"activity"},reminder_ribbon:{keywords:["sports","cause","support","awareness"],char:"🎗",fitzpatrick_scale:!1,category:"activity"},rosette:{keywords:["flower","decoration","military"],char:"🏵",fitzpatrick_scale:!1,category:"activity"},ticket:{keywords:["event","concert","pass"],char:"🎫",fitzpatrick_scale:!1,category:"activity"},tickets:{keywords:["sports","concert","entrance"],char:"🎟",fitzpatrick_scale:!1,category:"activity"},performing_arts:{keywords:["acting","theater","drama"],char:"🎭",fitzpatrick_scale:!1,category:"activity"},art:{keywords:["design","paint","draw","colors"],char:"🎨",fitzpatrick_scale:!1,category:"activity"},circus_tent:{keywords:["festival","carnival","party"],char:"🎪",fitzpatrick_scale:!1,category:"activity"},woman_juggling:{keywords:["juggle","balance","skill","multitask"],char:"🤹‍♀️",fitzpatrick_scale:!0,category:"activity"},man_juggling:{keywords:["juggle","balance","skill","multitask"],char:"🤹‍♂️",fitzpatrick_scale:!0,category:"activity"},microphone:{keywords:["sound","music","PA","sing","talkshow"],char:"🎤",fitzpatrick_scale:!1,category:"activity"},headphones:{keywords:["music","score","gadgets"],char:"🎧",fitzpatrick_scale:!1,category:"activity"},musical_score:{keywords:["treble","clef","compose"],char:"🎼",fitzpatrick_scale:!1,category:"activity"},musical_keyboard:{keywords:["piano","instrument","compose"],char:"🎹",fitzpatrick_scale:!1,category:"activity"},drum:{keywords:["music","instrument","drumsticks","snare"],char:"🥁",fitzpatrick_scale:!1,category:"activity"},saxophone:{keywords:["music","instrument","jazz","blues"],char:"🎷",fitzpatrick_scale:!1,category:"activity"},trumpet:{keywords:["music","brass"],char:"🎺",fitzpatrick_scale:!1,category:"activity"},guitar:{keywords:["music","instrument"],char:"🎸",fitzpatrick_scale:!1,category:"activity"},violin:{keywords:["music","instrument","orchestra","symphony"],char:"🎻",fitzpatrick_scale:!1,category:"activity"},clapper:{keywords:["movie","film","record"],char:"🎬",fitzpatrick_scale:!1,category:"activity"},video_game:{keywords:["play","console","PS4","controller"],char:"🎮",fitzpatrick_scale:!1,category:"activity"},space_invader:{keywords:["game","arcade","play"],char:"👾",fitzpatrick_scale:!1,category:"activity"},dart:{keywords:["game","play","bar","target","bullseye"],char:"🎯",fitzpatrick_scale:!1,category:"activity"},game_die:{keywords:["dice","random","tabletop","play","luck"],char:"🎲",fitzpatrick_scale:!1,category:"activity"},chess_pawn:{keywords:["expendable"],char:"♟",fitzpatrick_scale:!1,category:"activity"},slot_machine:{keywords:["bet","gamble","vegas","fruit machine","luck","casino"],char:"🎰",fitzpatrick_scale:!1,category:"activity"},jigsaw:{keywords:["interlocking","puzzle","piece"],char:"🧩",fitzpatrick_scale:!1,category:"activity"},bowling:{keywords:["sports","fun","play"],char:"🎳",fitzpatrick_scale:!1,category:"activity"},red_car:{keywords:["red","transportation","vehicle"],char:"🚗",fitzpatrick_scale:!1,category:"travel_and_places"},taxi:{keywords:["uber","vehicle","cars","transportation"],char:"🚕",fitzpatrick_scale:!1,category:"travel_and_places"},blue_car:{keywords:["transportation","vehicle"],char:"🚙",fitzpatrick_scale:!1,category:"travel_and_places"},bus:{keywords:["car","vehicle","transportation"],char:"🚌",fitzpatrick_scale:!1,category:"travel_and_places"},trolleybus:{keywords:["bart","transportation","vehicle"],char:"🚎",fitzpatrick_scale:!1,category:"travel_and_places"},racing_car:{keywords:["sports","race","fast","formula","f1"],char:"🏎",fitzpatrick_scale:!1,category:"travel_and_places"},police_car:{keywords:["vehicle","cars","transportation","law","legal","enforcement"],char:"🚓",fitzpatrick_scale:!1,category:"travel_and_places"},ambulance:{keywords:["health","911","hospital"],char:"🚑",fitzpatrick_scale:!1,category:"travel_and_places"},fire_engine:{keywords:["transportation","cars","vehicle"],char:"🚒",fitzpatrick_scale:!1,category:"travel_and_places"},minibus:{keywords:["vehicle","car","transportation"],char:"🚐",fitzpatrick_scale:!1,category:"travel_and_places"},truck:{keywords:["cars","transportation"],char:"🚚",fitzpatrick_scale:!1,category:"travel_and_places"},articulated_lorry:{keywords:["vehicle","cars","transportation","express"],char:"🚛",fitzpatrick_scale:!1,category:"travel_and_places"},tractor:{keywords:["vehicle","car","farming","agriculture"],char:"🚜",fitzpatrick_scale:!1,category:"travel_and_places"},kick_scooter:{keywords:["vehicle","kick","razor"],char:"🛴",fitzpatrick_scale:!1,category:"travel_and_places"},motorcycle:{keywords:["race","sports","fast"],char:"🏍",fitzpatrick_scale:!1,category:"travel_and_places"},bike:{keywords:["sports","bicycle","exercise","hipster"],char:"🚲",fitzpatrick_scale:!1,category:"travel_and_places"},motor_scooter:{keywords:["vehicle","vespa","sasha"],char:"🛵",fitzpatrick_scale:!1,category:"travel_and_places"},rotating_light:{keywords:["police","ambulance","911","emergency","alert","error","pinged","law","legal"],char:"🚨",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_police_car:{keywords:["vehicle","law","legal","enforcement","911"],char:"🚔",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_bus:{keywords:["vehicle","transportation"],char:"🚍",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_automobile:{keywords:["car","vehicle","transportation"],char:"🚘",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_taxi:{keywords:["vehicle","cars","uber"],char:"🚖",fitzpatrick_scale:!1,category:"travel_and_places"},aerial_tramway:{keywords:["transportation","vehicle","ski"],char:"🚡",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_cableway:{keywords:["transportation","vehicle","ski"],char:"🚠",fitzpatrick_scale:!1,category:"travel_and_places"},suspension_railway:{keywords:["vehicle","transportation"],char:"🚟",fitzpatrick_scale:!1,category:"travel_and_places"},railway_car:{keywords:["transportation","vehicle"],char:"🚃",fitzpatrick_scale:!1,category:"travel_and_places"},train:{keywords:["transportation","vehicle","carriage","public","travel"],char:"🚋",fitzpatrick_scale:!1,category:"travel_and_places"},monorail:{keywords:["transportation","vehicle"],char:"🚝",fitzpatrick_scale:!1,category:"travel_and_places"},bullettrain_side:{keywords:["transportation","vehicle"],char:"🚄",fitzpatrick_scale:!1,category:"travel_and_places"},bullettrain_front:{keywords:["transportation","vehicle","speed","fast","public","travel"],char:"🚅",fitzpatrick_scale:!1,category:"travel_and_places"},light_rail:{keywords:["transportation","vehicle"],char:"🚈",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_railway:{keywords:["transportation","vehicle"],char:"🚞",fitzpatrick_scale:!1,category:"travel_and_places"},steam_locomotive:{keywords:["transportation","vehicle","train"],char:"🚂",fitzpatrick_scale:!1,category:"travel_and_places"},train2:{keywords:["transportation","vehicle"],char:"🚆",fitzpatrick_scale:!1,category:"travel_and_places"},metro:{keywords:["transportation","blue-square","mrt","underground","tube"],char:"🚇",fitzpatrick_scale:!1,category:"travel_and_places"},tram:{keywords:["transportation","vehicle"],char:"🚊",fitzpatrick_scale:!1,category:"travel_and_places"},station:{keywords:["transportation","vehicle","public"],char:"🚉",fitzpatrick_scale:!1,category:"travel_and_places"},flying_saucer:{keywords:["transportation","vehicle","ufo"],char:"🛸",fitzpatrick_scale:!1,category:"travel_and_places"},helicopter:{keywords:["transportation","vehicle","fly"],char:"🚁",fitzpatrick_scale:!1,category:"travel_and_places"},small_airplane:{keywords:["flight","transportation","fly","vehicle"],char:"🛩",fitzpatrick_scale:!1,category:"travel_and_places"},airplane:{keywords:["vehicle","transportation","flight","fly"],char:"✈️",fitzpatrick_scale:!1,category:"travel_and_places"},flight_departure:{keywords:["airport","flight","landing"],char:"🛫",fitzpatrick_scale:!1,category:"travel_and_places"},flight_arrival:{keywords:["airport","flight","boarding"],char:"🛬",fitzpatrick_scale:!1,category:"travel_and_places"},sailboat:{keywords:["ship","summer","transportation","water","sailing"],char:"⛵",fitzpatrick_scale:!1,category:"travel_and_places"},motor_boat:{keywords:["ship"],char:"🛥",fitzpatrick_scale:!1,category:"travel_and_places"},speedboat:{keywords:["ship","transportation","vehicle","summer"],char:"🚤",fitzpatrick_scale:!1,category:"travel_and_places"},ferry:{keywords:["boat","ship","yacht"],char:"⛴",fitzpatrick_scale:!1,category:"travel_and_places"},passenger_ship:{keywords:["yacht","cruise","ferry"],char:"🛳",fitzpatrick_scale:!1,category:"travel_and_places"},rocket:{keywords:["launch","ship","staffmode","NASA","outer space","outer_space","fly"],char:"🚀",fitzpatrick_scale:!1,category:"travel_and_places"},artificial_satellite:{keywords:["communication","gps","orbit","spaceflight","NASA","ISS"],char:"🛰",fitzpatrick_scale:!1,category:"travel_and_places"},seat:{keywords:["sit","airplane","transport","bus","flight","fly"],char:"💺",fitzpatrick_scale:!1,category:"travel_and_places"},canoe:{keywords:["boat","paddle","water","ship"],char:"🛶",fitzpatrick_scale:!1,category:"travel_and_places"},anchor:{keywords:["ship","ferry","sea","boat"],char:"⚓",fitzpatrick_scale:!1,category:"travel_and_places"},construction:{keywords:["wip","progress","caution","warning"],char:"🚧",fitzpatrick_scale:!1,category:"travel_and_places"},fuelpump:{keywords:["gas station","petroleum"],char:"⛽",fitzpatrick_scale:!1,category:"travel_and_places"},busstop:{keywords:["transportation","wait"],char:"🚏",fitzpatrick_scale:!1,category:"travel_and_places"},vertical_traffic_light:{keywords:["transportation","driving"],char:"🚦",fitzpatrick_scale:!1,category:"travel_and_places"},traffic_light:{keywords:["transportation","signal"],char:"🚥",fitzpatrick_scale:!1,category:"travel_and_places"},checkered_flag:{keywords:["contest","finishline","race","gokart"],char:"🏁",fitzpatrick_scale:!1,category:"travel_and_places"},ship:{keywords:["transportation","titanic","deploy"],char:"🚢",fitzpatrick_scale:!1,category:"travel_and_places"},ferris_wheel:{keywords:["photo","carnival","londoneye"],char:"🎡",fitzpatrick_scale:!1,category:"travel_and_places"},roller_coaster:{keywords:["carnival","playground","photo","fun"],char:"🎢",fitzpatrick_scale:!1,category:"travel_and_places"},carousel_horse:{keywords:["photo","carnival"],char:"🎠",fitzpatrick_scale:!1,category:"travel_and_places"},building_construction:{keywords:["wip","working","progress"],char:"🏗",fitzpatrick_scale:!1,category:"travel_and_places"},foggy:{keywords:["photo","mountain"],char:"🌁",fitzpatrick_scale:!1,category:"travel_and_places"},tokyo_tower:{keywords:["photo","japanese"],char:"🗼",fitzpatrick_scale:!1,category:"travel_and_places"},factory:{keywords:["building","industry","pollution","smoke"],char:"🏭",fitzpatrick_scale:!1,category:"travel_and_places"},fountain:{keywords:["photo","summer","water","fresh"],char:"⛲",fitzpatrick_scale:!1,category:"travel_and_places"},rice_scene:{keywords:["photo","japan","asia","tsukimi"],char:"🎑",fitzpatrick_scale:!1,category:"travel_and_places"},mountain:{keywords:["photo","nature","environment"],char:"⛰",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_snow:{keywords:["photo","nature","environment","winter","cold"],char:"🏔",fitzpatrick_scale:!1,category:"travel_and_places"},mount_fuji:{keywords:["photo","mountain","nature","japanese"],char:"🗻",fitzpatrick_scale:!1,category:"travel_and_places"},volcano:{keywords:["photo","nature","disaster"],char:"🌋",fitzpatrick_scale:!1,category:"travel_and_places"},japan:{keywords:["nation","country","japanese","asia"],char:"🗾",fitzpatrick_scale:!1,category:"travel_and_places"},camping:{keywords:["photo","outdoors","tent"],char:"🏕",fitzpatrick_scale:!1,category:"travel_and_places"},tent:{keywords:["photo","camping","outdoors"],char:"⛺",fitzpatrick_scale:!1,category:"travel_and_places"},national_park:{keywords:["photo","environment","nature"],char:"🏞",fitzpatrick_scale:!1,category:"travel_and_places"},motorway:{keywords:["road","cupertino","interstate","highway"],char:"🛣",fitzpatrick_scale:!1,category:"travel_and_places"},railway_track:{keywords:["train","transportation"],char:"🛤",fitzpatrick_scale:!1,category:"travel_and_places"},sunrise:{keywords:["morning","view","vacation","photo"],char:"🌅",fitzpatrick_scale:!1,category:"travel_and_places"},sunrise_over_mountains:{keywords:["view","vacation","photo"],char:"🌄",fitzpatrick_scale:!1,category:"travel_and_places"},desert:{keywords:["photo","warm","saharah"],char:"🏜",fitzpatrick_scale:!1,category:"travel_and_places"},beach_umbrella:{keywords:["weather","summer","sunny","sand","mojito"],char:"🏖",fitzpatrick_scale:!1,category:"travel_and_places"},desert_island:{keywords:["photo","tropical","mojito"],char:"🏝",fitzpatrick_scale:!1,category:"travel_and_places"},city_sunrise:{keywords:["photo","good morning","dawn"],char:"🌇",fitzpatrick_scale:!1,category:"travel_and_places"},city_sunset:{keywords:["photo","evening","sky","buildings"],char:"🌆",fitzpatrick_scale:!1,category:"travel_and_places"},cityscape:{keywords:["photo","night life","urban"],char:"🏙",fitzpatrick_scale:!1,category:"travel_and_places"},night_with_stars:{keywords:["evening","city","downtown"],char:"🌃",fitzpatrick_scale:!1,category:"travel_and_places"},bridge_at_night:{keywords:["photo","sanfrancisco"],char:"🌉",fitzpatrick_scale:!1,category:"travel_and_places"},milky_way:{keywords:["photo","space","stars"],char:"🌌",fitzpatrick_scale:!1,category:"travel_and_places"},stars:{keywords:["night","photo"],char:"🌠",fitzpatrick_scale:!1,category:"travel_and_places"},sparkler:{keywords:["stars","night","shine"],char:"🎇",fitzpatrick_scale:!1,category:"travel_and_places"},fireworks:{keywords:["photo","festival","carnival","congratulations"],char:"🎆",fitzpatrick_scale:!1,category:"travel_and_places"},rainbow:{keywords:["nature","happy","unicorn_face","photo","sky","spring"],char:"🌈",fitzpatrick_scale:!1,category:"travel_and_places"},houses:{keywords:["buildings","photo"],char:"🏘",fitzpatrick_scale:!1,category:"travel_and_places"},european_castle:{keywords:["building","royalty","history"],char:"🏰",fitzpatrick_scale:!1,category:"travel_and_places"},japanese_castle:{keywords:["photo","building"],char:"🏯",fitzpatrick_scale:!1,category:"travel_and_places"},stadium:{keywords:["photo","place","sports","concert","venue"],char:"🏟",fitzpatrick_scale:!1,category:"travel_and_places"},statue_of_liberty:{keywords:["american","newyork"],char:"🗽",fitzpatrick_scale:!1,category:"travel_and_places"},house:{keywords:["building","home"],char:"🏠",fitzpatrick_scale:!1,category:"travel_and_places"},house_with_garden:{keywords:["home","plant","nature"],char:"🏡",fitzpatrick_scale:!1,category:"travel_and_places"},derelict_house:{keywords:["abandon","evict","broken","building"],char:"🏚",fitzpatrick_scale:!1,category:"travel_and_places"},office:{keywords:["building","bureau","work"],char:"🏢",fitzpatrick_scale:!1,category:"travel_and_places"},department_store:{keywords:["building","shopping","mall"],char:"🏬",fitzpatrick_scale:!1,category:"travel_and_places"},post_office:{keywords:["building","envelope","communication"],char:"🏣",fitzpatrick_scale:!1,category:"travel_and_places"},european_post_office:{keywords:["building","email"],char:"🏤",fitzpatrick_scale:!1,category:"travel_and_places"},hospital:{keywords:["building","health","surgery","doctor"],char:"🏥",fitzpatrick_scale:!1,category:"travel_and_places"},bank:{keywords:["building","money","sales","cash","business","enterprise"],char:"🏦",fitzpatrick_scale:!1,category:"travel_and_places"},hotel:{keywords:["building","accomodation","checkin"],char:"🏨",fitzpatrick_scale:!1,category:"travel_and_places"},convenience_store:{keywords:["building","shopping","groceries"],char:"🏪",fitzpatrick_scale:!1,category:"travel_and_places"},school:{keywords:["building","student","education","learn","teach"],char:"🏫",fitzpatrick_scale:!1,category:"travel_and_places"},love_hotel:{keywords:["like","affection","dating"],char:"🏩",fitzpatrick_scale:!1,category:"travel_and_places"},wedding:{keywords:["love","like","affection","couple","marriage","bride","groom"],char:"💒",fitzpatrick_scale:!1,category:"travel_and_places"},classical_building:{keywords:["art","culture","history"],char:"🏛",fitzpatrick_scale:!1,category:"travel_and_places"},church:{keywords:["building","religion","christ"],char:"⛪",fitzpatrick_scale:!1,category:"travel_and_places"},mosque:{keywords:["islam","worship","minaret"],char:"🕌",fitzpatrick_scale:!1,category:"travel_and_places"},synagogue:{keywords:["judaism","worship","temple","jewish"],char:"🕍",fitzpatrick_scale:!1,category:"travel_and_places"},kaaba:{keywords:["mecca","mosque","islam"],char:"🕋",fitzpatrick_scale:!1,category:"travel_and_places"},shinto_shrine:{keywords:["temple","japan","kyoto"],char:"⛩",fitzpatrick_scale:!1,category:"travel_and_places"},watch:{keywords:["time","accessories"],char:"⌚",fitzpatrick_scale:!1,category:"objects"},iphone:{keywords:["technology","apple","gadgets","dial"],char:"📱",fitzpatrick_scale:!1,category:"objects"},calling:{keywords:["iphone","incoming"],char:"📲",fitzpatrick_scale:!1,category:"objects"},computer:{keywords:["technology","laptop","screen","display","monitor"],char:"💻",fitzpatrick_scale:!1,category:"objects"},keyboard:{keywords:["technology","computer","type","input","text"],char:"⌨",fitzpatrick_scale:!1,category:"objects"},desktop_computer:{keywords:["technology","computing","screen"],char:"🖥",fitzpatrick_scale:!1,category:"objects"},printer:{keywords:["paper","ink"],char:"🖨",fitzpatrick_scale:!1,category:"objects"},computer_mouse:{keywords:["click"],char:"🖱",fitzpatrick_scale:!1,category:"objects"},trackball:{keywords:["technology","trackpad"],char:"🖲",fitzpatrick_scale:!1,category:"objects"},joystick:{keywords:["game","play"],char:"🕹",fitzpatrick_scale:!1,category:"objects"},clamp:{keywords:["tool"],char:"🗜",fitzpatrick_scale:!1,category:"objects"},minidisc:{keywords:["technology","record","data","disk","90s"],char:"💽",fitzpatrick_scale:!1,category:"objects"},floppy_disk:{keywords:["oldschool","technology","save","90s","80s"],char:"💾",fitzpatrick_scale:!1,category:"objects"},cd:{keywords:["technology","dvd","disk","disc","90s"],char:"💿",fitzpatrick_scale:!1,category:"objects"},dvd:{keywords:["cd","disk","disc"],char:"📀",fitzpatrick_scale:!1,category:"objects"},vhs:{keywords:["record","video","oldschool","90s","80s"],char:"📼",fitzpatrick_scale:!1,category:"objects"},camera:{keywords:["gadgets","photography"],char:"📷",fitzpatrick_scale:!1,category:"objects"},camera_flash:{keywords:["photography","gadgets"],char:"📸",fitzpatrick_scale:!1,category:"objects"},video_camera:{keywords:["film","record"],char:"📹",fitzpatrick_scale:!1,category:"objects"},movie_camera:{keywords:["film","record"],char:"🎥",fitzpatrick_scale:!1,category:"objects"},film_projector:{keywords:["video","tape","record","movie"],char:"📽",fitzpatrick_scale:!1,category:"objects"},film_strip:{keywords:["movie"],char:"🎞",fitzpatrick_scale:!1,category:"objects"},telephone_receiver:{keywords:["technology","communication","dial"],char:"📞",fitzpatrick_scale:!1,category:"objects"},phone:{keywords:["technology","communication","dial","telephone"],char:"☎️",fitzpatrick_scale:!1,category:"objects"},pager:{keywords:["bbcall","oldschool","90s"],char:"📟",fitzpatrick_scale:!1,category:"objects"},fax:{keywords:["communication","technology"],char:"📠",fitzpatrick_scale:!1,category:"objects"},tv:{keywords:["technology","program","oldschool","show","television"],char:"📺",fitzpatrick_scale:!1,category:"objects"},radio:{keywords:["communication","music","podcast","program"],char:"📻",fitzpatrick_scale:!1,category:"objects"},studio_microphone:{keywords:["sing","recording","artist","talkshow"],char:"🎙",fitzpatrick_scale:!1,category:"objects"},level_slider:{keywords:["scale"],char:"🎚",fitzpatrick_scale:!1,category:"objects"},control_knobs:{keywords:["dial"],char:"🎛",fitzpatrick_scale:!1,category:"objects"},compass:{keywords:["magnetic","navigation","orienteering"],char:"🧭",fitzpatrick_scale:!1,category:"objects"},stopwatch:{keywords:["time","deadline"],char:"⏱",fitzpatrick_scale:!1,category:"objects"},timer_clock:{keywords:["alarm"],char:"⏲",fitzpatrick_scale:!1,category:"objects"},alarm_clock:{keywords:["time","wake"],char:"⏰",fitzpatrick_scale:!1,category:"objects"},mantelpiece_clock:{keywords:["time"],char:"🕰",fitzpatrick_scale:!1,category:"objects"},hourglass_flowing_sand:{keywords:["oldschool","time","countdown"],char:"⏳",fitzpatrick_scale:!1,category:"objects"},hourglass:{keywords:["time","clock","oldschool","limit","exam","quiz","test"],char:"⌛",fitzpatrick_scale:!1,category:"objects"},satellite:{keywords:["communication","future","radio","space"],char:"📡",fitzpatrick_scale:!1,category:"objects"},battery:{keywords:["power","energy","sustain"],char:"🔋",fitzpatrick_scale:!1,category:"objects"},electric_plug:{keywords:["charger","power"],char:"🔌",fitzpatrick_scale:!1,category:"objects"},bulb:{keywords:["light","electricity","idea"],char:"💡",fitzpatrick_scale:!1,category:"objects"},flashlight:{keywords:["dark","camping","sight","night"],char:"🔦",fitzpatrick_scale:!1,category:"objects"},candle:{keywords:["fire","wax"],char:"🕯",fitzpatrick_scale:!1,category:"objects"},fire_extinguisher:{keywords:["quench"],char:"🧯",fitzpatrick_scale:!1,category:"objects"},wastebasket:{keywords:["bin","trash","rubbish","garbage","toss"],char:"🗑",fitzpatrick_scale:!1,category:"objects"},oil_drum:{keywords:["barrell"],char:"🛢",fitzpatrick_scale:!1,category:"objects"},money_with_wings:{keywords:["dollar","bills","payment","sale"],char:"💸",fitzpatrick_scale:!1,category:"objects"},dollar:{keywords:["money","sales","bill","currency"],char:"💵",fitzpatrick_scale:!1,category:"objects"},yen:{keywords:["money","sales","japanese","dollar","currency"],char:"💴",fitzpatrick_scale:!1,category:"objects"},euro:{keywords:["money","sales","dollar","currency"],char:"💶",fitzpatrick_scale:!1,category:"objects"},pound:{keywords:["british","sterling","money","sales","bills","uk","england","currency"],char:"💷",fitzpatrick_scale:!1,category:"objects"},moneybag:{keywords:["dollar","payment","coins","sale"],char:"💰",fitzpatrick_scale:!1,category:"objects"},credit_card:{keywords:["money","sales","dollar","bill","payment","shopping"],char:"💳",fitzpatrick_scale:!1,category:"objects"},gem:{keywords:["blue","ruby","diamond","jewelry"],char:"💎",fitzpatrick_scale:!1,category:"objects"},balance_scale:{keywords:["law","fairness","weight"],char:"⚖",fitzpatrick_scale:!1,category:"objects"},toolbox:{keywords:["tools","diy","fix","maintainer","mechanic"],char:"🧰",fitzpatrick_scale:!1,category:"objects"},wrench:{keywords:["tools","diy","ikea","fix","maintainer"],char:"🔧",fitzpatrick_scale:!1,category:"objects"},hammer:{keywords:["tools","build","create"],char:"🔨",fitzpatrick_scale:!1,category:"objects"},hammer_and_pick:{keywords:["tools","build","create"],char:"⚒",fitzpatrick_scale:!1,category:"objects"},hammer_and_wrench:{keywords:["tools","build","create"],char:"🛠",fitzpatrick_scale:!1,category:"objects"},pick:{keywords:["tools","dig"],char:"⛏",fitzpatrick_scale:!1,category:"objects"},nut_and_bolt:{keywords:["handy","tools","fix"],char:"🔩",fitzpatrick_scale:!1,category:"objects"},gear:{keywords:["cog"],char:"⚙",fitzpatrick_scale:!1,category:"objects"},brick:{keywords:["bricks"],char:"🧱",fitzpatrick_scale:!1,category:"objects"},chains:{keywords:["lock","arrest"],char:"⛓",fitzpatrick_scale:!1,category:"objects"},magnet:{keywords:["attraction","magnetic"],char:"🧲",fitzpatrick_scale:!1,category:"objects"},gun:{keywords:["violence","weapon","pistol","revolver"],char:"🔫",fitzpatrick_scale:!1,category:"objects"},bomb:{keywords:["boom","explode","explosion","terrorism"],char:"💣",fitzpatrick_scale:!1,category:"objects"},firecracker:{keywords:["dynamite","boom","explode","explosion","explosive"],char:"🧨",fitzpatrick_scale:!1,category:"objects"},hocho:{keywords:["knife","blade","cutlery","kitchen","weapon"],char:"🔪",fitzpatrick_scale:!1,category:"objects"},dagger:{keywords:["weapon"],char:"🗡",fitzpatrick_scale:!1,category:"objects"},crossed_swords:{keywords:["weapon"],char:"⚔",fitzpatrick_scale:!1,category:"objects"},shield:{keywords:["protection","security"],char:"🛡",fitzpatrick_scale:!1,category:"objects"},smoking:{keywords:["kills","tobacco","cigarette","joint","smoke"],char:"🚬",fitzpatrick_scale:!1,category:"objects"},skull_and_crossbones:{keywords:["poison","danger","deadly","scary","death","pirate","evil"],char:"☠",fitzpatrick_scale:!1,category:"objects"},coffin:{keywords:["vampire","dead","die","death","rip","graveyard","cemetery","casket","funeral","box"],char:"⚰",fitzpatrick_scale:!1,category:"objects"},funeral_urn:{keywords:["dead","die","death","rip","ashes"],char:"⚱",fitzpatrick_scale:!1,category:"objects"},amphora:{keywords:["vase","jar"],char:"🏺",fitzpatrick_scale:!1,category:"objects"},crystal_ball:{keywords:["disco","party","magic","circus","fortune_teller"],char:"🔮",fitzpatrick_scale:!1,category:"objects"},prayer_beads:{keywords:["dhikr","religious"],char:"📿",fitzpatrick_scale:!1,category:"objects"},nazar_amulet:{keywords:["bead","charm"],char:"🧿",fitzpatrick_scale:!1,category:"objects"},barber:{keywords:["hair","salon","style"],char:"💈",fitzpatrick_scale:!1,category:"objects"},alembic:{keywords:["distilling","science","experiment","chemistry"],char:"⚗",fitzpatrick_scale:!1,category:"objects"},telescope:{keywords:["stars","space","zoom","science","astronomy"],char:"🔭",fitzpatrick_scale:!1,category:"objects"},microscope:{keywords:["laboratory","experiment","zoomin","science","study"],char:"🔬",fitzpatrick_scale:!1,category:"objects"},hole:{keywords:["embarrassing"],char:"🕳",fitzpatrick_scale:!1,category:"objects"},pill:{keywords:["health","medicine","doctor","pharmacy","drug"],char:"💊",fitzpatrick_scale:!1,category:"objects"},syringe:{keywords:["health","hospital","drugs","blood","medicine","needle","doctor","nurse"],char:"💉",fitzpatrick_scale:!1,category:"objects"},dna:{keywords:["biologist","genetics","life"],char:"🧬",fitzpatrick_scale:!1,category:"objects"},microbe:{keywords:["amoeba","bacteria","germs"],char:"🦠",fitzpatrick_scale:!1,category:"objects"},petri_dish:{keywords:["bacteria","biology","culture","lab"],char:"🧫",fitzpatrick_scale:!1,category:"objects"},test_tube:{keywords:["chemistry","experiment","lab","science"],char:"🧪",fitzpatrick_scale:!1,category:"objects"},thermometer:{keywords:["weather","temperature","hot","cold"],char:"🌡",fitzpatrick_scale:!1,category:"objects"},broom:{keywords:["cleaning","sweeping","witch"],char:"🧹",fitzpatrick_scale:!1,category:"objects"},basket:{keywords:["laundry"],char:"🧺",fitzpatrick_scale:!1,category:"objects"},toilet_paper:{keywords:["roll"],char:"🧻",fitzpatrick_scale:!1,category:"objects"},label:{keywords:["sale","tag"],char:"🏷",fitzpatrick_scale:!1,category:"objects"},bookmark:{keywords:["favorite","label","save"],char:"🔖",fitzpatrick_scale:!1,category:"objects"},toilet:{keywords:["restroom","wc","washroom","bathroom","potty"],char:"🚽",fitzpatrick_scale:!1,category:"objects"},shower:{keywords:["clean","water","bathroom"],char:"🚿",fitzpatrick_scale:!1,category:"objects"},bathtub:{keywords:["clean","shower","bathroom"],char:"🛁",fitzpatrick_scale:!1,category:"objects"},soap:{keywords:["bar","bathing","cleaning","lather"],char:"🧼",fitzpatrick_scale:!1,category:"objects"},sponge:{keywords:["absorbing","cleaning","porous"],char:"🧽",fitzpatrick_scale:!1,category:"objects"},lotion_bottle:{keywords:["moisturizer","sunscreen"],char:"🧴",fitzpatrick_scale:!1,category:"objects"},key:{keywords:["lock","door","password"],char:"🔑",fitzpatrick_scale:!1,category:"objects"},old_key:{keywords:["lock","door","password"],char:"🗝",fitzpatrick_scale:!1,category:"objects"},couch_and_lamp:{keywords:["read","chill"],char:"🛋",fitzpatrick_scale:!1,category:"objects"},sleeping_bed:{keywords:["bed","rest"],char:"🛌",fitzpatrick_scale:!0,category:"objects"},bed:{keywords:["sleep","rest"],char:"🛏",fitzpatrick_scale:!1,category:"objects"},door:{keywords:["house","entry","exit"],char:"🚪",fitzpatrick_scale:!1,category:"objects"},bellhop_bell:{keywords:["service"],char:"🛎",fitzpatrick_scale:!1,category:"objects"},teddy_bear:{keywords:["plush","stuffed"],char:"🧸",fitzpatrick_scale:!1,category:"objects"},framed_picture:{keywords:["photography"],char:"🖼",fitzpatrick_scale:!1,category:"objects"},world_map:{keywords:["location","direction"],char:"🗺",fitzpatrick_scale:!1,category:"objects"},parasol_on_ground:{keywords:["weather","summer"],char:"⛱",fitzpatrick_scale:!1,category:"objects"},moyai:{keywords:["rock","easter island","moai"],char:"🗿",fitzpatrick_scale:!1,category:"objects"},shopping:{keywords:["mall","buy","purchase"],char:"🛍",fitzpatrick_scale:!1,category:"objects"},shopping_cart:{keywords:["trolley"],char:"🛒",fitzpatrick_scale:!1,category:"objects"},balloon:{keywords:["party","celebration","birthday","circus"],char:"🎈",fitzpatrick_scale:!1,category:"objects"},flags:{keywords:["fish","japanese","koinobori","carp","banner"],char:"🎏",fitzpatrick_scale:!1,category:"objects"},ribbon:{keywords:["decoration","pink","girl","bowtie"],char:"🎀",fitzpatrick_scale:!1,category:"objects"},gift:{keywords:["present","birthday","christmas","xmas"],char:"🎁",fitzpatrick_scale:!1,category:"objects"},confetti_ball:{keywords:["festival","party","birthday","circus"],char:"🎊",fitzpatrick_scale:!1,category:"objects"},tada:{keywords:["party","congratulations","birthday","magic","circus","celebration"],char:"🎉",fitzpatrick_scale:!1,category:"objects"},dolls:{keywords:["japanese","toy","kimono"],char:"🎎",fitzpatrick_scale:!1,category:"objects"},wind_chime:{keywords:["nature","ding","spring","bell"],char:"🎐",fitzpatrick_scale:!1,category:"objects"},crossed_flags:{keywords:["japanese","nation","country","border"],char:"🎌",fitzpatrick_scale:!1,category:"objects"},izakaya_lantern:{keywords:["light","paper","halloween","spooky"],char:"🏮",fitzpatrick_scale:!1,category:"objects"},red_envelope:{keywords:["gift"],char:"🧧",fitzpatrick_scale:!1,category:"objects"},email:{keywords:["letter","postal","inbox","communication"],char:"✉️",fitzpatrick_scale:!1,category:"objects"},envelope_with_arrow:{keywords:["email","communication"],char:"📩",fitzpatrick_scale:!1,category:"objects"},incoming_envelope:{keywords:["email","inbox"],char:"📨",fitzpatrick_scale:!1,category:"objects"},"e-mail":{keywords:["communication","inbox"],char:"📧",fitzpatrick_scale:!1,category:"objects"},love_letter:{keywords:["email","like","affection","envelope","valentines"],char:"💌",fitzpatrick_scale:!1,category:"objects"},postbox:{keywords:["email","letter","envelope"],char:"📮",fitzpatrick_scale:!1,category:"objects"},mailbox_closed:{keywords:["email","communication","inbox"],char:"📪",fitzpatrick_scale:!1,category:"objects"},mailbox:{keywords:["email","inbox","communication"],char:"📫",fitzpatrick_scale:!1,category:"objects"},mailbox_with_mail:{keywords:["email","inbox","communication"],char:"📬",fitzpatrick_scale:!1,category:"objects"},mailbox_with_no_mail:{keywords:["email","inbox"],char:"📭",fitzpatrick_scale:!1,category:"objects"},package:{keywords:["mail","gift","cardboard","box","moving"],char:"📦",fitzpatrick_scale:!1,category:"objects"},postal_horn:{keywords:["instrument","music"],char:"📯",fitzpatrick_scale:!1,category:"objects"},inbox_tray:{keywords:["email","documents"],char:"📥",fitzpatrick_scale:!1,category:"objects"},outbox_tray:{keywords:["inbox","email"],char:"📤",fitzpatrick_scale:!1,category:"objects"},scroll:{keywords:["documents","ancient","history","paper"],char:"📜",fitzpatrick_scale:!1,category:"objects"},page_with_curl:{keywords:["documents","office","paper"],char:"📃",fitzpatrick_scale:!1,category:"objects"},bookmark_tabs:{keywords:["favorite","save","order","tidy"],char:"📑",fitzpatrick_scale:!1,category:"objects"},receipt:{keywords:["accounting","expenses"],char:"🧾",fitzpatrick_scale:!1,category:"objects"},bar_chart:{keywords:["graph","presentation","stats"],char:"📊",fitzpatrick_scale:!1,category:"objects"},chart_with_upwards_trend:{keywords:["graph","presentation","stats","recovery","business","economics","money","sales","good","success"],char:"📈",fitzpatrick_scale:!1,category:"objects"},chart_with_downwards_trend:{keywords:["graph","presentation","stats","recession","business","economics","money","sales","bad","failure"],char:"📉",fitzpatrick_scale:!1,category:"objects"},page_facing_up:{keywords:["documents","office","paper","information"],char:"📄",fitzpatrick_scale:!1,category:"objects"},date:{keywords:["calendar","schedule"],char:"📅",fitzpatrick_scale:!1,category:"objects"},calendar:{keywords:["schedule","date","planning"],char:"📆",fitzpatrick_scale:!1,category:"objects"},spiral_calendar:{keywords:["date","schedule","planning"],char:"🗓",fitzpatrick_scale:!1,category:"objects"},card_index:{keywords:["business","stationery"],char:"📇",fitzpatrick_scale:!1,category:"objects"},card_file_box:{keywords:["business","stationery"],char:"🗃",fitzpatrick_scale:!1,category:"objects"},ballot_box:{keywords:["election","vote"],char:"🗳",fitzpatrick_scale:!1,category:"objects"},file_cabinet:{keywords:["filing","organizing"],char:"🗄",fitzpatrick_scale:!1,category:"objects"},clipboard:{keywords:["stationery","documents"],char:"📋",fitzpatrick_scale:!1,category:"objects"},spiral_notepad:{keywords:["memo","stationery"],char:"🗒",fitzpatrick_scale:!1,category:"objects"},file_folder:{keywords:["documents","business","office"],char:"📁",fitzpatrick_scale:!1,category:"objects"},open_file_folder:{keywords:["documents","load"],char:"📂",fitzpatrick_scale:!1,category:"objects"},card_index_dividers:{keywords:["organizing","business","stationery"],char:"🗂",fitzpatrick_scale:!1,category:"objects"},newspaper_roll:{keywords:["press","headline"],char:"🗞",fitzpatrick_scale:!1,category:"objects"},newspaper:{keywords:["press","headline"],char:"📰",fitzpatrick_scale:!1,category:"objects"},notebook:{keywords:["stationery","record","notes","paper","study"],char:"📓",fitzpatrick_scale:!1,category:"objects"},closed_book:{keywords:["read","library","knowledge","textbook","learn"],char:"📕",fitzpatrick_scale:!1,category:"objects"},green_book:{keywords:["read","library","knowledge","study"],char:"📗",fitzpatrick_scale:!1,category:"objects"},blue_book:{keywords:["read","library","knowledge","learn","study"],char:"📘",fitzpatrick_scale:!1,category:"objects"},orange_book:{keywords:["read","library","knowledge","textbook","study"],char:"📙",fitzpatrick_scale:!1,category:"objects"},notebook_with_decorative_cover:{keywords:["classroom","notes","record","paper","study"],char:"📔",fitzpatrick_scale:!1,category:"objects"},ledger:{keywords:["notes","paper"],char:"📒",fitzpatrick_scale:!1,category:"objects"},books:{keywords:["literature","library","study"],char:"📚",fitzpatrick_scale:!1,category:"objects"},open_book:{keywords:["book","read","library","knowledge","literature","learn","study"],char:"📖",fitzpatrick_scale:!1,category:"objects"},safety_pin:{keywords:["diaper"],char:"🧷",fitzpatrick_scale:!1,category:"objects"},link:{keywords:["rings","url"],char:"🔗",fitzpatrick_scale:!1,category:"objects"},paperclip:{keywords:["documents","stationery"],char:"📎",fitzpatrick_scale:!1,category:"objects"},paperclips:{keywords:["documents","stationery"],char:"🖇",fitzpatrick_scale:!1,category:"objects"},scissors:{keywords:["stationery","cut"],char:"✂️",fitzpatrick_scale:!1,category:"objects"},triangular_ruler:{keywords:["stationery","math","architect","sketch"],char:"📐",fitzpatrick_scale:!1,category:"objects"},straight_ruler:{keywords:["stationery","calculate","length","math","school","drawing","architect","sketch"],char:"📏",fitzpatrick_scale:!1,category:"objects"},abacus:{keywords:["calculation"],char:"🧮",fitzpatrick_scale:!1,category:"objects"},pushpin:{keywords:["stationery","mark","here"],char:"📌",fitzpatrick_scale:!1,category:"objects"},round_pushpin:{keywords:["stationery","location","map","here"],char:"📍",fitzpatrick_scale:!1,category:"objects"},triangular_flag_on_post:{keywords:["mark","milestone","place"],char:"🚩",fitzpatrick_scale:!1,category:"objects"},white_flag:{keywords:["losing","loser","lost","surrender","give up","fail"],char:"🏳",fitzpatrick_scale:!1,category:"objects"},black_flag:{keywords:["pirate"],char:"🏴",fitzpatrick_scale:!1,category:"objects"},rainbow_flag:{keywords:["flag","rainbow","pride","gay","lgbt","glbt","queer","homosexual","lesbian","bisexual","transgender"],char:"🏳️‍🌈",fitzpatrick_scale:!1,category:"objects"},closed_lock_with_key:{keywords:["security","privacy"],char:"🔐",fitzpatrick_scale:!1,category:"objects"},lock:{keywords:["security","password","padlock"],char:"🔒",fitzpatrick_scale:!1,category:"objects"},unlock:{keywords:["privacy","security"],char:"🔓",fitzpatrick_scale:!1,category:"objects"},lock_with_ink_pen:{keywords:["security","secret"],char:"🔏",fitzpatrick_scale:!1,category:"objects"},pen:{keywords:["stationery","writing","write"],char:"🖊",fitzpatrick_scale:!1,category:"objects"},fountain_pen:{keywords:["stationery","writing","write"],char:"🖋",fitzpatrick_scale:!1,category:"objects"},black_nib:{keywords:["pen","stationery","writing","write"],char:"✒️",fitzpatrick_scale:!1,category:"objects"},memo:{keywords:["write","documents","stationery","pencil","paper","writing","legal","exam","quiz","test","study","compose"],char:"📝",fitzpatrick_scale:!1,category:"objects"},pencil2:{keywords:["stationery","write","paper","writing","school","study"],char:"✏️",fitzpatrick_scale:!1,category:"objects"},crayon:{keywords:["drawing","creativity"],char:"🖍",fitzpatrick_scale:!1,category:"objects"},paintbrush:{keywords:["drawing","creativity","art"],char:"🖌",fitzpatrick_scale:!1,category:"objects"},mag:{keywords:["search","zoom","find","detective"],char:"🔍",fitzpatrick_scale:!1,category:"objects"},mag_right:{keywords:["search","zoom","find","detective"],char:"🔎",fitzpatrick_scale:!1,category:"objects"},heart:{keywords:["love","like","valentines"],char:"❤️",fitzpatrick_scale:!1,category:"symbols"},orange_heart:{keywords:["love","like","affection","valentines"],char:"🧡",fitzpatrick_scale:!1,category:"symbols"},yellow_heart:{keywords:["love","like","affection","valentines"],char:"💛",fitzpatrick_scale:!1,category:"symbols"},green_heart:{keywords:["love","like","affection","valentines"],char:"💚",fitzpatrick_scale:!1,category:"symbols"},blue_heart:{keywords:["love","like","affection","valentines"],char:"💙",fitzpatrick_scale:!1,category:"symbols"},purple_heart:{keywords:["love","like","affection","valentines"],char:"💜",fitzpatrick_scale:!1,category:"symbols"},black_heart:{keywords:["evil"],char:"🖤",fitzpatrick_scale:!1,category:"symbols"},broken_heart:{keywords:["sad","sorry","break","heart","heartbreak"],char:"💔",fitzpatrick_scale:!1,category:"symbols"},heavy_heart_exclamation:{keywords:["decoration","love"],char:"❣",fitzpatrick_scale:!1,category:"symbols"},two_hearts:{keywords:["love","like","affection","valentines","heart"],char:"💕",fitzpatrick_scale:!1,category:"symbols"},revolving_hearts:{keywords:["love","like","affection","valentines"],char:"💞",fitzpatrick_scale:!1,category:"symbols"},heartbeat:{keywords:["love","like","affection","valentines","pink","heart"],char:"💓",fitzpatrick_scale:!1,category:"symbols"},heartpulse:{keywords:["like","love","affection","valentines","pink"],char:"💗",fitzpatrick_scale:!1,category:"symbols"},sparkling_heart:{keywords:["love","like","affection","valentines"],char:"💖",fitzpatrick_scale:!1,category:"symbols"},cupid:{keywords:["love","like","heart","affection","valentines"],char:"💘",fitzpatrick_scale:!1,category:"symbols"},gift_heart:{keywords:["love","valentines"],char:"💝",fitzpatrick_scale:!1,category:"symbols"},heart_decoration:{keywords:["purple-square","love","like"],char:"💟",fitzpatrick_scale:!1,category:"symbols"},peace_symbol:{keywords:["hippie"],char:"☮",fitzpatrick_scale:!1,category:"symbols"},latin_cross:{keywords:["christianity"],char:"✝",fitzpatrick_scale:!1,category:"symbols"},star_and_crescent:{keywords:["islam"],char:"☪",fitzpatrick_scale:!1,category:"symbols"},om:{keywords:["hinduism","buddhism","sikhism","jainism"],char:"🕉",fitzpatrick_scale:!1,category:"symbols"},wheel_of_dharma:{keywords:["hinduism","buddhism","sikhism","jainism"],char:"☸",fitzpatrick_scale:!1,category:"symbols"},star_of_david:{keywords:["judaism"],char:"✡",fitzpatrick_scale:!1,category:"symbols"},six_pointed_star:{keywords:["purple-square","religion","jewish","hexagram"],char:"🔯",fitzpatrick_scale:!1,category:"symbols"},menorah:{keywords:["hanukkah","candles","jewish"],char:"🕎",fitzpatrick_scale:!1,category:"symbols"},yin_yang:{keywords:["balance"],char:"☯",fitzpatrick_scale:!1,category:"symbols"},orthodox_cross:{keywords:["suppedaneum","religion"],char:"☦",fitzpatrick_scale:!1,category:"symbols"},place_of_worship:{keywords:["religion","church","temple","prayer"],char:"🛐",fitzpatrick_scale:!1,category:"symbols"},ophiuchus:{keywords:["sign","purple-square","constellation","astrology"],char:"⛎",fitzpatrick_scale:!1,category:"symbols"},aries:{keywords:["sign","purple-square","zodiac","astrology"],char:"♈",fitzpatrick_scale:!1,category:"symbols"},taurus:{keywords:["purple-square","sign","zodiac","astrology"],char:"♉",fitzpatrick_scale:!1,category:"symbols"},gemini:{keywords:["sign","zodiac","purple-square","astrology"],char:"♊",fitzpatrick_scale:!1,category:"symbols"},cancer:{keywords:["sign","zodiac","purple-square","astrology"],char:"♋",fitzpatrick_scale:!1,category:"symbols"},leo:{keywords:["sign","purple-square","zodiac","astrology"],char:"♌",fitzpatrick_scale:!1,category:"symbols"},virgo:{keywords:["sign","zodiac","purple-square","astrology"],char:"♍",fitzpatrick_scale:!1,category:"symbols"},libra:{keywords:["sign","purple-square","zodiac","astrology"],char:"♎",fitzpatrick_scale:!1,category:"symbols"},scorpius:{keywords:["sign","zodiac","purple-square","astrology","scorpio"],char:"♏",fitzpatrick_scale:!1,category:"symbols"},sagittarius:{keywords:["sign","zodiac","purple-square","astrology"],char:"♐",fitzpatrick_scale:!1,category:"symbols"},capricorn:{keywords:["sign","zodiac","purple-square","astrology"],char:"♑",fitzpatrick_scale:!1,category:"symbols"},aquarius:{keywords:["sign","purple-square","zodiac","astrology"],char:"♒",fitzpatrick_scale:!1,category:"symbols"},pisces:{keywords:["purple-square","sign","zodiac","astrology"],char:"♓",fitzpatrick_scale:!1,category:"symbols"},id:{keywords:["purple-square","words"],char:"🆔",fitzpatrick_scale:!1,category:"symbols"},atom_symbol:{keywords:["science","physics","chemistry"],char:"⚛",fitzpatrick_scale:!1,category:"symbols"},u7a7a:{keywords:["kanji","japanese","chinese","empty","sky","blue-square"],char:"🈳",fitzpatrick_scale:!1,category:"symbols"},u5272:{keywords:["cut","divide","chinese","kanji","pink-square"],char:"🈹",fitzpatrick_scale:!1,category:"symbols"},radioactive:{keywords:["nuclear","danger"],char:"☢",fitzpatrick_scale:!1,category:"symbols"},biohazard:{keywords:["danger"],char:"☣",fitzpatrick_scale:!1,category:"symbols"},mobile_phone_off:{keywords:["mute","orange-square","silence","quiet"],char:"📴",fitzpatrick_scale:!1,category:"symbols"},vibration_mode:{keywords:["orange-square","phone"],char:"📳",fitzpatrick_scale:!1,category:"symbols"},u6709:{keywords:["orange-square","chinese","have","kanji"],char:"🈶",fitzpatrick_scale:!1,category:"symbols"},u7121:{keywords:["nothing","chinese","kanji","japanese","orange-square"],char:"🈚",fitzpatrick_scale:!1,category:"symbols"},u7533:{keywords:["chinese","japanese","kanji","orange-square"],char:"🈸",fitzpatrick_scale:!1,category:"symbols"},u55b6:{keywords:["japanese","opening hours","orange-square"],char:"🈺",fitzpatrick_scale:!1,category:"symbols"},u6708:{keywords:["chinese","month","moon","japanese","orange-square","kanji"],char:"🈷️",fitzpatrick_scale:!1,category:"symbols"},eight_pointed_black_star:{keywords:["orange-square","shape","polygon"],char:"✴️",fitzpatrick_scale:!1,category:"symbols"},vs:{keywords:["words","orange-square"],char:"🆚",fitzpatrick_scale:!1,category:"symbols"},accept:{keywords:["ok","good","chinese","kanji","agree","yes","orange-circle"],char:"🉑",fitzpatrick_scale:!1,category:"symbols"},white_flower:{keywords:["japanese","spring"],char:"💮",fitzpatrick_scale:!1,category:"symbols"},ideograph_advantage:{keywords:["chinese","kanji","obtain","get","circle"],char:"🉐",fitzpatrick_scale:!1,category:"symbols"},secret:{keywords:["privacy","chinese","sshh","kanji","red-circle"],char:"㊙️",fitzpatrick_scale:!1,category:"symbols"},congratulations:{keywords:["chinese","kanji","japanese","red-circle"],char:"㊗️",fitzpatrick_scale:!1,category:"symbols"},u5408:{keywords:["japanese","chinese","join","kanji","red-square"],char:"🈴",fitzpatrick_scale:!1,category:"symbols"},u6e80:{keywords:["full","chinese","japanese","red-square","kanji"],char:"🈵",fitzpatrick_scale:!1,category:"symbols"},u7981:{keywords:["kanji","japanese","chinese","forbidden","limit","restricted","red-square"],char:"🈲",fitzpatrick_scale:!1,category:"symbols"},a:{keywords:["red-square","alphabet","letter"],char:"🅰️",fitzpatrick_scale:!1,category:"symbols"},b:{keywords:["red-square","alphabet","letter"],char:"🅱️",fitzpatrick_scale:!1,category:"symbols"},ab:{keywords:["red-square","alphabet"],char:"🆎",fitzpatrick_scale:!1,category:"symbols"},cl:{keywords:["alphabet","words","red-square"],char:"🆑",fitzpatrick_scale:!1,category:"symbols"},o2:{keywords:["alphabet","red-square","letter"],char:"🅾️",fitzpatrick_scale:!1,category:"symbols"},sos:{keywords:["help","red-square","words","emergency","911"],char:"🆘",fitzpatrick_scale:!1,category:"symbols"},no_entry:{keywords:["limit","security","privacy","bad","denied","stop","circle"],char:"⛔",fitzpatrick_scale:!1,category:"symbols"},name_badge:{keywords:["fire","forbid"],char:"📛",fitzpatrick_scale:!1,category:"symbols"},no_entry_sign:{keywords:["forbid","stop","limit","denied","disallow","circle"],char:"🚫",fitzpatrick_scale:!1,category:"symbols"},x:{keywords:["no","delete","remove","cancel","red"],char:"❌",fitzpatrick_scale:!1,category:"symbols"},o:{keywords:["circle","round"],char:"⭕",fitzpatrick_scale:!1,category:"symbols"},stop_sign:{keywords:["stop"],char:"🛑",fitzpatrick_scale:!1,category:"symbols"},anger:{keywords:["angry","mad"],char:"💢",fitzpatrick_scale:!1,category:"symbols"},hotsprings:{keywords:["bath","warm","relax"],char:"♨️",fitzpatrick_scale:!1,category:"symbols"},no_pedestrians:{keywords:["rules","crossing","walking","circle"],char:"🚷",fitzpatrick_scale:!1,category:"symbols"},do_not_litter:{keywords:["trash","bin","garbage","circle"],char:"🚯",fitzpatrick_scale:!1,category:"symbols"},no_bicycles:{keywords:["cyclist","prohibited","circle"],char:"🚳",fitzpatrick_scale:!1,category:"symbols"},"non-potable_water":{keywords:["drink","faucet","tap","circle"],char:"🚱",fitzpatrick_scale:!1,category:"symbols"},underage:{keywords:["18","drink","pub","night","minor","circle"],char:"🔞",fitzpatrick_scale:!1,category:"symbols"},no_mobile_phones:{keywords:["iphone","mute","circle"],char:"📵",fitzpatrick_scale:!1,category:"symbols"},exclamation:{keywords:["heavy_exclamation_mark","danger","surprise","punctuation","wow","warning"],char:"❗",fitzpatrick_scale:!1,category:"symbols"},grey_exclamation:{keywords:["surprise","punctuation","gray","wow","warning"],char:"❕",fitzpatrick_scale:!1,category:"symbols"},question:{keywords:["doubt","confused"],char:"❓",fitzpatrick_scale:!1,category:"symbols"},grey_question:{keywords:["doubts","gray","huh","confused"],char:"❔",fitzpatrick_scale:!1,category:"symbols"},bangbang:{keywords:["exclamation","surprise"],char:"‼️",fitzpatrick_scale:!1,category:"symbols"},interrobang:{keywords:["wat","punctuation","surprise"],char:"⁉️",fitzpatrick_scale:!1,category:"symbols"},100:{keywords:["score","perfect","numbers","century","exam","quiz","test","pass","hundred"],char:"💯",fitzpatrick_scale:!1,category:"symbols"},low_brightness:{keywords:["sun","afternoon","warm","summer"],char:"🔅",fitzpatrick_scale:!1,category:"symbols"},high_brightness:{keywords:["sun","light"],char:"🔆",fitzpatrick_scale:!1,category:"symbols"},trident:{keywords:["weapon","spear"],char:"🔱",fitzpatrick_scale:!1,category:"symbols"},fleur_de_lis:{keywords:["decorative","scout"],char:"⚜",fitzpatrick_scale:!1,category:"symbols"},part_alternation_mark:{keywords:["graph","presentation","stats","business","economics","bad"],char:"〽️",fitzpatrick_scale:!1,category:"symbols"},warning:{keywords:["exclamation","wip","alert","error","problem","issue"],char:"⚠️",fitzpatrick_scale:!1,category:"symbols"},children_crossing:{keywords:["school","warning","danger","sign","driving","yellow-diamond"],char:"🚸",fitzpatrick_scale:!1,category:"symbols"},beginner:{keywords:["badge","shield"],char:"🔰",fitzpatrick_scale:!1,category:"symbols"},recycle:{keywords:["arrow","environment","garbage","trash"],char:"♻️",fitzpatrick_scale:!1,category:"symbols"},u6307:{keywords:["chinese","point","green-square","kanji"],char:"🈯",fitzpatrick_scale:!1,category:"symbols"},chart:{keywords:["green-square","graph","presentation","stats"],char:"💹",fitzpatrick_scale:!1,category:"symbols"},sparkle:{keywords:["stars","green-square","awesome","good","fireworks"],char:"❇️",fitzpatrick_scale:!1,category:"symbols"},eight_spoked_asterisk:{keywords:["star","sparkle","green-square"],char:"✳️",fitzpatrick_scale:!1,category:"symbols"},negative_squared_cross_mark:{keywords:["x","green-square","no","deny"],char:"❎",fitzpatrick_scale:!1,category:"symbols"},white_check_mark:{keywords:["green-square","ok","agree","vote","election","answer","tick"],char:"✅",fitzpatrick_scale:!1,category:"symbols"},diamond_shape_with_a_dot_inside:{keywords:["jewel","blue","gem","crystal","fancy"],char:"💠",fitzpatrick_scale:!1,category:"symbols"},cyclone:{keywords:["weather","swirl","blue","cloud","vortex","spiral","whirlpool","spin","tornado","hurricane","typhoon"],char:"🌀",fitzpatrick_scale:!1,category:"symbols"},loop:{keywords:["tape","cassette"],char:"➿",fitzpatrick_scale:!1,category:"symbols"},globe_with_meridians:{keywords:["earth","international","world","internet","interweb","i18n"],char:"🌐",fitzpatrick_scale:!1,category:"symbols"},m:{keywords:["alphabet","blue-circle","letter"],char:"Ⓜ️",fitzpatrick_scale:!1,category:"symbols"},atm:{keywords:["money","sales","cash","blue-square","payment","bank"],char:"🏧",fitzpatrick_scale:!1,category:"symbols"},sa:{keywords:["japanese","blue-square","katakana"],char:"🈂️",fitzpatrick_scale:!1,category:"symbols"},passport_control:{keywords:["custom","blue-square"],char:"🛂",fitzpatrick_scale:!1,category:"symbols"},customs:{keywords:["passport","border","blue-square"],char:"🛃",fitzpatrick_scale:!1,category:"symbols"},baggage_claim:{keywords:["blue-square","airport","transport"],char:"🛄",fitzpatrick_scale:!1,category:"symbols"},left_luggage:{keywords:["blue-square","travel"],char:"🛅",fitzpatrick_scale:!1,category:"symbols"},wheelchair:{keywords:["blue-square","disabled","a11y","accessibility"],char:"♿",fitzpatrick_scale:!1,category:"symbols"},no_smoking:{keywords:["cigarette","blue-square","smell","smoke"],char:"🚭",fitzpatrick_scale:!1,category:"symbols"},wc:{keywords:["toilet","restroom","blue-square"],char:"🚾",fitzpatrick_scale:!1,category:"symbols"},parking:{keywords:["cars","blue-square","alphabet","letter"],char:"🅿️",fitzpatrick_scale:!1,category:"symbols"},potable_water:{keywords:["blue-square","liquid","restroom","cleaning","faucet"],char:"🚰",fitzpatrick_scale:!1,category:"symbols"},mens:{keywords:["toilet","restroom","wc","blue-square","gender","male"],char:"🚹",fitzpatrick_scale:!1,category:"symbols"},womens:{keywords:["purple-square","woman","female","toilet","loo","restroom","gender"],char:"🚺",fitzpatrick_scale:!1,category:"symbols"},baby_symbol:{keywords:["orange-square","child"],char:"🚼",fitzpatrick_scale:!1,category:"symbols"},restroom:{keywords:["blue-square","toilet","refresh","wc","gender"],char:"🚻",fitzpatrick_scale:!1,category:"symbols"},put_litter_in_its_place:{keywords:["blue-square","sign","human","info"],char:"🚮",fitzpatrick_scale:!1,category:"symbols"},cinema:{keywords:["blue-square","record","film","movie","curtain","stage","theater"],char:"🎦",fitzpatrick_scale:!1,category:"symbols"},signal_strength:{keywords:["blue-square","reception","phone","internet","connection","wifi","bluetooth","bars"],char:"📶",fitzpatrick_scale:!1,category:"symbols"},koko:{keywords:["blue-square","here","katakana","japanese","destination"],char:"🈁",fitzpatrick_scale:!1,category:"symbols"},ng:{keywords:["blue-square","words","shape","icon"],char:"🆖",fitzpatrick_scale:!1,category:"symbols"},ok:{keywords:["good","agree","yes","blue-square"],char:"🆗",fitzpatrick_scale:!1,category:"symbols"},up:{keywords:["blue-square","above","high"],char:"🆙",fitzpatrick_scale:!1,category:"symbols"},cool:{keywords:["words","blue-square"],char:"🆒",fitzpatrick_scale:!1,category:"symbols"},new:{keywords:["blue-square","words","start"],char:"🆕",fitzpatrick_scale:!1,category:"symbols"},free:{keywords:["blue-square","words"],char:"🆓",fitzpatrick_scale:!1,category:"symbols"},zero:{keywords:["0","numbers","blue-square","null"],char:"0️⃣",fitzpatrick_scale:!1,category:"symbols"},one:{keywords:["blue-square","numbers","1"],char:"1️⃣",fitzpatrick_scale:!1,category:"symbols"},two:{keywords:["numbers","2","prime","blue-square"],char:"2️⃣",fitzpatrick_scale:!1,category:"symbols"},three:{keywords:["3","numbers","prime","blue-square"],char:"3️⃣",fitzpatrick_scale:!1,category:"symbols"},four:{keywords:["4","numbers","blue-square"],char:"4️⃣",fitzpatrick_scale:!1,category:"symbols"},five:{keywords:["5","numbers","blue-square","prime"],char:"5️⃣",fitzpatrick_scale:!1,category:"symbols"},six:{keywords:["6","numbers","blue-square"],char:"6️⃣",fitzpatrick_scale:!1,category:"symbols"},seven:{keywords:["7","numbers","blue-square","prime"],char:"7️⃣",fitzpatrick_scale:!1,category:"symbols"},eight:{keywords:["8","blue-square","numbers"],char:"8️⃣",fitzpatrick_scale:!1,category:"symbols"},nine:{keywords:["blue-square","numbers","9"],char:"9️⃣",fitzpatrick_scale:!1,category:"symbols"},keycap_ten:{keywords:["numbers","10","blue-square"],char:"🔟",fitzpatrick_scale:!1,category:"symbols"},asterisk:{keywords:["star","keycap"],char:"*⃣",fitzpatrick_scale:!1,category:"symbols"},1234:{keywords:["numbers","blue-square"],char:"🔢",fitzpatrick_scale:!1,category:"symbols"},eject_button:{keywords:["blue-square"],char:"⏏️",fitzpatrick_scale:!1,category:"symbols"},arrow_forward:{keywords:["blue-square","right","direction","play"],char:"▶️",fitzpatrick_scale:!1,category:"symbols"},pause_button:{keywords:["pause","blue-square"],char:"⏸",fitzpatrick_scale:!1,category:"symbols"},next_track_button:{keywords:["forward","next","blue-square"],char:"⏭",fitzpatrick_scale:!1,category:"symbols"},stop_button:{keywords:["blue-square"],char:"⏹",fitzpatrick_scale:!1,category:"symbols"},record_button:{keywords:["blue-square"],char:"⏺",fitzpatrick_scale:!1,category:"symbols"},play_or_pause_button:{keywords:["blue-square","play","pause"],char:"⏯",fitzpatrick_scale:!1,category:"symbols"},previous_track_button:{keywords:["backward"],char:"⏮",fitzpatrick_scale:!1,category:"symbols"},fast_forward:{keywords:["blue-square","play","speed","continue"],char:"⏩",fitzpatrick_scale:!1,category:"symbols"},rewind:{keywords:["play","blue-square"],char:"⏪",fitzpatrick_scale:!1,category:"symbols"},twisted_rightwards_arrows:{keywords:["blue-square","shuffle","music","random"],char:"🔀",fitzpatrick_scale:!1,category:"symbols"},repeat:{keywords:["loop","record"],char:"🔁",fitzpatrick_scale:!1,category:"symbols"},repeat_one:{keywords:["blue-square","loop"],char:"🔂",fitzpatrick_scale:!1,category:"symbols"},arrow_backward:{keywords:["blue-square","left","direction"],char:"◀️",fitzpatrick_scale:!1,category:"symbols"},arrow_up_small:{keywords:["blue-square","triangle","direction","point","forward","top"],char:"🔼",fitzpatrick_scale:!1,category:"symbols"},arrow_down_small:{keywords:["blue-square","direction","bottom"],char:"🔽",fitzpatrick_scale:!1,category:"symbols"},arrow_double_up:{keywords:["blue-square","direction","top"],char:"⏫",fitzpatrick_scale:!1,category:"symbols"},arrow_double_down:{keywords:["blue-square","direction","bottom"],char:"⏬",fitzpatrick_scale:!1,category:"symbols"},arrow_right:{keywords:["blue-square","next"],char:"➡️",fitzpatrick_scale:!1,category:"symbols"},arrow_left:{keywords:["blue-square","previous","back"],char:"⬅️",fitzpatrick_scale:!1,category:"symbols"},arrow_up:{keywords:["blue-square","continue","top","direction"],char:"⬆️",fitzpatrick_scale:!1,category:"symbols"},arrow_down:{keywords:["blue-square","direction","bottom"],char:"⬇️",fitzpatrick_scale:!1,category:"symbols"},arrow_upper_right:{keywords:["blue-square","point","direction","diagonal","northeast"],char:"↗️",fitzpatrick_scale:!1,category:"symbols"},arrow_lower_right:{keywords:["blue-square","direction","diagonal","southeast"],char:"↘️",fitzpatrick_scale:!1,category:"symbols"},arrow_lower_left:{keywords:["blue-square","direction","diagonal","southwest"],char:"↙️",fitzpatrick_scale:!1,category:"symbols"},arrow_upper_left:{keywords:["blue-square","point","direction","diagonal","northwest"],char:"↖️",fitzpatrick_scale:!1,category:"symbols"},arrow_up_down:{keywords:["blue-square","direction","way","vertical"],char:"↕️",fitzpatrick_scale:!1,category:"symbols"},left_right_arrow:{keywords:["shape","direction","horizontal","sideways"],char:"↔️",fitzpatrick_scale:!1,category:"symbols"},arrows_counterclockwise:{keywords:["blue-square","sync","cycle"],char:"🔄",fitzpatrick_scale:!1,category:"symbols"},arrow_right_hook:{keywords:["blue-square","return","rotate","direction"],char:"↪️",fitzpatrick_scale:!1,category:"symbols"},leftwards_arrow_with_hook:{keywords:["back","return","blue-square","undo","enter"],char:"↩️",fitzpatrick_scale:!1,category:"symbols"},arrow_heading_up:{keywords:["blue-square","direction","top"],char:"⤴️",fitzpatrick_scale:!1,category:"symbols"},arrow_heading_down:{keywords:["blue-square","direction","bottom"],char:"⤵️",fitzpatrick_scale:!1,category:"symbols"},hash:{keywords:["symbol","blue-square","twitter"],char:"#️⃣",fitzpatrick_scale:!1,category:"symbols"},information_source:{keywords:["blue-square","alphabet","letter"],char:"ℹ️",fitzpatrick_scale:!1,category:"symbols"},abc:{keywords:["blue-square","alphabet"],char:"🔤",fitzpatrick_scale:!1,category:"symbols"},abcd:{keywords:["blue-square","alphabet"],char:"🔡",fitzpatrick_scale:!1,category:"symbols"},capital_abcd:{keywords:["alphabet","words","blue-square"],char:"🔠",fitzpatrick_scale:!1,category:"symbols"},symbols:{keywords:["blue-square","music","note","ampersand","percent","glyphs","characters"],char:"🔣",fitzpatrick_scale:!1,category:"symbols"},musical_note:{keywords:["score","tone","sound"],char:"🎵",fitzpatrick_scale:!1,category:"symbols"},notes:{keywords:["music","score"],char:"🎶",fitzpatrick_scale:!1,category:"symbols"},wavy_dash:{keywords:["draw","line","moustache","mustache","squiggle","scribble"],char:"〰️",fitzpatrick_scale:!1,category:"symbols"},curly_loop:{keywords:["scribble","draw","shape","squiggle"],char:"➰",fitzpatrick_scale:!1,category:"symbols"},heavy_check_mark:{keywords:["ok","nike","answer","yes","tick"],char:"✔️",fitzpatrick_scale:!1,category:"symbols"},arrows_clockwise:{keywords:["sync","cycle","round","repeat"],char:"🔃",fitzpatrick_scale:!1,category:"symbols"},heavy_plus_sign:{keywords:["math","calculation","addition","more","increase"],char:"➕",fitzpatrick_scale:!1,category:"symbols"},heavy_minus_sign:{keywords:["math","calculation","subtract","less"],char:"➖",fitzpatrick_scale:!1,category:"symbols"},heavy_division_sign:{keywords:["divide","math","calculation"],char:"➗",fitzpatrick_scale:!1,category:"symbols"},heavy_multiplication_x:{keywords:["math","calculation"],char:"✖️",fitzpatrick_scale:!1,category:"symbols"},infinity:{keywords:["forever"],char:"♾",fitzpatrick_scale:!1,category:"symbols"},heavy_dollar_sign:{keywords:["money","sales","payment","currency","buck"],char:"💲",fitzpatrick_scale:!1,category:"symbols"},currency_exchange:{keywords:["money","sales","dollar","travel"],char:"💱",fitzpatrick_scale:!1,category:"symbols"},copyright:{keywords:["ip","license","circle","law","legal"],char:"©️",fitzpatrick_scale:!1,category:"symbols"},registered:{keywords:["alphabet","circle"],char:"®️",fitzpatrick_scale:!1,category:"symbols"},tm:{keywords:["trademark","brand","law","legal"],char:"™️",fitzpatrick_scale:!1,category:"symbols"},end:{keywords:["words","arrow"],char:"🔚",fitzpatrick_scale:!1,category:"symbols"},back:{keywords:["arrow","words","return"],char:"🔙",fitzpatrick_scale:!1,category:"symbols"},on:{keywords:["arrow","words"],char:"🔛",fitzpatrick_scale:!1,category:"symbols"},top:{keywords:["words","blue-square"],char:"🔝",fitzpatrick_scale:!1,category:"symbols"},soon:{keywords:["arrow","words"],char:"🔜",fitzpatrick_scale:!1,category:"symbols"},ballot_box_with_check:{keywords:["ok","agree","confirm","black-square","vote","election","yes","tick"],char:"☑️",fitzpatrick_scale:!1,category:"symbols"},radio_button:{keywords:["input","old","music","circle"],char:"🔘",fitzpatrick_scale:!1,category:"symbols"},white_circle:{keywords:["shape","round"],char:"⚪",fitzpatrick_scale:!1,category:"symbols"},black_circle:{keywords:["shape","button","round"],char:"⚫",fitzpatrick_scale:!1,category:"symbols"},red_circle:{keywords:["shape","error","danger"],char:"🔴",fitzpatrick_scale:!1,category:"symbols"},large_blue_circle:{keywords:["shape","icon","button"],char:"🔵",fitzpatrick_scale:!1,category:"symbols"},small_orange_diamond:{keywords:["shape","jewel","gem"],char:"🔸",fitzpatrick_scale:!1,category:"symbols"},small_blue_diamond:{keywords:["shape","jewel","gem"],char:"🔹",fitzpatrick_scale:!1,category:"symbols"},large_orange_diamond:{keywords:["shape","jewel","gem"],char:"🔶",fitzpatrick_scale:!1,category:"symbols"},large_blue_diamond:{keywords:["shape","jewel","gem"],char:"🔷",fitzpatrick_scale:!1,category:"symbols"},small_red_triangle:{keywords:["shape","direction","up","top"],char:"🔺",fitzpatrick_scale:!1,category:"symbols"},black_small_square:{keywords:["shape","icon"],char:"▪️",fitzpatrick_scale:!1,category:"symbols"},white_small_square:{keywords:["shape","icon"],char:"▫️",fitzpatrick_scale:!1,category:"symbols"},black_large_square:{keywords:["shape","icon","button"],char:"⬛",fitzpatrick_scale:!1,category:"symbols"},white_large_square:{keywords:["shape","icon","stone","button"],char:"⬜",fitzpatrick_scale:!1,category:"symbols"},small_red_triangle_down:{keywords:["shape","direction","bottom"],char:"🔻",fitzpatrick_scale:!1,category:"symbols"},black_medium_square:{keywords:["shape","button","icon"],char:"◼️",fitzpatrick_scale:!1,category:"symbols"},white_medium_square:{keywords:["shape","stone","icon"],char:"◻️",fitzpatrick_scale:!1,category:"symbols"},black_medium_small_square:{keywords:["icon","shape","button"],char:"◾",fitzpatrick_scale:!1,category:"symbols"},white_medium_small_square:{keywords:["shape","stone","icon","button"],char:"◽",fitzpatrick_scale:!1,category:"symbols"},black_square_button:{keywords:["shape","input","frame"],char:"🔲",fitzpatrick_scale:!1,category:"symbols"},white_square_button:{keywords:["shape","input"],char:"🔳",fitzpatrick_scale:!1,category:"symbols"},speaker:{keywords:["sound","volume","silence","broadcast"],char:"🔈",fitzpatrick_scale:!1,category:"symbols"},sound:{keywords:["volume","speaker","broadcast"],char:"🔉",fitzpatrick_scale:!1,category:"symbols"},loud_sound:{keywords:["volume","noise","noisy","speaker","broadcast"],char:"🔊",fitzpatrick_scale:!1,category:"symbols"},mute:{keywords:["sound","volume","silence","quiet"],char:"🔇",fitzpatrick_scale:!1,category:"symbols"},mega:{keywords:["sound","speaker","volume"],char:"📣",fitzpatrick_scale:!1,category:"symbols"},loudspeaker:{keywords:["volume","sound"],char:"📢",fitzpatrick_scale:!1,category:"symbols"},bell:{keywords:["sound","notification","christmas","xmas","chime"],char:"🔔",fitzpatrick_scale:!1,category:"symbols"},no_bell:{keywords:["sound","volume","mute","quiet","silent"],char:"🔕",fitzpatrick_scale:!1,category:"symbols"},black_joker:{keywords:["poker","cards","game","play","magic"],char:"🃏",fitzpatrick_scale:!1,category:"symbols"},mahjong:{keywords:["game","play","chinese","kanji"],char:"🀄",fitzpatrick_scale:!1,category:"symbols"},spades:{keywords:["poker","cards","suits","magic"],char:"♠️",fitzpatrick_scale:!1,category:"symbols"},clubs:{keywords:["poker","cards","magic","suits"],char:"♣️",fitzpatrick_scale:!1,category:"symbols"},hearts:{keywords:["poker","cards","magic","suits"],char:"♥️",fitzpatrick_scale:!1,category:"symbols"},diamonds:{keywords:["poker","cards","magic","suits"],char:"♦️",fitzpatrick_scale:!1,category:"symbols"},flower_playing_cards:{keywords:["game","sunset","red"],char:"🎴",fitzpatrick_scale:!1,category:"symbols"},thought_balloon:{keywords:["bubble","cloud","speech","thinking","dream"],char:"💭",fitzpatrick_scale:!1,category:"symbols"},right_anger_bubble:{keywords:["caption","speech","thinking","mad"],char:"🗯",fitzpatrick_scale:!1,category:"symbols"},speech_balloon:{keywords:["bubble","words","message","talk","chatting"],char:"💬",fitzpatrick_scale:!1,category:"symbols"},left_speech_bubble:{keywords:["words","message","talk","chatting"],char:"🗨",fitzpatrick_scale:!1,category:"symbols"},clock1:{keywords:["time","late","early","schedule"],char:"🕐",fitzpatrick_scale:!1,category:"symbols"},clock2:{keywords:["time","late","early","schedule"],char:"🕑",fitzpatrick_scale:!1,category:"symbols"},clock3:{keywords:["time","late","early","schedule"],char:"🕒",fitzpatrick_scale:!1,category:"symbols"},clock4:{keywords:["time","late","early","schedule"],char:"🕓",fitzpatrick_scale:!1,category:"symbols"},clock5:{keywords:["time","late","early","schedule"],char:"🕔",fitzpatrick_scale:!1,category:"symbols"},clock6:{keywords:["time","late","early","schedule","dawn","dusk"],char:"🕕",fitzpatrick_scale:!1,category:"symbols"},clock7:{keywords:["time","late","early","schedule"],char:"🕖",fitzpatrick_scale:!1,category:"symbols"},clock8:{keywords:["time","late","early","schedule"],char:"🕗",fitzpatrick_scale:!1,category:"symbols"},clock9:{keywords:["time","late","early","schedule"],char:"🕘",fitzpatrick_scale:!1,category:"symbols"},clock10:{keywords:["time","late","early","schedule"],char:"🕙",fitzpatrick_scale:!1,category:"symbols"},clock11:{keywords:["time","late","early","schedule"],char:"🕚",fitzpatrick_scale:!1,category:"symbols"},clock12:{keywords:["time","noon","midnight","midday","late","early","schedule"],char:"🕛",fitzpatrick_scale:!1,category:"symbols"},clock130:{keywords:["time","late","early","schedule"],char:"🕜",fitzpatrick_scale:!1,category:"symbols"},clock230:{keywords:["time","late","early","schedule"],char:"🕝",fitzpatrick_scale:!1,category:"symbols"},clock330:{keywords:["time","late","early","schedule"],char:"🕞",fitzpatrick_scale:!1,category:"symbols"},clock430:{keywords:["time","late","early","schedule"],char:"🕟",fitzpatrick_scale:!1,category:"symbols"},clock530:{keywords:["time","late","early","schedule"],char:"🕠",fitzpatrick_scale:!1,category:"symbols"},clock630:{keywords:["time","late","early","schedule"],char:"🕡",fitzpatrick_scale:!1,category:"symbols"},clock730:{keywords:["time","late","early","schedule"],char:"🕢",fitzpatrick_scale:!1,category:"symbols"},clock830:{keywords:["time","late","early","schedule"],char:"🕣",fitzpatrick_scale:!1,category:"symbols"},clock930:{keywords:["time","late","early","schedule"],char:"🕤",fitzpatrick_scale:!1,category:"symbols"},clock1030:{keywords:["time","late","early","schedule"],char:"🕥",fitzpatrick_scale:!1,category:"symbols"},clock1130:{keywords:["time","late","early","schedule"],char:"🕦",fitzpatrick_scale:!1,category:"symbols"},clock1230:{keywords:["time","late","early","schedule"],char:"🕧",fitzpatrick_scale:!1,category:"symbols"},afghanistan:{keywords:["af","flag","nation","country","banner"],char:"🇦🇫",fitzpatrick_scale:!1,category:"flags"},aland_islands:{keywords:["Åland","islands","flag","nation","country","banner"],char:"🇦🇽",fitzpatrick_scale:!1,category:"flags"},albania:{keywords:["al","flag","nation","country","banner"],char:"🇦🇱",fitzpatrick_scale:!1,category:"flags"},algeria:{keywords:["dz","flag","nation","country","banner"],char:"🇩🇿",fitzpatrick_scale:!1,category:"flags"},american_samoa:{keywords:["american","ws","flag","nation","country","banner"],char:"🇦🇸",fitzpatrick_scale:!1,category:"flags"},andorra:{keywords:["ad","flag","nation","country","banner"],char:"🇦🇩",fitzpatrick_scale:!1,category:"flags"},angola:{keywords:["ao","flag","nation","country","banner"],char:"🇦🇴",fitzpatrick_scale:!1,category:"flags"},anguilla:{keywords:["ai","flag","nation","country","banner"],char:"🇦🇮",fitzpatrick_scale:!1,category:"flags"},antarctica:{keywords:["aq","flag","nation","country","banner"],char:"🇦🇶",fitzpatrick_scale:!1,category:"flags"},antigua_barbuda:{keywords:["antigua","barbuda","flag","nation","country","banner"],char:"🇦🇬",fitzpatrick_scale:!1,category:"flags"},argentina:{keywords:["ar","flag","nation","country","banner"],char:"🇦🇷",fitzpatrick_scale:!1,category:"flags"},armenia:{keywords:["am","flag","nation","country","banner"],char:"🇦🇲",fitzpatrick_scale:!1,category:"flags"},aruba:{keywords:["aw","flag","nation","country","banner"],char:"🇦🇼",fitzpatrick_scale:!1,category:"flags"},australia:{keywords:["au","flag","nation","country","banner"],char:"🇦🇺",fitzpatrick_scale:!1,category:"flags"},austria:{keywords:["at","flag","nation","country","banner"],char:"🇦🇹",fitzpatrick_scale:!1,category:"flags"},azerbaijan:{keywords:["az","flag","nation","country","banner"],char:"🇦🇿",fitzpatrick_scale:!1,category:"flags"},bahamas:{keywords:["bs","flag","nation","country","banner"],char:"🇧🇸",fitzpatrick_scale:!1,category:"flags"},bahrain:{keywords:["bh","flag","nation","country","banner"],char:"🇧🇭",fitzpatrick_scale:!1,category:"flags"},bangladesh:{keywords:["bd","flag","nation","country","banner"],char:"🇧🇩",fitzpatrick_scale:!1,category:"flags"},barbados:{keywords:["bb","flag","nation","country","banner"],char:"🇧🇧",fitzpatrick_scale:!1,category:"flags"},belarus:{keywords:["by","flag","nation","country","banner"],char:"🇧🇾",fitzpatrick_scale:!1,category:"flags"},belgium:{keywords:["be","flag","nation","country","banner"],char:"🇧🇪",fitzpatrick_scale:!1,category:"flags"},belize:{keywords:["bz","flag","nation","country","banner"],char:"🇧🇿",fitzpatrick_scale:!1,category:"flags"},benin:{keywords:["bj","flag","nation","country","banner"],char:"🇧🇯",fitzpatrick_scale:!1,category:"flags"},bermuda:{keywords:["bm","flag","nation","country","banner"],char:"🇧🇲",fitzpatrick_scale:!1,category:"flags"},bhutan:{keywords:["bt","flag","nation","country","banner"],char:"🇧🇹",fitzpatrick_scale:!1,category:"flags"},bolivia:{keywords:["bo","flag","nation","country","banner"],char:"🇧🇴",fitzpatrick_scale:!1,category:"flags"},caribbean_netherlands:{keywords:["bonaire","flag","nation","country","banner"],char:"🇧🇶",fitzpatrick_scale:!1,category:"flags"},bosnia_herzegovina:{keywords:["bosnia","herzegovina","flag","nation","country","banner"],char:"🇧🇦",fitzpatrick_scale:!1,category:"flags"},botswana:{keywords:["bw","flag","nation","country","banner"],char:"🇧🇼",fitzpatrick_scale:!1,category:"flags"},brazil:{keywords:["br","flag","nation","country","banner"],char:"🇧🇷",fitzpatrick_scale:!1,category:"flags"},british_indian_ocean_territory:{keywords:["british","indian","ocean","territory","flag","nation","country","banner"],char:"🇮🇴",fitzpatrick_scale:!1,category:"flags"},british_virgin_islands:{keywords:["british","virgin","islands","bvi","flag","nation","country","banner"],char:"🇻🇬",fitzpatrick_scale:!1,category:"flags"},brunei:{keywords:["bn","darussalam","flag","nation","country","banner"],char:"🇧🇳",fitzpatrick_scale:!1,category:"flags"},bulgaria:{keywords:["bg","flag","nation","country","banner"],char:"🇧🇬",fitzpatrick_scale:!1,category:"flags"},burkina_faso:{keywords:["burkina","faso","flag","nation","country","banner"],char:"🇧🇫",fitzpatrick_scale:!1,category:"flags"},burundi:{keywords:["bi","flag","nation","country","banner"],char:"🇧🇮",fitzpatrick_scale:!1,category:"flags"},cape_verde:{keywords:["cabo","verde","flag","nation","country","banner"],char:"🇨🇻",fitzpatrick_scale:!1,category:"flags"},cambodia:{keywords:["kh","flag","nation","country","banner"],char:"🇰🇭",fitzpatrick_scale:!1,category:"flags"},cameroon:{keywords:["cm","flag","nation","country","banner"],char:"🇨🇲",fitzpatrick_scale:!1,category:"flags"},canada:{keywords:["ca","flag","nation","country","banner"],char:"🇨🇦",fitzpatrick_scale:!1,category:"flags"},canary_islands:{keywords:["canary","islands","flag","nation","country","banner"],char:"🇮🇨",fitzpatrick_scale:!1,category:"flags"},cayman_islands:{keywords:["cayman","islands","flag","nation","country","banner"],char:"🇰🇾",fitzpatrick_scale:!1,category:"flags"},central_african_republic:{keywords:["central","african","republic","flag","nation","country","banner"],char:"🇨🇫",fitzpatrick_scale:!1,category:"flags"},chad:{keywords:["td","flag","nation","country","banner"],char:"🇹🇩",fitzpatrick_scale:!1,category:"flags"},chile:{keywords:["flag","nation","country","banner"],char:"🇨🇱",fitzpatrick_scale:!1,category:"flags"},cn:{keywords:["china","chinese","prc","flag","country","nation","banner"],char:"🇨🇳",fitzpatrick_scale:!1,category:"flags"},christmas_island:{keywords:["christmas","island","flag","nation","country","banner"],char:"🇨🇽",fitzpatrick_scale:!1,category:"flags"},cocos_islands:{keywords:["cocos","keeling","islands","flag","nation","country","banner"],char:"🇨🇨",fitzpatrick_scale:!1,category:"flags"},colombia:{keywords:["co","flag","nation","country","banner"],char:"🇨🇴",fitzpatrick_scale:!1,category:"flags"},comoros:{keywords:["km","flag","nation","country","banner"],char:"🇰🇲",fitzpatrick_scale:!1,category:"flags"},congo_brazzaville:{keywords:["congo","flag","nation","country","banner"],char:"🇨🇬",fitzpatrick_scale:!1,category:"flags"},congo_kinshasa:{keywords:["congo","democratic","republic","flag","nation","country","banner"],char:"🇨🇩",fitzpatrick_scale:!1,category:"flags"},cook_islands:{keywords:["cook","islands","flag","nation","country","banner"],char:"🇨🇰",fitzpatrick_scale:!1,category:"flags"},costa_rica:{keywords:["costa","rica","flag","nation","country","banner"],char:"🇨🇷",fitzpatrick_scale:!1,category:"flags"},croatia:{keywords:["hr","flag","nation","country","banner"],char:"🇭🇷",fitzpatrick_scale:!1,category:"flags"},cuba:{keywords:["cu","flag","nation","country","banner"],char:"🇨🇺",fitzpatrick_scale:!1,category:"flags"},curacao:{keywords:["curaçao","flag","nation","country","banner"],char:"🇨🇼",fitzpatrick_scale:!1,category:"flags"},cyprus:{keywords:["cy","flag","nation","country","banner"],char:"🇨🇾",fitzpatrick_scale:!1,category:"flags"},czech_republic:{keywords:["cz","flag","nation","country","banner"],char:"🇨🇿",fitzpatrick_scale:!1,category:"flags"},denmark:{keywords:["dk","flag","nation","country","banner"],char:"🇩🇰",fitzpatrick_scale:!1,category:"flags"},djibouti:{keywords:["dj","flag","nation","country","banner"],char:"🇩🇯",fitzpatrick_scale:!1,category:"flags"},dominica:{keywords:["dm","flag","nation","country","banner"],char:"🇩🇲",fitzpatrick_scale:!1,category:"flags"},dominican_republic:{keywords:["dominican","republic","flag","nation","country","banner"],char:"🇩🇴",fitzpatrick_scale:!1,category:"flags"},ecuador:{keywords:["ec","flag","nation","country","banner"],char:"🇪🇨",fitzpatrick_scale:!1,category:"flags"},egypt:{keywords:["eg","flag","nation","country","banner"],char:"🇪🇬",fitzpatrick_scale:!1,category:"flags"},el_salvador:{keywords:["el","salvador","flag","nation","country","banner"],char:"🇸🇻",fitzpatrick_scale:!1,category:"flags"},equatorial_guinea:{keywords:["equatorial","gn","flag","nation","country","banner"],char:"🇬🇶",fitzpatrick_scale:!1,category:"flags"},eritrea:{keywords:["er","flag","nation","country","banner"],char:"🇪🇷",fitzpatrick_scale:!1,category:"flags"},estonia:{keywords:["ee","flag","nation","country","banner"],char:"🇪🇪",fitzpatrick_scale:!1,category:"flags"},ethiopia:{keywords:["et","flag","nation","country","banner"],char:"🇪🇹",fitzpatrick_scale:!1,category:"flags"},eu:{keywords:["european","union","flag","banner"],char:"🇪🇺",fitzpatrick_scale:!1,category:"flags"},falkland_islands:{keywords:["falkland","islands","malvinas","flag","nation","country","banner"],char:"🇫🇰",fitzpatrick_scale:!1,category:"flags"},faroe_islands:{keywords:["faroe","islands","flag","nation","country","banner"],char:"🇫🇴",fitzpatrick_scale:!1,category:"flags"},fiji:{keywords:["fj","flag","nation","country","banner"],char:"🇫🇯",fitzpatrick_scale:!1,category:"flags"},finland:{keywords:["fi","flag","nation","country","banner"],char:"🇫🇮",fitzpatrick_scale:!1,category:"flags"},fr:{keywords:["banner","flag","nation","france","french","country"],char:"🇫🇷",fitzpatrick_scale:!1,category:"flags"},french_guiana:{keywords:["french","guiana","flag","nation","country","banner"],char:"🇬🇫",fitzpatrick_scale:!1,category:"flags"},french_polynesia:{keywords:["french","polynesia","flag","nation","country","banner"],char:"🇵🇫",fitzpatrick_scale:!1,category:"flags"},french_southern_territories:{keywords:["french","southern","territories","flag","nation","country","banner"],char:"🇹🇫",fitzpatrick_scale:!1,category:"flags"},gabon:{keywords:["ga","flag","nation","country","banner"],char:"🇬🇦",fitzpatrick_scale:!1,category:"flags"},gambia:{keywords:["gm","flag","nation","country","banner"],char:"🇬🇲",fitzpatrick_scale:!1,category:"flags"},georgia:{keywords:["ge","flag","nation","country","banner"],char:"🇬🇪",fitzpatrick_scale:!1,category:"flags"},de:{keywords:["german","nation","flag","country","banner"],char:"🇩🇪",fitzpatrick_scale:!1,category:"flags"},ghana:{keywords:["gh","flag","nation","country","banner"],char:"🇬🇭",fitzpatrick_scale:!1,category:"flags"},gibraltar:{keywords:["gi","flag","nation","country","banner"],char:"🇬🇮",fitzpatrick_scale:!1,category:"flags"},greece:{keywords:["gr","flag","nation","country","banner"],char:"🇬🇷",fitzpatrick_scale:!1,category:"flags"},greenland:{keywords:["gl","flag","nation","country","banner"],char:"🇬🇱",fitzpatrick_scale:!1,category:"flags"},grenada:{keywords:["gd","flag","nation","country","banner"],char:"🇬🇩",fitzpatrick_scale:!1,category:"flags"},guadeloupe:{keywords:["gp","flag","nation","country","banner"],char:"🇬🇵",fitzpatrick_scale:!1,category:"flags"},guam:{keywords:["gu","flag","nation","country","banner"],char:"🇬🇺",fitzpatrick_scale:!1,category:"flags"},guatemala:{keywords:["gt","flag","nation","country","banner"],char:"🇬🇹",fitzpatrick_scale:!1,category:"flags"},guernsey:{keywords:["gg","flag","nation","country","banner"],char:"🇬🇬",fitzpatrick_scale:!1,category:"flags"},guinea:{keywords:["gn","flag","nation","country","banner"],char:"🇬🇳",fitzpatrick_scale:!1,category:"flags"},guinea_bissau:{keywords:["gw","bissau","flag","nation","country","banner"],char:"🇬🇼",fitzpatrick_scale:!1,category:"flags"},guyana:{keywords:["gy","flag","nation","country","banner"],char:"🇬🇾",fitzpatrick_scale:!1,category:"flags"},haiti:{keywords:["ht","flag","nation","country","banner"],char:"🇭🇹",fitzpatrick_scale:!1,category:"flags"},honduras:{keywords:["hn","flag","nation","country","banner"],char:"🇭🇳",fitzpatrick_scale:!1,category:"flags"},hong_kong:{keywords:["hong","kong","flag","nation","country","banner"],char:"🇭🇰",fitzpatrick_scale:!1,category:"flags"},hungary:{keywords:["hu","flag","nation","country","banner"],char:"🇭🇺",fitzpatrick_scale:!1,category:"flags"},iceland:{keywords:["is","flag","nation","country","banner"],char:"🇮🇸",fitzpatrick_scale:!1,category:"flags"},india:{keywords:["in","flag","nation","country","banner"],char:"🇮🇳",fitzpatrick_scale:!1,category:"flags"},indonesia:{keywords:["flag","nation","country","banner"],char:"🇮🇩",fitzpatrick_scale:!1,category:"flags"},iran:{keywords:["iran,","islamic","republic","flag","nation","country","banner"],char:"🇮🇷",fitzpatrick_scale:!1,category:"flags"},iraq:{keywords:["iq","flag","nation","country","banner"],char:"🇮🇶",fitzpatrick_scale:!1,category:"flags"},ireland:{keywords:["ie","flag","nation","country","banner"],char:"🇮🇪",fitzpatrick_scale:!1,category:"flags"},isle_of_man:{keywords:["isle","man","flag","nation","country","banner"],char:"🇮🇲",fitzpatrick_scale:!1,category:"flags"},israel:{keywords:["il","flag","nation","country","banner"],char:"🇮🇱",fitzpatrick_scale:!1,category:"flags"},it:{keywords:["italy","flag","nation","country","banner"],char:"🇮🇹",fitzpatrick_scale:!1,category:"flags"},cote_divoire:{keywords:["ivory","coast","flag","nation","country","banner"],char:"🇨🇮",fitzpatrick_scale:!1,category:"flags"},jamaica:{keywords:["jm","flag","nation","country","banner"],char:"🇯🇲",fitzpatrick_scale:!1,category:"flags"},jp:{keywords:["japanese","nation","flag","country","banner"],char:"🇯🇵",fitzpatrick_scale:!1,category:"flags"},jersey:{keywords:["je","flag","nation","country","banner"],char:"🇯🇪",fitzpatrick_scale:!1,category:"flags"},jordan:{keywords:["jo","flag","nation","country","banner"],char:"🇯🇴",fitzpatrick_scale:!1,category:"flags"},kazakhstan:{keywords:["kz","flag","nation","country","banner"],char:"🇰🇿",fitzpatrick_scale:!1,category:"flags"},kenya:{keywords:["ke","flag","nation","country","banner"],char:"🇰🇪",fitzpatrick_scale:!1,category:"flags"},kiribati:{keywords:["ki","flag","nation","country","banner"],char:"🇰🇮",fitzpatrick_scale:!1,category:"flags"},kosovo:{keywords:["xk","flag","nation","country","banner"],char:"🇽🇰",fitzpatrick_scale:!1,category:"flags"},kuwait:{keywords:["kw","flag","nation","country","banner"],char:"🇰🇼",fitzpatrick_scale:!1,category:"flags"},kyrgyzstan:{keywords:["kg","flag","nation","country","banner"],char:"🇰🇬",fitzpatrick_scale:!1,category:"flags"},laos:{keywords:["lao","democratic","republic","flag","nation","country","banner"],char:"🇱🇦",fitzpatrick_scale:!1,category:"flags"},latvia:{keywords:["lv","flag","nation","country","banner"],char:"🇱🇻",fitzpatrick_scale:!1,category:"flags"},lebanon:{keywords:["lb","flag","nation","country","banner"],char:"🇱🇧",fitzpatrick_scale:!1,category:"flags"},lesotho:{keywords:["ls","flag","nation","country","banner"],char:"🇱🇸",fitzpatrick_scale:!1,category:"flags"},liberia:{keywords:["lr","flag","nation","country","banner"],char:"🇱🇷",fitzpatrick_scale:!1,category:"flags"},libya:{keywords:["ly","flag","nation","country","banner"],char:"🇱🇾",fitzpatrick_scale:!1,category:"flags"},liechtenstein:{keywords:["li","flag","nation","country","banner"],char:"🇱🇮",fitzpatrick_scale:!1,category:"flags"},lithuania:{keywords:["lt","flag","nation","country","banner"],char:"🇱🇹",fitzpatrick_scale:!1,category:"flags"},luxembourg:{keywords:["lu","flag","nation","country","banner"],char:"🇱🇺",fitzpatrick_scale:!1,category:"flags"},macau:{keywords:["macao","flag","nation","country","banner"],char:"🇲🇴",fitzpatrick_scale:!1,category:"flags"},macedonia:{keywords:["macedonia,","flag","nation","country","banner"],char:"🇲🇰",fitzpatrick_scale:!1,category:"flags"},madagascar:{keywords:["mg","flag","nation","country","banner"],char:"🇲🇬",fitzpatrick_scale:!1,category:"flags"},malawi:{keywords:["mw","flag","nation","country","banner"],char:"🇲🇼",fitzpatrick_scale:!1,category:"flags"},malaysia:{keywords:["my","flag","nation","country","banner"],char:"🇲🇾",fitzpatrick_scale:!1,category:"flags"},maldives:{keywords:["mv","flag","nation","country","banner"],char:"🇲🇻",fitzpatrick_scale:!1,category:"flags"},mali:{keywords:["ml","flag","nation","country","banner"],char:"🇲🇱",fitzpatrick_scale:!1,category:"flags"},malta:{keywords:["mt","flag","nation","country","banner"],char:"🇲🇹",fitzpatrick_scale:!1,category:"flags"},marshall_islands:{keywords:["marshall","islands","flag","nation","country","banner"],char:"🇲🇭",fitzpatrick_scale:!1,category:"flags"},martinique:{keywords:["mq","flag","nation","country","banner"],char:"🇲🇶",fitzpatrick_scale:!1,category:"flags"},mauritania:{keywords:["mr","flag","nation","country","banner"],char:"🇲🇷",fitzpatrick_scale:!1,category:"flags"},mauritius:{keywords:["mu","flag","nation","country","banner"],char:"🇲🇺",fitzpatrick_scale:!1,category:"flags"},mayotte:{keywords:["yt","flag","nation","country","banner"],char:"🇾🇹",fitzpatrick_scale:!1,category:"flags"},mexico:{keywords:["mx","flag","nation","country","banner"],char:"🇲🇽",fitzpatrick_scale:!1,category:"flags"},micronesia:{keywords:["micronesia,","federated","states","flag","nation","country","banner"],char:"🇫🇲",fitzpatrick_scale:!1,category:"flags"},moldova:{keywords:["moldova,","republic","flag","nation","country","banner"],char:"🇲🇩",fitzpatrick_scale:!1,category:"flags"},monaco:{keywords:["mc","flag","nation","country","banner"],char:"🇲🇨",fitzpatrick_scale:!1,category:"flags"},mongolia:{keywords:["mn","flag","nation","country","banner"],char:"🇲🇳",fitzpatrick_scale:!1,category:"flags"},montenegro:{keywords:["me","flag","nation","country","banner"],char:"🇲🇪",fitzpatrick_scale:!1,category:"flags"},montserrat:{keywords:["ms","flag","nation","country","banner"],char:"🇲🇸",fitzpatrick_scale:!1,category:"flags"},morocco:{keywords:["ma","flag","nation","country","banner"],char:"🇲🇦",fitzpatrick_scale:!1,category:"flags"},mozambique:{keywords:["mz","flag","nation","country","banner"],char:"🇲🇿",fitzpatrick_scale:!1,category:"flags"},myanmar:{keywords:["mm","flag","nation","country","banner"],char:"🇲🇲",fitzpatrick_scale:!1,category:"flags"},namibia:{keywords:["na","flag","nation","country","banner"],char:"🇳🇦",fitzpatrick_scale:!1,category:"flags"},nauru:{keywords:["nr","flag","nation","country","banner"],char:"🇳🇷",fitzpatrick_scale:!1,category:"flags"},nepal:{keywords:["np","flag","nation","country","banner"],char:"🇳🇵",fitzpatrick_scale:!1,category:"flags"},netherlands:{keywords:["nl","flag","nation","country","banner"],char:"🇳🇱",fitzpatrick_scale:!1,category:"flags"},new_caledonia:{keywords:["new","caledonia","flag","nation","country","banner"],char:"🇳🇨",fitzpatrick_scale:!1,category:"flags"},new_zealand:{keywords:["new","zealand","flag","nation","country","banner"],char:"🇳🇿",fitzpatrick_scale:!1,category:"flags"},nicaragua:{keywords:["ni","flag","nation","country","banner"],char:"🇳🇮",fitzpatrick_scale:!1,category:"flags"},niger:{keywords:["ne","flag","nation","country","banner"],char:"🇳🇪",fitzpatrick_scale:!1,category:"flags"},nigeria:{keywords:["flag","nation","country","banner"],char:"🇳🇬",fitzpatrick_scale:!1,category:"flags"},niue:{keywords:["nu","flag","nation","country","banner"],char:"🇳🇺",fitzpatrick_scale:!1,category:"flags"},norfolk_island:{keywords:["norfolk","island","flag","nation","country","banner"],char:"🇳🇫",fitzpatrick_scale:!1,category:"flags"},northern_mariana_islands:{keywords:["northern","mariana","islands","flag","nation","country","banner"],char:"🇲🇵",fitzpatrick_scale:!1,category:"flags"},north_korea:{keywords:["north","korea","nation","flag","country","banner"],char:"🇰🇵",fitzpatrick_scale:!1,category:"flags"},norway:{keywords:["no","flag","nation","country","banner"],char:"🇳🇴",fitzpatrick_scale:!1,category:"flags"},oman:{keywords:["om_symbol","flag","nation","country","banner"],char:"🇴🇲",fitzpatrick_scale:!1,category:"flags"},pakistan:{keywords:["pk","flag","nation","country","banner"],char:"🇵🇰",fitzpatrick_scale:!1,category:"flags"},palau:{keywords:["pw","flag","nation","country","banner"],char:"🇵🇼",fitzpatrick_scale:!1,category:"flags"},palestinian_territories:{keywords:["palestine","palestinian","territories","flag","nation","country","banner"],char:"🇵🇸",fitzpatrick_scale:!1,category:"flags"},panama:{keywords:["pa","flag","nation","country","banner"],char:"🇵🇦",fitzpatrick_scale:!1,category:"flags"},papua_new_guinea:{keywords:["papua","new","guinea","flag","nation","country","banner"],char:"🇵🇬",fitzpatrick_scale:!1,category:"flags"},paraguay:{keywords:["py","flag","nation","country","banner"],char:"🇵🇾",fitzpatrick_scale:!1,category:"flags"},peru:{keywords:["pe","flag","nation","country","banner"],char:"🇵🇪",fitzpatrick_scale:!1,category:"flags"},philippines:{keywords:["ph","flag","nation","country","banner"],char:"🇵🇭",fitzpatrick_scale:!1,category:"flags"},pitcairn_islands:{keywords:["pitcairn","flag","nation","country","banner"],char:"🇵🇳",fitzpatrick_scale:!1,category:"flags"},poland:{keywords:["pl","flag","nation","country","banner"],char:"🇵🇱",fitzpatrick_scale:!1,category:"flags"},portugal:{keywords:["pt","flag","nation","country","banner"],char:"🇵🇹",fitzpatrick_scale:!1,category:"flags"},puerto_rico:{keywords:["puerto","rico","flag","nation","country","banner"],char:"🇵🇷",fitzpatrick_scale:!1,category:"flags"},qatar:{keywords:["qa","flag","nation","country","banner"],char:"🇶🇦",fitzpatrick_scale:!1,category:"flags"},reunion:{keywords:["réunion","flag","nation","country","banner"],char:"🇷🇪",fitzpatrick_scale:!1,category:"flags"},romania:{keywords:["ro","flag","nation","country","banner"],char:"🇷🇴",fitzpatrick_scale:!1,category:"flags"},ru:{keywords:["russian","federation","flag","nation","country","banner"],char:"🇷🇺",fitzpatrick_scale:!1,category:"flags"},rwanda:{keywords:["rw","flag","nation","country","banner"],char:"🇷🇼",fitzpatrick_scale:!1,category:"flags"},st_barthelemy:{keywords:["saint","barthélemy","flag","nation","country","banner"],char:"🇧🇱",fitzpatrick_scale:!1,category:"flags"},st_helena:{keywords:["saint","helena","ascension","tristan","cunha","flag","nation","country","banner"],char:"🇸🇭",fitzpatrick_scale:!1,category:"flags"},st_kitts_nevis:{keywords:["saint","kitts","nevis","flag","nation","country","banner"],char:"🇰🇳",fitzpatrick_scale:!1,category:"flags"},st_lucia:{keywords:["saint","lucia","flag","nation","country","banner"],char:"🇱🇨",fitzpatrick_scale:!1,category:"flags"},st_pierre_miquelon:{keywords:["saint","pierre","miquelon","flag","nation","country","banner"],char:"🇵🇲",fitzpatrick_scale:!1,category:"flags"},st_vincent_grenadines:{keywords:["saint","vincent","grenadines","flag","nation","country","banner"],char:"🇻🇨",fitzpatrick_scale:!1,category:"flags"},samoa:{keywords:["ws","flag","nation","country","banner"],char:"🇼🇸",fitzpatrick_scale:!1,category:"flags"},san_marino:{keywords:["san","marino","flag","nation","country","banner"],char:"🇸🇲",fitzpatrick_scale:!1,category:"flags"},sao_tome_principe:{keywords:["sao","tome","principe","flag","nation","country","banner"],char:"🇸🇹",fitzpatrick_scale:!1,category:"flags"},saudi_arabia:{keywords:["flag","nation","country","banner"],char:"🇸🇦",fitzpatrick_scale:!1,category:"flags"},senegal:{keywords:["sn","flag","nation","country","banner"],char:"🇸🇳",fitzpatrick_scale:!1,category:"flags"},serbia:{keywords:["rs","flag","nation","country","banner"],char:"🇷🇸",fitzpatrick_scale:!1,category:"flags"},seychelles:{keywords:["sc","flag","nation","country","banner"],char:"🇸🇨",fitzpatrick_scale:!1,category:"flags"},sierra_leone:{keywords:["sierra","leone","flag","nation","country","banner"],char:"🇸🇱",fitzpatrick_scale:!1,category:"flags"},singapore:{keywords:["sg","flag","nation","country","banner"],char:"🇸🇬",fitzpatrick_scale:!1,category:"flags"},sint_maarten:{keywords:["sint","maarten","dutch","flag","nation","country","banner"],char:"🇸🇽",fitzpatrick_scale:!1,category:"flags"},slovakia:{keywords:["sk","flag","nation","country","banner"],char:"🇸🇰",fitzpatrick_scale:!1,category:"flags"},slovenia:{keywords:["si","flag","nation","country","banner"],char:"🇸🇮",fitzpatrick_scale:!1,category:"flags"},solomon_islands:{keywords:["solomon","islands","flag","nation","country","banner"],char:"🇸🇧",fitzpatrick_scale:!1,category:"flags"},somalia:{keywords:["so","flag","nation","country","banner"],char:"🇸🇴",fitzpatrick_scale:!1,category:"flags"},south_africa:{keywords:["south","africa","flag","nation","country","banner"],char:"🇿🇦",fitzpatrick_scale:!1,category:"flags"},south_georgia_south_sandwich_islands:{keywords:["south","georgia","sandwich","islands","flag","nation","country","banner"],char:"🇬🇸",fitzpatrick_scale:!1,category:"flags"},kr:{keywords:["south","korea","nation","flag","country","banner"],char:"🇰🇷",fitzpatrick_scale:!1,category:"flags"},south_sudan:{keywords:["south","sd","flag","nation","country","banner"],char:"🇸🇸",fitzpatrick_scale:!1,category:"flags"},es:{keywords:["spain","flag","nation","country","banner"],char:"🇪🇸",fitzpatrick_scale:!1,category:"flags"},sri_lanka:{keywords:["sri","lanka","flag","nation","country","banner"],char:"🇱🇰",fitzpatrick_scale:!1,category:"flags"},sudan:{keywords:["sd","flag","nation","country","banner"],char:"🇸🇩",fitzpatrick_scale:!1,category:"flags"},suriname:{keywords:["sr","flag","nation","country","banner"],char:"🇸🇷",fitzpatrick_scale:!1,category:"flags"},swaziland:{keywords:["sz","flag","nation","country","banner"],char:"🇸🇿",fitzpatrick_scale:!1,category:"flags"},sweden:{keywords:["se","flag","nation","country","banner"],char:"🇸🇪",fitzpatrick_scale:!1,category:"flags"},switzerland:{keywords:["ch","flag","nation","country","banner"],char:"🇨🇭",fitzpatrick_scale:!1,category:"flags"},syria:{keywords:["syrian","arab","republic","flag","nation","country","banner"],char:"🇸🇾",fitzpatrick_scale:!1,category:"flags"},taiwan:{keywords:["tw","flag","nation","country","banner"],char:"🇹🇼",fitzpatrick_scale:!1,category:"flags"},tajikistan:{keywords:["tj","flag","nation","country","banner"],char:"🇹🇯",fitzpatrick_scale:!1,category:"flags"},tanzania:{keywords:["tanzania,","united","republic","flag","nation","country","banner"],char:"🇹🇿",fitzpatrick_scale:!1,category:"flags"},thailand:{keywords:["th","flag","nation","country","banner"],char:"🇹🇭",fitzpatrick_scale:!1,category:"flags"},timor_leste:{keywords:["timor","leste","flag","nation","country","banner"],char:"🇹🇱",fitzpatrick_scale:!1,category:"flags"},togo:{keywords:["tg","flag","nation","country","banner"],char:"🇹🇬",fitzpatrick_scale:!1,category:"flags"},tokelau:{keywords:["tk","flag","nation","country","banner"],char:"🇹🇰",fitzpatrick_scale:!1,category:"flags"},tonga:{keywords:["to","flag","nation","country","banner"],char:"🇹🇴",fitzpatrick_scale:!1,category:"flags"},trinidad_tobago:{keywords:["trinidad","tobago","flag","nation","country","banner"],char:"🇹🇹",fitzpatrick_scale:!1,category:"flags"},tunisia:{keywords:["tn","flag","nation","country","banner"],char:"🇹🇳",fitzpatrick_scale:!1,category:"flags"},tr:{keywords:["turkey","flag","nation","country","banner"],char:"🇹🇷",fitzpatrick_scale:!1,category:"flags"},turkmenistan:{keywords:["flag","nation","country","banner"],char:"🇹🇲",fitzpatrick_scale:!1,category:"flags"},turks_caicos_islands:{keywords:["turks","caicos","islands","flag","nation","country","banner"],char:"🇹🇨",fitzpatrick_scale:!1,category:"flags"},tuvalu:{keywords:["flag","nation","country","banner"],char:"🇹🇻",fitzpatrick_scale:!1,category:"flags"},uganda:{keywords:["ug","flag","nation","country","banner"],char:"🇺🇬",fitzpatrick_scale:!1,category:"flags"},ukraine:{keywords:["ua","flag","nation","country","banner"],char:"🇺🇦",fitzpatrick_scale:!1,category:"flags"},united_arab_emirates:{keywords:["united","arab","emirates","flag","nation","country","banner"],char:"🇦🇪",fitzpatrick_scale:!1,category:"flags"},uk:{keywords:["united","kingdom","great","britain","northern","ireland","flag","nation","country","banner","british","UK","english","england","union jack"],char:"🇬🇧",fitzpatrick_scale:!1,category:"flags"},england:{keywords:["flag","english"],char:"🏴󠁧󠁢󠁥󠁮󠁧󠁿",fitzpatrick_scale:!1,category:"flags"},scotland:{keywords:["flag","scottish"],char:"🏴󠁧󠁢󠁳󠁣󠁴󠁿",fitzpatrick_scale:!1,category:"flags"},wales:{keywords:["flag","welsh"],char:"🏴󠁧󠁢󠁷󠁬󠁳󠁿",fitzpatrick_scale:!1,category:"flags"},us:{keywords:["united","states","america","flag","nation","country","banner"],char:"🇺🇸",fitzpatrick_scale:!1,category:"flags"},us_virgin_islands:{keywords:["virgin","islands","us","flag","nation","country","banner"],char:"🇻🇮",fitzpatrick_scale:!1,category:"flags"},uruguay:{keywords:["uy","flag","nation","country","banner"],char:"🇺🇾",fitzpatrick_scale:!1,category:"flags"},uzbekistan:{keywords:["uz","flag","nation","country","banner"],char:"🇺🇿",fitzpatrick_scale:!1,category:"flags"},vanuatu:{keywords:["vu","flag","nation","country","banner"],char:"🇻🇺",fitzpatrick_scale:!1,category:"flags"},vatican_city:{keywords:["vatican","city","flag","nation","country","banner"],char:"🇻🇦",fitzpatrick_scale:!1,category:"flags"},venezuela:{keywords:["ve","bolivarian","republic","flag","nation","country","banner"],char:"🇻🇪",fitzpatrick_scale:!1,category:"flags"},vietnam:{keywords:["viet","nam","flag","nation","country","banner"],char:"🇻🇳",fitzpatrick_scale:!1,category:"flags"},wallis_futuna:{keywords:["wallis","futuna","flag","nation","country","banner"],char:"🇼🇫",fitzpatrick_scale:!1,category:"flags"},western_sahara:{keywords:["western","sahara","flag","nation","country","banner"],char:"🇪🇭",fitzpatrick_scale:!1,category:"flags"},yemen:{keywords:["ye","flag","nation","country","banner"],char:"🇾🇪",fitzpatrick_scale:!1,category:"flags"},zambia:{keywords:["zm","flag","nation","country","banner"],char:"🇿🇲",fitzpatrick_scale:!1,category:"flags"},zimbabwe:{keywords:["zw","flag","nation","country","banner"],char:"🇿🇼",fitzpatrick_scale:!1,category:"flags"},united_nations:{keywords:["un","flag","banner"],char:"🇺🇳",fitzpatrick_scale:!1,category:"flags"},pirate_flag:{keywords:["skull","crossbones","flag","banner"],char:"🏴‍☠️",fitzpatrick_scale:!1,category:"flags"}});(function(){var Oa=tinymce.util.Tools.resolve("tinymce.PluginManager");const nr=(U,se,Ce)=>{var Ye;return Ce(U,se.prototype)?!0:((Ye=U.constructor)===null||Ye===void 0?void 0:Ye.name)===se.name},oa=U=>{const se=typeof U;return U===null?"null":se==="object"&&Array.isArray(U)?"array":se==="object"&&nr(U,String,(Ce,Ye)=>Ye.isPrototypeOf(Ce))?"string":se},Bs=U=>se=>oa(se)===U,Ms=U=>se=>typeof se===U,Mo=U=>se=>U===se,ks=Bs("string"),on=Bs("object"),Un=Bs("array"),Xn=Mo(null),uo=Ms("boolean"),rs=U=>U==null,as=U=>!rs(U),ts=Ms("function"),lr=(U,se)=>{if(Un(U)){for(let Ce=0,Ye=U.length;Ce<Ye;++Ce)if(!se(U[Ce]))return!1;return!0}return!1},fo=()=>{},xt=U=>()=>U,No=(U,se)=>U===se;class en{constructor(se,Ce){this.tag=se,this.value=Ce}static some(se){return new en(!0,se)}static none(){return en.singletonNone}fold(se,Ce){return this.tag?Ce(this.value):se()}isSome(){return this.tag}isNone(){return!this.tag}map(se){return this.tag?en.some(se(this.value)):en.none()}bind(se){return this.tag?se(this.value):en.none()}exists(se){return this.tag&&se(this.value)}forall(se){return!this.tag||se(this.value)}filter(se){return!this.tag||se(this.value)?this:en.none()}getOr(se){return this.tag?this.value:se}or(se){return this.tag?this:se}getOrThunk(se){return this.tag?this.value:se()}orThunk(se){return this.tag?this:se()}getOrDie(se){if(this.tag)return this.value;throw new Error(se??"Called getOrDie on None")}static from(se){return as(se)?en.some(se):en.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(se){this.tag&&se(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}en.singletonNone=new en(!1);const ae=Array.prototype.indexOf,wt=Array.prototype.push,ur=(U,se)=>ae.call(U,se),bt=(U,se)=>ur(U,se)>-1,Z=(U,se)=>{const Ce=U.length,Ye=new Array(Ce);for(let ft=0;ft<Ce;ft++){const Ht=U[ft];Ye[ft]=se(Ht,ft)}return Ye},zt=(U,se)=>{for(let Ce=0,Ye=U.length;Ce<Ye;Ce++){const ft=U[Ce];se(ft,Ce)}},go=(U,se,Ce)=>(zt(U,(Ye,ft)=>{Ce=se(Ce,Ye,ft)}),Ce),gn=U=>{const se=[];for(let Ce=0,Ye=U.length;Ce<Ye;++Ce){if(!Un(U[Ce]))throw new Error("Arr.flatten item "+Ce+" was not an array, input: "+U);wt.apply(se,U[Ce])}return se},Ne=(U,se)=>gn(Z(U,se)),ue=(U,se)=>{for(let Ce=0;Ce<U.length;Ce++){const Ye=se(U[Ce],Ce);if(Ye.isSome())return Ye}return en.none()},Wo=(U,se,Ce=No)=>U.exists(Ye=>Ce(Ye,se)),Ae=U=>{const se=[],Ce=Ye=>{se.push(Ye)};for(let Ye=0;Ye<U.length;Ye++)U[Ye].each(Ce);return se},ze=(U,se)=>U?en.some(se):en.none(),C=U=>se=>se.options.get(U),Ge=U=>{const se=U.options.register;se("link_assume_external_targets",{processor:Ce=>{const Ye=ks(Ce)||uo(Ce);return Ye?Ce===!0?{value:1,valid:Ye}:Ce==="http"||Ce==="https"?{value:Ce,valid:Ye}:{value:0,valid:Ye}:{valid:!1,message:"Must be a string or a boolean."}},default:!1}),se("link_context_toolbar",{processor:"boolean",default:!1}),se("link_list",{processor:Ce=>ks(Ce)||ts(Ce)||lr(Ce,on)}),se("link_default_target",{processor:"string"}),se("link_default_protocol",{processor:"string",default:"https"}),se("link_target_list",{processor:Ce=>uo(Ce)||lr(Ce,on),default:!0}),se("link_rel_list",{processor:"object[]",default:[]}),se("link_class_list",{processor:"object[]",default:[]}),se("link_title",{processor:"boolean",default:!0}),se("allow_unsafe_link_target",{processor:"boolean",default:!1}),se("link_quicklink",{processor:"boolean",default:!1})},Me=C("link_assume_external_targets"),Yt=C("link_context_toolbar"),Ot=C("link_list"),he=C("link_default_target"),ot=C("link_default_protocol"),Xt=C("link_target_list"),vt=C("link_rel_list"),Dn=C("link_class_list"),we=C("link_title"),Qe=C("allow_unsafe_link_target"),$=C("link_quicklink"),Go=Object.keys,xn=Object.hasOwnProperty,Jn=(U,se)=>{const Ce=Go(U);for(let Ye=0,ft=Ce.length;Ye<ft;Ye++){const Ht=Ce[Ye],so=U[Ht];se(so,Ht)}},Co=U=>(se,Ce)=>{U[Ce]=se},sa=(U,se,Ce,Ye)=>{Jn(U,(ft,Ht)=>{(se(ft,Ht)?Ce:Ye)(ft,Ht)})},jt=(U,se)=>{const Ce={};return sa(U,se,Co(Ce),fo),Ce},jn=(U,se)=>xn.call(U,se),Qt=(U,se)=>jn(U,se)&&U[se]!==void 0&&U[se]!==null;var te=tinymce.util.Tools.resolve("tinymce.util.URI"),Te=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),xe=tinymce.util.Tools.resolve("tinymce.util.Tools");const be=U=>as(U)&&U.nodeName.toLowerCase()==="a",st=U=>be(U)&&!!Lt(U),lt=(U,se)=>{if(U.collapsed)return[];{const Ce=U.cloneContents(),Ye=Ce.firstChild,ft=new Te(Ye,Ce),Ht=[];let so=Ye;do se(so)&&Ht.push(so);while(so=ft.next());return Ht}},Rn=U=>/^\w+:/i.test(U),Lt=U=>{var se,Ce;return(Ce=(se=U.getAttribute("data-mce-href"))!==null&&se!==void 0?se:U.getAttribute("href"))!==null&&Ce!==void 0?Ce:""},po=(U,se)=>{const Ce=["noopener"],Ye=U?U.split(/\s+/):[],ft=bo=>xe.trim(bo.sort().join(" ")),Ht=bo=>(bo=so(bo),bo.length>0?bo.concat(Ce):Ce),so=bo=>bo.filter(Pt=>xe.inArray(Ce,Pt)===-1),fs=se?Ht(Ye):so(Ye);return fs.length>0?ft(fs):""},hs=U=>U.replace(/\uFEFF/g,""),co=(U,se)=>(se=se||cs(U.selection.getRng())[0]||U.selection.getNode(),xo(se)?en.from(U.dom.select("a[href]",se)[0]):en.from(U.dom.getParent(se,"a[href]"))),zo=(U,se)=>co(U,se).isSome(),ho=(U,se)=>{const Ce=se.fold(()=>U.getContent({format:"text"}),Ye=>Ye.innerText||Ye.textContent||"");return hs(Ce)},cs=U=>lt(U,st),eo=U=>xe.grep(U,st),Wn=U=>eo(U).length>0,Ko=U=>cs(U).length>0,wn=U=>{const se=U.schema.getTextInlineElements(),Ce=Ht=>Ht.nodeType===1&&!be(Ht)&&!jn(se,Ht.nodeName.toLowerCase());if(co(U).exists(Ht=>Ht.hasAttribute("data-mce-block")))return!1;const ft=U.selection.getRng();return ft.collapsed?!0:lt(ft,Ce).length===0},xo=U=>as(U)&&U.nodeName==="FIGURE"&&/\bimage\b/i.test(U.className),is=U=>go(["title","rel","class","target"],(Ce,Ye)=>(U[Ye].each(ft=>{Ce[Ye]=ft.length>0?ft:null}),Ce),{href:U.href}),Vo=(U,se)=>(se==="http"||se==="https")&&!Rn(U)?se+"://"+U:U,zr=(U,se)=>{const Ce={...se};if(vt(U).length===0&&!Qe(U)){const Ye=po(Ce.rel,Ce.target==="_blank");Ce.rel=Ye||null}return en.from(Ce.target).isNone()&&Xt(U)===!1&&(Ce.target=he(U)),Ce.href=Vo(Ce.href,Me(U)),Ce},oo=(U,se,Ce,Ye)=>{Ce.each(ft=>{jn(se,"innerText")?se.innerText=ft:se.textContent=ft}),U.dom.setAttribs(se,Ye),U.selection.select(se)},Da=(U,se,Ce,Ye)=>{const ft=U.dom;xo(se)?Dc(ft,se,Ye):Ce.fold(()=>{U.execCommand("mceInsertLink",!1,Ye)},Ht=>{U.insertContent(ft.createHTML("a",Ye,ft.encode(Ht)))})},mt=(U,se,Ce)=>{const Ye=U.selection.getNode(),ft=co(U,Ye),Ht=zr(U,is(Ce));U.undoManager.transact(()=>{Ce.href===se.href&&se.attach(),ft.fold(()=>{Da(U,Ye,Ce.text,Ht)},so=>{U.focus(),oo(U,so,Ce.text,Ht)})})},to=U=>{const se=U.dom,Ce=U.selection,Ye=Ce.getBookmark(),ft=Ce.getRng().cloneRange(),Ht=se.getParent(ft.startContainer,"a[href]",U.getBody()),so=se.getParent(ft.endContainer,"a[href]",U.getBody());Ht&&ft.setStartBefore(Ht),so&&ft.setEndAfter(so),Ce.setRng(ft),U.execCommand("unlink"),Ce.moveToBookmark(Ye)},dr=U=>{U.undoManager.transact(()=>{const se=U.selection.getNode();xo(se)?ha(U,se):to(U),U.focus()})},mr=U=>{const{class:se,href:Ce,rel:Ye,target:ft,text:Ht,title:so}=U;return jt({class:se.getOrNull(),href:Ce,rel:Ye.getOrNull(),target:ft.getOrNull(),text:Ht.getOrNull(),title:so.getOrNull()},(fs,bo)=>Xn(fs)===!1)},Gr=(U,se)=>{const Ce=U.options.get,Ye={allow_html_data_urls:Ce("allow_html_data_urls"),allow_script_urls:Ce("allow_script_urls"),allow_svg_data_urls:Ce("allow_svg_data_urls")},ft=se.href;return{...se,href:te.isDomSafe(ft,"a",Ye)?ft:""}},Kr=(U,se,Ce)=>{const Ye=Gr(U,Ce);U.hasPlugin("rtc",!0)?U.execCommand("createlink",!1,mr(Ye)):mt(U,se,Ye)},Io=U=>{U.hasPlugin("rtc",!0)?U.execCommand("unlink"):dr(U)},ha=(U,se)=>{var Ce;const Ye=U.dom.select("img",se)[0];if(Ye){const ft=U.dom.getParents(Ye,"a[href]",se)[0];ft&&((Ce=ft.parentNode)===null||Ce===void 0||Ce.insertBefore(Ye,ft),U.dom.remove(ft))}},Dc=(U,se,Ce)=>{var Ye;const ft=U.select("img",se)[0];if(ft){const Ht=U.create("a",Ce);(Ye=ft.parentNode)===null||Ye===void 0||Ye.insertBefore(Ht,ft),Ht.appendChild(ft)}},Uo=U=>ks(U.value)?U.value:"",fn=U=>ks(U.text)?U.text:ks(U.title)?U.title:"",Ks=(U,se)=>{const Ce=[];return xe.each(U,Ye=>{const ft=fn(Ye);if(Ye.menu!==void 0){const Ht=Ks(Ye.menu,se);Ce.push({text:ft,items:Ht})}else{const Ht=se(Ye);Ce.push({text:ft,value:Ht})}}),Ce},nc=(U=Uo)=>se=>en.from(se).map(Ce=>Ks(Ce,U)),ys={sanitize:U=>nc(Uo)(U),sanitizeWith:nc,createUi:(U,se)=>Ce=>({name:U,type:"listbox",label:se,items:Ce}),getValue:Uo},kr=U=>Qt(U,"items"),js=(U,se)=>ue(se,Ce=>kr(Ce)?js(U,Ce.items):ze(Ce.value===U,Ce)),Ra=(U,se,Ce,Ye)=>{const ft=Ye[se],Ht=U.length>0;return ft!==void 0?js(ft,Ce).map(so=>({url:{value:so.value,meta:{text:Ht?U:so.text,attach:fo}},text:Ht?U:so.text})):en.none()},yi=(U,se)=>se==="link"?U.link:se==="anchor"?U.anchor:en.none(),ce={init:(U,se)=>{const Ce={text:U.text,title:U.title},Ye=bo=>{var Pt;return ze(Ce.title.length<=0,en.from((Pt=bo.meta)===null||Pt===void 0?void 0:Pt.title).getOr(""))},ft=bo=>{var Pt;return ze(Ce.text.length<=0,en.from((Pt=bo.meta)===null||Pt===void 0?void 0:Pt.text).getOr(bo.value))},Ht=bo=>{const Pt=ft(bo.url),sr=Ye(bo.url);return Pt.isSome()||sr.isSome()?en.some({...Pt.map(rn=>({text:rn})).getOr({}),...sr.map(rn=>({title:rn})).getOr({})}):en.none()},so=(bo,Pt)=>{const sr=yi(se,Pt).getOr([]);return Ra(Ce.text,Pt,sr,bo)};return{onChange:(bo,Pt)=>{const sr=Pt.name;return sr==="url"?Ht(bo()):bt(["anchor","link"],sr)?so(bo(),sr):((sr==="text"||sr==="title")&&(Ce[sr]=bo()[sr]),en.none())}}},getDelta:Ra};var ne=tinymce.util.Tools.resolve("tinymce.util.Delay");const Pe=(U,se,Ce)=>{const Ye=U.selection.getRng();ne.setEditorTimeout(U,()=>{U.windowManager.confirm(se,ft=>{U.selection.setRng(Ye),Ce(ft)})})},Ve=U=>{const se=U.href;return se.indexOf("@")>0&&se.indexOf("/")===-1&&se.indexOf("mailto:")===-1?en.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:Ye=>({...Ye,href:"mailto:"+se})}):en.none()},sn=(U,se)=>Ce=>{const Ye=Ce.href;return U===1&&!Rn(Ye)||U===0&&/^\s*www(\.|\d\.)/i.test(Ye)?en.some({message:`The URL you entered seems to be an external link. Do you want to add the required ${se}:// prefix?`,preprocess:Ht=>({...Ht,href:se+"://"+Ye})}):en.none()},Bn={preprocess:(U,se)=>ue([Ve,sn(Me(U),ot(U))],Ce=>Ce(se)).fold(()=>Promise.resolve(se),Ce=>new Promise(Ye=>{Pe(U,Ce.message,ft=>{Ye(ft?Ce.preprocess(se):se)})}))},ge={getAnchors:U=>{const se=U.dom.select("a:not([href])"),Ce=Ne(se,Ye=>{const ft=Ye.name||Ye.id;return ft?[{text:ft,value:"#"+ft}]:[]});return Ce.length>0?en.some([{text:"None",value:""}].concat(Ce)):en.none()}},Ys={getClasses:U=>{const se=Dn(U);return se.length>0?ys.sanitize(se):en.none()}},gr=U=>{try{return en.some(JSON.parse(U))}catch{return en.none()}},Zo={getLinks:U=>{const se=Ye=>U.convertURL(Ye.value||Ye.url||"","href"),Ce=Ot(U);return new Promise(Ye=>{ks(Ce)?fetch(Ce).then(ft=>ft.ok?ft.text().then(gr):Promise.reject()).then(Ye,()=>Ye(en.none())):ts(Ce)?Ce(ft=>Ye(en.some(ft))):Ye(en.from(Ce))}).then(Ye=>Ye.bind(ys.sanitizeWith(se)).map(ft=>ft.length>0?[{text:"None",value:""}].concat(ft):ft))}},Yr={getRels:(U,se)=>{const Ce=vt(U);if(Ce.length>0){const Ye=Wo(se,"_blank"),ft=Qe(U)===!1,Ht=fs=>po(ys.getValue(fs),Ye);return(ft?ys.sanitizeWith(Ht):ys.sanitize)(Ce)}return en.none()}},Na=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],Yo={getTargets:U=>{const se=Xt(U);return Un(se)?ys.sanitize(se).orThunk(()=>en.some(Na)):se===!1?en.none():en.some(Na)}},ns=(U,se,Ce)=>{const Ye=U.getAttrib(se,Ce);return Ye!==null&&Ye.length>0?en.some(Ye):en.none()},ra=(U,se)=>{const Ce=U.dom,ft=wn(U)?en.some(ho(U.selection,se)):en.none(),Ht=se.bind(sr=>en.from(Ce.getAttrib(sr,"href"))),so=se.bind(sr=>en.from(Ce.getAttrib(sr,"target"))),fs=se.bind(sr=>ns(Ce,sr,"rel")),bo=se.bind(sr=>ns(Ce,sr,"class")),Pt=se.bind(sr=>ns(Ce,sr,"title"));return{url:Ht,text:ft,title:Pt,target:so,rel:fs,linkClass:bo}},Dr={collect:(U,se)=>Zo.getLinks(U).then(Ce=>{const Ye=ra(U,se);return{anchor:Ye,catalogs:{targets:Yo.getTargets(U),rels:Yr.getRels(U,Ye.target),classes:Ys.getClasses(U),anchor:ge.getAnchors(U),link:Ce},optNode:se,flags:{titleEnabled:we(U)}}})},Xc=(U,se)=>Ce=>{const Ye=Ce.getData();if(!Ye.url.value){Io(U),Ce.close();return}const ft=fs=>en.from(Ye[fs]).filter(bo=>!Wo(se.anchor[fs],bo)),Ht={href:Ye.url.value,text:ft("text"),target:ft("target"),rel:ft("rel"),class:ft("linkClass"),title:ft("title")},so={href:Ye.url.value,attach:Ye.url.meta!==void 0&&Ye.url.meta.attach?Ye.url.meta.attach:fo};Bn.preprocess(U,Ht).then(fs=>{Kr(U,so,fs)}),Ce.close()},Rc=U=>{const se=co(U);return Dr.collect(U,se)},So=(U,se)=>{const Ce=U.anchor,Ye=Ce.url.getOr("");return{url:{value:Ye,meta:{original:{value:Ye}}},text:Ce.text.getOr(""),title:Ce.title.getOr(""),anchor:Ye,link:Ye,rel:Ce.rel.getOr(""),target:Ce.target.or(se).getOr(""),linkClass:Ce.linkClass.getOr("")}},ca=(U,se,Ce)=>{const Ye=[{name:"url",type:"urlinput",filetype:"file",label:"URL",picker_text:"Browse links"}],ft=U.anchor.text.map(()=>({name:"text",type:"input",label:"Text to display"})).toArray(),Ht=U.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],so=en.from(he(Ce)),fs=So(U,so),bo=U.catalogs,Pt=ce.init(fs,bo);return{title:"Insert/Edit Link",size:"normal",body:{type:"panel",items:gn([Ye,ft,Ht,Ae([bo.anchor.map(ys.createUi("anchor","Anchors")),bo.rels.map(ys.createUi("rel","Rel")),bo.targets.map(ys.createUi("target","Open link in...")),bo.link.map(ys.createUi("link","Link list")),bo.classes.map(ys.createUi("linkClass","Class"))])])},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:fs,onChange:(rn,{name:Nr})=>{Pt.onChange(rn.getData,{name:Nr}).each(bi=>{rn.setData(bi)})},onSubmit:se}},Ur=U=>{Rc(U).then(Ce=>{const Ye=Xc(U,Ce);return ca(Ce,Ye,U)}).then(Ce=>{U.windowManager.open(Ce)})},Jc=U=>{U.addCommand("mceLink",(se,Ce)=>{(Ce==null?void 0:Ce.dialog)===!0||!$(U)?Ur(U):U.dispatch("contexttoolbar-show",{toolbarKey:"quicklink"})})},oc=U=>{U.addShortcut("Meta+K","",()=>{U.execCommand("mceLink")})},Rr=U=>{let se=U;return{get:()=>se,set:ft=>{se=ft}}},$s=U=>{const se=Rr(en.none()),Ce=()=>se.get().each(U);return{clear:()=>{Ce(),se.set(en.none())},isSet:()=>se.get().isSome(),get:()=>se.get(),set:fs=>{Ce(),se.set(en.some(fs))}}},gf=()=>{const U=$s(fo);return{...U,on:Ce=>U.get().each(Ce)}};var Wc=tinymce.util.Tools.resolve("tinymce.util.VK");const jo=(U,se)=>{document.body.appendChild(U),U.dispatchEvent(se),document.body.removeChild(U)},Pa=U=>{const se=document.createElement("a");se.target="_blank",se.href=U,se.rel="noreferrer noopener";const Ce=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});document.dispatchEvent(Ce),jo(se,Ce)},ya=U=>U.altKey===!0&&U.shiftKey===!1&&U.ctrlKey===!1&&U.metaKey===!1,wr=(U,se)=>{if(se){const Ce=Lt(se);if(/^#/.test(Ce)){const Ye=U.dom.select(Ce);Ye.length&&U.selection.scrollIntoView(Ye[0],!0)}else Pa(se.href)}},Pl=U=>{const se=U.selection.getRng(),Ce=se.startContainer;return st(Ce)&&se.startContainer===se.endContainer&&U.dom.select("img",Ce).length===1},Ba=(U,se)=>{const Ce=eo(U.dom.getParents(se));return ze(Ce.length===1,Ce[0])},Ha=U=>{const se=cs(U.selection.getRng());return ze(se.length>0,se[0]).or(Ba(U,U.selection.getNode()))},Qc=U=>U.selection.isCollapsed()||Pl(U)?Ba(U,U.selection.getStart()):Ha(U),Mc=U=>{const se=gf(),Ce=()=>se.get().or(Qc(U)),Ye=()=>Ce().each(ft=>wr(U,ft));return U.on("contextmenu",ft=>{Ba(U,ft.target).each(se.set)}),U.on("SelectionChange",()=>{se.isSet()||Qc(U).each(se.set)}),U.on("click",ft=>{se.clear();const Ht=eo(U.dom.getParents(ft.target));Ht.length===1&&Wc.metaKeyPressed(ft)&&(ft.preventDefault(),wr(U,Ht[0]))}),U.on("keydown",ft=>{se.clear(),!ft.isDefaultPrevented()&&ft.keyCode===13&&ya(ft)&&Ce().each(Ht=>{ft.preventDefault(),wr(U,Ht)})}),{gotoSelectedLink:Ye}},au=U=>()=>{U.execCommand("mceLink",!1,{dialog:!0})},il=(U,se)=>(U.on("NodeChange",se),()=>U.off("NodeChange",se)),Fi=U=>se=>{const Ce=()=>{se.setActive(!U.mode.isReadOnly()&&zo(U,U.selection.getNode())),se.setEnabled(U.selection.isEditable())};return Ce(),il(U,Ce)},sc=U=>se=>{const Ce=()=>{se.setEnabled(U.selection.isEditable())};return Ce(),il(U,Ce)},Mr=U=>se=>{const Ce=Ht=>Wn(Ht)||Ko(U.selection.getRng()),Ye=U.dom.getParents(U.selection.getStart()),ft=Ht=>{se.setEnabled(Ce(Ht)&&U.selection.isEditable())};return ft(Ye),il(U,Ht=>ft(Ht.parents))},cu=(U,se)=>{U.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",shortcut:"Meta+K",onAction:au(U),onSetup:Fi(U)}),U.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:se.gotoSelectedLink,onSetup:Mr(U)}),U.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:()=>Io(U),onSetup:Mr(U)})},iu=(U,se)=>{U.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:se.gotoSelectedLink,onSetup:Mr(U)}),U.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:au(U),onSetup:sc(U)}),U.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:()=>Io(U),onSetup:Mr(U)})},lu=U=>{const se="link unlink openlink",Ce="link";U.ui.registry.addContextMenu("link",{update:Ye=>U.dom.isEditable(Ye)?Wn(U.dom.getParents(Ye,"a"))?se:Ce:""})},uu=(U,se)=>{const Ce=Ht=>{Ht.selection.collapse(!1)},Ye=Ht=>{const so=U.selection.getNode();return Ht.setEnabled(zo(U,so)),fo},ft=Ht=>{const so=co(U),fs=wn(U);if(so.isNone()&&fs){const bo=ho(U.selection,so);return ze(bo.length===0,Ht)}else return en.none()};U.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:Fi(U)},label:"Link",predicate:Ht=>Yt(U)&&zo(U,Ht),initValue:()=>co(U).fold(xt(""),Lt),commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:Ht=>{const so=U.selection.getNode();return Ht.setActive(zo(U,so)),Fi(U)(Ht)},onAction:Ht=>{const so=Ht.getValue(),fs=ft(so);Kr(U,{href:so,attach:fo},{href:so,text:fs,title:en.none(),rel:en.none(),target:en.from(he(U)),class:en.none()}),Ce(U),Ht.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:Ye,onAction:Ht=>{Io(U),Ht.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:Ye,onAction:Ht=>{se.gotoSelectedLink(),Ht.hide()}}]})},_r=U=>{const se=Mc(U);cu(U,se),iu(U,se),lu(U),uu(U,se)};var yc=()=>{Oa.add("link",U=>{Ge(U),Jc(U),_r(U),oc(U)})};yc()})();(function(){var Oa=tinymce.util.Tools.resolve("tinymce.PluginManager");const nr=(S,D,L)=>{var oe;return L(S,D.prototype)?!0:((oe=S.constructor)===null||oe===void 0?void 0:oe.name)===D.name},oa=S=>{const D=typeof S;return S===null?"null":D==="object"&&Array.isArray(S)?"array":D==="object"&&nr(S,String,(L,oe)=>oe.isPrototypeOf(L))?"string":D},Bs=S=>D=>oa(D)===S,Ms=S=>D=>typeof D===S,Mo=Bs("string"),ks=Bs("object"),on=Bs("array"),Un=Ms("boolean"),Xn=S=>S==null,uo=S=>!Xn(S),rs=Ms("function"),as=Ms("number"),ts=()=>{},lr=(S,D)=>L=>S(D(L)),fo=S=>()=>S,xt=(S,D)=>S===D;function No(S,...D){return(...L)=>{const oe=D.concat(L);return S.apply(null,oe)}}const en=S=>D=>!S(D),ae=fo(!1);class wt{constructor(D,L){this.tag=D,this.value=L}static some(D){return new wt(!0,D)}static none(){return wt.singletonNone}fold(D,L){return this.tag?L(this.value):D()}isSome(){return this.tag}isNone(){return!this.tag}map(D){return this.tag?wt.some(D(this.value)):wt.none()}bind(D){return this.tag?D(this.value):wt.none()}exists(D){return this.tag&&D(this.value)}forall(D){return!this.tag||D(this.value)}filter(D){return!this.tag||D(this.value)?this:wt.none()}getOr(D){return this.tag?this.value:D}or(D){return this.tag?this:D}getOrThunk(D){return this.tag?this.value:D()}orThunk(D){return this.tag?this:D()}getOrDie(D){if(this.tag)return this.value;throw new Error(D??"Called getOrDie on None")}static from(D){return uo(D)?wt.some(D):wt.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(D){this.tag&&D(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}wt.singletonNone=new wt(!1);const ur=Array.prototype.slice,bt=Array.prototype.indexOf,Z=Array.prototype.push,zt=(S,D)=>bt.call(S,D),go=(S,D)=>zt(S,D)>-1,gn=(S,D)=>{for(let L=0,oe=S.length;L<oe;L++){const me=S[L];if(D(me,L))return!0}return!1},Ne=(S,D)=>{const L=S.length,oe=new Array(L);for(let me=0;me<L;me++){const nt=S[me];oe[me]=D(nt,me)}return oe},ue=(S,D)=>{for(let L=0,oe=S.length;L<oe;L++){const me=S[L];D(me,L)}},Wo=(S,D)=>{const L=[];for(let oe=0,me=S.length;oe<me;oe++){const nt=S[oe];D(nt,oe)&&L.push(nt)}return L},Ae=(S,D)=>{if(S.length===0)return[];{let L=D(S[0]);const oe=[];let me=[];for(let nt=0,bn=S.length;nt<bn;nt++){const qn=S[nt],_n=D(qn);_n!==L&&(oe.push(me),me=[]),L=_n,me.push(qn)}return me.length!==0&&oe.push(me),oe}},ze=(S,D,L)=>(ue(S,(oe,me)=>{L=D(L,oe,me)}),L),C=(S,D,L)=>{for(let oe=0,me=S.length;oe<me;oe++){const nt=S[oe];if(D(nt,oe))return wt.some(nt);if(L(nt,oe))break}return wt.none()},Ge=(S,D)=>C(S,D,ae),Me=S=>{const D=[];for(let L=0,oe=S.length;L<oe;++L){if(!on(S[L]))throw new Error("Arr.flatten item "+L+" was not an array, input: "+S);Z.apply(D,S[L])}return D},Yt=(S,D)=>Me(Ne(S,D)),Ot=S=>{const D=ur.call(S,0);return D.reverse(),D},he=(S,D)=>D>=0&&D<S.length?wt.some(S[D]):wt.none(),ot=S=>he(S,0),Xt=S=>he(S,S.length-1),vt=(S,D)=>{const L=[],oe=rs(D)?me=>gn(L,nt=>D(nt,me)):me=>go(L,me);for(let me=0,nt=S.length;me<nt;me++){const bn=S[me];oe(bn)||L.push(bn)}return L},Dn=(S,D,L=xt)=>S.exists(oe=>L(oe,D)),we=(S,D,L=xt)=>Qe(S,D,L).getOr(S.isNone()&&D.isNone()),Qe=(S,D,L)=>S.isSome()&&D.isSome()?wt.some(L(S.getOrDie(),D.getOrDie())):wt.none(),$=8,Go=11,xn=1,Jn=3,Co=(S,D)=>{const oe=(D||document).createElement("div");if(oe.innerHTML=S,!oe.hasChildNodes()||oe.childNodes.length>1){const me="HTML does not have a single root node";throw console.error(me,S),new Error(me)}return jn(oe.childNodes[0])},sa=(S,D)=>{const oe=(D||document).createElement(S);return jn(oe)},jt=(S,D)=>{const oe=(D||document).createTextNode(S);return jn(oe)},jn=S=>{if(S==null)throw new Error("Node cannot be null or undefined");return{dom:S}},te={fromHtml:Co,fromTag:sa,fromText:jt,fromDom:jn,fromPoint:(S,D,L)=>wt.from(S.dom.elementFromPoint(D,L)).map(jn)},Te=(S,D)=>{const L=S.dom;if(L.nodeType!==xn)return!1;{const oe=L;if(oe.matches!==void 0)return oe.matches(D);if(oe.msMatchesSelector!==void 0)return oe.msMatchesSelector(D);if(oe.webkitMatchesSelector!==void 0)return oe.webkitMatchesSelector(D);if(oe.mozMatchesSelector!==void 0)return oe.mozMatchesSelector(D);throw new Error("Browser lacks native selectors")}},xe=(S,D)=>S.dom===D.dom,be=(S,D)=>{const L=S.dom,oe=D.dom;return L===oe?!1:L.contains(oe)},st=Te,lt=typeof window<"u"?window:Function("return this;")(),Rn=(S,D)=>{let L=D??lt;for(let oe=0;oe<S.length&&L!==void 0&&L!==null;++oe)L=L[S[oe]];return L},Lt=(S,D)=>{const L=S.split(".");return Rn(L,D)},po=(S,D)=>Lt(S,D),hs=(S,D)=>{const L=po(S,D);if(L==null)throw new Error(S+" not available on this browser");return L},co=Object.getPrototypeOf,zo=S=>hs("HTMLElement",S),ho=S=>{const D=Lt("ownerDocument.defaultView",S);return ks(S)&&(zo(D).prototype.isPrototypeOf(S)||/^HTML\w*Element$/.test(co(S).constructor.name))},cs=S=>S.dom.nodeName.toLowerCase(),eo=S=>S.dom.nodeType,Wn=S=>D=>eo(D)===S,Ko=S=>eo(S)===$||cs(S)==="#comment",wn=S=>xo(S)&&ho(S.dom),xo=Wn(xn),is=Wn(Jn),Vo=Wn(Go),zr=S=>D=>xo(D)&&cs(D)===S,oo=S=>wt.from(S.dom.parentNode).map(te.fromDom),Da=S=>wt.from(S.dom.parentElement).map(te.fromDom),mt=S=>wt.from(S.dom.nextSibling).map(te.fromDom),to=S=>Ne(S.dom.childNodes,te.fromDom),dr=(S,D)=>{const L=S.dom.childNodes;return wt.from(L[D]).map(te.fromDom)},mr=S=>dr(S,0),Gr=S=>dr(S,S.dom.childNodes.length-1),Kr=S=>Vo(S)&&uo(S.dom.host),Io=S=>te.fromDom(S.dom.getRootNode()),ha=S=>{const D=Io(S);return Kr(D)?wt.some(D):wt.none()},Dc=S=>te.fromDom(S.dom.host),Uo=S=>{const D=is(S)?S.dom.parentNode:S.dom;if(D==null||D.ownerDocument===null)return!1;const L=D.ownerDocument;return ha(te.fromDom(D)).fold(()=>L.body.contains(D),lr(Uo,Dc))};var fn=(S,D,L,oe,me)=>S(L,oe)?wt.some(L):rs(me)&&me(L)?wt.none():D(L,oe,me);const Ks=(S,D,L)=>{let oe=S.dom;const me=rs(L)?L:ae;for(;oe.parentNode;){oe=oe.parentNode;const nt=te.fromDom(oe);if(D(nt))return wt.some(nt);if(me(nt))break}return wt.none()},nc=(S,D,L)=>fn((me,nt)=>nt(me),Ks,S,D,L),al=(S,D,L)=>Ks(S,oe=>Te(oe,D),L),cl=(S,D,L)=>fn((me,nt)=>Te(me,nt),al,S,D,L),ys=S=>cl(S,"[contenteditable]"),kr=(S,D=!1)=>Uo(S)?S.dom.isContentEditable:ys(S).fold(fo(D),L=>js(L)==="true"),js=S=>S.dom.contentEditable,Ra=(S,D)=>{oo(S).each(oe=>{oe.dom.insertBefore(D.dom,S.dom)})},yi=(S,D)=>{mt(S).fold(()=>{oo(S).each(me=>{ce(me,D)})},oe=>{Ra(oe,D)})},Or=(S,D)=>{mr(S).fold(()=>{ce(S,D)},oe=>{S.dom.insertBefore(D.dom,oe.dom)})},ce=(S,D)=>{S.dom.appendChild(D.dom)},ne=(S,D)=>{ue(D,L=>{Ra(S,L)})},Pe=(S,D)=>{ue(D,L=>{ce(S,L)})},Ve=S=>{S.dom.textContent="",ue(to(S),D=>{sn(D)})},sn=S=>{const D=S.dom;D.parentNode!==null&&D.parentNode.removeChild(D)};var Tn=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Bn=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),or=tinymce.util.Tools.resolve("tinymce.util.VK");const ge=S=>Ne(S,te.fromDom),$n=Object.keys,Ys=(S,D)=>{const L=$n(S);for(let oe=0,me=L.length;oe<me;oe++){const nt=L[oe],bn=S[nt];D(bn,nt)}},gr=S=>(D,L)=>{S[L]=D},Ma=(S,D,L,oe)=>{Ys(S,(me,nt)=>{(D(me,nt)?L:oe)(me,nt)})},Zo=(S,D)=>{const L={};return Ma(S,D,gr(L),ts),L},Ii=(S,D,L)=>{if(Mo(L)||Un(L)||as(L))S.setAttribute(D,L+"");else throw console.error("Invalid call to Attribute.set. Key ",D,":: Value ",L,":: Element ",S),new Error("Attribute value was not simple")},Yr=(S,D)=>{const L=S.dom;Ys(D,(oe,me)=>{Ii(L,me,oe)})},Na=S=>ze(S.dom.attributes,(D,L)=>(D[L.name]=L.value,D),{}),Ns=(S,D)=>te.fromDom(S.dom.cloneNode(D)),Yo=S=>Ns(S,!0),ns=(S,D)=>{const L=te.fromTag(D),oe=Na(S);return Yr(L,oe),L},ra=(S,D)=>{const L=ns(S,D);yi(S,L);const oe=to(S);return Pe(L,oe),sn(S),L};var aa=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Dr=tinymce.util.Tools.resolve("tinymce.util.Tools");const Xc=S=>D=>uo(D)&&D.nodeName.toLowerCase()===S,Rc=S=>D=>uo(D)&&S.test(D.nodeName),So=S=>uo(S)&&S.nodeType===3,ca=S=>uo(S)&&S.nodeType===1,Ur=Rc(/^(OL|UL|DL)$/),Jc=Rc(/^(OL|UL)$/),oc=Xc("ol"),Rr=Rc(/^(LI|DT|DD)$/),$s=Rc(/^(DT|DD)$/),gf=Rc(/^(TH|TD)$/),Wc=Xc("br"),jo=S=>{var D;return((D=S.parentNode)===null||D===void 0?void 0:D.firstChild)===S},Pa=(S,D)=>uo(D)&&D.nodeName in S.schema.getTextBlockElements(),ya=(S,D)=>uo(S)&&S.nodeName in D,wr=(S,D)=>uo(D)&&D.nodeName in S.schema.getVoidElements(),Pl=(S,D)=>Wc(D)?S.isBlock(D.nextSibling)&&!Wc(D.previousSibling):!1,Ba=(S,D,L)=>{const oe=S.isEmpty(D);return L&&S.select("span[data-mce-type=bookmark]",D).length>0?!1:oe},Ha=(S,D)=>S.isChildOf(D,S.getRoot()),Qc=S=>D=>D.options.get(S),Mc=S=>{const D=S.options.register;D("lists_indent_on_tab",{processor:"boolean",default:!0})},au=Qc("lists_indent_on_tab"),il=Qc("forced_root_block"),Fi=Qc("forced_root_block_attrs"),sc=(S,D,L={})=>{const oe=S.dom,me=S.schema.getBlockElements(),nt=oe.createFragment(),bn=il(S),qn=Fi(S);let _n,vn,Os=!1;for(vn=oe.create(bn,{...qn,...L.style?{style:L.style}:{}}),ya(D.firstChild,me)||nt.appendChild(vn);_n=D.firstChild;){const Er=_n.nodeName;!Os&&(Er!=="SPAN"||_n.getAttribute("data-mce-type")!=="bookmark")&&(Os=!0),ya(_n,me)?(nt.appendChild(_n),vn=null):(vn||(vn=oe.create(bn,qn),nt.appendChild(vn)),vn.appendChild(_n))}return!Os&&vn&&vn.appendChild(oe.create("br",{"data-mce-bogus":"1"})),nt},Mr=aa.DOM,cu=(S,D,L)=>{const oe=vn=>{const Os=vn.parentNode;Os&&Dr.each(me,Er=>{Os.insertBefore(Er,L.parentNode)}),Mr.remove(vn)},me=Mr.select('span[data-mce-type="bookmark"]',D),nt=sc(S,L),bn=Mr.createRng();bn.setStartAfter(L),bn.setEndAfter(D);const qn=bn.extractContents();for(let vn=qn.firstChild;vn;vn=vn.firstChild)if(vn.nodeName==="LI"&&S.dom.isEmpty(vn)){Mr.remove(vn);break}S.dom.isEmpty(qn)||Mr.insertAfter(qn,D),Mr.insertAfter(nt,D);const _n=L.parentElement;_n&&Ba(S.dom,_n)&&oe(_n),Mr.remove(L),Ba(S.dom,D)&&Mr.remove(D)},iu=zr("dd"),lu=zr("dt"),uu=(S,D)=>{iu(D)?ra(D,"dt"):lu(D)&&Da(D).each(L=>cu(S,L.dom,D.dom))},_r=S=>{lu(S)&&ra(S,"dd")},yc=(S,D,L)=>{D==="Indent"?ue(L,_r):ue(L,oe=>uu(S,oe))},U=(S,D)=>{if(So(S))return{container:S,offset:D};const L=Tn.getNode(S,D);return So(L)?{container:L,offset:D>=S.childNodes.length?L.data.length:0}:L.previousSibling&&So(L.previousSibling)?{container:L.previousSibling,offset:L.previousSibling.data.length}:L.nextSibling&&So(L.nextSibling)?{container:L.nextSibling,offset:0}:{container:S,offset:D}},se=S=>{const D=S.cloneRange(),L=U(S.startContainer,S.startOffset);D.setStart(L.container,L.offset);const oe=U(S.endContainer,S.endOffset);return D.setEnd(oe.container,oe.offset),D},Ce=["OL","UL","DL"],Ye=Ce.join(","),ft=(S,D)=>{const L=D||S.selection.getStart(!0);return S.dom.getParent(L,Ye,bi(S,L))},Ht=(S,D)=>uo(S)&&D.length===1&&D[0]===S,so=S=>Wo(S.querySelectorAll(Ye),Ur),fs=S=>{const D=ft(S),L=S.selection.getSelectedBlocks();return Ht(D,L)?so(D):Wo(L,oe=>Ur(oe)&&D!==oe)},bo=(S,D)=>{const L=Dr.map(D,oe=>{const me=S.dom.getParent(oe,"li,dd,dt",bi(S,oe));return me||oe});return vt(L)},Pt=S=>{const D=S.selection.getSelectedBlocks();return Wo(bo(S,D),Rr)},sr=S=>Wo(Pt(S),$s),rn=(S,D)=>{const L=S.dom.getParents(D,"TD,TH");return L.length>0?L[0]:S.getBody()},Nr=(S,D)=>!Ur(D)&&!Rr(D)&&gn(Ce,L=>S.isValidChild(D.nodeName,L)),bi=(S,D)=>{const L=S.dom.getParents(D,S.dom.isBlock),oe=nt=>nt.nodeName.toLowerCase()!==il(S);return Ge(L,nt=>oe(nt)&&Nr(S.schema,nt)).getOr(S.getBody())},P=S=>oo(S).exists(D=>Rr(D.dom)&&mr(D).exists(L=>!Ur(L.dom))&&Gr(D).exists(L=>!Ur(L.dom))),K=(S,D)=>{const L=S.dom.getParents(D,"ol,ul",bi(S,D));return Xt(L)},le=S=>{const D=K(S,S.selection.getStart()),L=Wo(S.selection.getSelectedBlocks(),Jc);return D.toArray().concat(L)},Oe=S=>{const D=S.selection.getStart();return S.dom.getParents(D,"ol,ul",bi(S,D))},Je=S=>{const D=le(S),L=Oe(S);return Ge(L,oe=>P(te.fromDom(oe))).fold(()=>Ln(S,D),oe=>[oe])},Ln=(S,D)=>{const L=Ne(D,oe=>K(S,oe).getOr(oe));return vt(L)},_s=S=>/\btox\-/.test(S.className),ls=(S,D)=>C(S,Ur,gf).exists(L=>L.nodeName===D&&!_s(L)),ut=(S,D)=>D!==null&&!S.dom.isEditable(D),As=S=>{const D=ft(S);return ut(S,D)},ba=(S,D)=>{const L=S.dom.getParent(D,"ol,ul,dl");return ut(S,L)},rc=(S,D)=>{const L=S.selection.getNode();return D({parents:S.dom.getParents(L),element:L}),S.on("NodeChange",D),()=>S.off("NodeChange",D)},Zn=(S,D)=>{const oe=(D||document).createDocumentFragment();return ue(S,me=>{oe.appendChild(me.dom)}),te.fromDom(oe)},ac=(S,D,L)=>S.dispatch("ListMutation",{action:D,element:L}),Yu=(S=>D=>D.replace(S,""))(/^\s+|\s+$/g),Cs=S=>S.length>0,ll=S=>!Cs(S),am=S=>S.style!==void 0&&rs(S.style.getPropertyValue),Kh=(S,D,L)=>{if(!Mo(L))throw console.error("Invalid call to CSS.set. Property ",D,":: Value ",L,":: Element ",S),new Error("CSS value must be a string: "+L);am(S)&&S.style.setProperty(D,L)},Xs=(S,D,L)=>{const oe=S.dom;Kh(oe,D,L)},cm=S=>st(S,"OL,UL"),Cr=S=>st(S,"LI"),va=S=>mr(S).exists(cm),Li=S=>Gr(S).exists(cm),vi=S=>"listAttributes"in S,Md=S=>"isComment"in S,Va=S=>"isFragment"in S,vo=S=>S.depth>0,ul=S=>S.isSelected,ki=S=>{const D=to(S),L=Li(S)?D.slice(0,-1):D;return Ne(L,Yo)},Yh=(S,D,L)=>oo(S).filter(xo).map(oe=>({depth:D,dirty:!1,isSelected:L,content:ki(S),itemAttributes:Na(S),listAttributes:Na(oe),listType:cs(oe),isInPreviousLi:!1})),Xr=(S,D)=>{ce(S.item,D.list)},Ua=S=>{for(let D=1;D<S.length;D++)Xr(S[D-1],S[D])},Jr=(S,D)=>{Qe(Xt(S),ot(D),Xr)},pg=(S,D)=>{const L={list:te.fromTag(D,S),item:te.fromTag("li",S)};return ce(L.list,L.item),L},pf=(S,D,L)=>{const oe=[];for(let me=0;me<L;me++)oe.push(pg(S,vi(D)?D.listType:D.parentListType));return oe},cc=(S,D)=>{for(let L=0;L<S.length-1;L++)Xs(S[L].item,"list-style-type","none");Xt(S).each(L=>{vi(D)&&(Yr(L.list,D.listAttributes),Yr(L.item,D.itemAttributes)),Pe(L.item,D.content)})},hg=(S,D)=>{cs(S.list)!==D.listType&&(S.list=ra(S.list,D.listType)),Yr(S.list,D.listAttributes)},Ws=(S,D,L)=>{const oe=te.fromTag("li",S);return Yr(oe,D),Pe(oe,L),oe},Hi=(S,D)=>{ce(S.list,D),S.item=D},ic=(S,D,L)=>{const oe=D.slice(0,L.depth);return Xt(oe).each(me=>{if(vi(L)){const nt=Ws(S,L.itemAttributes,L.content);Hi(me,nt),hg(me,L)}else if(Va(L))Pe(me.item,L.content);else{const nt=te.fromHtml(`<!--${L.content}-->`);ce(me.list,nt)}}),oe},Sr=(S,D,L)=>{const oe=pf(S,L,L.depth-D.length);return Ua(oe),cc(oe,L),Jr(D,oe),D.concat(oe)},bc=(S,D)=>{let L=wt.none();const oe=ze(D,(me,nt,bn)=>Md(nt)?bn===0?(L=wt.some(nt),me):ic(S,me,nt):nt.depth>me.length?Sr(S,me,nt):ic(S,me,nt),[]);return L.each(me=>{const nt=te.fromHtml(`<!--${me.content}-->`);ot(oe).each(bn=>{Or(bn.list,nt)})}),ot(oe).map(me=>me.list)},xr=(S,D)=>{switch(S){case"Indent":D.depth++;break;case"Outdent":D.depth--;break;case"Flatten":D.depth=0}D.dirty=!0},yg=(S,D)=>{vi(S)&&vi(D)&&(S.listType=D.listType,S.listAttributes={...D.listAttributes})},du=S=>{S.listAttributes=Zo(S.listAttributes,(D,L)=>L!=="start")},fu=(S,D)=>{const L=S[D].depth,oe=nt=>nt.depth===L&&!nt.dirty,me=nt=>nt.depth<L;return C(Ot(S.slice(0,D)),oe,me).orThunk(()=>C(S.slice(D+1),oe,me))},hf=S=>(ue(S,(D,L)=>{fu(S,L).fold(()=>{D.dirty&&vi(D)&&du(D)},oe=>yg(D,oe))}),S),mu=S=>{let D=S;return{get:()=>D,set:me=>{D=me}}},wi=(S,D,L,oe)=>{var me;if(Ko(oe))return[{depth:S+1,content:(me=oe.dom.nodeValue)!==null&&me!==void 0?me:"",dirty:!1,isSelected:!1,isComment:!0}];D.each(qn=>{xe(qn.start,oe)&&L.set(!0)});const nt=Yh(oe,S,L.get());D.each(qn=>{xe(qn.end,oe)&&L.set(!1)});const bn=Gr(oe).filter(cm).map(qn=>Tr(S,D,L,qn)).getOr([]);return nt.toArray().concat(bn)},yf=(S,D,L,oe)=>mr(oe).filter(cm).fold(()=>wi(S,D,L,oe),me=>{const nt=ze(to(oe),(bn,qn,_n)=>{if(_n===0)return bn;if(Cr(qn))return bn.concat(wi(S,D,L,qn));{const vn={isFragment:!0,depth:S,content:[qn],isSelected:!1,dirty:!1,parentListType:cs(me)};return bn.concat(vn)}},[]);return Tr(S,D,L,me).concat(nt)}),Tr=(S,D,L,oe)=>Yt(to(oe),me=>{const nt=cm(me)?Tr:yf,bn=S+1;return nt(bn,D,L,me)}),bf=(S,D)=>{const L=mu(!1),oe=0;return Ne(S,me=>({sourceList:me,entries:Tr(oe,D,L,me)}))},bg=(S,D)=>{const L=hf(D);return Ne(L,oe=>{const me=Md(oe)?Zn([te.fromHtml(`<!--${oe.content}-->`)]):Zn(oe.content),nt=vi(oe)?oe.itemAttributes:{};return te.fromDom(sc(S,me.dom,nt))})},dl=(S,D)=>{const L=hf(D);return bc(S.contentDocument,L).toArray()},vg=(S,D)=>Yt(Ae(D,vo),L=>ot(L).exists(vo)?dl(S,L):bg(S,L)),gu=(S,D)=>{ue(Wo(S,ul),L=>xr(D,L))},kg=S=>{const D=Ne(Pt(S),te.fromDom);return Qe(Ge(D,en(va)),Ge(Ot(D),en(va)),(L,oe)=>({start:L,end:oe}))},Bl=(S,D,L)=>{const oe=bf(D,kg(S));ue(oe,me=>{gu(me.entries,L);const nt=vg(S,me.entries);ue(nt,bn=>{ac(S,L==="Indent"?"IndentList":"OutdentList",bn.dom)}),ne(me.sourceList,nt),sn(me.sourceList)})},wg=(S,D)=>{const L=ge(Je(S)),oe=ge(sr(S));let me=!1;if(L.length||oe.length){const nt=S.selection.getBookmark();Bl(S,L,D),yc(S,D,oe),S.selection.moveToBookmark(nt),S.selection.setRng(se(S.selection.getRng())),S.nodeChanged(),me=!0}return me},vf=(S,D)=>!As(S)&&wg(S,D),im=S=>vf(S,"Indent"),pu=S=>vf(S,"Outdent"),lm=S=>vf(S,"Flatten"),ie="\uFEFF",$l=S=>S===ie,fl=(S,D,L)=>Ks(S,D,L).isSome(),_g=(S,D)=>fl(S,No(xe,D));var Xh=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager");const hu=aa.DOM,Qn=S=>{const D={},L=oe=>{let me=S[oe?"startContainer":"endContainer"],nt=S[oe?"startOffset":"endOffset"];if(ca(me)){const bn=hu.create("span",{"data-mce-type":"bookmark"});me.hasChildNodes()?(nt=Math.min(nt,me.childNodes.length-1),oe?me.insertBefore(bn,me.childNodes[nt]):hu.insertAfter(bn,me.childNodes[nt])):me.appendChild(bn),me=bn,nt=0}D[oe?"startContainer":"endContainer"]=me,D[oe?"startOffset":"endOffset"]=nt};return L(!0),S.collapsed||L(),D},Pr=S=>{const D=oe=>{const me=qn=>{var _n;let vn=(_n=qn.parentNode)===null||_n===void 0?void 0:_n.firstChild,Os=0;for(;vn;){if(vn===qn)return Os;(!ca(vn)||vn.getAttribute("data-mce-type")!=="bookmark")&&Os++,vn=vn.nextSibling}return-1};let nt=S[oe?"startContainer":"endContainer"],bn=S[oe?"startOffset":"endOffset"];if(nt){if(ca(nt)&&nt.parentNode){const qn=nt;bn=me(nt),nt=nt.parentNode,hu.remove(qn),!nt.hasChildNodes()&&hu.isBlock(nt)&&nt.appendChild(hu.create("br"))}S[oe?"startContainer":"endContainer"]=nt,S[oe?"startOffset":"endOffset"]=bn}};D(!0),D();const L=hu.createRng();return L.setStart(S.startContainer,S.startOffset),S.endContainer&&L.setEnd(S.endContainer,S.endOffset),se(L)},_i=S=>{switch(S){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},yu=(S,D,L)=>{const oe=L["list-style-type"]?L["list-style-type"]:null;S.setStyle(D,"list-style-type",oe)},kf=(S,D)=>{Dr.each(D,(L,oe)=>{S.setAttribute(oe,L)})},Nd=(S,D,L)=>{kf(D,L["list-attributes"]),Dr.each(S.select("li",D),oe=>{kf(oe,L["list-item-attributes"])})},ja=(S,D,L)=>{yu(S,D,L),Nd(S,D,L)},wf=(S,D,L)=>{Dr.each(L,oe=>S.setStyle(D,oe,""))},Il=(S,D)=>uo(D)&&!ya(D,S.schema.getBlockElements()),_f=(S,D,L,oe)=>{let me=D[L?"startContainer":"endContainer"];const nt=D[L?"startOffset":"endOffset"];ca(me)&&(me=me.childNodes[Math.min(nt,me.childNodes.length-1)]||me),!L&&Wc(me.nextSibling)&&(me=me.nextSibling);const bn=_n=>{for(;!S.dom.isBlock(_n)&&_n.parentNode&&oe!==_n;)_n=_n.parentNode;return _n},qn=(_n,vn)=>{var Os;const Er=new Bn(_n,bn(_n)),ni=vn?"next":"prev";let Vl;for(;Vl=Er[ni]();)if(!(wr(S,Vl)||$l(Vl.textContent)||((Os=Vl.textContent)===null||Os===void 0?void 0:Os.length)===0))return wt.some(Vl);return wt.none()};if(L&&So(me))if($l(me.textContent))me=qn(me,!1).getOr(me);else for(me.parentNode!==null&&Il(S,me.parentNode)&&(me=me.parentNode);me.previousSibling!==null&&(Il(S,me.previousSibling)||So(me.previousSibling));)me=me.previousSibling;if(!L&&So(me))if($l(me.textContent))me=qn(me,!0).getOr(me);else for(me.parentNode!==null&&Il(S,me.parentNode)&&(me=me.parentNode);me.nextSibling!==null&&(Il(S,me.nextSibling)||So(me.nextSibling));)me=me.nextSibling;for(;me.parentNode!==oe;){const _n=me.parentNode;if(Pa(S,me)||/^(TD|TH)$/.test(_n.nodeName))return me;me=_n}return me},Fl=(S,D,L)=>{const oe=[],me=S.dom,nt=_f(S,D,!0,L),bn=_f(S,D,!1,L);let qn;const _n=[];for(let vn=nt;vn&&(_n.push(vn),vn!==bn);vn=vn.nextSibling);return Dr.each(_n,vn=>{var Os;if(Pa(S,vn)){oe.push(vn),qn=null;return}if(me.isBlock(vn)||Wc(vn)){Wc(vn)&&me.remove(vn),qn=null;return}const Er=vn.nextSibling;if(Xh.isBookmarkNode(vn)&&(Ur(Er)||Pa(S,Er)||!Er&&vn.parentNode===L)){qn=null;return}qn||(qn=me.create("p"),(Os=vn.parentNode)===null||Os===void 0||Os.insertBefore(qn,vn),oe.push(qn)),qn.appendChild(vn)}),oe},vc=(S,D,L)=>{const oe=S.getStyle(D,"list-style-type");let me=L?L["list-style-type"]:"";return me=me===null?"":me,oe===me},Cg=(S,D)=>{const L=S.selection.getStart(!0),oe=_f(S,D,!0,S.getBody());return _g(te.fromDom(oe),te.fromDom(D.commonAncestorContainer))?D.commonAncestorContainer:L},Pd=(S,D,L)=>{const oe=S.selection.getRng();let me="LI";const nt=bi(S,Cg(S,oe)),bn=S.dom;if(bn.getContentEditable(S.selection.getNode())==="false")return;D=D.toUpperCase(),D==="DL"&&(me="DT");const qn=Qn(oe),_n=Wo(Fl(S,oe,nt),S.dom.isEditable);Dr.each(_n,vn=>{let Os;const Er=vn.previousSibling,ni=vn.parentNode;Rr(ni)||(Er&&Ur(Er)&&Er.nodeName===D&&vc(bn,Er,L)?(Os=Er,vn=bn.rename(vn,me),Er.appendChild(vn)):(Os=bn.create(D),ni.insertBefore(Os,vn),Os.appendChild(vn),vn=bn.rename(vn,me)),wf(bn,vn,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),ja(bn,Os,L),Bd(S.dom,Os))}),S.selection.setRng(Pr(qn))},ia=(S,D)=>Ur(S)&&S.nodeName===(D==null?void 0:D.nodeName),Nc=(S,D,L)=>{const oe=S.getStyle(D,"list-style-type",!0),me=S.getStyle(L,"list-style-type",!0);return oe===me},lc=(S,D)=>S.className===D.className,Xu=(S,D,L)=>ia(D,L)&&Nc(S,D,L)&&lc(D,L),Bd=(S,D)=>{let L,oe=D.nextSibling;if(Xu(S,D,oe)){const me=oe;for(;L=me.firstChild;)D.appendChild(L);S.remove(me)}if(oe=D.previousSibling,Xu(S,D,oe)){const me=oe;for(;L=me.lastChild;)D.insertBefore(L,D.firstChild);S.remove(me)}},Sg=(S,D,L,oe)=>{if(D.nodeName!==L){const me=S.dom.rename(D,L);ja(S.dom,me,oe),ac(S,_i(L),me)}else ja(S.dom,D,oe),ac(S,_i(L),D)},$d=(S,D,L,oe)=>{if(D.classList.forEach((me,nt,bn)=>{me.startsWith("tox-")&&(bn.remove(me),bn.length===0&&D.removeAttribute("class"))}),D.nodeName!==L){const me=S.dom.rename(D,L);ja(S.dom,me,oe),ac(S,_i(L),me)}else ja(S.dom,D,oe),ac(S,_i(L),D)},Vi=(S,D,L,oe,me)=>{const nt=Ur(D);if(nt&&D.nodeName===oe&&!Cf(me)&&!_s(D))lm(S);else{Pd(S,oe,me);const bn=Qn(S.selection.getRng()),qn=nt?[D,...L]:L,_n=nt&&_s(D)?$d:Sg;Dr.each(qn,vn=>{_n(S,vn,oe,me)}),S.selection.setRng(Pr(bn))}},Cf=S=>"list-style-type"in S,Ap=(S,D,L,oe)=>{if(D!==S.getBody())if(D)if(D.nodeName===L&&!Cf(oe)&&!_s(D))lm(S);else{const me=Qn(S.selection.getRng());_s(D)&&D.classList.forEach((bn,qn,_n)=>{bn.startsWith("tox-")&&(_n.remove(bn),_n.length===0&&D.removeAttribute("class"))}),ja(S.dom,D,oe);const nt=S.dom.rename(D,L);Bd(S.dom,nt),S.selection.setRng(Pr(me)),Pd(S,L,oe),ac(S,_i(L),nt)}else Pd(S,L,oe),ac(S,_i(L),D)},xg=(S,D,L)=>{const oe=ft(S);if(ba(S,oe))return;const me=fs(S),nt=ks(L)?L:{};me.length>0?Vi(S,oe,me,D,nt):Ap(S,oe,D,nt)},Ob=aa.DOM,um=(S,D)=>{const L=D.parentElement;if(L&&L.nodeName==="LI"&&L.firstChild===D){const oe=L.previousSibling;oe&&oe.nodeName==="LI"?(oe.appendChild(D),Ba(S,L)&&Ob.remove(L)):Ob.setStyle(L,"listStyleType","none")}if(Ur(L)){const oe=L.previousSibling;oe&&oe.nodeName==="LI"&&oe.appendChild(D)}},Id=(S,D)=>{const L=Dr.grep(S.select("ol,ul",D));Dr.each(L,oe=>{um(S,oe)})},Ju=(S,D,L,oe)=>{let me=D.startContainer;const nt=D.startOffset;if(So(me)&&(L?nt<me.data.length:nt>0))return me;const bn=S.schema.getNonEmptyElements();ca(me)&&(me=Tn.getNode(me,nt));const qn=new Bn(me,oe);L&&Pl(S.dom,me)&&qn.next();const _n=L?qn.next.bind(qn):qn.prev2.bind(qn);for(;me=_n();)if(me.nodeName==="LI"&&!me.hasChildNodes()||bn[me.nodeName]||So(me)&&me.data.length>0)return me;return null},Fd=(S,D)=>{const L=D.childNodes;return L.length===1&&!Ur(L[0])&&S.isBlock(L[0])},Zs=S=>wt.from(S).map(te.fromDom).filter(wn).exists(D=>kr(D)&&!go(["details"],cs(D))),Js=(S,D)=>{Fd(S,D)&&Zs(D.firstChild)&&S.remove(D.firstChild,!0)},ei=(S,D,L)=>{let oe;const me=Fd(S,L)?L.firstChild:L;if(Js(S,D),!Ba(S,D,!0))for(;oe=D.firstChild;)me.appendChild(oe)},Qu=(S,D,L)=>{let oe;const me=D.parentNode;if(!Ha(S,D)||!Ha(S,L))return;Ur(L.lastChild)&&(oe=L.lastChild),me===L.lastChild&&Wc(me.previousSibling)&&S.remove(me.previousSibling);const nt=L.lastChild;nt&&Wc(nt)&&D.hasChildNodes()&&S.remove(nt),Ba(S,L,!0)&&Ve(te.fromDom(L)),ei(S,D,L),oe&&L.appendChild(oe);const qn=be(te.fromDom(L),te.fromDom(D))?S.getParents(D,Ur,L):[];S.remove(D),ue(qn,_n=>{Ba(S,_n)&&_n!==S.getRoot()&&S.remove(_n)})},Tg=(S,D,L)=>{Ve(te.fromDom(L)),Qu(S.dom,D,L),S.selection.setCursorLocation(L,0)},jr=(S,D,L,oe)=>{const me=S.dom;if(me.isEmpty(oe))Tg(S,L,oe);else{const nt=Qn(D);Qu(me,L,oe),S.selection.setRng(Pr(nt))}},tn=(S,D,L,oe)=>{const me=Qn(D);Qu(S.dom,L,oe);const nt=Pr(me);S.selection.setRng(nt)},Ll=(S,D)=>{const L=S.dom,oe=S.selection,me=oe.getStart(),nt=rn(S,me),bn=L.getParent(oe.getStart(),"LI",nt);if(bn){const qn=bn.parentElement;if(qn===S.getBody()&&Ba(L,qn))return!0;const _n=se(oe.getRng()),vn=L.getParent(Ju(S,_n,D,nt),"LI",nt),Os=vn&&(D?L.isChildOf(bn,vn):L.isChildOf(vn,bn));if(vn&&vn!==bn&&!Os)return S.undoManager.transact(()=>{D?jr(S,_n,vn,bn):jo(bn)?pu(S):tn(S,_n,bn,vn)}),!0;if(Os&&!D&&vn!==bn)return S.undoManager.transact(()=>{if(_n.commonAncestorContainer.parentElement){const Er=Qn(_n),ni=_n.commonAncestorContainer.parentElement;ei(L,_n.commonAncestorContainer.parentElement,vn),ni.remove();const Vl=Pr(Er);S.selection.setRng(Vl)}}),!0;if(!vn&&!D&&_n.startOffset===0&&_n.endOffset===0)return S.undoManager.transact(()=>{lm(S)}),!0}return!1},dm=(S,D,L)=>{const oe=S.getParent(D.parentNode,S.isBlock,L);S.remove(D),oe&&S.isEmpty(oe)&&S.remove(oe)},ka=(S,D)=>{const L=S.dom,oe=S.selection.getStart(),me=rn(S,oe),nt=L.getParent(oe,L.isBlock,me);if(nt&&L.isEmpty(nt,void 0,{checkRootAsContent:!0})){const bn=se(S.selection.getRng()),qn=L.getParent(Ju(S,bn,D,me),"LI",me);if(qn){const _n=ni=>go(["td","th","caption"],cs(ni)),vn=ni=>ni.dom===me,Os=nc(te.fromDom(qn),_n,vn),Er=nc(te.fromDom(bn.startContainer),_n,vn);return we(Os,Er,xe)?(S.undoManager.transact(()=>{const ni=qn.parentNode;dm(L,nt,me),Bd(L,ni),S.selection.select(qn,!0),S.selection.collapse(D)}),!0):!1}}return!1},os=(S,D)=>Ll(S,D)||ka(S,D),bu=S=>{const D=S.selection.getStart(),L=rn(S,D);return S.dom.getParent(D,"LI,DT,DD",L)||Pt(S).length>0},Eg=S=>bu(S)?(S.undoManager.transact(()=>{S.execCommand("Delete"),Id(S.dom,S.getBody())}),!0):!1,Ld=(S,D)=>{const L=S.selection;return!ba(S,L.getNode())&&(L.isCollapsed()?os(S,D):Eg(S))},zp=S=>{S.on("ExecCommand",D=>{const L=D.command.toLowerCase();(L==="delete"||L==="forwarddelete")&&bu(S)&&Id(S.dom,S.getBody())}),S.on("keydown",D=>{D.keyCode===or.BACKSPACE?Ld(S,!1)&&D.preventDefault():D.keyCode===or.DELETE&&Ld(S,!0)&&D.preventDefault()})},Vn=S=>({backspaceDelete:D=>{Ld(S,D)}}),Wr=(S,D)=>{const L=ft(S);L===null||ba(S,L)||S.undoManager.transact(()=>{ks(D.styles)&&S.dom.setStyles(L,D.styles),ks(D.attrs)&&Ys(D.attrs,(oe,me)=>S.dom.setAttrib(L,me,oe))})},ed=S=>{const D=Ot(Yu(S).split("")),L=Ne(D,(oe,me)=>{const nt=oe.toUpperCase().charCodeAt(0)-"A".charCodeAt(0)+1;return Math.pow(26,me)*nt});return ze(L,(oe,me)=>oe+me,0)},$a=S=>{if(S--,S<0)return"";{const D=S%26,L=Math.floor(S/26),oe=$a(L),me=String.fromCharCode("A".charCodeAt(0)+D);return oe+me}},kc=S=>/^[A-Z]+$/.test(S),ti=S=>/^[a-z]+$/.test(S),la=S=>/^[0-9]+$/.test(S),uc=S=>la(S)?2:kc(S)?0:ti(S)?1:ll(S)?3:4,Zc=S=>{switch(uc(S)){case 2:return wt.some({listStyleType:wt.none(),start:S});case 0:return wt.some({listStyleType:wt.some("upper-alpha"),start:ed(S).toString()});case 1:return wt.some({listStyleType:wt.some("lower-alpha"),start:ed(S).toString()});case 3:return wt.some({listStyleType:wt.none(),start:""});case 4:return wt.none()}},fm=S=>{const D=parseInt(S.start,10);return Dn(S.listStyleType,"upper-alpha")?$a(D):Dn(S.listStyleType,"lower-alpha")?$a(D).toLowerCase():S.start},rr=S=>{const D=ft(S);!oc(D)||ba(S,D)||S.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:fm({start:S.dom.getAttrib(D,"start","1"),listStyleType:wt.from(S.dom.getStyle(D,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:L=>{const oe=L.getData();Zc(oe.start).each(me=>{S.execCommand("mceListUpdate",!1,{attrs:{start:me.start==="1"?"":me.start},styles:{"list-style-type":me.listStyleType.getOr("")}})}),L.close()}})},td=(S,D)=>()=>{const L=ft(S);return uo(L)&&L.nodeName===D},pr=S=>{S.addCommand("mceListProps",()=>{rr(S)})},vu=S=>{S.on("BeforeExecCommand",D=>{const L=D.command.toLowerCase();L==="indent"?im(S):L==="outdent"&&pu(S)}),S.addCommand("InsertUnorderedList",(D,L)=>{xg(S,"UL",L)}),S.addCommand("InsertOrderedList",(D,L)=>{xg(S,"OL",L)}),S.addCommand("InsertDefinitionList",(D,L)=>{xg(S,"DL",L)}),S.addCommand("RemoveList",()=>{lm(S)}),pr(S),S.addCommand("mceListUpdate",(D,L)=>{ks(L)&&Wr(S,L)}),S.addQueryStateHandler("InsertUnorderedList",td(S,"UL")),S.addQueryStateHandler("InsertOrderedList",td(S,"OL")),S.addQueryStateHandler("InsertDefinitionList",td(S,"DL"))};var nd=tinymce.util.Tools.resolve("tinymce.html.Node");const bs=S=>S.type===3,Ci=S=>S.length===0,Op=S=>{const D=(me,nt)=>{const bn=nd.create("li");ue(me,qn=>bn.append(qn)),nt?S.insert(bn,nt,!0):S.append(bn)},L=(me,nt)=>bs(nt)?[...me,nt]:!Ci(me)&&!bs(nt)?(D(me,nt),[]):me,oe=ze(S.children(),L,[]);Ci(oe)||D(oe)},Hl=S=>{S.on("PreInit",()=>{const{parser:D}=S;D.addNodeFilter("ul,ol",L=>ue(L,Op))})},zs=S=>{S.on("keydown",D=>{D.keyCode!==or.TAB||or.metaKeyPressed(D)||S.undoManager.transact(()=>{(D.shiftKey?pu(S):im(S))&&D.preventDefault()})})},ku=S=>{au(S)&&zs(S),zp(S)},Pc=(S,D)=>L=>{const oe=me=>{L.setActive(ls(me.parents,D)),L.setEnabled(!ba(S,me.element)&&S.selection.isEditable())};return L.setEnabled(S.selection.isEditable()),rc(S,oe)},ro=S=>{const D=L=>()=>S.execCommand(L);S.hasPlugin("advlist")||(S.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:D("InsertOrderedList"),onSetup:Pc(S,"OL")}),S.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:D("InsertUnorderedList"),onSetup:Pc(S,"UL")}))},od=(S,D)=>L=>rc(S,me=>L.setEnabled(ls(me.parents,D)&&!ba(S,me.element))),Sf=S=>{const D={text:"List properties...",icon:"ordered-list",onAction:()=>S.execCommand("mceListProps"),onSetup:od(S,"OL")};S.ui.registry.addMenuItem("listprops",D),S.ui.registry.addContextMenu("lists",{update:L=>{const oe=ft(S,L);return oc(oe)?["listprops"]:[]}})};var mm=()=>{Oa.add("lists",S=>(Mc(S),Hl(S),S.hasPlugin("rtc",!0)?pr(S):(ku(S),vu(S)),ro(S),Sf(S),Vn(S)))};mm()})();(function(){var Oa=tinymce.util.Tools.resolve("tinymce.PluginManager");const nr=(w,A,F)=>{var G;return F(w,A.prototype)?!0:((G=w.constructor)===null||G===void 0?void 0:G.name)===A.name},oa=w=>{const A=typeof w;return w===null?"null":A==="object"&&Array.isArray(w)?"array":A==="object"&&nr(w,String,(F,G)=>G.isPrototypeOf(F))?"string":A},Bs=w=>A=>oa(A)===w,Ms=w=>A=>typeof A===w,Mo=w=>A=>w===A,ks=Bs("string"),on=Bs("array"),Un=Ms("boolean"),Xn=Mo(void 0),uo=w=>w==null,rs=w=>!uo(w),as=Ms("function"),ts=Ms("number"),lr=()=>{},fo=(w,A)=>F=>w(A(F)),xt=w=>()=>w,No=w=>w,en=(w,A)=>w===A;function ae(w,...A){return(...F)=>{const G=A.concat(F);return w.apply(null,G)}}const wt=w=>{w()},ur=xt(!1),bt=xt(!0);class Z{constructor(A,F){this.tag=A,this.value=F}static some(A){return new Z(!0,A)}static none(){return Z.singletonNone}fold(A,F){return this.tag?F(this.value):A()}isSome(){return this.tag}isNone(){return!this.tag}map(A){return this.tag?Z.some(A(this.value)):Z.none()}bind(A){return this.tag?A(this.value):Z.none()}exists(A){return this.tag&&A(this.value)}forall(A){return!this.tag||A(this.value)}filter(A){return!this.tag||A(this.value)?this:Z.none()}getOr(A){return this.tag?this.value:A}or(A){return this.tag?this:A}getOrThunk(A){return this.tag?this.value:A()}orThunk(A){return this.tag?this:A()}getOrDie(A){if(this.tag)return this.value;throw new Error(A??"Called getOrDie on None")}static from(A){return rs(A)?Z.some(A):Z.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(A){this.tag&&A(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Z.singletonNone=new Z(!1);const zt=Object.keys,go=Object.hasOwnProperty,gn=(w,A)=>{const F=zt(w);for(let G=0,pe=F.length;G<pe;G++){const Ze=F[G],yt=w[Ze];A(yt,Ze)}},Ne=w=>(A,F)=>{w[F]=A},ue=(w,A,F,G)=>{gn(w,(pe,Ze)=>{(A(pe,Ze)?F:G)(pe,Ze)})},Wo=(w,A)=>{const F={};return ue(w,A,Ne(F),lr),F},Ae=(w,A)=>{const F=[];return gn(w,(G,pe)=>{F.push(A(G,pe))}),F},ze=w=>Ae(w,No),C=w=>zt(w).length,Ge=(w,A)=>Me(w,A)?Z.from(w[A]):Z.none(),Me=(w,A)=>go.call(w,A),Yt=(w,A)=>Me(w,A)&&w[A]!==void 0&&w[A]!==null,Ot=w=>{for(const A in w)if(go.call(w,A))return!1;return!0},he=Array.prototype.indexOf,ot=Array.prototype.push,Xt=(w,A)=>he.call(w,A),vt=(w,A)=>Xt(w,A)>-1,Dn=(w,A)=>{for(let F=0,G=w.length;F<G;F++){const pe=w[F];if(A(pe,F))return!0}return!1},we=(w,A)=>{const F=[];for(let G=0;G<w;G++)F.push(A(G));return F},Qe=(w,A)=>{const F=w.length,G=new Array(F);for(let pe=0;pe<F;pe++){const Ze=w[pe];G[pe]=A(Ze,pe)}return G},$=(w,A)=>{for(let F=0,G=w.length;F<G;F++){const pe=w[F];A(pe,F)}},Go=(w,A)=>{for(let F=w.length-1;F>=0;F--){const G=w[F];A(G,F)}},xn=(w,A)=>{const F=[],G=[];for(let pe=0,Ze=w.length;pe<Ze;pe++){const yt=w[pe];(A(yt,pe)?F:G).push(yt)}return{pass:F,fail:G}},Jn=(w,A)=>{const F=[];for(let G=0,pe=w.length;G<pe;G++){const Ze=w[G];A(Ze,G)&&F.push(Ze)}return F},Co=(w,A,F)=>(Go(w,(G,pe)=>{F=A(F,G,pe)}),F),sa=(w,A,F)=>($(w,(G,pe)=>{F=A(F,G,pe)}),F),jt=(w,A,F)=>{for(let G=0,pe=w.length;G<pe;G++){const Ze=w[G];if(A(Ze,G))return Z.some(Ze);if(F(Ze,G))break}return Z.none()},jn=(w,A)=>jt(w,A,ur),Qt=w=>{const A=[];for(let F=0,G=w.length;F<G;++F){if(!on(w[F]))throw new Error("Arr.flatten item "+F+" was not an array, input: "+w);ot.apply(A,w[F])}return A},te=(w,A)=>Qt(Qe(w,A)),Te=(w,A)=>{for(let F=0,G=w.length;F<G;++F){const pe=w[F];if(A(pe,F)!==!0)return!1}return!0},xe=(w,A)=>{const F={};for(let G=0,pe=w.length;G<pe;G++){const Ze=w[G];F[String(Ze)]=A(Ze,G)}return F},be=(w,A)=>A>=0&&A<w.length?Z.some(w[A]):Z.none(),st=w=>be(w,0),lt=w=>be(w,w.length-1),Rn=(w,A)=>{for(let F=0;F<w.length;F++){const G=A(w[F],F);if(G.isSome())return G}return Z.none()},Lt=8,po=9,hs=11,co=1,zo=3,ho=(w,A)=>{const G=(A||document).createElement("div");if(G.innerHTML=w,!G.hasChildNodes()||G.childNodes.length>1){const pe="HTML does not have a single root node";throw console.error(pe,w),new Error(pe)}return Wn(G.childNodes[0])},cs=(w,A)=>{const G=(A||document).createElement(w);return Wn(G)},eo=(w,A)=>{const G=(A||document).createTextNode(w);return Wn(G)},Wn=w=>{if(w==null)throw new Error("Node cannot be null or undefined");return{dom:w}},wn={fromHtml:ho,fromTag:cs,fromText:eo,fromDom:Wn,fromPoint:(w,A,F)=>Z.from(w.dom.elementFromPoint(A,F)).map(Wn)},xo=(w,A)=>{const F=w.dom;if(F.nodeType!==co)return!1;{const G=F;if(G.matches!==void 0)return G.matches(A);if(G.msMatchesSelector!==void 0)return G.msMatchesSelector(A);if(G.webkitMatchesSelector!==void 0)return G.webkitMatchesSelector(A);if(G.mozMatchesSelector!==void 0)return G.mozMatchesSelector(A);throw new Error("Browser lacks native selectors")}},is=w=>w.nodeType!==co&&w.nodeType!==po&&w.nodeType!==hs||w.childElementCount===0,Vo=(w,A)=>{const F=A===void 0?document:A.dom;return is(F)?[]:Qe(F.querySelectorAll(w),wn.fromDom)},zr=(w,A)=>{const F=A===void 0?document:A.dom;return is(F)?Z.none():Z.from(F.querySelector(w)).map(wn.fromDom)},oo=(w,A)=>w.dom===A.dom,Da=xo;typeof window<"u"||Function("return this;")();const mt=w=>w.dom.nodeName.toLowerCase(),to=w=>w.dom.nodeType,dr=w=>A=>to(A)===w,mr=w=>to(w)===Lt||mt(w)==="#comment",Gr=dr(co),Kr=dr(zo),Io=dr(po),ha=dr(hs),Dc=w=>A=>Gr(A)&&mt(A)===w,Uo=w=>wn.fromDom(w.dom.ownerDocument),fn=w=>Io(w)?w:Uo(w),Ks=w=>Z.from(w.dom.parentNode).map(wn.fromDom),nc=(w,A)=>{const F=as(A)?A:ur;let G=w.dom;const pe=[];for(;G.parentNode!==null&&G.parentNode!==void 0;){const Ze=G.parentNode,yt=wn.fromDom(Ze);if(pe.push(yt),F(yt)===!0)break;G=Ze}return pe},al=w=>Z.from(w.dom.previousSibling).map(wn.fromDom),cl=w=>Z.from(w.dom.nextSibling).map(wn.fromDom),ys=w=>Qe(w.dom.childNodes,wn.fromDom),kr=(w,A)=>{const F=w.dom.childNodes;return Z.from(F[A]).map(wn.fromDom)},js=w=>kr(w,0),Ra=w=>ha(w)&&rs(w.dom.host),yi=w=>wn.fromDom(w.dom.getRootNode()),Or=w=>{const A=yi(w);return Ra(A)?Z.some(A):Z.none()},ce=w=>wn.fromDom(w.dom.host),ne=w=>{const A=Kr(w)?w.dom.parentNode:w.dom;if(A==null||A.ownerDocument===null)return!1;const F=A.ownerDocument;return Or(wn.fromDom(A)).fold(()=>F.body.contains(A),fo(ne,ce))};var Pe=(w,A,F,G,pe)=>w(F,G)?Z.some(F):as(pe)&&pe(F)?Z.none():A(F,G,pe);const Ve=(w,A,F)=>{let G=w.dom;const pe=as(F)?F:ur;for(;G.parentNode;){G=G.parentNode;const Ze=wn.fromDom(G);if(A(Ze))return Z.some(Ze);if(pe(Ze))break}return Z.none()},sn=(w,A,F)=>Pe((pe,Ze)=>Ze(pe),Ve,w,A,F),Tn=(w,A)=>{const F=pe=>A(wn.fromDom(pe));return jn(w.dom.childNodes,F).map(wn.fromDom)},Bn=(w,A,F)=>Ve(w,G=>xo(G,A),F),or=(w,A)=>Tn(w,F=>xo(F,A)),ge=(w,A)=>zr(A,w),$n=(w,A,F)=>Pe((pe,Ze)=>xo(pe,Ze),Bn,w,A,F),Ys=w=>$n(w,"[contenteditable]"),gr=(w,A=!1)=>ne(w)?w.dom.isContentEditable:Ys(w).fold(xt(A),F=>Ma(F)==="true"),Ma=w=>w.dom.contentEditable,Zo=w=>w.nodeName.toLowerCase(),Ii=w=>wn.fromDom(w.getBody()),Yr=w=>A=>oo(A,Ii(w)),Na=w=>w?w.replace(/px$/,""):"",Ns=w=>/^\d+(\.\d+)?$/.test(w)?w+"px":w,Yo=w=>wn.fromDom(w.selection.getStart()),ns=w=>wn.fromDom(w.selection.getEnd()),ra=w=>sn(w,Dc("table")).forall(gr),aa=(w,A)=>Jn(ys(w),A),Dr=(w,A)=>{let F=[];return $(ys(w),G=>{A(G)&&(F=F.concat([G])),F=F.concat(Dr(G,A))}),F},Xc=(w,A)=>aa(w,F=>xo(F,A)),Rc=(w,A)=>Vo(A,w),So=(w,A,F)=>{if(ks(F)||Un(F)||ts(F))w.setAttribute(A,F+"");else throw console.error("Invalid call to Attribute.set. Key ",A,":: Value ",F,":: Element ",w),new Error("Attribute value was not simple")},ca=(w,A,F)=>{So(w.dom,A,F)},Ur=(w,A)=>{const F=w.dom;gn(A,(G,pe)=>{So(F,pe,G)})},Jc=(w,A)=>{const F=w.dom.getAttribute(A);return F===null?void 0:F},oc=(w,A)=>Z.from(Jc(w,A)),Rr=(w,A)=>{w.dom.removeAttribute(A)},$s=w=>sa(w.dom.attributes,(A,F)=>(A[F.name]=F.value,A),{}),gf=(w,A,F=en)=>w.exists(G=>F(G,A)),Wc=w=>{const A=[],F=G=>{A.push(G)};for(let G=0;G<w.length;G++)w[G].each(F);return A},jo=(w,A,F)=>w.isSome()&&A.isSome()?Z.some(F(w.getOrDie(),A.getOrDie())):Z.none(),Pa=w=>w.bind(No),ya=(w,A)=>w?Z.some(A):Z.none(),wr=(w,A)=>w.substring(A),Pl=(w,A,F)=>A===""||w.length>=A.length&&w.substr(F,F+A.length)===A,Ba=(w,A)=>Ha(w,A)?wr(w,A.length):w,Ha=(w,A)=>Pl(w,A,0),Mc=(w=>A=>A.replace(w,""))(/^\s+|\s+$/g),au=w=>w.length>0,il=w=>!au(w),Fi=(w,A=10)=>{const F=parseInt(w,A);return isNaN(F)?Z.none():Z.some(F)},sc=w=>{const A=parseFloat(w);return isNaN(A)?Z.none():Z.some(A)},Mr=w=>w.style!==void 0&&as(w.style.getPropertyValue),cu=(w,A,F)=>{if(!ks(F))throw console.error("Invalid call to CSS.set. Property ",A,":: Value ",F,":: Element ",w),new Error("CSS value must be a string: "+F);Mr(w)&&w.style.setProperty(A,F)},iu=(w,A)=>{Mr(w)&&w.style.removeProperty(A)},lu=(w,A,F)=>{const G=w.dom;cu(G,A,F)},uu=(w,A)=>{const F=w.dom,pe=window.getComputedStyle(F).getPropertyValue(A);return pe===""&&!ne(w)?_r(F,A):pe},_r=(w,A)=>Mr(w)?w.style.getPropertyValue(A):"",yc=(w,A)=>{const F=w.dom,G=_r(F,A);return Z.from(G).filter(pe=>pe.length>0)},U=(w,A)=>{const F=w.dom;iu(F,A),gf(oc(w,"style").map(Mc),"")&&Rr(w,"style")},se=(w,A,F=0)=>oc(w,A).map(G=>parseInt(G,10)).getOr(F),Ce=(w,A)=>Ye(w,A,bt),Ye=(w,A,F)=>te(ys(w),G=>xo(G,A)?F(G)?[G]:[]:Ye(G,A,F)),ft=["tfoot","thead","tbody","colgroup"],Ht=w=>vt(ft,w),so=(w,A)=>({rows:w,columns:A}),fs=(w,A,F)=>({element:w,rowspan:A,colspan:F}),bo=(w,A,F,G,pe,Ze)=>({element:w,rowspan:A,colspan:F,row:G,column:pe,isLocked:Ze}),Pt=(w,A,F)=>({element:w,cells:A,section:F}),sr=(w,A,F,G)=>({startRow:w,startCol:A,finishRow:F,finishCol:G}),rn=(w,A,F)=>({element:w,colspan:A,column:F}),Nr=(w,A)=>({element:w,columns:A}),bi=(w,A,F=ur)=>{if(F(A))return Z.none();if(vt(w,mt(A)))return Z.some(A);const G=pe=>xo(pe,"table")||F(pe);return Bn(A,w.join(","),G)},P=(w,A)=>bi(["td","th"],w,A),K=w=>Ce(w,"th,td"),le=w=>xo(w,"colgroup")?Xc(w,"col"):te(Ln(w),A=>Xc(A,"col")),Oe=(w,A)=>$n(w,"table",A),Je=w=>Ce(w,"tr"),Ln=w=>Oe(w).fold(xt([]),A=>Xc(A,"colgroup")),_s=(w,A)=>Qe(w,F=>{if(mt(F)==="colgroup"){const G=Qe(le(F),pe=>{const Ze=se(pe,"span",1);return fs(pe,1,Ze)});return Pt(F,G,"colgroup")}else{const G=Qe(K(F),pe=>{const Ze=se(pe,"rowspan",1),yt=se(pe,"colspan",1);return fs(pe,Ze,yt)});return Pt(F,G,A(F))}}),ls=w=>Ks(w).map(A=>{const F=mt(A);return Ht(F)?F:"tbody"}).getOr("tbody"),ut=w=>{const A=Je(w),G=[...Ln(w),...A];return _s(G,ls)},As="data-snooker-locked-cols",ba=w=>oc(w,As).bind(A=>Z.from(A.match(/\d+/g))).map(A=>xe(A,bt)),rc=(w,A)=>w+","+A,Zn=(w,A,F)=>Z.from(w.access[rc(A,F)]),ac=(w,A,F)=>{const G=fr(w,pe=>F(A,pe.element));return G.length>0?Z.some(G[0]):Z.none()},fr=(w,A)=>{const F=te(w.all,G=>G.cells);return Jn(F,A)},Yu=w=>{const A={};let F=0;return $(w.cells,G=>{const pe=G.colspan;we(pe,Ze=>{const yt=F+Ze;A[yt]=rn(G.element,pe,yt)}),F+=pe}),A},Cs=w=>{const A={},F=[],pe=st(w).map(zi=>zi.element).bind(Oe).bind(ba).getOr({});let Ze=0,yt=0,Wt=0;const{pass:In,fail:Yn}=xn(w,zi=>zi.section==="colgroup");$(Yn,zi=>{const Za=[];$(zi.cells,Wl=>{let pl=0;for(;A[rc(Wt,pl)]!==void 0;)pl++;const xu=Yt(pe,pl.toString()),Ng=bo(Wl.element,Wl.rowspan,Wl.colspan,Wt,pl,xu);for(let ji=0;ji<Wl.colspan;ji++)for(let bm=0;bm<Wl.rowspan;bm++){const $p=Wt+bm,Ip=pl+ji,zf=rc($p,Ip);A[zf]=Ng,yt=Math.max(yt,Ip+1)}Za.push(Ng)}),Ze++,F.push(Pt(zi.element,Za,zi.section)),Wt++});const{columns:Xo,colgroups:Jo}=lt(In).map(zi=>{const Za=Yu(zi);return{colgroups:[Nr(zi.element,ze(Za))],columns:Za}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:so(Ze,yt),access:A,all:F,columns:Xo,colgroups:Jo}},Cr={fromTable:w=>{const A=ut(w);return Cs(A)},generate:Cs,getAt:Zn,findItem:ac,filterItems:fr,justCells:w=>te(w.all,A=>A.cells),justColumns:w=>ze(w.columns),hasColumns:w=>zt(w.columns).length>0,getColumnAt:(w,A)=>Z.from(w.columns[A])};var va=tinymce.util.Tools.resolve("tinymce.util.Tools");const Li=(w,A,F)=>{const G=w.select("td,th",A);let pe;for(let Ze=0;Ze<G.length;Ze++){const yt=w.getStyle(G[Ze],F);if(Xn(pe)&&(pe=yt),pe!==yt)return""}return pe},vi=(w,A,F)=>{va.each("left center right".split(" "),G=>{G!==F&&w.formatter.remove("align"+G,{},A)}),F&&w.formatter.apply("align"+F,{},A)},Md=(w,A,F)=>{va.each("top middle bottom".split(" "),G=>{G!==F&&w.formatter.remove("valign"+G,{},A)}),F&&w.formatter.apply("valign"+F,{},A)},Va=(w,A,F)=>{w.dispatch("TableModified",{...F,table:A})},vo=(w,A)=>sc(w).getOr(A),ul=(w,A,F)=>vo(uu(w,A),F),ki=(w,A,F,G)=>{const pe=ul(w,`padding-${F}`,0),Ze=ul(w,`padding-${G}`,0),yt=ul(w,`border-${F}-width`,0),Wt=ul(w,`border-${G}-width`,0);return A-pe-Ze-yt-Wt},Yh=(w,A)=>{const F=w.dom,G=F.getBoundingClientRect().width||F.offsetWidth;return A==="border-box"?G:ki(w,G,"left","right")},Ua=w=>Yh(w,"content-box");var Jr=tinymce.util.Tools.resolve("tinymce.Env");const pg="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",pf=we(5,w=>{const A=`${w+1}px`;return{title:A,value:A}}),cc=Qe(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],w=>({title:w,value:w.toLowerCase()})),hg="100%",Ws=w=>{var A;const F=w.dom,G=(A=F.getParent(w.selection.getStart(),F.isBlock))!==null&&A!==void 0?A:w.getBody();return Ua(wn.fromDom(G))+"px"},Hi=(w,A)=>wg(w)||!Tr(w)?A:Bl(w)?{...A,width:Ws(w)}:{...A,width:hg},ic=(w,A)=>wg(w)||Tr(w)?A:Bl(w)?{...A,width:Ws(w)}:{...A,width:hg},Sr=w=>A=>A.options.get(w),bc=w=>{const A=w.options.register;A("table_border_widths",{processor:"object[]",default:pf}),A("table_border_styles",{processor:"object[]",default:cc}),A("table_cell_advtab",{processor:"boolean",default:!0}),A("table_row_advtab",{processor:"boolean",default:!0}),A("table_advtab",{processor:"boolean",default:!0}),A("table_appearance_options",{processor:"boolean",default:!0}),A("table_grid",{processor:"boolean",default:!Jr.deviceType.isTouch()}),A("table_cell_class_list",{processor:"object[]",default:[]}),A("table_row_class_list",{processor:"object[]",default:[]}),A("table_class_list",{processor:"object[]",default:[]}),A("table_toolbar",{processor:"string",default:pg}),A("table_background_color_map",{processor:"object[]",default:[]}),A("table_border_color_map",{processor:"object[]",default:[]})},xr=Sr("table_sizing_mode"),yg=Sr("table_border_widths"),du=Sr("table_border_styles"),fu=Sr("table_cell_advtab"),hf=Sr("table_row_advtab"),mu=Sr("table_advtab"),wi=Sr("table_appearance_options"),yf=Sr("table_grid"),Tr=Sr("table_style_by_css"),bf=Sr("table_cell_class_list"),bg=Sr("table_row_class_list"),dl=Sr("table_class_list"),vg=Sr("table_toolbar"),gu=Sr("table_background_color_map"),kg=Sr("table_border_color_map"),Bl=w=>xr(w)==="fixed",wg=w=>xr(w)==="responsive",vf=w=>{const A=w.options,F=A.get("table_default_styles");return A.isSet("table_default_styles")?F:Hi(w,F)},im=w=>{const A=w.options,F=A.get("table_default_attributes");return A.isSet("table_default_attributes")?F:ic(w,F)},pu=(w,A)=>A.column>=w.startCol&&A.column+A.colspan-1<=w.finishCol&&A.row>=w.startRow&&A.row+A.rowspan-1<=w.finishRow,lm=(w,A)=>{let F=!0;const G=ae(pu,A);for(let pe=A.startRow;pe<=A.finishRow;pe++)for(let Ze=A.startCol;Ze<=A.finishCol;Ze++)F=F&&Cr.getAt(w,pe,Ze).exists(G);return F?Z.some(A):Z.none()},ie=(w,A)=>sr(Math.min(w.row,A.row),Math.min(w.column,A.column),Math.max(w.row+w.rowspan-1,A.row+A.rowspan-1),Math.max(w.column+w.colspan-1,A.column+A.colspan-1)),$l=(w,A,F)=>{const G=Cr.findItem(w,A,oo),pe=Cr.findItem(w,F,oo);return G.bind(Ze=>pe.map(yt=>ie(Ze,yt)))},fl=(w,A,F)=>$l(w,A,F).bind(G=>lm(w,G)),_g=(w,A,F)=>{const G=Xh(w);return fl(G,A,F)},Xh=Cr.fromTable,hu=(w,A)=>{Ks(w).each(G=>{G.dom.insertBefore(A.dom,w.dom)})},Qn=(w,A)=>{cl(w).fold(()=>{Ks(w).each(pe=>{_i(pe,A)})},G=>{hu(G,A)})},Pr=(w,A)=>{js(w).fold(()=>{_i(w,A)},G=>{w.dom.insertBefore(A.dom,G.dom)})},_i=(w,A)=>{w.dom.appendChild(A.dom)},yu=(w,A)=>{hu(w,A),_i(A,w)},kf=(w,A)=>{$(A,(F,G)=>{const pe=G===0?w:A[G-1];Qn(pe,F)})},Nd=(w,A)=>{$(A,F=>{_i(w,F)})},ja=w=>{const A=w.dom;A.parentNode!==null&&A.parentNode.removeChild(A)},wf=w=>{const A=ys(w);A.length>0&&kf(w,A),ja(w)},_f=((w,A)=>{const F=Ze=>{if(!w(Ze))throw new Error("Can only get "+A+" value of a "+A+" node");return G(Ze).getOr("")},G=Ze=>w(Ze)?Z.from(Ze.dom.nodeValue):Z.none();return{get:F,getOption:G,set:(Ze,yt)=>{if(!w(Ze))throw new Error("Can only set raw "+A+" value of a "+A+" node");Ze.dom.nodeValue=yt}}})(Kr,"text"),Fl=w=>_f.get(w),vc=(w,A)=>_f.set(w,A);var Cg=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Pd=()=>{const w=Yn=>wn.fromDom(Yn.dom.cloneNode(!1)),A=Yn=>fn(Yn).dom,F=Yn=>Gr(Yn)?mt(Yn)==="body"?!0:vt(Cg,mt(Yn)):!1,G=Yn=>Gr(Yn)?vt(["br","img","hr","input"],mt(Yn)):!1,pe=Yn=>Gr(Yn)&&Jc(Yn,"contenteditable")==="false",Ze=(Yn,Xo)=>Yn.dom.compareDocumentPosition(Xo.dom),yt=(Yn,Xo)=>{const Jo=$s(Yn);Ur(Xo,Jo)},Wt=Yn=>{const Xo=mt(Yn);return vt(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],Xo)},In=Yn=>Gr(Yn)?oc(Yn,"lang"):Z.none();return{up:xt({selector:Bn,closest:$n,predicate:Ve,all:nc}),down:xt({selector:Rc,predicate:Dr}),styles:xt({get:uu,getRaw:yc,set:lu,remove:U}),attrs:xt({get:Jc,set:ca,remove:Rr,copyTo:yt}),insert:xt({before:hu,after:Qn,afterAll:kf,append:_i,appendAll:Nd,prepend:Pr,wrap:yu}),remove:xt({unwrap:wf,remove:ja}),create:xt({nu:wn.fromTag,clone:w,text:wn.fromText}),query:xt({comparePosition:Ze,prevSibling:al,nextSibling:cl}),property:xt({children:ys,name:mt,parent:Ks,document:A,isText:Kr,isComment:mr,isElement:Gr,isSpecial:Wt,getLanguage:In,getText:Fl,setText:vc,isBoundary:F,isEmptyTag:G,isNonEditable:pe}),eq:oo,is:Da}};const ia=(w,A,F,G)=>{const pe=F[0],Ze=F.slice(1);return G(w,A,pe,Ze)},Nc=(w,A,F)=>F.length>0?ia(w,A,F,lc):Z.none(),lc=(w,A,F,G)=>{const pe=A(w,F);return Co(G,(Ze,yt)=>{const Wt=A(w,yt);return Xu(w,Ze,Wt)},pe)},Xu=(w,A,F)=>A.bind(G=>F.filter(ae(w.eq,G))),Bd=Nc,Sg=Pd(),$d=(w,A)=>Bd(Sg,(F,G)=>w(G),A),Vi=w=>Bn(w,"table"),Cf=(w,A)=>{const F=Rc(w,A);return F.length>0?Z.some(F):Z.none()},Ap=(w,A,F)=>ge(w,A).bind(G=>ge(w,F).bind(pe=>$d(Vi,[G,pe]).map(Ze=>({first:G,last:pe,table:Ze})))),xg=(w,A)=>Cf(w,A),Ob=(w,A,F)=>Ap(w,A,F).bind(G=>{const pe=In=>oo(w,In),Ze="thead,tfoot,tbody,table",yt=Bn(G.first,Ze,pe),Wt=Bn(G.last,Ze,pe);return yt.bind(In=>Wt.bind(Yn=>oo(In,Yn)?_g(G.table,G.first,G.last):Z.none()))}),um=w=>Qe(w,wn.fromDom),Id="data-mce-selected",Ju="td["+Id+"],th["+Id+"]",Fd="data-mce-first-selected",Zs="td["+Fd+"],th["+Fd+"]",Js="data-mce-last-selected",ei="td["+Js+"],th["+Js+"]",Qu={selected:Id,selectedSelector:Ju,firstSelected:Fd,firstSelectedSelector:Zs,lastSelected:Js,lastSelectedSelector:ei},Tg=w=>Oe(w).bind(A=>xg(A,Qu.firstSelectedSelector)).fold(xt(w),A=>A[0]),jr=w=>(A,F)=>{const G=mt(A),pe=G==="col"||G==="colgroup"?Tg(A):A;return $n(pe,w,F)},tn=jr("th,td,caption"),Ll=jr("th,td"),dm=w=>um(w.model.table.getSelectedCells()),ka=(w,A)=>{const F=Ll(w),G=F.bind(pe=>Oe(pe)).map(pe=>Je(pe));return jo(F,G,(pe,Ze)=>Jn(Ze,yt=>Dn(um(yt.dom.cells),Wt=>Jc(Wt,A)==="1"||oo(Wt,pe)))).getOr([])},os=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],bu=w=>({value:Vn(w)}),Eg=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Ld=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,zp=w=>Eg.test(w)||Ld.test(w),Vn=w=>Ba(w,"#").toUpperCase(),Wr=w=>zp(w)?Z.some({value:Vn(w)}):Z.none(),ed=w=>{const A=w.toString(16);return(A.length===1?"0"+A:A).toUpperCase()},$a=w=>{const A=ed(w.red)+ed(w.green)+ed(w.blue);return bu(A)},kc=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,ti=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,la=(w,A,F,G)=>({red:w,green:A,blue:F,alpha:G}),uc=(w,A,F,G)=>{const pe=parseInt(w,10),Ze=parseInt(A,10),yt=parseInt(F,10),Wt=parseFloat(G);return la(pe,Ze,yt,Wt)},Zc=w=>{const A=kc.exec(w);if(A!==null)return Z.some(uc(A[1],A[2],A[3],"1"));const F=ti.exec(w);return F!==null?Z.some(uc(F[1],F[2],F[3],F[4])):Z.none()},fm=w=>Wr(w).orThunk(()=>Zc(w).map($a)).getOrThunk(()=>{const A=document.createElement("canvas");A.height=1,A.width=1;const F=A.getContext("2d");F.clearRect(0,0,A.width,A.height),F.fillStyle="#FFFFFF",F.fillStyle=w,F.fillRect(0,0,1,1);const G=F.getImageData(0,0,1,1).data,pe=G[0],Ze=G[1],yt=G[2],Wt=G[3];return $a(la(pe,Ze,yt,Wt))}),rr=w=>Zc(w).map($a).map(A=>"#"+A.value).getOr(w),td=w=>{let A=w;return{get:()=>A,set:pe=>{A=pe}}},pr=w=>{const A=td(Z.none()),F=()=>A.get().each(w);return{clear:()=>{F(),A.set(Z.none())},isSet:()=>A.get().isSome(),get:()=>A.get(),set:Wt=>{F(),A.set(Z.some(Wt))}}},vu=()=>pr(w=>w.unbind()),nd=(w,A,F)=>G=>{const pe=vu(),Ze=il(F),yt=()=>{const Wt=dm(w),In=Yn=>w.formatter.match(A,{value:F},Yn.dom,Ze);Ze?(G.setActive(!Dn(Wt,In)),pe.set(w.formatter.formatChanged(A,Yn=>G.setActive(!Yn),!0))):(G.setActive(Te(Wt,In)),pe.set(w.formatter.formatChanged(A,G.setActive,!1,{value:F})))};return w.initialized?yt():w.on("init",yt),pe.clear},bs=w=>Yt(w,"menu"),Ci=w=>Qe(w,A=>{const F=A.text||A.title||"";return bs(A)?{text:F,items:Ci(A.menu)}:{text:F,value:A.value}}),Op=w=>w.length?Z.some(Ci([{text:"Select...",value:"mce-no-match"},...w])):Z.none(),Hl=(w,A,F,G)=>Qe(A,pe=>{const Ze=pe.text||pe.title;return bs(pe)?{type:"nestedmenuitem",text:Ze,getSubmenuItems:()=>Hl(w,pe.menu,F,G)}:{text:Ze,type:"togglemenuitem",onAction:()=>G(pe.value),onSetup:nd(w,F,pe.value)}}),zs=(w,A)=>F=>{w.execCommand("mceTableApplyCellStyle",!1,{[A]:F})},ku=w=>te(w,A=>bs(A)?[{...A,menu:ku(A.menu)}]:au(A.value)?[A]:[]),Pc=(w,A,F,G)=>pe=>pe(Hl(w,A,F,G)),ro=(w,A,F)=>{const G=Qe(A,pe=>({text:pe.title,value:"#"+fm(pe.value).value,type:"choiceitem"}));return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:G.length>0?G:void 0,allowCustomColors:!1},onAction:pe=>{const Ze=pe.value==="remove"?"":pe.value;w.execCommand("mceTableApplyCellStyle",!1,{[F]:Ze})}}]},od=w=>()=>{const F=w.queryCommandValue("mceTableRowType")==="header"?"body":"header";w.execCommand("mceTableRowType",!1,{type:F})},Sf=w=>()=>{const F=w.queryCommandValue("mceTableColType")==="th"?"td":"th";w.execCommand("mceTableColType",!1,{type:F})},mm=w=>Op(bf(w)).map(A=>({name:"class",type:"listbox",label:"Class",items:A})),S=[{name:"width",type:"input",label:"Width"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:os}],D=w=>S.concat(mm(w).toArray()),L=(w,A)=>{const G=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""}].concat(Ci(du(w)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}];return{title:"Advanced",name:"advanced",items:A==="cell"?[{name:"borderwidth",type:"input",label:"Border width"}].concat(G):G}},me={normal:(w,A)=>{const F=w.dom;return{setAttrib:(yt,Wt)=>{F.setAttrib(A,yt,Wt)},setStyle:(yt,Wt)=>{F.setStyle(A,yt,Wt)},setFormat:(yt,Wt)=>{Wt===""?w.formatter.remove(yt,{value:null},A,!0):w.formatter.apply(yt,{value:Wt},A)}}}},nt=Dc("th"),bn=(w,A)=>w&&A?"sectionCells":w?"section":"cells",qn=w=>{const A=w.section==="thead",F=gf(_n(w.cells),"th");return w.section==="tfoot"?{type:"footer"}:A||F?{type:"header",subType:bn(A,F)}:{type:"body"}},_n=w=>{const A=Jn(w,F=>nt(F.element));return A.length===0?Z.some("td"):A.length===w.length?Z.some("th"):Z.none()},vn=w=>{const A=Qe(w,pe=>qn(pe).type),F=vt(A,"header"),G=vt(A,"footer");if(!F&&!G)return Z.some("body");{const pe=vt(A,"body");return F&&!pe&&!G?Z.some("header"):!F&&!pe&&G?Z.some("footer"):Z.none()}},Os=w=>{let A=!1,F;return(...G)=>(A||(A=!0,F=w.apply(null,G)),F)},Er=(w,A)=>Rn(w.all,F=>jn(F.cells,G=>oo(A,G.element))),ni=(w,A,F)=>{const G=Qe(A.selection,Ze=>P(Ze).bind(yt=>Er(w,yt)).filter(F)),pe=Wc(G);return ya(pe.length>0,pe)},Vl=(w,A)=>A.mergable,xf=(w,A)=>A.unmergable,Ag=(w,A)=>ni(w,A,bt),dc=(w,A)=>Er(w,A).exists(F=>!F.isLocked),zg=(w,A)=>Te(A,F=>dc(w,F)),Db=(w,A)=>Vl(w,A).filter(F=>zg(w,F.cells)),Dp=(w,A)=>xf(w,A).filter(F=>zg(w,F));({...{generate:w=>{if(!on(w))throw new Error("cases must be an array");if(w.length===0)throw new Error("there must be at least one case");const A=[],F={};return $(w,(G,pe)=>{const Ze=zt(G);if(Ze.length!==1)throw new Error("one and only one name per case");const yt=Ze[0],Wt=G[yt];if(F[yt]!==void 0)throw new Error("duplicate key detected:"+yt);if(yt==="cata")throw new Error("cannot have a case named cata (sorry)");if(!on(Wt))throw new Error("case arguments must be an array");A.push(yt),F[yt]=(...In)=>{const Yn=In.length;if(Yn!==Wt.length)throw new Error("Wrong number of arguments to case "+yt+". Expected "+Wt.length+" ("+Wt+"), got "+Yn);return{fold:(...Jo)=>{if(Jo.length!==w.length)throw new Error("Wrong number of arguments to fold. Expected "+w.length+", got "+Jo.length);return Jo[pe].apply(null,In)},match:Jo=>{const Qs=zt(Jo);if(A.length!==Qs.length)throw new Error("Wrong number of arguments to match. Expected: "+A.join(",")+`
Actual: `+Qs.join(","));if(!Te(A,Za=>vt(Qs,Za)))throw new Error("Not all branches were specified when using match. Specified: "+Qs.join(", ")+`
Required: `+A.join(", "));return Jo[yt].apply(null,In)},log:Jo=>{console.log(Jo,{constructors:A,constructor:yt,params:In})}}}}),F}}.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])});const Bc=(w,A)=>{const F=Cr.fromTable(w);return Ag(F,A).bind(pe=>{const Ze=pe[pe.length-1],yt=pe[0].row,Wt=Ze.row+Ze.rowspan,In=F.all.slice(yt,Wt);return vn(In)}).getOr("")},kn=w=>Ha(w,"rgb")?rr(w):w,Si=w=>{const A=wn.fromDom(w);return{borderwidth:yc(A,"border-width").getOr(""),borderstyle:yc(A,"border-style").getOr(""),bordercolor:yc(A,"border-color").map(kn).getOr(""),backgroundcolor:yc(A,"background-color").map(kn).getOr("")}},gm=w=>{const A=w[0],F=w.slice(1);return $(F,G=>{$(zt(A),pe=>{gn(G,(Ze,yt)=>{const Wt=A[pe];Wt!==""&&pe===yt&&Wt!==Ze&&(A[pe]=pe==="class"?"mce-no-match":"")})})}),A},Og=(w,A,F,G)=>jn(w,pe=>!Xn(F.formatter.matchNode(G,A+pe))).getOr(""),Mp=ae(Og,["left","center","right"],"align"),Jh=ae(Og,["top","middle","bottom"],"valign"),ml=(w,A)=>{const F=vf(w),G=im(w),pe=()=>({borderstyle:Ge(F,"border-style").getOr(""),bordercolor:kn(Ge(F,"border-color").getOr("")),backgroundcolor:kn(Ge(F,"background-color").getOr(""))}),Ze={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},yt=()=>{const Xo=F["border-width"];return Tr(w)&&Xo?{border:Xo}:Ge(G,"border").fold(()=>({}),Jo=>({border:Jo}))},Wt=A?pe():{},In=()=>{const Xo=Ge(F,"border-spacing").or(Ge(G,"cellspacing")).fold(()=>({}),Qs=>({cellspacing:Qs})),Jo=Ge(F,"border-padding").or(Ge(G,"cellpadding")).fold(()=>({}),Qs=>({cellpadding:Qs}));return{...Xo,...Jo}};return{...Ze,...F,...G,...Wt,...yt(),...In()}},wu=w=>Oe(wn.fromDom(w)).map(A=>{const F={selection:um(w.cells)};return Bc(A,F)}).getOr(""),Hd=(w,A,F)=>{const G=(Wt,In)=>{const Yn=yc(wn.fromDom(In),"border-width");return Tr(w)&&Yn.isSome()?Yn.getOr(""):Wt.getAttrib(In,"border")||Li(w.dom,In,"border-width")||Li(w.dom,In,"border")||""},pe=w.dom,Ze=Tr(w)?pe.getStyle(A,"border-spacing")||pe.getAttrib(A,"cellspacing"):pe.getAttrib(A,"cellspacing")||pe.getStyle(A,"border-spacing"),yt=Tr(w)?Li(pe,A,"padding")||pe.getAttrib(A,"cellpadding"):pe.getAttrib(A,"cellpadding")||Li(pe,A,"padding");return{width:pe.getStyle(A,"width")||pe.getAttrib(A,"width"),height:pe.getStyle(A,"height")||pe.getAttrib(A,"height"),cellspacing:Ze??"",cellpadding:yt??"",border:G(pe,A),caption:!!pe.select("caption",A)[0],class:pe.getAttrib(A,"class",""),align:Mp(w,A),...F?Si(A):{}}},Nt=(w,A,F)=>{const G=w.dom;return{height:G.getStyle(A,"height")||G.getAttrib(A,"height"),class:G.getAttrib(A,"class",""),type:wu(A),align:Mp(w,A),...F?Si(A):{}}},Ui=(w,A,F,G)=>{const pe=w.dom,Ze=G.getOr(A);return{width:((Wt,In)=>pe.getStyle(Wt,In)||pe.getAttrib(Wt,In))(Ze,"width"),scope:pe.getAttrib(A,"scope"),celltype:Zo(A),class:pe.getAttrib(A,"class",""),halign:Mp(w,A),valign:Jh(w,A),...F?Si(A):{}}},Np=(w,A)=>{const F=Cr.fromTable(w),G=Cr.justCells(F),pe=Jn(G,Ze=>Dn(A,yt=>oo(Ze.element,yt)));return Qe(pe,Ze=>({element:Ze.element.dom,column:Cr.getColumnAt(F,Ze.column).map(yt=>yt.element.dom)}))},Tf=(w,A,F,G)=>{G("scope")&&w.setAttrib("scope",F.scope),G("class")&&F.class!=="mce-no-match"&&w.setAttrib("class",F.class),G("width")&&A.setStyle("width",Ns(F.width))},gl=(w,A,F)=>{F("backgroundcolor")&&w.setFormat("tablecellbackgroundcolor",A.backgroundcolor),F("bordercolor")&&w.setFormat("tablecellbordercolor",A.bordercolor),F("borderstyle")&&w.setFormat("tablecellborderstyle",A.borderstyle),F("borderwidth")&&w.setFormat("tablecellborderwidth",Ns(A.borderwidth))},Dg=(w,A,F,G)=>{const pe=A.length===1;$(A,Ze=>{const yt=Ze.element,Wt=pe?bt:G,In=me.normal(w,yt),Yn=Ze.column.map(Xo=>me.normal(w,Xo)).getOr(In);Tf(In,Yn,F,Wt),fu(w)&&gl(In,F,Wt),G("halign")&&vi(w,yt,F.halign),G("valign")&&Md(w,yt,F.valign)})},Vd=(w,A)=>{w.execCommand("mceTableCellType",!1,{type:A.celltype,no_events:!0})},Ef=(w,A,F,G)=>{const pe=Wo(G,(Ze,yt)=>F[yt]!==Ze);C(pe)>0&&A.length>=1&&Oe(A[0]).each(Ze=>{const yt=Np(Ze,A),Wt=C(Wo(pe,(Yn,Xo)=>Xo!=="scope"&&Xo!=="celltype"))>0,In=Me(pe,"celltype");(Wt||Me(pe,"scope"))&&Dg(w,yt,G,ae(Me,pe)),In&&Vd(w,G),Va(w,Ze.dom,{structure:In,style:Wt})})},Rg=(w,A,F,G)=>{const pe=G.getData();G.close(),w.undoManager.transact(()=>{Ef(w,A,F,pe),w.focus()})},Ul=(w,A)=>{const F=Oe(A[0]).map(G=>Qe(Np(G,A),pe=>Ui(w,pe.element,fu(w),pe.column)));return gm(F.getOrDie())},Mb=w=>{const A=dm(w);if(A.length===0)return;const F=Ul(w,A),G={type:"tabpanel",tabs:[{title:"General",name:"general",items:D(w)},L(w,"cell")]},pe={type:"panel",items:[{type:"grid",columns:2,items:D(w)}]};w.windowManager.open({title:"Cell Properties",size:"normal",body:fu(w)?G:pe,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:F,onSubmit:ae(Rg,w,A,F)})},ar=w=>Op(bg(w)).map(A=>({name:"class",type:"listbox",label:"Class",items:A})),ct=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],wc=w=>ct.concat(ar(w).toArray()),jl=(w,A,F)=>{F("class")&&A.class!=="mce-no-match"&&w.setAttrib("class",A.class),F("height")&&w.setStyle("height",Ns(A.height))},wa=(w,A,F)=>{F("backgroundcolor")&&w.setStyle("background-color",A.backgroundcolor),F("bordercolor")&&w.setStyle("border-color",A.bordercolor),F("borderstyle")&&w.setStyle("border-style",A.borderstyle)},pm=(w,A,F,G)=>{const Ze=A.length===1?bt:G;$(A,yt=>{const Wt=Xc(wn.fromDom(yt),"td,th"),In=me.normal(w,yt);jl(In,F,Ze),hf(w)&&wa(In,F,Ze),G("height")&&$(Wt,Yn=>{w.dom.setStyle(Yn.dom,"height",null)}),G("align")&&vi(w,yt,F.align)})},ua=(w,A)=>{w.execCommand("mceTableRowType",!1,{type:A.type,no_events:!0})},Fo=(w,A,F,G)=>{const pe=Wo(G,(Ze,yt)=>F[yt]!==Ze);if(C(pe)>0){const Ze=Me(pe,"type"),yt=Ze?C(pe)>1:!0;yt&&pm(w,A,G,ae(Me,pe)),Ze&&ua(w,G),Oe(wn.fromDom(A[0])).each(Wt=>Va(w,Wt.dom,{structure:Ze,style:yt}))}},Pp=(w,A,F,G)=>{const pe=G.getData();G.close(),w.undoManager.transact(()=>{Fo(w,A,F,pe),w.focus()})},Ke=w=>{const A=ka(Yo(w),Qu.selected);if(A.length===0)return;const F=Qe(A,yt=>Nt(w,yt.dom,hf(w))),G=gm(F),pe={type:"tabpanel",tabs:[{title:"General",name:"general",items:wc(w)},L(w,"row")]},Ze={type:"panel",items:[{type:"grid",columns:2,items:wc(w)}]};w.windowManager.open({title:"Row Properties",size:"normal",body:hf(w)?pe:Ze,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:G,onSubmit:ae(Pp,w,Qe(A,yt=>yt.dom),G)})},Lo=(w,A,F)=>{const G=F?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],pe=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],Ze=wi(w)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],yt=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],Wt=A.length>0?[{name:"class",type:"listbox",label:"Class",items:A}]:[];return G.concat(pe).concat(Ze).concat(yt).concat(Wt)},Mg=(w,A,F,G)=>{if(A.tagName==="TD"||A.tagName==="TH")ks(F)&&rs(G)?w.setStyle(A,F,G):w.setStyles(A,F);else if(A.children)for(let pe=0;pe<A.children.length;pe++)Mg(w,A.children[pe],F,G)},ea=(w,A,F,G)=>{const pe=w.dom,Ze={},yt={},Wt=Tr(w),In=mu(w),Yn=parseFloat(F.border)===0;if(!Xn(F.class)&&F.class!=="mce-no-match"&&(Ze.class=F.class),yt.height=Ns(F.height),Wt?yt.width=Ns(F.width):pe.getAttrib(A,"width")&&(Ze.width=Na(F.width)),Wt?(Yn?(Ze.border=0,yt["border-width"]=""):(yt["border-width"]=Ns(F.border),Ze.border=1),yt["border-spacing"]=Ns(F.cellspacing)):(Ze.border=Yn?0:F.border,Ze.cellpadding=F.cellpadding,Ze.cellspacing=F.cellspacing),Wt&&A.children){const Xo={};if(Yn?Xo["border-width"]="":G.border&&(Xo["border-width"]=Ns(F.border)),G.cellpadding&&(Xo.padding=Ns(F.cellpadding)),In&&G.bordercolor&&(Xo["border-color"]=F.bordercolor),!Ot(Xo))for(let Jo=0;Jo<A.children.length;Jo++)Mg(pe,A.children[Jo],Xo)}if(In){const Xo=F;yt["background-color"]=Xo.backgroundcolor,yt["border-color"]=Xo.bordercolor,yt["border-style"]=Xo.borderstyle}pe.setStyles(A,{...vf(w),...yt}),pe.setAttribs(A,{...im(w),...Ze})},_c=(w,A,F,G)=>{const pe=w.dom,Ze=G.getData(),yt=Wo(Ze,(Wt,In)=>F[In]!==Wt);G.close(),w.undoManager.transact(()=>{if(!A){const Wt=Fi(Ze.cols).getOr(1),In=Fi(Ze.rows).getOr(1);w.execCommand("mceInsertTable",!1,{rows:In,columns:Wt}),A=Ll(Yo(w),Yr(w)).bind(Yn=>Oe(Yn,Yr(w))).map(Yn=>Yn.dom).getOrDie()}if(C(yt)>0){const Wt={border:Me(yt,"border"),bordercolor:Me(yt,"bordercolor"),cellpadding:Me(yt,"cellpadding")};ea(w,A,Ze,Wt);const In=pe.select("caption",A)[0];(In&&!Ze.caption||!In&&Ze.caption)&&w.execCommand("mceTableToggleCaption"),vi(w,A,Ze.align)}if(w.focus(),w.addVisual(),C(yt)>0){const Wt=Me(yt,"caption"),In=Wt?C(yt)>1:!0;Va(w,A,{structure:Wt,style:In})}})},Nb=(w,A)=>{const F=w.dom;let G,pe=ml(w,mu(w));A?(pe.cols="1",pe.rows="1",mu(w)&&(pe.borderstyle="",pe.bordercolor="",pe.backgroundcolor="")):(G=F.getParent(w.selection.getStart(),"table",w.getBody()),G?pe=Hd(w,G,mu(w)):mu(w)&&(pe.borderstyle="",pe.bordercolor="",pe.backgroundcolor=""));const Ze=Op(dl(w));Ze.isSome()&&pe.class&&(pe.class=pe.class.replace(/\s*mce\-item\-table\s*/g,""));const yt={type:"grid",columns:2,items:Lo(w,Ze.getOr([]),A)},Wt=()=>({type:"panel",items:[yt]}),In=()=>({type:"tabpanel",tabs:[{title:"General",name:"general",items:[yt]},L(w,"table")]}),Yn=mu(w)?In():Wt();w.windowManager.open({title:"Table Properties",size:"normal",body:Yn,onSubmit:ae(_c,w,G,pe),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:pe})},xi=w=>{const A=F=>{ra(Yo(w))&&F()};gn({mceTableProps:ae(Nb,w,!1),mceTableRowProps:ae(Ke,w),mceTableCellProps:ae(Mb,w),mceInsertTableDialog:ae(Nb,w,!0)},(F,G)=>w.addCommand(G,()=>A(F)))},f0=(w,A)=>or(w,A).isSome(),sd=No,Pb=w=>{const A=(G,pe)=>oc(G,pe).exists(Ze=>parseInt(Ze,10)>1),F=G=>A(G,"rowspan")||A(G,"colspan");return w.length>0&&Te(w,F)?Z.some(w):Z.none()},Ti=(w,A,F)=>A.length<=1?Z.none():Ob(w,F.firstSelectedSelector,F.lastSelectedSelector).map(G=>({bounds:G,cells:A})),Bo=w=>({element:w,mergable:Z.none(),unmergable:Z.none(),selection:[w]}),_u=(w,A,F)=>({element:F,mergable:Ti(A,w,Qu),unmergable:Pb(w),selection:sd(w)}),Af=w=>{const A=td(Z.none()),F=td([]);let G=Z.none();const pe=Dc("caption"),Ze=Po=>G.forall(Ds=>!Ds[Po]),yt=()=>tn(Yo(w),Yr(w)),Wt=()=>tn(ns(w),Yr(w)),In=()=>yt().bind(Po=>Pa(jo(Oe(Po),Wt().bind(Oe),(Ds,$c)=>oo(Ds,$c)?pe(Po)?Z.some(Bo(Po)):Z.some(_u(dm(w),Ds,Po)):Z.none()))),Yn=Po=>Oe(Po.element).map($c=>{const Ar=Cr.fromTable($c),Fp=Ag(Ar,Po).getOr([]),Of=sa(Fp,(Df,Wi)=>(Wi.isLocked&&(Df.onAny=!0,Wi.column===0?Df.onFirst=!0:Wi.column+Wi.colspan>=Ar.grid.columns&&(Df.onLast=!0)),Df),{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:Db(Ar,Po).isSome(),unmergeable:Dp(Ar,Po).isSome(),locked:Of}}),Xo=()=>{A.set(Os(In)()),G=A.get().bind(Yn),$(F.get(),wt)},Jo=Po=>(Po(),F.set(F.get().concat([Po])),()=>{F.set(Jn(F.get(),Ds=>Ds!==Po))}),Qs=(Po,Ds)=>Jo(()=>A.get().fold(()=>{Po.setEnabled(!1)},$c=>{Po.setEnabled(!Ds($c)&&w.selection.isEditable())})),zi=(Po,Ds,$c)=>Jo(()=>A.get().fold(()=>{Po.setEnabled(!1),Po.setActive(!1)},Ar=>{Po.setEnabled(!Ds(Ar)&&w.selection.isEditable()),Po.setActive($c(Ar))})),Za=Po=>G.exists(Ds=>Ds.locked[Po]),Wl=Po=>Qs(Po,Ds=>!1),pl=Po=>Qs(Po,Ds=>pe(Ds.element)),xu=Po=>Ds=>Qs(Ds,$c=>pe($c.element)||Za(Po)),Ng=Po=>Ds=>Qs(Ds,$c=>pe($c.element)||Po().isNone()),ji=(Po,Ds)=>$c=>Qs($c,Ar=>pe(Ar.element)||Po().isNone()||Za(Ds)),bm=Po=>Qs(Po,Ds=>Ze("mergeable")),$p=Po=>Qs(Po,Ds=>Ze("unmergeable")),Ip=Po=>zi(Po,ur,Ds=>Oe(Ds.element,Yr(w)).exists(Ar=>f0(Ar,"caption"))),zf=(Po,Ds)=>$c=>zi($c,Ar=>pe(Ar.element),()=>w.queryCommandValue(Po)===Ds),_a=zf("mceTableRowType","header"),Zl=zf("mceTableColType","th");return w.on("NodeChange ExecCommand TableSelectorChange",Xo),{onSetupTable:Wl,onSetupCellOrRow:pl,onSetupColumn:xu,onSetupPasteable:Ng,onSetupPasteableColumn:ji,onSetupMergeable:bm,onSetupUnmergeable:$p,resetTargets:Xo,onSetupTableWithCaption:Ip,onSetupTableRowHeaders:_a,onSetupTableColumnHeaders:Zl,targets:A.get}};var da=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const Bp="x-tinymce/dom-table-",Cu=Bp+"rows",Su=Bp+"columns",Ps=w=>{var A;const F=(A=da.read())!==null&&A!==void 0?A:[];return Rn(F,G=>Z.from(G.getType(w)))},hm=()=>Ps(Cu),Ee=()=>Ps(Su),Ei=w=>A=>{const F=()=>{A.setEnabled(w.selection.isEditable())};return w.on("NodeChange",F),F(),()=>{w.off("NodeChange",F)}},ym=(w,A)=>{w.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",onSetup:Ei(w),fetch:Wt=>Wt("inserttable | cell row column | advtablesort | tableprops deletetable")});const F=Wt=>()=>w.execCommand(Wt),G=(Wt,In)=>{w.queryCommandSupported(In.command)&&w.ui.registry.addButton(Wt,{...In,onAction:as(In.onAction)?In.onAction:F(In.command)})},pe=(Wt,In)=>{w.queryCommandSupported(In.command)&&w.ui.registry.addToggleButton(Wt,{...In,onAction:as(In.onAction)?In.onAction:F(In.command)})};G("tableprops",{tooltip:"Table properties",command:"mceTableProps",icon:"table",onSetup:A.onSetupTable}),G("tabledelete",{tooltip:"Delete table",command:"mceTableDelete",icon:"table-delete-table",onSetup:A.onSetupTable}),G("tablecellprops",{tooltip:"Cell properties",command:"mceTableCellProps",icon:"table-cell-properties",onSetup:A.onSetupCellOrRow}),G("tablemergecells",{tooltip:"Merge cells",command:"mceTableMergeCells",icon:"table-merge-cells",onSetup:A.onSetupMergeable}),G("tablesplitcells",{tooltip:"Split cell",command:"mceTableSplitCells",icon:"table-split-cells",onSetup:A.onSetupUnmergeable}),G("tableinsertrowbefore",{tooltip:"Insert row before",command:"mceTableInsertRowBefore",icon:"table-insert-row-above",onSetup:A.onSetupCellOrRow}),G("tableinsertrowafter",{tooltip:"Insert row after",command:"mceTableInsertRowAfter",icon:"table-insert-row-after",onSetup:A.onSetupCellOrRow}),G("tabledeleterow",{tooltip:"Delete row",command:"mceTableDeleteRow",icon:"table-delete-row",onSetup:A.onSetupCellOrRow}),G("tablerowprops",{tooltip:"Row properties",command:"mceTableRowProps",icon:"table-row-properties",onSetup:A.onSetupCellOrRow}),G("tableinsertcolbefore",{tooltip:"Insert column before",command:"mceTableInsertColBefore",icon:"table-insert-column-before",onSetup:A.onSetupColumn("onFirst")}),G("tableinsertcolafter",{tooltip:"Insert column after",command:"mceTableInsertColAfter",icon:"table-insert-column-after",onSetup:A.onSetupColumn("onLast")}),G("tabledeletecol",{tooltip:"Delete column",command:"mceTableDeleteCol",icon:"table-delete-column",onSetup:A.onSetupColumn("onAny")}),G("tablecutrow",{tooltip:"Cut row",command:"mceTableCutRow",icon:"cut-row",onSetup:A.onSetupCellOrRow}),G("tablecopyrow",{tooltip:"Copy row",command:"mceTableCopyRow",icon:"duplicate-row",onSetup:A.onSetupCellOrRow}),G("tablepasterowbefore",{tooltip:"Paste row before",command:"mceTablePasteRowBefore",icon:"paste-row-before",onSetup:A.onSetupPasteable(hm)}),G("tablepasterowafter",{tooltip:"Paste row after",command:"mceTablePasteRowAfter",icon:"paste-row-after",onSetup:A.onSetupPasteable(hm)}),G("tablecutcol",{tooltip:"Cut column",command:"mceTableCutCol",icon:"cut-column",onSetup:A.onSetupColumn("onAny")}),G("tablecopycol",{tooltip:"Copy column",command:"mceTableCopyCol",icon:"duplicate-column",onSetup:A.onSetupColumn("onAny")}),G("tablepastecolbefore",{tooltip:"Paste column before",command:"mceTablePasteColBefore",icon:"paste-column-before",onSetup:A.onSetupPasteableColumn(Ee,"onFirst")}),G("tablepastecolafter",{tooltip:"Paste column after",command:"mceTablePasteColAfter",icon:"paste-column-after",onSetup:A.onSetupPasteableColumn(Ee,"onLast")}),G("tableinsertdialog",{tooltip:"Insert table",command:"mceInsertTableDialog",icon:"table",onSetup:Ei(w)});const Ze=ku(dl(w));Ze.length!==0&&w.queryCommandSupported("mceTableToggleClass")&&w.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:Pc(w,Ze,"tableclass",Wt=>w.execCommand("mceTableToggleClass",!1,Wt)),onSetup:A.onSetupTable});const yt=ku(bf(w));yt.length!==0&&w.queryCommandSupported("mceTableCellToggleClass")&&w.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:Pc(w,yt,"tablecellclass",Wt=>w.execCommand("mceTableCellToggleClass",!1,Wt)),onSetup:A.onSetupCellOrRow}),w.queryCommandSupported("mceTableApplyCellStyle")&&(w.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:Pc(w,os,"tablecellverticalalign",zs(w,"vertical-align")),onSetup:A.onSetupCellOrRow}),w.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:Pc(w,yg(w),"tablecellborderwidth",zs(w,"border-width")),onSetup:A.onSetupCellOrRow}),w.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:Pc(w,du(w),"tablecellborderstyle",zs(w,"border-style")),onSetup:A.onSetupCellOrRow}),w.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:Wt=>Wt(ro(w,gu(w),"background-color")),onSetup:A.onSetupCellOrRow}),w.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:Wt=>Wt(ro(w,kg(w),"border-color")),onSetup:A.onSetupCellOrRow})),pe("tablecaption",{tooltip:"Table caption",icon:"table-caption",command:"mceTableToggleCaption",onSetup:A.onSetupTableWithCaption}),pe("tablerowheader",{tooltip:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:od(w),onSetup:A.onSetupTableRowHeaders}),pe("tablecolheader",{tooltip:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Sf(w),onSetup:A.onSetupTableColumnHeaders})},Cc=w=>{const A=G=>w.dom.is(G,"table")&&w.getBody().contains(G)&&w.dom.isEditable(G.parentNode),F=vg(w);F.length>0&&w.ui.registry.addContextToolbar("table",{predicate:A,items:F,scope:"node",position:"node"})},Ai=w=>A=>{const F=()=>{A.setEnabled(w.selection.isEditable())};return w.on("NodeChange",F),F(),()=>{w.off("NodeChange",F)}},Br=(w,A)=>{const F=Jo=>()=>w.execCommand(Jo),G=(Jo,Qs)=>w.queryCommandSupported(Qs.command)?(w.ui.registry.addMenuItem(Jo,{...Qs,onAction:as(Qs.onAction)?Qs.onAction:F(Qs.command)}),!0):!1,pe=(Jo,Qs)=>{w.queryCommandSupported(Qs.command)&&w.ui.registry.addToggleMenuItem(Jo,{...Qs,onAction:as(Qs.onAction)?Qs.onAction:F(Qs.command)})},Ze=Jo=>{w.execCommand("mceInsertTable",!1,{rows:Jo.numRows,columns:Jo.numColumns})},yt=[G("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",command:"mceTableInsertRowBefore",onSetup:A.onSetupCellOrRow}),G("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",command:"mceTableInsertRowAfter",onSetup:A.onSetupCellOrRow}),G("tabledeleterow",{text:"Delete row",icon:"table-delete-row",command:"mceTableDeleteRow",onSetup:A.onSetupCellOrRow}),G("tablerowprops",{text:"Row properties",icon:"table-row-properties",command:"mceTableRowProps",onSetup:A.onSetupCellOrRow}),G("tablecutrow",{text:"Cut row",icon:"cut-row",command:"mceTableCutRow",onSetup:A.onSetupCellOrRow}),G("tablecopyrow",{text:"Copy row",icon:"duplicate-row",command:"mceTableCopyRow",onSetup:A.onSetupCellOrRow}),G("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",command:"mceTablePasteRowBefore",onSetup:A.onSetupPasteable(hm)}),G("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",command:"mceTablePasteRowAfter",onSetup:A.onSetupPasteable(hm)})],Wt=[G("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",command:"mceTableInsertColBefore",onSetup:A.onSetupColumn("onFirst")}),G("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",command:"mceTableInsertColAfter",onSetup:A.onSetupColumn("onLast")}),G("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",command:"mceTableDeleteCol",onSetup:A.onSetupColumn("onAny")}),G("tablecutcolumn",{text:"Cut column",icon:"cut-column",command:"mceTableCutCol",onSetup:A.onSetupColumn("onAny")}),G("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",command:"mceTableCopyCol",onSetup:A.onSetupColumn("onAny")}),G("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",command:"mceTablePasteColBefore",onSetup:A.onSetupPasteableColumn(Ee,"onFirst")}),G("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",command:"mceTablePasteColAfter",onSetup:A.onSetupPasteableColumn(Ee,"onLast")})],In=[G("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",command:"mceTableCellProps",onSetup:A.onSetupCellOrRow}),G("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",command:"mceTableMergeCells",onSetup:A.onSetupMergeable}),G("tablesplitcells",{text:"Split cell",icon:"table-split-cells",command:"mceTableSplitCells",onSetup:A.onSetupUnmergeable})];yf(w)?w.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"inserttable",onAction:Ze}],onSetup:Ai(w)}):w.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:F("mceInsertTableDialog"),onSetup:Ai(w)}),w.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:F("mceInsertTableDialog"),onSetup:Ai(w)}),G("tableprops",{text:"Table properties",onSetup:A.onSetupTable,command:"mceTableProps"}),G("deletetable",{text:"Delete table",icon:"table-delete-table",onSetup:A.onSetupTable,command:"mceTableDelete"}),vt(yt,!0)&&w.ui.registry.addNestedMenuItem("row",{type:"nestedmenuitem",text:"Row",getSubmenuItems:xt("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")}),vt(Wt,!0)&&w.ui.registry.addNestedMenuItem("column",{type:"nestedmenuitem",text:"Column",getSubmenuItems:xt("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")}),vt(In,!0)&&w.ui.registry.addNestedMenuItem("cell",{type:"nestedmenuitem",text:"Cell",getSubmenuItems:xt("tablecellprops tablemergecells tablesplitcells")}),w.ui.registry.addContextMenu("table",{update:()=>(A.resetTargets(),A.targets().fold(xt(""),Jo=>mt(Jo.element)==="caption"?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"))});const Yn=ku(dl(w));Yn.length!==0&&w.queryCommandSupported("mceTableToggleClass")&&w.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:()=>Hl(w,Yn,"tableclass",Jo=>w.execCommand("mceTableToggleClass",!1,Jo)),onSetup:A.onSetupTable});const Xo=ku(bf(w));Xo.length!==0&&w.queryCommandSupported("mceTableCellToggleClass")&&w.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:()=>Hl(w,Xo,"tablecellclass",Jo=>w.execCommand("mceTableCellToggleClass",!1,Jo)),onSetup:A.onSetupCellOrRow}),w.queryCommandSupported("mceTableApplyCellStyle")&&(w.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:()=>Hl(w,os,"tablecellverticalalign",zs(w,"vertical-align")),onSetup:A.onSetupCellOrRow}),w.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:()=>Hl(w,yg(w),"tablecellborderwidth",zs(w,"border-width")),onSetup:A.onSetupCellOrRow}),w.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:()=>Hl(w,du(w),"tablecellborderstyle",zs(w,"border-style")),onSetup:A.onSetupCellOrRow}),w.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:()=>ro(w,gu(w),"background-color"),onSetup:A.onSetupCellOrRow}),w.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:()=>ro(w,kg(w),"border-color"),onSetup:A.onSetupCellOrRow})),pe("tablecaption",{icon:"table-caption",text:"Table caption",command:"mceTableToggleCaption",onSetup:A.onSetupTableWithCaption}),pe("tablerowheader",{text:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:od(w),onSetup:A.onSetupTableRowHeaders}),pe("tablecolheader",{text:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Sf(w),onSetup:A.onSetupTableRowHeaders})},hr=w=>{const A=Af(w);bc(w),xi(w),Br(w,A),ym(w,A),Cc(w)};var m0=()=>{Oa.add("table",hr)};m0()})();(function(){var Oa=tinymce.util.Tools.resolve("tinymce.PluginManager");const nr=bt=>Z=>Z.options.get(bt),oa=bt=>{const Z=bt.options.register;Z("insertdatetime_dateformat",{processor:"string",default:bt.translate("%Y-%m-%d")}),Z("insertdatetime_timeformat",{processor:"string",default:bt.translate("%H:%M:%S")}),Z("insertdatetime_formats",{processor:"string[]",default:["%H:%M:%S","%Y-%m-%d","%I:%M:%S %p","%D"]}),Z("insertdatetime_element",{processor:"boolean",default:!1})},Bs=nr("insertdatetime_dateformat"),Ms=nr("insertdatetime_timeformat"),Mo=nr("insertdatetime_formats"),ks=nr("insertdatetime_element"),on=bt=>{const Z=Mo(bt);return Z.length>0?Z[0]:Ms(bt)},Un="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),Xn="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),uo="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),rs="January February March April May June July August September October November December".split(" "),as=(bt,Z)=>{if(bt=""+bt,bt.length<Z)for(let zt=0;zt<Z-bt.length;zt++)bt="0"+bt;return bt},ts=(bt,Z,zt=new Date)=>(Z=Z.replace("%D","%m/%d/%Y"),Z=Z.replace("%r","%I:%M:%S %p"),Z=Z.replace("%Y",""+zt.getFullYear()),Z=Z.replace("%y",""+zt.getYear()),Z=Z.replace("%m",as(zt.getMonth()+1,2)),Z=Z.replace("%d",as(zt.getDate(),2)),Z=Z.replace("%H",""+as(zt.getHours(),2)),Z=Z.replace("%M",""+as(zt.getMinutes(),2)),Z=Z.replace("%S",""+as(zt.getSeconds(),2)),Z=Z.replace("%I",""+((zt.getHours()+11)%12+1)),Z=Z.replace("%p",zt.getHours()<12?"AM":"PM"),Z=Z.replace("%B",""+bt.translate(rs[zt.getMonth()])),Z=Z.replace("%b",""+bt.translate(uo[zt.getMonth()])),Z=Z.replace("%A",""+bt.translate(Xn[zt.getDay()])),Z=Z.replace("%a",""+bt.translate(Un[zt.getDay()])),Z=Z.replace("%%","%"),Z),lr=(bt,Z,zt,go)=>{const gn=bt.dom.create("time",{datetime:zt},go);bt.dom.replace(gn,Z),bt.selection.select(gn,!0),bt.selection.collapse(!1)},fo=(bt,Z)=>{if(ks(bt)){const zt=ts(bt,Z);let go;/%[HMSIp]/.test(Z)?go=ts(bt,"%Y-%m-%dT%H:%M"):go=ts(bt,"%Y-%m-%d");const gn=bt.dom.getParent(bt.selection.getStart(),"time");gn?lr(bt,gn,go,zt):bt.insertContent('<time datetime="'+go+'">'+zt+"</time>")}else bt.insertContent(ts(bt,Z))},xt=bt=>{bt.addCommand("mceInsertDate",(Z,zt)=>{fo(bt,zt??Bs(bt))}),bt.addCommand("mceInsertTime",(Z,zt)=>{fo(bt,zt??Ms(bt))})},No=bt=>{let Z=bt;return{get:()=>Z,set:gn=>{Z=gn}}};var en=tinymce.util.Tools.resolve("tinymce.util.Tools");const ae=bt=>Z=>{const zt=()=>{Z.setEnabled(bt.selection.isEditable())};return bt.on("NodeChange",zt),zt(),()=>{bt.off("NodeChange",zt)}},wt=bt=>{const Z=Mo(bt),zt=No(on(bt)),go=Ne=>bt.execCommand("mceInsertDate",!1,Ne);bt.ui.registry.addSplitButton("insertdatetime",{icon:"insert-time",tooltip:"Insert date/time",select:Ne=>Ne===zt.get(),fetch:Ne=>{Ne(en.map(Z,ue=>({type:"choiceitem",text:ts(bt,ue),value:ue})))},onAction:Ne=>{go(zt.get())},onItemAction:(Ne,ue)=>{zt.set(ue),go(ue)},onSetup:ae(bt)});const gn=Ne=>()=>{zt.set(Ne),go(Ne)};bt.ui.registry.addNestedMenuItem("insertdatetime",{icon:"insert-time",text:"Date/time",getSubmenuItems:()=>en.map(Z,Ne=>({type:"menuitem",text:ts(bt,Ne),onAction:gn(Ne)})),onSetup:ae(bt)})};var ur=()=>{Oa.add("insertdatetime",bt=>{oa(bt),xt(bt),wt(bt)})};ur()})();tinymce.addI18n("pt_BR",{Redo:"Refazer",Undo:"Desfazer",Cut:"Cortar",Copy:"Copiar",Paste:"Colar","Select all":"Selecionar tudo","New document":"Novo documento",Ok:"Ok",Cancel:"Cancelar","Visual aids":"Ajuda visual",Bold:"Negrito",Italic:"Itálico",Underline:"Sublinhado",Strikethrough:"Tachado",Superscript:"Sobrescrito",Subscript:"Subscrito","Clear formatting":"Limpar formatação","Align left":"Alinhar à esquerda","Align center":"Centralizar","Align right":"Alinhar à direita",Justify:"Justificar","Bullet list":"Lista não ordenada","Numbered list":"Lista ordenada","Decrease indent":"Diminuir recuo","Increase indent":"Aumentar recuo",Close:"Fechar",Formats:"Formatos","Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.":"Seu navegador não suporta acesso direto à área de transferência. Por favor use os atalhos Ctrl+X - C - V do teclado",Headers:"Cabeçalhos","Header 1":"Cabeçalho 1","Header 2":"Cabeçalho 2","Header 3":"Cabeçalho 3","Header 4":"Cabeçalho 4","Header 5":"Cabeçalho 5","Header 6":"Cabeçalho 6",Headings:"Títulos","Heading 1":"Título 1","Heading 2":"Título 2","Heading 3":"Título 3","Heading 4":"Título 4","Heading 5":"Título 5","Heading 6":"Título 6",Preformatted:"Pré-formatado",Div:"Div",Pre:"Pre",Code:"Código",Paragraph:"Parágrafo",Blockquote:"Aspas",Inline:"Em linha",Blocks:"Blocos","Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.":"O comando colar está agora em modo texto plano. O conteúdo será colado como texto plano até você desligar esta opção.",Fonts:"Fontes","Font Sizes":"Tamanhos da fonte",Class:"Classe","Browse for an image":"Procure uma imagem",OR:"OU","Drop an image here":"Solte uma imagem aqui",Upload:"Carregar",Block:"Bloco",Align:"Alinhamento",Default:"Padrão",Circle:"Círculo",Disc:"Disco",Square:"Quadrado","Lower Alpha":"a. b. c. ...","Lower Greek":"α. β. γ. ...","Lower Roman":"i. ii. iii. ...","Upper Alpha":"A. B. C. ...","Upper Roman":"I. II. III. ...","Anchor...":"Âncora...",Name:"Nome",Id:"Id","Id should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores.":"Id deve começar com uma letra, seguido apenas por letras, números, traços, pontos, dois pontos ou sublinhados.","You have unsaved changes are you sure you want to navigate away?":"Você tem mudanças não salvas. Você tem certeza que deseja sair?","Restore last draft":"Restaurar último rascunho","Special character...":"Caractere especial...","Source code":"Código fonte","Insert/Edit code sample":"Inserir/Editar código de exemplo",Language:"Idioma","Code sample...":"Exemplo de código...","Color Picker":"Seletor de Cores",R:"R",G:"G",B:"B","Left to right":"Da esquerda para a direita","Right to left":"Da direita para a esquerda",Emoticons:"Emoticons","Emoticons...":"Emojis...","Metadata and Document Properties":"Metadados e Propriedades do Documento",Title:"Título",Keywords:"Palavras-chave",Description:"Descrição",Robots:"Robôs",Author:"Autor",Encoding:"Codificação",Fullscreen:"Tela cheia",Action:"Ação",Shortcut:"Atalho",Help:"Ajuda",Address:"Endereço","Focus to menubar":"Foco no menu","Focus to toolbar":"Foco na barra de ferramentas","Focus to element path":"Foco no caminho do elemento","Focus to contextual toolbar":"Foco na barra de ferramentas contextual","Insert link (if link plugin activated)":"Inserir link (se o plugin de link estiver ativado)","Save (if save plugin activated)":"Salvar (se o plugin de salvar estiver ativado)","Find (if searchreplace plugin activated)":"Procurar (se o plugin de procurar e substituir estiver ativado)","Plugins installed ({0}):":"Plugins instalados ({0}):","Premium plugins:":"Plugins premium:","Learn more...":"Saiba mais...","You are using {0}":"Você está usando {0}",Plugins:"Plugins","Handy Shortcuts":"Atalhos úteis","Horizontal line":"Linha horizontal","Insert/edit image":"Inserir/editar imagem","Alternative description":"Descrição alternativa",Accessibility:"Acessibilidade","Image is decorative":"A imagem é decorativa",Source:"Endereço da imagem",Dimensions:"Dimensões","Constrain proportions":"Manter proporções",General:"Geral",Advanced:"Avançado",Style:"Estilo","Vertical space":"Espaçamento vertical","Horizontal space":"Espaçamento horizontal",Border:"Borda","Insert image":"Inserir imagem","Image...":"Imagem...","Image list":"Lista de Imagens","Rotate counterclockwise":"Girar em sentido horário","Rotate clockwise":"Girar em sentido anti-horário","Flip vertically":"Virar verticalmente","Flip horizontally":"Virar horizontalmente","Edit image":"Editar imagem","Image options":"Opções de Imagem","Zoom in":"Aumentar zoom","Zoom out":"Diminuir zoom",Crop:"Cortar",Resize:"Redimensionar",Orientation:"Orientação",Brightness:"Brilho",Sharpen:"Aumentar nitidez",Contrast:"Contraste","Color levels":"Níveis de cor",Gamma:"Gama",Invert:"Inverter",Apply:"Aplicar",Back:"Voltar","Insert date/time":"Inserir data/hora","Date/time":"data/hora","Insert/edit link":"Inserir/editar link","Text to display":"Texto para mostrar",Url:"Url","Open link in...":"Abrir link em...","Current window":"Janela atual",None:"Nenhum","New window":"Nova janela","Open link":"Abrir link","Remove link":"Remover link",Anchors:"Âncoras","Link...":"Link...","Paste or type a link":"Cole ou digite um Link","The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?":"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?","The URL you entered seems to be an external link. Do you want to add the required http:// prefix?":"A URL que você informou parece ser um link externo. Deseja incluir o prefixo http://?","The URL you entered seems to be an external link. Do you want to add the required https:// prefix?":"A URL informada parece ser um link externo. Você quer adicionar o prefixo necessário https:// ?","Link list":"Lista de Links","Insert video":"Inserir vídeo","Insert/edit video":"Inserir/editar vídeo","Insert/edit media":"Inserir/editar imagem","Alternative source":"Fonte alternativa","Alternative source URL":"Endereço URL alternativo","Media poster (Image URL)":"Post de mídia (URL da Imagem)","Paste your embed code below:":"Insira o código de incorporação abaixo:",Embed:"Incorporar","Media...":"Mídia...","Nonbreaking space":"Espaço não separável","Page break":"Quebra de página","Paste as text":"Colar como texto",Preview:"Pré-visualizar","Print...":"Imprimir...",Save:"Salvar",Find:"Localizar","Replace with":"Substituir por",Replace:"Substituir","Replace all":"Substituir tudo",Previous:"Anterior",Next:"Próximo","Find and Replace":"Localizar e substituir","Find and replace...":"Encontrar e substituir...","Could not find the specified string.":"Não foi possível encontrar o termo especificado","Match case":"Diferenciar maiúsculas e minúsculas","Find whole words only":"Encontrar somente palavras inteiras","Find in selection":"Localizar na seleção",Spellcheck:"Corretor ortográfico","Spellcheck Language":"Idioma de verificação ortográfica","No misspellings found.":"Sem erros ortográficos",Ignore:"Ignorar","Ignore all":"Ignorar tudo",Finish:"Finalizar","Add to Dictionary":"Adicionar ao Dicionário","Insert table":"Inserir tabela","Table properties":"Propriedades da tabela","Delete table":"Excluir tabela",Cell:"Célula",Row:"Linha",Column:"Coluna","Cell properties":"Propriedades da célula","Merge cells":"Agrupar células","Split cell":"Dividir célula","Insert row before":"Inserir linha antes","Insert row after":"Inserir linha depois","Delete row":"Excluir linha","Row properties":"Propriedades da linha","Cut row":"Recortar linha","Copy row":"Copiar linha","Paste row before":"Colar linha antes","Paste row after":"Colar linha depois","Insert column before":"Inserir coluna antes","Insert column after":"Inserir coluna depois","Delete column":"Excluir coluna",Cols:"Colunas",Rows:"Linhas",Width:"Largura",Height:"Altura","Cell spacing":"Espaçamento da célula","Cell padding":"Espaçamento interno da célula",Caption:"Legenda","Show caption":"Mostrar descrição",Left:"Esquerdo",Center:"Centro",Right:"Direita","Cell type":"Tipo de célula",Scope:"Escopo",Alignment:"Alinhamento","H Align":"Alinhamento H","V Align":"Alinhamento V",Top:"Superior",Middle:"Meio",Bottom:"Inferior","Header cell":"Célula cabeçalho","Row group":"Agrupar linha","Column group":"Agrupar coluna","Row type":"Tipo de linha",Header:"Cabeçalho",Body:"Corpo",Footer:"Rodapé","Border color":"Cor da borda","Insert template...":"Inserir modelo...",Templates:"Modelos",Template:"Modelo","Text color":"Cor do texto","Background color":"Cor do fundo","Custom...":"Personalizado...","Custom color":"Cor personalizada","No color":"Nenhuma cor","Remove color":"Remover cor","Table of Contents":"índice de Conteúdo","Show blocks":"Mostrar blocos","Show invisible characters":"Exibir caracteres invisíveis","Word count":"Contador de palavras",Count:"Contar",Document:"Documento",Selection:"Seleção",Words:"Palavras","Words: {0}":"Palavras: {0}","{0} words":"{0} palavras",File:"Arquivo",Edit:"Editar",Insert:"Inserir",View:"Visualizar",Format:"Formatar",Table:"Tabela",Tools:"Ferramentas","Powered by {0}":"Distribuído por  {0}","Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help":"Área de texto formatado. Pressione ALT-F9 para exibir o menu, ALT-F10 para exibir a barra de ferramentas ou ALT-0 para exibir a ajuda","Image title":"Título da imagem","Border width":"Espessura da borda","Border style":"Estilo da borda",Error:"Erro",Warn:"Aviso",Valid:"Válido","To open the popup, press Shift+Enter":"Para abrir a popup, aperte Shit+Enter","Rich Text Area. Press ALT-0 for help.":"Área Rich Text. Aperte ALT-0 para ajuda.","System Font":"Fonte do sistema","Failed to upload image: {0}":"Falha no upload da imagem: {0}","Failed to load plugin: {0} from url {1}":"Falha ao carregar plugin: {0} da url {1}","Failed to load plugin url: {0}":"Falha ao carregar url do plugin: {0}","Failed to initialize plugin: {0}":"Falha ao inicializar plugin: {0}",example:"exemplo",Search:"Pesquisar",All:"Tudo",Currency:"Moeda",Text:"Texto",Quotations:"Citações",Mathematical:"Matemático","Extended Latin":"Latino estendido",Symbols:"Símbolos",Arrows:"Setas","User Defined":"Definido pelo Usuário","dollar sign":"símbolo de dólar","currency sign":"símbolo de moeda","euro-currency sign":"símbolo de euro","colon sign":"símbolo de dois pontos","cruzeiro sign":"símbolo de cruzeiro","french franc sign":"símbolo de franco francês","lira sign":"símbolo de lira","mill sign":"símbolo do mill","naira sign":"símbolo da naira","peseta sign":"símbolo da peseta","rupee sign":"símbolo da rúpia","won sign":"símbolo do won","new sheqel sign":"símbolo do novo sheqel","dong sign":"símbolo do dong","kip sign":"símbolo do kip","tugrik sign":"símbolo do tugrik","drachma sign":"símbolo do drachma","german penny symbol":"símbolo de centavo alemão","peso sign":"símbolo do peso","guarani sign":"símbolo do guarani","austral sign":"símbolo do austral","hryvnia sign":"símbolo do hryvnia","cedi sign":"símbolo do cedi","livre tournois sign":"símbolo do livre tournois","spesmilo sign":"símbolo do spesmilo","tenge sign":"símbolo do tenge","indian rupee sign":"símbolo de rúpia indiana","turkish lira sign":"símbolo de lira turca","nordic mark sign":"símbolo do marco nórdico","manat sign":"símbolo do manat","ruble sign":"símbolo do rublo","yen character":"caractere do yen","yuan character":"caractere do yuan","yuan character, in hong kong and taiwan":"caractere do yuan, em Hong Kong e Taiwan","yen/yuan character variant one":"variação do caractere de yen/yuan","Loading emoticons...":"Carregando emojis...","Could not load emoticons":"Não foi possível carregar emojis",People:"Pessoas","Animals and Nature":"Animais e Natureza","Food and Drink":"Comida e Bebida",Activity:"Atividade","Travel and Places":"Viagem e Lugares",Objects:"Objetos",Flags:"Bandeiras",Characters:"Caracteres","Characters (no spaces)":"Caracteres (sem espaços)","{0} characters":"{0} caracteres","Error: Form submit field collision.":"Erro: colisão de botão de envio do formulário.","Error: No form element found.":"Erro: elemento de formulário não encontrado.",Update:"Atualizar","Color swatch":"Amostra de cor",Turquoise:"Turquesa",Green:"Verde",Blue:"Azul",Purple:"Roxo","Navy Blue":"Azul marinho","Dark Turquoise":"Turquesa escuro","Dark Green":"Verde escuro","Medium Blue":"Azul médio","Medium Purple":"Roxo médio","Midnight Blue":"Azul meia-noite",Yellow:"Amarelo",Orange:"Laranja",Red:"Vermelho","Light Gray":"Cinza claro",Gray:"Cinza","Dark Yellow":"Amarelo escuro","Dark Orange":"Laranja escuro","Dark Red":"Vermelho escuro","Medium Gray":"Cinza médio","Dark Gray":"Cinza escuro","Light Green":"Verde claro","Light Yellow":"Amarelo claro","Light Red":"Vermelho claro","Light Purple":"Roxo claro","Light Blue":"Azul claro","Dark Purple":"Roxo escuro","Dark Blue":"Azul escuro",Black:"Preto",White:"Branco","Switch to or from fullscreen mode":"Abrir ou fechar modo de tela cheia","Open help dialog":"Abrir janela de ajuda",history:"histórico",styles:"estilos",formatting:"formatação",alignment:"alinhamento",indentation:"indentação",Font:"Fonte",Size:"Tamanho","More...":"Mais...","Select...":"Selecionar...",Preferences:"Preferências",Yes:"Sim",No:"Não","Keyboard Navigation":"Navegação por Teclado",Version:"Versão","Code view":"Ver código","Open popup menu for split buttons":"Abrir menu popup para botões com divisão","List Properties":"Listar Propriedades","List properties...":"Listar propriedades...","Start list at number":"Iniciar a lista no número","Line height":"Altura da linha",comments:"comentários","Format Painter":"Pincel de Formatação","Insert/edit iframe":"Inserir/editar iframe",Capitalization:"Capitalização",lowercase:"minúsculos",UPPERCASE:"MAIÚSCULAS","Title Case":"Título do caso","permanent pen":"caneta permanente","Permanent Pen Properties":"Propriedades da caneta permanente","Permanent pen properties...":"Propriedades de caneta permanentes...","case change":"mudar caixa","page embed":"embutir página","Advanced sort...":"Ordenação avançada...","Advanced Sort":"Ordenação Avançada...","Sort table by column ascending":"Ordenar tabela por coluna ascendente","Sort table by column descending":"Ordenar tabela por coluna descendente",Sort:"Ordenar",Order:"Ordem","Sort by":"Ordenar por",Ascending:"Ascendente",Descending:"Descendente","Column {0}":"Coluna {0}","Row {0}":"Linha {0}","Spellcheck...":"Verificação ortográfica","Misspelled word":"Palavra com erro ortográfico",Suggestions:"Sugestões",Change:"Mudar","Finding word suggestions":"Encontrando sugestões de palavras",Success:"Sucesso",Repair:"Reparo","Issue {0} of {1}":"Problema {0} de {1}","Images must be marked as decorative or have an alternative text description":"Imagens precisam ser marcadas como decorativas ou terem uma descrição alternativa de texto","Images must have an alternative text description. Decorative images are not allowed.":"Imagens precisam ter uma descrição alternativa de texto. Imagens decorativas não são permitidas.","Or provide alternative text:":"Ou informe um texto alternativo:","Make image decorative:":"Faça imagem decorativa:","ID attribute must be unique":"O atributo ID precisa ser único","Make ID unique":"Faça um ID único","Keep this ID and remove all others":"Mantenha esse ID e remova todos os outros","Remove this ID":"Remova esse ID","Remove all IDs":"Remova todos os IDs",Checklist:"Lista de checagem",Anchor:"Âncora","Special character":"Caracteres especiais","Code sample":"Exemplo de código",Color:"Cor","Document properties":"Propriedades do documento","Image description":"Inserir descrição",Image:"Imagem","Insert link":"Inserir link",Target:"Alvo",Link:"Link",Poster:"Autor",Media:"imagem",Print:"Imprimir",Prev:"Anterior","Find and replace":"Localizar e substituir","Whole words":"Palavras inteiras","Insert template":"Inserir modelo"});export{cG as t};
