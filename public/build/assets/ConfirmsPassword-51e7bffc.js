import{r as p,L as y,o as C,d as k,a as u,p as h,b as e,w as r,f as a,t as d,M as v,n as b,j as x}from"./app-7485cb55.js";import P from"./DialogModal-d0ed3206.js";import V from"./InputError-9cb9d01f.js";import $ from"./PrimaryButton-bc5fb706.js";import S from"./SecondaryButton-e7d33719.js";import B from"./TextInput-699b3d1e.js";import"./Modal-ea0c2bfd.js";const N={class:"mt-4"},E={__name:"ConfirmsPassword",props:{title:{type:String,default:"Confirm Password"},content:{type:String,default:"For your security, please confirm your password to continue."},button:{type:String,default:"Confirm"}},emits:["confirmed"],setup(n,{emit:w}){const m=w,i=p(!1),s=y({password:"",error:"",processing:!1}),l=p(null),g=()=>{axios.get(route("password.confirmation")).then(o=>{o.data.confirmed?m("confirmed"):(i.value=!0,setTimeout(()=>l.value.focus(),250))})},f=()=>{s.processing=!0,axios.post(route("password.confirm"),{password:s.password}).then(()=>{s.processing=!1,c(),x().then(()=>m("confirmed"))}).catch(o=>{s.processing=!1,s.error=o.response.data.errors.password[0],l.value.focus()})},c=()=>{i.value=!1,s.password="",s.error=""};return(o,t)=>(C(),k("span",null,[u("span",{onClick:g},[h(o.$slots,"default")]),e(P,{show:i.value,onClose:c},{title:r(()=>[a(d(n.title),1)]),content:r(()=>[a(d(n.content)+" ",1),u("div",N,[e(B,{ref_key:"passwordInput",ref:l,modelValue:s.password,"onUpdate:modelValue":t[0]||(t[0]=_=>s.password=_),type:"password",class:"mt-1 block w-3/4",placeholder:"Password",autocomplete:"current-password",onKeyup:v(f,["enter"])},null,8,["modelValue"]),e(V,{message:s.error,class:"mt-2"},null,8,["message"])])]),footer:r(()=>[e(S,{onClick:c},{default:r(()=>t[1]||(t[1]=[a(" Cancel ")])),_:1}),e($,{class:b(["ms-3",{"opacity-25":s.processing}]),disabled:s.processing,onClick:f},{default:r(()=>[a(d(n.button),1)]),_:1},8,["class","disabled"])]),_:1},8,["show"])]))}};export{E as default};
