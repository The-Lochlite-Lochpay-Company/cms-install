(function(b,g,m){if(!b.MutationObserver||typeof HTMLElement>"u")return;var M=0,v=function(){var o=HTMLElement.prototype.matches||HTMLElement.prototype.webkitMatchesSelector||HTMLElement.prototype.mozMatchesSelector||HTMLElement.prototype.msMatchesSelector;return{matchesSelector:function(r,n){return r instanceof HTMLElement&&o.call(r,n)},addMethod:function(r,n,f){var l=r[n];r[n]=function(){if(f.length==arguments.length)return f.apply(this,arguments);if(typeof l=="function")return l.apply(this,arguments)}},callCallbacks:function(r,n){n&&n.options.onceOnly&&n.firedElems.length==1&&(r=[r[0]]);for(var f=0,l;l=r[f];f++)l&&l.callback&&l.callback.call(l.elem,l.elem);n&&n.options.onceOnly&&n.firedElems.length==1&&n.me.unbindEventWithSelectorAndCallback.call(n.target,n.selector,n.callback)},checkChildNodesRecursively:function(r,n,f,l){for(var t=0,e;e=r[t];t++)f(e,n,l)&&l.push({callback:n.callback,elem:e}),e.childNodes.length>0&&v.checkChildNodesRecursively(e.childNodes,n,f,l)},mergeArrays:function(r,n){var f={},l;for(l in r)r.hasOwnProperty(l)&&(f[l]=r[l]);for(l in n)n.hasOwnProperty(l)&&(f[l]=n[l]);return f},toElementsArray:function(r){return typeof r<"u"&&(typeof r.length!="number"||r===b)&&(r=[r]),r}}}(),L=function(){var o=function(){this._eventsBucket=[],this._beforeAdding=null,this._beforeRemoving=null};return o.prototype.addEvent=function(r,n,f,l){var t={target:r,selector:n,options:f,callback:l,firedElems:[]};return this._beforeAdding&&this._beforeAdding(t),this._eventsBucket.push(t),t},o.prototype.removeEvent=function(r){for(var n=this._eventsBucket.length-1,f;f=this._eventsBucket[n];n--)if(r(f)){this._beforeRemoving&&this._beforeRemoving(f);var l=this._eventsBucket.splice(n,1);l&&l.length&&(l[0].callback=null)}},o.prototype.beforeAdding=function(r){this._beforeAdding=r},o.prototype.beforeRemoving=function(r){this._beforeRemoving=r},o}(),A=function(o,r){var n=new L,f=this,l={fireOnAttributesModification:!1};return n.beforeAdding(function(t){var e=t.target,i;(e===b.document||e===b)&&(e=document.getElementsByTagName("html")[0]),i=new MutationObserver(function(u){r.call(this,u,t)});var c=o(t.options);i.observe(e,c),t.observer=i,t.me=f}),n.beforeRemoving(function(t){t.observer.disconnect()}),this.bindEvent=function(t,e,i){e=v.mergeArrays(l,e);for(var c=v.toElementsArray(this),u=0;u<c.length;u++)n.addEvent(c[u],t,e,i)},this.unbindEvent=function(){var t=v.toElementsArray(this);n.removeEvent(function(e){for(var i=0;i<t.length;i++)if(this===m||e.target===t[i])return!0;return!1})},this.unbindEventWithSelectorOrCallback=function(t){var e=v.toElementsArray(this),i=t,c;typeof t=="function"?c=function(u){for(var a=0;a<e.length;a++)if((this===m||u.target===e[a])&&u.callback===i)return!0;return!1}:c=function(u){for(var a=0;a<e.length;a++)if((this===m||u.target===e[a])&&u.selector===t)return!0;return!1},n.removeEvent(c)},this.unbindEventWithSelectorAndCallback=function(t,e){var i=v.toElementsArray(this);n.removeEvent(function(c){for(var u=0;u<i.length;u++)if((this===m||c.target===i[u])&&c.selector===t&&c.callback===e)return!0;return!1})},this},_=function(){var o={fireOnAttributesModification:!1,onceOnly:!1,existing:!1};function r(t){var e={attributes:!1,childList:!0,subtree:!0};return t.fireOnAttributesModification&&(e.attributes=!0),e}function n(t,e){t.forEach(function(i){var c=i.addedNodes,u=i.target,a=[];c!==null&&c.length>0?v.checkChildNodesRecursively(c,e,f,a):i.type==="attributes"&&f(u,e)&&a.push({callback:e.callback,elem:u}),v.callCallbacks(a,e)})}function f(t,e,i){return v.matchesSelector(t,e.selector)&&(t._id===m&&(t._id=M++),e.firedElems.indexOf(t._id)==-1)?(e.firedElems.push(t._id),!0):!1}s=new A(r,n);var l=s.bindEvent;return s.bindEvent=function(t,e,i){typeof i>"u"?(i=e,e=o):e=v.mergeArrays(o,e);var c=v.toElementsArray(this);if(e.existing){for(var u=[],a=0;a<c.length;a++)for(var k=c[a].querySelectorAll(t),p=0;p<k.length;p++)u.push({callback:i,elem:k[p]});if(e.onceOnly&&u.length)return i.call(u[0].elem,u[0].elem);setTimeout(v.callCallbacks,1,u)}l.call(this,t,e,i)},s},C=function(){var o={};function r(){var t={childList:!0,subtree:!0};return t}function n(t,e){t.forEach(function(i){var c=i.removedNodes,u=[];c!==null&&c.length>0&&v.checkChildNodesRecursively(c,e,f,u),v.callCallbacks(u,e)})}function f(t,e){return v.matchesSelector(t,e.selector)}h=new A(r,n);var l=h.bindEvent;return h.bindEvent=function(t,e,i){typeof i>"u"?(i=e,e=o):e=v.mergeArrays(o,e),l.call(this,t,e,i)},h},s=new _,h=new C;function y(o,r,n){v.addMethod(r,n,o.unbindEvent),v.addMethod(r,n,o.unbindEventWithSelectorOrCallback),v.addMethod(r,n,o.unbindEventWithSelectorAndCallback)}function d(o){o.arrive=s.bindEvent,y(s,o,"unbindArrive"),o.leave=h.bindEvent,y(h,o,"unbindLeave")}g&&d(g.fn),d(HTMLElement.prototype),d(NodeList.prototype),d(HTMLCollection.prototype),d(HTMLDocument.prototype),d(Window.prototype);var E={};return y(s,E,"unbindAllArrive"),y(h,E,"unbindAllLeave"),E})(window,typeof jQuery>"u"?null:jQuery,void 0);
